\doxysection{protocol.\+h}
\label{ipc_2protocol_8h_source}\index{src/ipc/protocol.h@{src/ipc/protocol.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2021-\/present\ The\ Bitcoin\ Core\ developers}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ software\ license,\ see\ the\ accompanying}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ file\ COPYING\ or\ http://www.opensource.org/licenses/mit-\/license.php.}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ BITCOIN\_IPC\_PROTOCOL\_H}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ BITCOIN\_IPC\_PROTOCOL\_H}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <interfaces/init.h>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <typeindex>}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }ipc\ \{}
\DoxyCodeLine{00015\ \textcolor{keyword}{struct\ }Context;}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }Protocol}
\DoxyCodeLine{00022\ \{}
\DoxyCodeLine{00023\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~Protocol()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{virtual}\ std::unique\_ptr<interfaces::Init>\ connect(\textcolor{keywordtype}{int}\ fd,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ exe\_name)\ =\ 0;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ listen(\textcolor{keywordtype}{int}\ listen\_fd,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ exe\_name,\ interfaces::Init\&\ init)\ =\ 0;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ serve(\textcolor{keywordtype}{int}\ fd,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ exe\_name,\ interfaces::Init\&\ init,\ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}()>\&\ ready\_fn\ =\ \{\})\ =\ 0;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ disconnectIncoming()\ =\ 0;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ addCleanup(std::type\_index\ type,\ \textcolor{keywordtype}{void}*\ iface,\ std::function<\textcolor{keywordtype}{void}()>\ cleanup)\ =\ 0;}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{virtual}\ Context\&\ context()\ =\ 0;}
\DoxyCodeLine{00070\ \};}
\DoxyCodeLine{00071\ \}\ \textcolor{comment}{//\ namespace\ ipc}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ BITCOIN\_IPC\_PROTOCOL\_H}}

\end{DoxyCode}
