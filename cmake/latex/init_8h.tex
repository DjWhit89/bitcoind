\doxysection{src/init.h File Reference}
\label{init_8h}\index{src/init.h@{src/init.h}}
{\ttfamily \#include $<$atomic$>$}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \textbf{ interfaces}
\item 
namespace \textbf{ kernel}
\item 
namespace \textbf{ node}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ Init\+Context} (\textbf{ node\+::\+Node\+Context} \&\textbf{ node})
\item 
bool \textbf{ Shutdown\+Requested} (\textbf{ node\+::\+Node\+Context} \&\textbf{ node})
\item 
void \textbf{ Interrupt} (\textbf{ node\+::\+Node\+Context} \&\textbf{ node})
\item 
void \textbf{ Shutdown} (\textbf{ node\+::\+Node\+Context} \&\textbf{ node})
\item 
void \textbf{ Init\+Logging} (const \textbf{ Args\+Manager} \&\textbf{ args})
\begin{DoxyCompactList}\small\item\em Initialize the logging infrastructure. \end{DoxyCompactList}\item 
void \textbf{ Init\+Parameter\+Interaction} (\textbf{ Args\+Manager} \&\textbf{ args})
\begin{DoxyCompactList}\small\item\em Parameter interaction\+: change current parameters depending on various rules. \end{DoxyCompactList}\item 
bool \textbf{ App\+Init\+Basic\+Setup} (const \textbf{ Args\+Manager} \&\textbf{ args}, std\+::atomic$<$ int $>$ \&\textbf{ exit\+\_\+status})
\item 
bool \textbf{ App\+Init\+Parameter\+Interaction} (const \textbf{ Args\+Manager} \&\textbf{ args})
\item 
bool \textbf{ App\+Init\+Sanity\+Checks} (const \textbf{ kernel\+::\+Context} \&\textbf{ kernel})
\item 
bool \textbf{ App\+Init\+Lock\+Directories} ()
\item 
bool \textbf{ App\+Init\+Interfaces} (\textbf{ node\+::\+Node\+Context} \&\textbf{ node})
\item 
bool \textbf{ App\+Init\+Main} (\textbf{ node\+::\+Node\+Context} \&\textbf{ node}, \textbf{ interfaces\+::\+Block\+And\+Header\+Tip\+Info} $\ast$tip\+\_\+info=nullptr)
\item 
void \textbf{ Setup\+Server\+Args} (\textbf{ Args\+Manager} \&argsman, bool can\+\_\+listen\+\_\+ipc=false)
\item 
bool \textbf{ Start\+Index\+Background\+Sync} (\textbf{ node\+::\+Node\+Context} \&\textbf{ node})
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{init.h@{init.h}!AppInitBasicSetup@{AppInitBasicSetup}}
\index{AppInitBasicSetup@{AppInitBasicSetup}!init.h@{init.h}}
\doxysubsubsection{AppInitBasicSetup()}
{\footnotesize\ttfamily \label{init_8h_a5b5f1ab392c850a66f0d7204518dbabd} 
bool App\+Init\+Basic\+Setup (\begin{DoxyParamCaption}\item[{const \textbf{ Args\+Manager} \&}]{args}{, }\item[{std\+::atomic$<$ int $>$ \&}]{exit\+\_\+status}{}\end{DoxyParamCaption})}

Initialize bitcoin core\+: Basic context setup. \begin{DoxyNote}{Note}
This can be done before daemonization. Do not call \doxyref{Shutdown()}{p.}{init_8h_a10995e350a8bfcc6747200be234af3da} if this function fails. 
\end{DoxyNote}
\begin{DoxyPrecond}{Precondition}
Parameters should be parsed and config file should be read. 
\end{DoxyPrecond}
\index{init.h@{init.h}!AppInitInterfaces@{AppInitInterfaces}}
\index{AppInitInterfaces@{AppInitInterfaces}!init.h@{init.h}}
\doxysubsubsection{AppInitInterfaces()}
{\footnotesize\ttfamily \label{init_8h_af5e256a678577046207a1af8613ac1f3} 
bool App\+Init\+Interfaces (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Node\+Context} \&}]{node}{}\end{DoxyParamCaption})}

Initialize node and wallet interface pointers. Has no prerequisites or side effects besides allocating memory. \index{init.h@{init.h}!AppInitLockDirectories@{AppInitLockDirectories}}
\index{AppInitLockDirectories@{AppInitLockDirectories}!init.h@{init.h}}
\doxysubsubsection{AppInitLockDirectories()}
{\footnotesize\ttfamily \label{init_8h_ad7a0678a36062fdda97ef2c38a58ea51} 
bool App\+Init\+Lock\+Directories (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Lock bitcoin core critical directories. \begin{DoxyNote}{Note}
This should only be done after daemonization. Do not call \doxyref{Shutdown()}{p.}{init_8h_a10995e350a8bfcc6747200be234af3da} if this function fails. 
\end{DoxyNote}
\begin{DoxyPrecond}{Precondition}
Parameters should be parsed and config file should be read, App\+Init\+Sanity\+Checks should have been called. 
\end{DoxyPrecond}
\index{init.h@{init.h}!AppInitMain@{AppInitMain}}
\index{AppInitMain@{AppInitMain}!init.h@{init.h}}
\doxysubsubsection{AppInitMain()}
{\footnotesize\ttfamily \label{init_8h_a391bd56db668c885ce727c211e7638ff} 
bool App\+Init\+Main (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Node\+Context} \&}]{node}{, }\item[{\textbf{ interfaces\+::\+Block\+And\+Header\+Tip\+Info} $\ast$}]{tip\+\_\+info}{ = {\ttfamily nullptr}}\end{DoxyParamCaption})}

Bitcoin core main initialization. \begin{DoxyNote}{Note}
This should only be done after daemonization. Call \doxyref{Shutdown()}{p.}{init_8h_a10995e350a8bfcc6747200be234af3da} if this function fails. 
\end{DoxyNote}
\begin{DoxyPrecond}{Precondition}
Parameters should be parsed and config file should be read, App\+Init\+Lock\+Directories should have been called. 
\end{DoxyPrecond}
\index{init.h@{init.h}!AppInitParameterInteraction@{AppInitParameterInteraction}}
\index{AppInitParameterInteraction@{AppInitParameterInteraction}!init.h@{init.h}}
\doxysubsubsection{AppInitParameterInteraction()}
{\footnotesize\ttfamily \label{init_8h_aaa92337b42c631fb6b24a979685bf615} 
bool App\+Init\+Parameter\+Interaction (\begin{DoxyParamCaption}\item[{const \textbf{ Args\+Manager} \&}]{args}{}\end{DoxyParamCaption})}

Initialization\+: parameter interaction. \begin{DoxyNote}{Note}
This can be done before daemonization. Do not call \doxyref{Shutdown()}{p.}{init_8h_a10995e350a8bfcc6747200be234af3da} if this function fails. 
\end{DoxyNote}
\begin{DoxyPrecond}{Precondition}
Parameters should be parsed and config file should be read, App\+Init\+Basic\+Setup should have been called. 
\end{DoxyPrecond}
\index{init.h@{init.h}!AppInitSanityChecks@{AppInitSanityChecks}}
\index{AppInitSanityChecks@{AppInitSanityChecks}!init.h@{init.h}}
\doxysubsubsection{AppInitSanityChecks()}
{\footnotesize\ttfamily \label{init_8h_afa8d4773e646f79107c4601cc4ead2c7} 
bool App\+Init\+Sanity\+Checks (\begin{DoxyParamCaption}\item[{const \textbf{ kernel\+::\+Context} \&}]{kernel}{}\end{DoxyParamCaption})}

Initialization sanity checks. \begin{DoxyNote}{Note}
This can be done before daemonization. Do not call \doxyref{Shutdown()}{p.}{init_8h_a10995e350a8bfcc6747200be234af3da} if this function fails. 
\end{DoxyNote}
\begin{DoxyPrecond}{Precondition}
Parameters should be parsed and config file should be read, App\+Init\+Parameter\+Interaction should have been called. 
\end{DoxyPrecond}
\index{init.h@{init.h}!InitContext@{InitContext}}
\index{InitContext@{InitContext}!init.h@{init.h}}
\doxysubsubsection{InitContext()}
{\footnotesize\ttfamily \label{init_8h_a2d95433e21b8851ef73c873c5b1f6eb1} 
void Init\+Context (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Node\+Context} \&}]{node}{}\end{DoxyParamCaption})}

Initialize node context shutdown and args variables. \index{init.h@{init.h}!InitLogging@{InitLogging}}
\index{InitLogging@{InitLogging}!init.h@{init.h}}
\doxysubsubsection{InitLogging()}
{\footnotesize\ttfamily \label{init_8h_a286ce90239b47c7b17eb9cfeba0a73e0} 
void Init\+Logging (\begin{DoxyParamCaption}\item[{const \textbf{ Args\+Manager} \&}]{args}{}\end{DoxyParamCaption})}



Initialize the logging infrastructure. 

Initialize global loggers.

Note that this is called very early in the process lifetime, so you should be careful about what global state you rely on here. \index{init.h@{init.h}!InitParameterInteraction@{InitParameterInteraction}}
\index{InitParameterInteraction@{InitParameterInteraction}!init.h@{init.h}}
\doxysubsubsection{InitParameterInteraction()}
{\footnotesize\ttfamily \label{init_8h_ab222cb064a4abc9505e066efd0657272} 
void Init\+Parameter\+Interaction (\begin{DoxyParamCaption}\item[{\textbf{ Args\+Manager} \&}]{args}{}\end{DoxyParamCaption})}



Parameter interaction\+: change current parameters depending on various rules. 

\index{init.h@{init.h}!Interrupt@{Interrupt}}
\index{Interrupt@{Interrupt}!init.h@{init.h}}
\doxysubsubsection{Interrupt()}
{\footnotesize\ttfamily \label{init_8h_a5eb325e20901bfd36e87f51d1735c62c} 
void Interrupt (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Node\+Context} \&}]{node}{}\end{DoxyParamCaption})}

Interrupt threads \index{init.h@{init.h}!SetupServerArgs@{SetupServerArgs}}
\index{SetupServerArgs@{SetupServerArgs}!init.h@{init.h}}
\doxysubsubsection{SetupServerArgs()}
{\footnotesize\ttfamily \label{init_8h_a9b540e84c59d0cc615755e502d9c5536} 
void Setup\+Server\+Args (\begin{DoxyParamCaption}\item[{\textbf{ Args\+Manager} \&}]{argsman}{, }\item[{bool}]{can\+\_\+listen\+\_\+ipc}{ = {\ttfamily false}}\end{DoxyParamCaption})}

Register all arguments with the \doxyref{Args\+Manager}{p.}{class_args_manager} \index{init.h@{init.h}!Shutdown@{Shutdown}}
\index{Shutdown@{Shutdown}!init.h@{init.h}}
\doxysubsubsection{Shutdown()}
{\footnotesize\ttfamily \label{init_8h_a10995e350a8bfcc6747200be234af3da} 
void Shutdown (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Node\+Context} \&}]{node}{}\end{DoxyParamCaption})}

Note\+: \doxyref{Shutdown()}{p.}{init_8cpp_a441fc2acf4e8b6940f4f936fe60464bf} must be able to handle cases in which initialization failed part of the way, for example if the data directory was found to be locked. Be sure that anything that writes files or flushes caches only does this if the respective module was initialized.\index{init.h@{init.h}!ShutdownRequested@{ShutdownRequested}}
\index{ShutdownRequested@{ShutdownRequested}!init.h@{init.h}}
\doxysubsubsection{ShutdownRequested()}
{\footnotesize\ttfamily \label{init_8h_a83987d355ea0aea808522caa78633ee9} 
bool Shutdown\+Requested (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Node\+Context} \&}]{node}{}\end{DoxyParamCaption})}

Return whether node shutdown was requested. \index{init.h@{init.h}!StartIndexBackgroundSync@{StartIndexBackgroundSync}}
\index{StartIndexBackgroundSync@{StartIndexBackgroundSync}!init.h@{init.h}}
\doxysubsubsection{StartIndexBackgroundSync()}
{\footnotesize\ttfamily \label{init_8h_aa57088f73ef9bba63a896e3952d1adb6} 
bool Start\+Index\+Background\+Sync (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Node\+Context} \&}]{node}{}\end{DoxyParamCaption})}

Validates requirements to run the indexes and spawns each index initial sync thread 