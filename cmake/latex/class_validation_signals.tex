\doxysection{Validation\+Signals Class Reference}
\label{class_validation_signals}\index{ValidationSignals@{ValidationSignals}}


{\ttfamily \#include $<$validationinterface.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Validation\+Signals} (std\+::unique\+\_\+ptr$<$ \textbf{ util\+::\+Task\+Runner\+Interface} $>$ task\+\_\+runner)
\item 
\textbf{ $\sim$\+Validation\+Signals} ()
\item 
void \textbf{ Flush\+Background\+Callbacks} ()
\item 
size\+\_\+t \textbf{ Callbacks\+Pending} ()
\item 
void \textbf{ Register\+Validation\+Interface} (\textbf{ CValidation\+Interface} $\ast$callbacks)
\item 
void \textbf{ Unregister\+Validation\+Interface} (\textbf{ CValidation\+Interface} $\ast$callbacks)
\item 
void \textbf{ Unregister\+All\+Validation\+Interfaces} ()
\item 
void \textbf{ Register\+Shared\+Validation\+Interface} (std\+::shared\+\_\+ptr$<$ \textbf{ CValidation\+Interface} $>$ callbacks)
\item 
void \textbf{ Unregister\+Shared\+Validation\+Interface} (std\+::shared\+\_\+ptr$<$ \textbf{ CValidation\+Interface} $>$ callbacks)
\item 
void \textbf{ Call\+Function\+In\+Validation\+Interface\+Queue} (std\+::function$<$ void()$>$ func)
\item 
void \textbf{ Sync\+With\+Validation\+Interface\+Queue} () \textbf{ LOCKS\+\_\+\+EXCLUDED}(\textbf{ cs\+\_\+main})
\item 
void \textbf{ Updated\+Block\+Tip} (const \textbf{ CBlock\+Index} $\ast$, const \textbf{ CBlock\+Index} $\ast$, bool f\+Initial\+Download)
\item 
void \textbf{ Active\+Tip\+Change} (const \textbf{ CBlock\+Index} \&, bool)
\item 
void \textbf{ Transaction\+Added\+To\+Mempool} (const \textbf{ New\+Mempool\+Transaction\+Info} \&, uint64\+\_\+t mempool\+\_\+sequence)
\item 
void \textbf{ Transaction\+Removed\+From\+Mempool} (const \textbf{ CTransaction\+Ref} \&, \textbf{ Mem\+Pool\+Removal\+Reason}, uint64\+\_\+t mempool\+\_\+sequence)
\item 
void \textbf{ Mempool\+Transactions\+Removed\+For\+Block} (const std\+::vector$<$ \textbf{ Removed\+Mempool\+Transaction\+Info} $>$ \&, unsigned int n\+Block\+Height)
\item 
void \textbf{ Block\+Connected} (const \textbf{ kernel\+::\+Chainstate\+Role} \&, const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&, const \textbf{ CBlock\+Index} $\ast$pindex)
\item 
void \textbf{ Block\+Disconnected} (const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&, const \textbf{ CBlock\+Index} $\ast$pindex)
\item 
void \textbf{ Chain\+State\+Flushed} (const \textbf{ kernel\+::\+Chainstate\+Role} \&, const \textbf{ CBlock\+Locator} \&)
\item 
void \textbf{ Block\+Checked} (const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&, const \textbf{ Block\+Validation\+State} \&)
\item 
void \textbf{ New\+Po\+WValid\+Block} (const \textbf{ CBlock\+Index} $\ast$, const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&)
\end{DoxyCompactItemize}


\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{ValidationSignals@{ValidationSignals}!ValidationSignals@{ValidationSignals}}
\index{ValidationSignals@{ValidationSignals}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{ValidationSignals()}
{\footnotesize\ttfamily \label{class_validation_signals_aa06861494406415d158c9472aa84d470} 
\textbf{ Validation\+Signals} (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \textbf{ util\+::\+Task\+Runner\+Interface} $>$}]{task\+\_\+runner}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

\index{ValidationSignals@{ValidationSignals}!````~ValidationSignals@{$\sim$ValidationSignals}}
\index{````~ValidationSignals@{$\sim$ValidationSignals}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{$\sim$ValidationSignals()}
{\footnotesize\ttfamily \label{class_validation_signals_a3fd67180e4c22813e3e4044ccc117215} 
$\sim$\textbf{ Validation\+Signals} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{ValidationSignals@{ValidationSignals}!ActiveTipChange@{ActiveTipChange}}
\index{ActiveTipChange@{ActiveTipChange}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{ActiveTipChange()}
{\footnotesize\ttfamily \label{class_validation_signals_a9e464788843a98e510116fc0aabe4a55} 
void Active\+Tip\+Change (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} \&}]{new\+\_\+tip}{, }\item[{bool}]{is\+\_\+ibd}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!BlockChecked@{BlockChecked}}
\index{BlockChecked@{BlockChecked}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{BlockChecked()}
{\footnotesize\ttfamily \label{class_validation_signals_a5172987f39ac9ddaad39559a5dc8fb93} 
void Block\+Checked (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&}]{block}{, }\item[{const \textbf{ Block\+Validation\+State} \&}]{state}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!BlockConnected@{BlockConnected}}
\index{BlockConnected@{BlockConnected}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{BlockConnected()}
{\footnotesize\ttfamily \label{class_validation_signals_a1aae734657c0c7e06ed44846a2cb9ca7} 
void Block\+Connected (\begin{DoxyParamCaption}\item[{const \textbf{ kernel\+::\+Chainstate\+Role} \&}]{role}{, }\item[{const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&}]{pblock}{, }\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!BlockDisconnected@{BlockDisconnected}}
\index{BlockDisconnected@{BlockDisconnected}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{BlockDisconnected()}
{\footnotesize\ttfamily \label{class_validation_signals_ad37fa01918a110ef73b71d657b5c2b01} 
void Block\+Disconnected (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&}]{pblock}{, }\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!CallbacksPending@{CallbacksPending}}
\index{CallbacksPending@{CallbacksPending}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{CallbacksPending()}
{\footnotesize\ttfamily \label{class_validation_signals_a7bc03c971136feb4a202daf61dc7836e} 
size\+\_\+t Callbacks\+Pending (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!CallFunctionInValidationInterfaceQueue@{CallFunctionInValidationInterfaceQueue}}
\index{CallFunctionInValidationInterfaceQueue@{CallFunctionInValidationInterfaceQueue}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{CallFunctionInValidationInterfaceQueue()}
{\footnotesize\ttfamily \label{class_validation_signals_a581c542f0900a185a20a25d7df4b9c78} 
void Call\+Function\+In\+Validation\+Interface\+Queue (\begin{DoxyParamCaption}\item[{std\+::function$<$ void()$>$}]{func}{}\end{DoxyParamCaption})}

Pushes a function to callback onto the notification queue, guaranteeing any callbacks generated prior to now are finished when the function is called.

Be very careful blocking on func to be called if any locks are held -\/ validation interface clients may not be able to make progress as they often wait for things like cs\+\_\+main, so blocking until func is called with cs\+\_\+main will result in a deadlock (that DEBUG\+\_\+\+LOCKORDER will miss). \index{ValidationSignals@{ValidationSignals}!ChainStateFlushed@{ChainStateFlushed}}
\index{ChainStateFlushed@{ChainStateFlushed}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{ChainStateFlushed()}
{\footnotesize\ttfamily \label{class_validation_signals_a5edc4bbfe94f8e1a03631f19cbc2bcfd} 
void Chain\+State\+Flushed (\begin{DoxyParamCaption}\item[{const \textbf{ kernel\+::\+Chainstate\+Role} \&}]{role}{, }\item[{const \textbf{ CBlock\+Locator} \&}]{locator}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!FlushBackgroundCallbacks@{FlushBackgroundCallbacks}}
\index{FlushBackgroundCallbacks@{FlushBackgroundCallbacks}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{FlushBackgroundCallbacks()}
{\footnotesize\ttfamily \label{class_validation_signals_a0415453dba6dcdcca356a1c43969c1a0} 
void Flush\+Background\+Callbacks (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Call any remaining callbacks on the calling thread \index{ValidationSignals@{ValidationSignals}!MempoolTransactionsRemovedForBlock@{MempoolTransactionsRemovedForBlock}}
\index{MempoolTransactionsRemovedForBlock@{MempoolTransactionsRemovedForBlock}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{MempoolTransactionsRemovedForBlock()}
{\footnotesize\ttfamily \label{class_validation_signals_ad74d5448bd2c0c30eba436f4a04fcbfe} 
void Mempool\+Transactions\+Removed\+For\+Block (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \textbf{ Removed\+Mempool\+Transaction\+Info} $>$ \&}]{txs\+\_\+removed\+\_\+for\+\_\+block}{, }\item[{unsigned int}]{n\+Block\+Height}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!NewPoWValidBlock@{NewPoWValidBlock}}
\index{NewPoWValidBlock@{NewPoWValidBlock}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{NewPoWValidBlock()}
{\footnotesize\ttfamily \label{class_validation_signals_a8572cad0e6ca5f2d23dcbcc31c4ae6dc} 
void New\+Po\+WValid\+Block (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex}{, }\item[{const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&}]{block}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!RegisterSharedValidationInterface@{RegisterSharedValidationInterface}}
\index{RegisterSharedValidationInterface@{RegisterSharedValidationInterface}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{RegisterSharedValidationInterface()}
{\footnotesize\ttfamily \label{class_validation_signals_afbcbf9fc0ebbba0f8d1f20183d641114} 
void Register\+Shared\+Validation\+Interface (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \textbf{ CValidation\+Interface} $>$}]{callbacks}{}\end{DoxyParamCaption})}

Register subscriber \index{ValidationSignals@{ValidationSignals}!RegisterValidationInterface@{RegisterValidationInterface}}
\index{RegisterValidationInterface@{RegisterValidationInterface}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{RegisterValidationInterface()}
{\footnotesize\ttfamily \label{class_validation_signals_ad882acf4d30092b637e9368fe0045d59} 
void Register\+Validation\+Interface (\begin{DoxyParamCaption}\item[{\textbf{ CValidation\+Interface} $\ast$}]{callbacks}{}\end{DoxyParamCaption})}

Register subscriber \index{ValidationSignals@{ValidationSignals}!SyncWithValidationInterfaceQueue@{SyncWithValidationInterfaceQueue}}
\index{SyncWithValidationInterfaceQueue@{SyncWithValidationInterfaceQueue}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{SyncWithValidationInterfaceQueue()}
{\footnotesize\ttfamily \label{class_validation_signals_a89dda69a4038338d0754fed4981e66b0} 
void Sync\+With\+Validation\+Interface\+Queue (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

This is a synonym for the following, which asserts certain locks are not held\+: std\+::promise$<$void$>$ promise; Call\+Function\+In\+Validation\+Interface\+Queue([\&promise] \{ promise.\+set\+\_\+value(); \}); promise.\+get\+\_\+future().wait(); \index{ValidationSignals@{ValidationSignals}!TransactionAddedToMempool@{TransactionAddedToMempool}}
\index{TransactionAddedToMempool@{TransactionAddedToMempool}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{TransactionAddedToMempool()}
{\footnotesize\ttfamily \label{class_validation_signals_ac89cfc9809a6c4d4b68af1cf3fdc3fc9} 
void Transaction\+Added\+To\+Mempool (\begin{DoxyParamCaption}\item[{const \textbf{ New\+Mempool\+Transaction\+Info} \&}]{tx}{, }\item[{uint64\+\_\+t}]{mempool\+\_\+sequence}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!TransactionRemovedFromMempool@{TransactionRemovedFromMempool}}
\index{TransactionRemovedFromMempool@{TransactionRemovedFromMempool}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{TransactionRemovedFromMempool()}
{\footnotesize\ttfamily \label{class_validation_signals_a27e5bf44b14cc43dee8565a15e13091e} 
void Transaction\+Removed\+From\+Mempool (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction\+Ref} \&}]{tx}{, }\item[{\textbf{ Mem\+Pool\+Removal\+Reason}}]{reason}{, }\item[{uint64\+\_\+t}]{mempool\+\_\+sequence}{}\end{DoxyParamCaption})}

\index{ValidationSignals@{ValidationSignals}!UnregisterAllValidationInterfaces@{UnregisterAllValidationInterfaces}}
\index{UnregisterAllValidationInterfaces@{UnregisterAllValidationInterfaces}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{UnregisterAllValidationInterfaces()}
{\footnotesize\ttfamily \label{class_validation_signals_a8fe3fbf8c47cc0419fd7b9a14e8b140d} 
void Unregister\+All\+Validation\+Interfaces (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Unregister all subscribers \index{ValidationSignals@{ValidationSignals}!UnregisterSharedValidationInterface@{UnregisterSharedValidationInterface}}
\index{UnregisterSharedValidationInterface@{UnregisterSharedValidationInterface}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{UnregisterSharedValidationInterface()}
{\footnotesize\ttfamily \label{class_validation_signals_a745d99d692161d4e81993ca591271825} 
void Unregister\+Shared\+Validation\+Interface (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \textbf{ CValidation\+Interface} $>$}]{callbacks}{}\end{DoxyParamCaption})}

Unregister subscriber \index{ValidationSignals@{ValidationSignals}!UnregisterValidationInterface@{UnregisterValidationInterface}}
\index{UnregisterValidationInterface@{UnregisterValidationInterface}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{UnregisterValidationInterface()}
{\footnotesize\ttfamily \label{class_validation_signals_a9d3c553fed64321421203fa3ad5629ed} 
void Unregister\+Validation\+Interface (\begin{DoxyParamCaption}\item[{\textbf{ CValidation\+Interface} $\ast$}]{callbacks}{}\end{DoxyParamCaption})}

Unregister subscriber. DEPRECATED. This is not safe to use when the RPC server or main message handler thread is running. \index{ValidationSignals@{ValidationSignals}!UpdatedBlockTip@{UpdatedBlockTip}}
\index{UpdatedBlockTip@{UpdatedBlockTip}!ValidationSignals@{ValidationSignals}}
\doxysubsubsection{UpdatedBlockTip()}
{\footnotesize\ttfamily \label{class_validation_signals_a608d64da6eb33141896f98ab86885c55} 
void Updated\+Block\+Tip (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex\+New}{, }\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex\+Fork}{, }\item[{bool}]{f\+Initial\+Download}{}\end{DoxyParamCaption})}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\textbf{ validationinterface.\+h}\item 
src/\textbf{ validationinterface.\+cpp}\end{DoxyCompactItemize}
