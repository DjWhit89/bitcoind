\doxysection{src/addrdb.cpp File Reference}
\label{addrdb_8cpp}\index{src/addrdb.cpp@{src/addrdb.cpp}}
{\ttfamily \#include $<$bitcoin-\/build-\/config.\+h$>$}\newline
{\ttfamily \#include $<$addrdb.\+h$>$}\newline
{\ttfamily \#include $<$addrman.\+h$>$}\newline
{\ttfamily \#include $<$chainparams.\+h$>$}\newline
{\ttfamily \#include $<$clientversion.\+h$>$}\newline
{\ttfamily \#include $<$common/args.\+h$>$}\newline
{\ttfamily \#include $<$common/settings.\+h$>$}\newline
{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$hash.\+h$>$}\newline
{\ttfamily \#include $<$logging.\+h$>$}\newline
{\ttfamily \#include $<$logging/timer.\+h$>$}\newline
{\ttfamily \#include $<$netbase.\+h$>$}\newline
{\ttfamily \#include $<$netgroup.\+h$>$}\newline
{\ttfamily \#include $<$random.\+h$>$}\newline
{\ttfamily \#include $<$streams.\+h$>$}\newline
{\ttfamily \#include $<$tinyformat.\+h$>$}\newline
{\ttfamily \#include $<$univalue.\+h$>$}\newline
{\ttfamily \#include $<$util/fs.\+h$>$}\newline
{\ttfamily \#include $<$util/fs\+\_\+helpers.\+h$>$}\newline
{\ttfamily \#include $<$util/syserror.\+h$>$}\newline
{\ttfamily \#include $<$util/translation.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \textbf{ Dump\+Peer\+Addresses} (const \textbf{ Args\+Manager} \&\textbf{ args}, const \textbf{ Addr\+Man} \&addr)
\item 
void \textbf{ Read\+From\+Stream} (\textbf{ Addr\+Man} \&addr, \textbf{ Data\+Stream} \&ss\+Peers)
\item 
\textbf{ util\+::\+Result}$<$ std\+::unique\+\_\+ptr$<$ \textbf{ Addr\+Man} $>$ $>$ \textbf{ Load\+Addrman} (const \textbf{ Net\+Group\+Manager} \&netgroupman, const \textbf{ Args\+Manager} \&\textbf{ args})
\item 
void \textbf{ Dump\+Anchors} (const \textbf{ fs\+::path} \&anchors\+\_\+db\+\_\+path, const std\+::vector$<$ \textbf{ CAddress} $>$ \&anchors)
\item 
std\+::vector$<$ \textbf{ CAddress} $>$ \textbf{ Read\+Anchors} (const \textbf{ fs\+::path} \&anchors\+\_\+db\+\_\+path)
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{addrdb.cpp@{addrdb.cpp}!DumpAnchors@{DumpAnchors}}
\index{DumpAnchors@{DumpAnchors}!addrdb.cpp@{addrdb.cpp}}
\doxysubsubsection{DumpAnchors()}
{\footnotesize\ttfamily \label{addrdb_8cpp_ab681d777d2080a8a4c8a77615284f26b} 
void Dump\+Anchors (\begin{DoxyParamCaption}\item[{const \textbf{ fs\+::path} \&}]{anchors\+\_\+db\+\_\+path}{, }\item[{const std\+::vector$<$ \textbf{ CAddress} $>$ \&}]{anchors}{}\end{DoxyParamCaption})}

Dump the anchor IP address database (anchors.\+dat)

Anchors are last known outgoing block-\/relay-\/only peers that are tried to re-\/connect to on startup. \index{addrdb.cpp@{addrdb.cpp}!DumpPeerAddresses@{DumpPeerAddresses}}
\index{DumpPeerAddresses@{DumpPeerAddresses}!addrdb.cpp@{addrdb.cpp}}
\doxysubsubsection{DumpPeerAddresses()}
{\footnotesize\ttfamily \label{addrdb_8cpp_a46b99d2cb8fc1cf9b90ce69865ba2c1b} 
bool Dump\+Peer\+Addresses (\begin{DoxyParamCaption}\item[{const \textbf{ Args\+Manager} \&}]{args}{, }\item[{const \textbf{ Addr\+Man} \&}]{addr}{}\end{DoxyParamCaption})}

\index{addrdb.cpp@{addrdb.cpp}!LoadAddrman@{LoadAddrman}}
\index{LoadAddrman@{LoadAddrman}!addrdb.cpp@{addrdb.cpp}}
\doxysubsubsection{LoadAddrman()}
{\footnotesize\ttfamily \label{addrdb_8cpp_a905ae35e03b9c0948edce984db148606} 
\textbf{ util\+::\+Result}$<$ std\+::unique\+\_\+ptr$<$ \textbf{ Addr\+Man} $>$ $>$ Load\+Addrman (\begin{DoxyParamCaption}\item[{const \textbf{ Net\+Group\+Manager} \&}]{netgroupman}{, }\item[{const \textbf{ Args\+Manager} \&}]{args}{}\end{DoxyParamCaption})}

Returns an error string on failure \index{addrdb.cpp@{addrdb.cpp}!ReadAnchors@{ReadAnchors}}
\index{ReadAnchors@{ReadAnchors}!addrdb.cpp@{addrdb.cpp}}
\doxysubsubsection{ReadAnchors()}
{\footnotesize\ttfamily \label{addrdb_8cpp_a8f6a25d4b23081f3cded969261584cd4} 
std\+::vector$<$ \textbf{ CAddress} $>$ Read\+Anchors (\begin{DoxyParamCaption}\item[{const \textbf{ fs\+::path} \&}]{anchors\+\_\+db\+\_\+path}{}\end{DoxyParamCaption})}

Read the anchor IP address database (anchors.\+dat)

Deleting anchors.\+dat is intentional as it avoids renewed peering to anchors after an unclean shutdown and thus potential exploitation of the anchor peer policy. \index{addrdb.cpp@{addrdb.cpp}!ReadFromStream@{ReadFromStream}}
\index{ReadFromStream@{ReadFromStream}!addrdb.cpp@{addrdb.cpp}}
\doxysubsubsection{ReadFromStream()}
{\footnotesize\ttfamily \label{addrdb_8cpp_aa539f8e72f1a85663d53a4856c2952a5} 
void Read\+From\+Stream (\begin{DoxyParamCaption}\item[{\textbf{ Addr\+Man} \&}]{addr}{, }\item[{\textbf{ Data\+Stream} \&}]{ss\+Peers}{}\end{DoxyParamCaption})}

Only used by tests. 