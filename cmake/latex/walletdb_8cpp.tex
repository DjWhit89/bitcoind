\doxysection{src/wallet/walletdb.cpp File Reference}
\label{walletdb_8cpp}\index{src/wallet/walletdb.cpp@{src/wallet/walletdb.cpp}}
{\ttfamily \#include $<$bitcoin-\/build-\/config.\+h$>$}\newline
{\ttfamily \#include $<$wallet/walletdb.\+h$>$}\newline
{\ttfamily \#include $<$common/system.\+h$>$}\newline
{\ttfamily \#include $<$key\+\_\+io.\+h$>$}\newline
{\ttfamily \#include $<$primitives/transaction\+\_\+identifier.\+h$>$}\newline
{\ttfamily \#include $<$protocol.\+h$>$}\newline
{\ttfamily \#include $<$script/script.\+h$>$}\newline
{\ttfamily \#include $<$serialize.\+h$>$}\newline
{\ttfamily \#include $<$sync.\+h$>$}\newline
{\ttfamily \#include $<$util/bip32.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/fs.\+h$>$}\newline
{\ttfamily \#include $<$util/time.\+h$>$}\newline
{\ttfamily \#include $<$util/translation.\+h$>$}\newline
{\ttfamily \#include $<$wallet/migrate.\+h$>$}\newline
{\ttfamily \#include $<$wallet/sqlite.\+h$>$}\newline
{\ttfamily \#include $<$wallet/wallet.\+h$>$}\newline
{\ttfamily \#include $<$atomic$>$}\newline
{\ttfamily \#include $<$optional$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ Load\+Result}
\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \textbf{ wallet}
\item 
namespace \textbf{ wallet\+::\+DBKeys}
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \textbf{ Load\+Func} = std\+::function$<$\textbf{ DBErrors}(\textbf{ CWallet}$\ast$ pwallet, \textbf{ Data\+Stream}\& key, \textbf{ Data\+Stream}\& value, std\+::string\& err)$>$
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ Log\+DBInfo} ()
\item 
bool \textbf{ Load\+Key} (\textbf{ CWallet} $\ast$pwallet, \textbf{ Data\+Stream} \&ss\+Key, \textbf{ Data\+Stream} \&ss\+Value, std\+::string \&str\+Err)
\item 
bool \textbf{ Load\+Crypted\+Key} (\textbf{ CWallet} $\ast$pwallet, \textbf{ Data\+Stream} \&ss\+Key, \textbf{ Data\+Stream} \&ss\+Value, std\+::string \&str\+Err)
\item 
bool \textbf{ Load\+Encryption\+Key} (\textbf{ CWallet} $\ast$pwallet, \textbf{ Data\+Stream} \&ss\+Key, \textbf{ Data\+Stream} \&ss\+Value, std\+::string \&str\+Err)
\item 
bool \textbf{ Load\+HDChain} (\textbf{ CWallet} $\ast$pwallet, \textbf{ Data\+Stream} \&ss\+Value, std\+::string \&str\+Err)
\item 
bool \textbf{ Has\+Legacy\+Records} (\textbf{ CWallet} \&\textbf{ wallet})
\begin{DoxyCompactList}\small\item\em Returns true if there are any \doxyref{DBKeys\+::\+LEGACY\+\_\+\+TYPES}{p.}{namespacewallet_1_1_d_b_keys_a7123326f1caf55a9183ca73ab1a6b20a} record in the wallet db. \end{DoxyCompactList}\item 
bool \textbf{ Has\+Legacy\+Records} (\textbf{ CWallet} \&\textbf{ wallet}, \textbf{ Database\+Batch} \&batch)
\item 
bool \textbf{ Run\+Within\+Txn} (\textbf{ Wallet\+Database} \&database, std\+::string\+\_\+view process\+\_\+desc, const std\+::function$<$ bool(\textbf{ Wallet\+Batch} \&)$>$ \&func)
\item 
std\+::unique\+\_\+ptr$<$ \textbf{ Wallet\+Database} $>$ \textbf{ Make\+Database} (const \textbf{ fs\+::path} \&path, const \textbf{ Database\+Options} \&options, \textbf{ Database\+Status} \&status, \textbf{ bilingual\+\_\+str} \&error)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const std\+::string \textbf{ ACENTRY} \{"{}acentry"{}\}
\item 
const std\+::string \textbf{ ACTIVEEXTERNALSPK} \{"{}activeexternalspk"{}\}
\item 
const std\+::string \textbf{ ACTIVEINTERNALSPK} \{"{}activeinternalspk"{}\}
\item 
const std\+::string \textbf{ BESTBLOCK\+\_\+\+NOMERKLE} \{"{}bestblock\+\_\+nomerkle"{}\}
\item 
const std\+::string \textbf{ BESTBLOCK} \{"{}bestblock"{}\}
\item 
const std\+::string \textbf{ CRYPTED\+\_\+\+KEY} \{"{}ckey"{}\}
\item 
const std\+::string \textbf{ CSCRIPT} \{"{}cscript"{}\}
\item 
const std\+::string \textbf{ DEFAULTKEY} \{"{}defaultkey"{}\}
\item 
const std\+::string \textbf{ DESTDATA} \{"{}destdata"{}\}
\item 
const std\+::string \textbf{ FLAGS} \{"{}flags"{}\}
\item 
const std\+::string \textbf{ HDCHAIN} \{"{}hdchain"{}\}
\item 
const std\+::string \textbf{ KEYMETA} \{"{}keymeta"{}\}
\item 
const std\+::string \textbf{ KEY} \{"{}key"{}\}
\item 
const std\+::string \textbf{ LOCKED\+\_\+\+UTXO} \{"{}lockedutxo"{}\}
\item 
const std\+::string \textbf{ MASTER\+\_\+\+KEY} \{"{}mkey"{}\}
\item 
const std\+::string \textbf{ MINVERSION} \{"{}minversion"{}\}
\item 
const std\+::string \textbf{ NAME} \{"{}name"{}\}
\item 
const std\+::string \textbf{ OLD\+\_\+\+KEY} \{"{}wkey"{}\}
\item 
const std\+::string \textbf{ ORDERPOSNEXT} \{"{}orderposnext"{}\}
\item 
const std\+::string \textbf{ POOL} \{"{}pool"{}\}
\item 
const std\+::string \textbf{ PURPOSE} \{"{}purpose"{}\}
\item 
const std\+::string \textbf{ SETTINGS} \{"{}settings"{}\}
\item 
const std\+::string \textbf{ TX} \{"{}tx"{}\}
\item 
const std\+::string \textbf{ VERSION} \{"{}version"{}\}
\item 
const std\+::string \textbf{ WALLETDESCRIPTOR} \{"{}walletdescriptor"{}\}
\item 
const std\+::string \textbf{ WALLETDESCRIPTORCACHE} \{"{}walletdescriptorcache"{}\}
\item 
const std\+::string \textbf{ WALLETDESCRIPTORLHCACHE} \{"{}walletdescriptorlhcache"{}\}
\item 
const std\+::string \textbf{ WALLETDESCRIPTORCKEY} \{"{}walletdescriptorckey"{}\}
\item 
const std\+::string \textbf{ WALLETDESCRIPTORKEY} \{"{}walletdescriptorkey"{}\}
\item 
const std\+::string \textbf{ WATCHMETA} \{"{}watchmeta"{}\}
\item 
const std\+::string \textbf{ WATCHS} \{"{}watchs"{}\}
\item 
const std\+::unordered\+\_\+set$<$ std\+::string $>$ \textbf{ LEGACY\+\_\+\+TYPES} \{\textbf{ CRYPTED\+\_\+\+KEY}, \textbf{ CSCRIPT}, \textbf{ DEFAULTKEY}, \textbf{ HDCHAIN}, \textbf{ KEYMETA}, \textbf{ KEY}, \textbf{ OLD\+\_\+\+KEY}, \textbf{ POOL}, \textbf{ WATCHMETA}, \textbf{ WATCHS}\}
\end{DoxyCompactItemize}
