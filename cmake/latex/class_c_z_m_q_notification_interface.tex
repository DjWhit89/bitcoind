\doxysection{CZMQNotification\+Interface Class Reference}
\label{class_c_z_m_q_notification_interface}\index{CZMQNotificationInterface@{CZMQNotificationInterface}}


{\ttfamily \#include $<$zmqnotificationinterface.\+h$>$}

Inheritance diagram for CZMQNotification\+Interface\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_c_z_m_q_notification_interface}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ $\sim$\+CZMQNotification\+Interface} ()
\item 
std\+::list$<$ const \textbf{ CZMQAbstract\+Notifier} $\ast$ $>$ \textbf{ Get\+Active\+Notifiers} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::unique\+\_\+ptr$<$ \textbf{ CZMQNotification\+Interface} $>$ \textbf{ Create} (std\+::function$<$ bool(std\+::vector$<$ std\+::byte $>$ \&, const \textbf{ CBlock\+Index} \&)$>$ get\+\_\+block\+\_\+by\+\_\+index)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \textbf{ Initialize} ()
\item 
void \textbf{ Shutdown} ()
\item 
void \textbf{ Transaction\+Added\+To\+Mempool} (const \textbf{ New\+Mempool\+Transaction\+Info} \&tx, uint64\+\_\+t mempool\+\_\+sequence) override
\item 
void \textbf{ Transaction\+Removed\+From\+Mempool} (const \textbf{ CTransaction\+Ref} \&tx, \textbf{ Mem\+Pool\+Removal\+Reason} reason, uint64\+\_\+t mempool\+\_\+sequence) override
\item 
void \textbf{ Block\+Connected} (const \textbf{ kernel\+::\+Chainstate\+Role} \&role, const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&pblock, const \textbf{ CBlock\+Index} $\ast$pindex\+Connected) override
\item 
void \textbf{ Block\+Disconnected} (const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&pblock, const \textbf{ CBlock\+Index} $\ast$pindex\+Disconnected) override
\item 
void \textbf{ Updated\+Block\+Tip} (const \textbf{ CBlock\+Index} $\ast$pindex\+New, const \textbf{ CBlock\+Index} $\ast$pindex\+Fork, bool f\+Initial\+Download) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \textbf{ CValidation\+Interface}}
\begin{DoxyCompactItemize}
\item 
\textbf{ $\sim$\+CValidation\+Interface} ()=default
\item 
virtual void \textbf{ Active\+Tip\+Change} (const \textbf{ CBlock\+Index} \&new\+\_\+tip, bool is\+\_\+ibd)
\item 
virtual void \textbf{ Mempool\+Transactions\+Removed\+For\+Block} (const std\+::vector$<$ \textbf{ Removed\+Mempool\+Transaction\+Info} $>$ \&txs\+\_\+removed\+\_\+for\+\_\+block, unsigned int n\+Block\+Height)
\item 
virtual void \textbf{ Chain\+State\+Flushed} (const \textbf{ kernel\+::\+Chainstate\+Role} \&role, const \textbf{ CBlock\+Locator} \&locator)
\item 
virtual void \textbf{ Block\+Checked} (const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&, const \textbf{ Block\+Validation\+State} \&)
\item 
virtual void \textbf{ New\+Po\+WValid\+Block} (const \textbf{ CBlock\+Index} $\ast$pindex, const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&block)
\end{DoxyCompactItemize}


\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{CZMQNotificationInterface@{CZMQNotificationInterface}!````~CZMQNotificationInterface@{$\sim$CZMQNotificationInterface}}
\index{````~CZMQNotificationInterface@{$\sim$CZMQNotificationInterface}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{$\sim$CZMQNotificationInterface()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_a5911f78932c8efcdd0419e6840420f20} 
$\sim$\textbf{ CZMQNotification\+Interface} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{CZMQNotificationInterface@{CZMQNotificationInterface}!BlockConnected@{BlockConnected}}
\index{BlockConnected@{BlockConnected}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{BlockConnected()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_acd82585fecae087a7ac4f3b3b067f010} 
void Block\+Connected (\begin{DoxyParamCaption}\item[{const \textbf{ kernel\+::\+Chainstate\+Role} \&}]{role}{, }\item[{const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&}]{block}{, }\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Notifies listeners of a block being connected.

Called on a background thread. 

Reimplemented from \textbf{ CValidation\+Interface} \doxyref{}{p.}{class_c_validation_interface_a41401b83726759ddd692bbfe627e09d1}.

\index{CZMQNotificationInterface@{CZMQNotificationInterface}!BlockDisconnected@{BlockDisconnected}}
\index{BlockDisconnected@{BlockDisconnected}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{BlockDisconnected()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_ac3d86fe76c427209c41c8f718d909bf3} 
void Block\+Disconnected (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&}]{block}{, }\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Notifies listeners of a block being disconnected Provides the block that was disconnected.

Called on a background thread. Only called for the active chainstate, since background chainstates should never disconnect blocks. 

Reimplemented from \textbf{ CValidation\+Interface} \doxyref{}{p.}{class_c_validation_interface_ace0c3c3b924da1ba43d5d924fceb45ea}.

\index{CZMQNotificationInterface@{CZMQNotificationInterface}!Create@{Create}}
\index{Create@{Create}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{Create()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_a2beb22259c719ea619acbf1bd1b3dd3b} 
std\+::unique\+\_\+ptr$<$ \textbf{ CZMQNotification\+Interface} $>$ Create (\begin{DoxyParamCaption}\item[{std\+::function$<$ bool(std\+::vector$<$ std\+::byte $>$ \&, const \textbf{ CBlock\+Index} \&)$>$}]{get\+\_\+block\+\_\+by\+\_\+index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\index{CZMQNotificationInterface@{CZMQNotificationInterface}!GetActiveNotifiers@{GetActiveNotifiers}}
\index{GetActiveNotifiers@{GetActiveNotifiers}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{GetActiveNotifiers()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_a280345b72c9ef52b087ea96957a2bc74} 
std\+::list$<$ const \textbf{ CZMQAbstract\+Notifier} $\ast$ $>$ Get\+Active\+Notifiers (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

\index{CZMQNotificationInterface@{CZMQNotificationInterface}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{Initialize()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_a248c764067ee60c03ee370784c49f353} 
bool Initialize (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\index{CZMQNotificationInterface@{CZMQNotificationInterface}!Shutdown@{Shutdown}}
\index{Shutdown@{Shutdown}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{Shutdown()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_ac5f038c2b480cf9ef5e19e3eba8dbaf9} 
void Shutdown (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\index{CZMQNotificationInterface@{CZMQNotificationInterface}!TransactionAddedToMempool@{TransactionAddedToMempool}}
\index{TransactionAddedToMempool@{TransactionAddedToMempool}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{TransactionAddedToMempool()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_ab11f3482427b0c415c4ac6ad0b50f0e0} 
void Transaction\+Added\+To\+Mempool (\begin{DoxyParamCaption}\item[{const \textbf{ New\+Mempool\+Transaction\+Info} \&}]{tx}{, }\item[{uint64\+\_\+t}]{mempool\+\_\+sequence}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Notifies listeners of a transaction having been added to mempool.

Called on a background thread. 

Reimplemented from \textbf{ CValidation\+Interface} \doxyref{}{p.}{class_c_validation_interface_a7a2ce3dce287e7b5ec214b4bcfe05a99}.

\index{CZMQNotificationInterface@{CZMQNotificationInterface}!TransactionRemovedFromMempool@{TransactionRemovedFromMempool}}
\index{TransactionRemovedFromMempool@{TransactionRemovedFromMempool}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{TransactionRemovedFromMempool()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_a7621251dce0693fc9e920e36ec02f0bf} 
void Transaction\+Removed\+From\+Mempool (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction\+Ref} \&}]{tx}{, }\item[{\textbf{ Mem\+Pool\+Removal\+Reason}}]{reason}{, }\item[{uint64\+\_\+t}]{mempool\+\_\+sequence}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Notifies listeners of a transaction leaving mempool.

This notification fires for transactions that are removed from the mempool for the following reasons\+:


\begin{DoxyItemize}
\item EXPIRY (expired from mempool after -\/mempoolexpiry hours)
\item SIZELIMIT (removed in size limiting if the mempool exceeds -\/maxmempool megabytes)
\item REORG (removed during a reorg)
\item CONFLICT (removed because it conflicts with in-\/block transaction)
\item REPLACED (removed due to RBF replacement)
\end{DoxyItemize}

This does not fire for transactions that are removed from the mempool because they have been included in a block. Any client that is interested in transactions removed from the mempool for inclusion in a block can learn about those transactions from the Mempool\+Transactions\+Removed\+For\+Block notification.

Transactions that are removed from the mempool because they conflict with a transaction in the new block will have Transaction\+Removed\+From\+Mempool events fired {\itshape before} the Block\+Connected event is fired. If multiple blocks are connected in one step, then the ordering could be\+:


\begin{DoxyItemize}
\item Transaction\+Removed\+From\+Mempool(tx1 from block A)
\item Transaction\+Removed\+From\+Mempool(tx2 from block A)
\item Transaction\+Removed\+From\+Mempool(tx1 from block B)
\item Transaction\+Removed\+From\+Mempool(tx2 from block B)
\item Block\+Connected(\+A)
\item Block\+Connected(\+B)
\end{DoxyItemize}

Called on a background thread. 

Reimplemented from \textbf{ CValidation\+Interface} \doxyref{}{p.}{class_c_validation_interface_a34351b1a3571af34d86d50d96c1c7b01}.

\index{CZMQNotificationInterface@{CZMQNotificationInterface}!UpdatedBlockTip@{UpdatedBlockTip}}
\index{UpdatedBlockTip@{UpdatedBlockTip}!CZMQNotificationInterface@{CZMQNotificationInterface}}
\doxysubsubsection{UpdatedBlockTip()}
{\footnotesize\ttfamily \label{class_c_z_m_q_notification_interface_afb69b2ca52a64b7a1da8dc16f7922c65} 
void Updated\+Block\+Tip (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex\+New}{, }\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex\+Fork}{, }\item[{bool}]{f\+Initial\+Download}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Notifies listeners when the block chain tip advances.

When multiple blocks are connected at once, Updated\+Block\+Tip will be called on the final tip but may not be called on every intermediate tip. If the latter behavior is desired, subscribe to \doxyref{Block\+Connected()}{p.}{class_c_z_m_q_notification_interface_acd82585fecae087a7ac4f3b3b067f010} instead.

Called on a background thread. Only called for the active chainstate. 

Reimplemented from \textbf{ CValidation\+Interface} \doxyref{}{p.}{class_c_validation_interface_a380dda786ad029c1816421c45424c78c}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/zmq/\textbf{ zmqnotificationinterface.\+h}\item 
src/zmq/\textbf{ zmqnotificationinterface.\+cpp}\end{DoxyCompactItemize}
