\doxysection{Block\+Template Class Reference}
\label{class_block_template}\index{BlockTemplate@{BlockTemplate}}


Block template interface.  




{\ttfamily \#include $<$mining.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \textbf{ $\sim$\+Block\+Template} ()=default
\item 
virtual \textbf{ CBlock\+Header} \textbf{ get\+Block\+Header} ()=0
\item 
virtual \textbf{ CBlock} \textbf{ get\+Block} ()=0
\item 
virtual std\+::vector$<$ \textbf{ CAmount} $>$ \textbf{ get\+Tx\+Fees} ()=0
\item 
virtual std\+::vector$<$ int64\+\_\+t $>$ \textbf{ get\+Tx\+Sigops} ()=0
\item 
virtual \textbf{ CTransaction\+Ref} \textbf{ get\+Coinbase\+Tx} ()=0
\item 
virtual std\+::vector$<$ unsigned char $>$ \textbf{ get\+Coinbase\+Commitment} ()=0
\item 
virtual int \textbf{ get\+Witness\+Commitment\+Index} ()=0
\item 
virtual std\+::vector$<$ \textbf{ uint256} $>$ \textbf{ get\+Coinbase\+Merkle\+Path} ()=0
\item 
virtual bool \textbf{ submit\+Solution} (uint32\+\_\+t version, uint32\+\_\+t timestamp, uint32\+\_\+t \textbf{ nonce}, \textbf{ CTransaction\+Ref} coinbase)=0
\item 
virtual std\+::unique\+\_\+ptr$<$ \textbf{ Block\+Template} $>$ \textbf{ wait\+Next} (const \textbf{ node\+::\+Block\+Wait\+Options} options=\{\})=0
\item 
virtual void \textbf{ interrupt\+Wait} ()=0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Block template interface. 

\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{BlockTemplate@{BlockTemplate}!````~BlockTemplate@{$\sim$BlockTemplate}}
\index{````~BlockTemplate@{$\sim$BlockTemplate}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{$\sim$BlockTemplate()}
{\footnotesize\ttfamily \label{class_block_template_af33feb0c0c7c5da53168059846924130} 
virtual $\sim$\textbf{ Block\+Template} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{BlockTemplate@{BlockTemplate}!getBlock@{getBlock}}
\index{getBlock@{getBlock}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{getBlock()}
{\footnotesize\ttfamily \label{class_block_template_a4f68e6fb05a7fcb737f444d49d52949a} 
virtual \textbf{ CBlock} get\+Block (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

\index{BlockTemplate@{BlockTemplate}!getBlockHeader@{getBlockHeader}}
\index{getBlockHeader@{getBlockHeader}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{getBlockHeader()}
{\footnotesize\ttfamily \label{class_block_template_a8e3af185318c66c3f7263eb5a2bf7326} 
virtual \textbf{ CBlock\+Header} get\+Block\+Header (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

\index{BlockTemplate@{BlockTemplate}!getCoinbaseCommitment@{getCoinbaseCommitment}}
\index{getCoinbaseCommitment@{getCoinbaseCommitment}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{getCoinbaseCommitment()}
{\footnotesize\ttfamily \label{class_block_template_ae6f90b5b8ab8bd7024e4c0196ea23ea5} 
virtual std\+::vector$<$ unsigned char $>$ get\+Coinbase\+Commitment (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

\index{BlockTemplate@{BlockTemplate}!getCoinbaseMerklePath@{getCoinbaseMerklePath}}
\index{getCoinbaseMerklePath@{getCoinbaseMerklePath}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{getCoinbaseMerklePath()}
{\footnotesize\ttfamily \label{class_block_template_a5c92acc89b6a515780d0139212207be3} 
virtual std\+::vector$<$ \textbf{ uint256} $>$ get\+Coinbase\+Merkle\+Path (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Compute merkle path to the coinbase transaction

\begin{DoxyReturn}{Returns}
merkle path ordered from the deepest 
\end{DoxyReturn}
\index{BlockTemplate@{BlockTemplate}!getCoinbaseTx@{getCoinbaseTx}}
\index{getCoinbaseTx@{getCoinbaseTx}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{getCoinbaseTx()}
{\footnotesize\ttfamily \label{class_block_template_a8bd361973de7d5a2b8ce37bfa4bd2079} 
virtual \textbf{ CTransaction\+Ref} get\+Coinbase\+Tx (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

\index{BlockTemplate@{BlockTemplate}!getTxFees@{getTxFees}}
\index{getTxFees@{getTxFees}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{getTxFees()}
{\footnotesize\ttfamily \label{class_block_template_a4b725c4cb2f689adbbf1ee64b65f5598} 
virtual std\+::vector$<$ \textbf{ CAmount} $>$ get\+Tx\+Fees (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

\index{BlockTemplate@{BlockTemplate}!getTxSigops@{getTxSigops}}
\index{getTxSigops@{getTxSigops}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{getTxSigops()}
{\footnotesize\ttfamily \label{class_block_template_a82d598240c8ad54c9fd7718800188df1} 
virtual std\+::vector$<$ int64\+\_\+t $>$ get\+Tx\+Sigops (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

\index{BlockTemplate@{BlockTemplate}!getWitnessCommitmentIndex@{getWitnessCommitmentIndex}}
\index{getWitnessCommitmentIndex@{getWitnessCommitmentIndex}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{getWitnessCommitmentIndex()}
{\footnotesize\ttfamily \label{class_block_template_a11350a42c2b2f8c8f81ac4f1d57371c8} 
virtual int get\+Witness\+Commitment\+Index (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

\index{BlockTemplate@{BlockTemplate}!interruptWait@{interruptWait}}
\index{interruptWait@{interruptWait}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{interruptWait()}
{\footnotesize\ttfamily \label{class_block_template_aed5481007cad6d5eea06692cd335c98f} 
virtual void interrupt\+Wait (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Interrupts the current wait for the next block template. \index{BlockTemplate@{BlockTemplate}!submitSolution@{submitSolution}}
\index{submitSolution@{submitSolution}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{submitSolution()}
{\footnotesize\ttfamily \label{class_block_template_ae8ca2d5ea20490a9c94a388234f5f432} 
virtual bool submit\+Solution (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{version}{, }\item[{uint32\+\_\+t}]{timestamp}{, }\item[{uint32\+\_\+t}]{nonce}{, }\item[{\textbf{ CTransaction\+Ref}}]{coinbase}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Construct and broadcast the block. Modifies the template in place, updating the fields listed below as well as the merkle root.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em version} & version block header field \\
\hline
\mbox{\texttt{in}}  & {\em timestamp} & time block header field (unix timestamp) \\
\hline
\mbox{\texttt{in}}  & {\em nonce} & nonce block header field \\
\hline
\mbox{\texttt{in}}  & {\em coinbase} & complete coinbase transaction (including witness)\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
unlike the submitblock RPC, this method does NOT add the coinbase witness automatically.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
if the block was processed, does not necessarily indicate validity.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Returns true if the block is already known, which can happen if the solved block is constructed and broadcast by multiple nodes (e.\+g. both the miner who constructed the template and the pool). 
\end{DoxyNote}
\index{BlockTemplate@{BlockTemplate}!waitNext@{waitNext}}
\index{waitNext@{waitNext}!BlockTemplate@{BlockTemplate}}
\doxysubsubsection{waitNext()}
{\footnotesize\ttfamily \label{class_block_template_a029355881fc8b434ab3d4a689ee8168a} 
virtual std\+::unique\+\_\+ptr$<$ \textbf{ Block\+Template} $>$ wait\+Next (\begin{DoxyParamCaption}\item[{const \textbf{ node\+::\+Block\+Wait\+Options}}]{options}{ = {\ttfamily \{\}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Waits for fees in the next block to rise, a new tip or the timeout.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em options} & Control the timeout (default forever) and by how much total fees for the next block should rise (default infinite).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a new \doxyref{Block\+Template}{p.}{classinterfaces_1_1_block_template} or nothing if the timeout occurs.
\end{DoxyReturn}
On testnet this will additionally return a template with difficulty 1 if the tip is more than 20 minutes old. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/interfaces/\textbf{ mining.\+h}\end{DoxyCompactItemize}
