\doxysection{Script\+Pub\+Key\+Man Class Reference}
\label{classwallet_1_1_script_pub_key_man}\index{ScriptPubKeyMan@{ScriptPubKeyMan}}


{\ttfamily \#include $<$scriptpubkeyman.\+h$>$}

Inheritance diagram for Script\+Pub\+Key\+Man\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classwallet_1_1_script_pub_key_man}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Script\+Pub\+Key\+Man} (\textbf{ Wallet\+Storage} \&storage)
\item 
virtual \textbf{ $\sim$\+Script\+Pub\+Key\+Man} ()=default
\item 
virtual \textbf{ util\+::\+Result}$<$ \textbf{ CTx\+Destination} $>$ \textbf{ Get\+New\+Destination} (const \textbf{ Output\+Type} type)
\item 
virtual bool \textbf{ Is\+Mine} (const \textbf{ CScript} \&\textbf{ script}) const
\item 
virtual bool \textbf{ Check\+Decryption\+Key} (const \textbf{ CKeying\+Material} \&master\+\_\+key)
\begin{DoxyCompactList}\small\item\em Check that the given decryption key is valid for this \doxyref{Script\+Pub\+Key\+Man}{p.}{classwallet_1_1_script_pub_key_man}, i.\+e. it decrypts all of the keys handled by it. \end{DoxyCompactList}\item 
virtual bool \textbf{ Encrypt} (const \textbf{ CKeying\+Material} \&master\+\_\+key, \textbf{ Wallet\+Batch} $\ast$batch)
\item 
virtual \textbf{ util\+::\+Result}$<$ \textbf{ CTx\+Destination} $>$ \textbf{ Get\+Reserved\+Destination} (const \textbf{ Output\+Type} type, bool internal, int64\+\_\+t \&index)
\item 
virtual void \textbf{ Keep\+Destination} (int64\+\_\+t index, const \textbf{ Output\+Type} \&type)
\item 
virtual void \textbf{ Return\+Destination} (int64\+\_\+t index, bool internal, const \textbf{ CTx\+Destination} \&addr)
\item 
virtual bool \textbf{ Top\+Up} (unsigned int size=0)
\item 
virtual std\+::vector$<$ \textbf{ Wallet\+Destination} $>$ \textbf{ Mark\+Unused\+Addresses} (const \textbf{ CScript} \&\textbf{ script})
\item 
virtual bool \textbf{ Is\+HDEnabled} () const
\item 
virtual bool \textbf{ Can\+Get\+Addresses} (bool internal=false) const
\item 
virtual bool \textbf{ Have\+Private\+Keys} () const
\item 
virtual bool \textbf{ Have\+Crypted\+Keys} () const
\item 
virtual void \textbf{ Rewrite\+DB} ()
\begin{DoxyCompactList}\small\item\em The action to do when the \doxyref{DB}{p.}{class_d_b} needs rewrite. \end{DoxyCompactList}\item 
virtual unsigned int \textbf{ Get\+Key\+Pool\+Size} () const
\item 
virtual int64\+\_\+t \textbf{ Get\+Time\+First\+Key} () const
\item 
virtual std\+::unique\+\_\+ptr$<$ \textbf{ CKey\+Metadata} $>$ \textbf{ Get\+Metadata} (const \textbf{ CTx\+Destination} \&dest) const
\item 
virtual std\+::unique\+\_\+ptr$<$ \textbf{ Signing\+Provider} $>$ \textbf{ Get\+Solving\+Provider} (const \textbf{ CScript} \&\textbf{ script}) const
\item 
virtual bool \textbf{ Can\+Provide} (const \textbf{ CScript} \&\textbf{ script}, \textbf{ Signature\+Data} \&sigdata)
\item 
virtual bool \textbf{ Sign\+Transaction} (\textbf{ CMutable\+Transaction} \&tx, const std\+::map$<$ \textbf{ COut\+Point}, \textbf{ Coin} $>$ \&coins, int sighash, std\+::map$<$ int, \textbf{ bilingual\+\_\+str} $>$ \&input\+\_\+errors) const
\item 
virtual \textbf{ Signing\+Result} \textbf{ Sign\+Message} (const std\+::string \&message, const \textbf{ PKHash} \&pkhash, std\+::string \&str\+\_\+sig) const
\item 
virtual std\+::optional$<$ \textbf{ common\+::\+PSBTError} $>$ \textbf{ Fill\+PSBT} (\textbf{ Partially\+Signed\+Transaction} \&psbt, const \textbf{ Precomputed\+Transaction\+Data} \&txdata, std\+::optional$<$ int $>$ sighash\+\_\+type=std\+::nullopt, bool sign=true, bool bip32derivs=false, int $\ast$n\+\_\+signed=nullptr, bool finalize=true) const
\item 
virtual \textbf{ uint256} \textbf{ Get\+ID} () const
\item 
virtual std\+::unordered\+\_\+set$<$ \textbf{ CScript}, \textbf{ Salted\+Sip\+Hasher} $>$ \textbf{ Get\+Script\+Pub\+Keys} () const
\item 
{\footnotesize template$<$typename... Params$>$ }\\void \textbf{ Wallet\+Log\+Printf} (\textbf{ util\+::\+Consteval\+Format\+String}$<$ sizeof...(\textbf{ Params})$>$ wallet\+\_\+fmt, const \textbf{ Params} \&... params) const
\end{DoxyCompactItemize}
\doxysubsubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
boost\+::signals2\+::signal$<$ void()$>$ \textbf{ Notify\+Can\+Get\+Addresses\+Changed}
\item 
boost\+::signals2\+::signal$<$ void(const \textbf{ Script\+Pub\+Key\+Man} $\ast$spkm, int64\+\_\+t new\+\_\+birth\+\_\+time)$>$ \textbf{ Notify\+First\+Key\+Time\+Changed}
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\textbf{ Wallet\+Storage} \& \textbf{ m\+\_\+storage}
\end{DoxyCompactItemize}


\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{ScriptPubKeyMan@{ScriptPubKeyMan}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\index{ScriptPubKeyMan@{ScriptPubKeyMan}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{ScriptPubKeyMan()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_afe01a622dff90547d2f9b0f11d74968f} 
Script\+Pub\+Key\+Man (\begin{DoxyParamCaption}\item[{\textbf{ Wallet\+Storage} \&}]{storage}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!````~ScriptPubKeyMan@{$\sim$ScriptPubKeyMan}}
\index{````~ScriptPubKeyMan@{$\sim$ScriptPubKeyMan}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{$\sim$ScriptPubKeyMan()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a4dc8c1c796df82845d0eba3b3fc85098} 
virtual $\sim$\textbf{ Script\+Pub\+Key\+Man} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{ScriptPubKeyMan@{ScriptPubKeyMan}!CanGetAddresses@{CanGetAddresses}}
\index{CanGetAddresses@{CanGetAddresses}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{CanGetAddresses()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a97c792ee32f77465742ea92d64da08e7} 
virtual bool Can\+Get\+Addresses (\begin{DoxyParamCaption}\item[{bool}]{internal}{ = {\ttfamily false}}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_afe3ef6e5f3a6d4262aecfe4c1d13c5fb}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!CanProvide@{CanProvide}}
\index{CanProvide@{CanProvide}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{CanProvide()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a3944f5f86ba673b484082fef35a75ddb} 
virtual bool Can\+Provide (\begin{DoxyParamCaption}\item[{const \textbf{ CScript} \&}]{script}{, }\item[{\textbf{ Signature\+Data} \&}]{sigdata}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Whether this \doxyref{Script\+Pub\+Key\+Man}{p.}{classwallet_1_1_script_pub_key_man} can provide a \doxyref{Signing\+Provider}{p.}{class_signing_provider} (via Get\+Solving\+Provider) that, combined with sigdata, can produce solving data. 

Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a403dd1b4d652d425bb8d0f2ff52389e7}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!CheckDecryptionKey@{CheckDecryptionKey}}
\index{CheckDecryptionKey@{CheckDecryptionKey}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{CheckDecryptionKey()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ac6d13c936a257d55f12a5560c1ae1987} 
virtual bool Check\+Decryption\+Key (\begin{DoxyParamCaption}\item[{const \textbf{ CKeying\+Material} \&}]{master\+\_\+key}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Check that the given decryption key is valid for this \doxyref{Script\+Pub\+Key\+Man}{p.}{classwallet_1_1_script_pub_key_man}, i.\+e. it decrypts all of the keys handled by it. 



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_aff1ae69e02a3fb4746b7773ef7f6875a}, and \textbf{ Legacy\+Data\+SPKM} \doxyref{}{p.}{classwallet_1_1_legacy_data_s_p_k_m_aff1ae69e02a3fb4746b7773ef7f6875a}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!Encrypt@{Encrypt}}
\index{Encrypt@{Encrypt}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{Encrypt()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ac52ee85751d421dc586831d35357c83e} 
virtual bool Encrypt (\begin{DoxyParamCaption}\item[{const \textbf{ CKeying\+Material} \&}]{master\+\_\+key}{, }\item[{\textbf{ Wallet\+Batch} $\ast$}]{batch}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a97f47858921bce30b15f99daf778e9d7}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!FillPSBT@{FillPSBT}}
\index{FillPSBT@{FillPSBT}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{FillPSBT()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ac95b49c07214ecbe8101ba7229d3721b} 
virtual std\+::optional$<$ \textbf{ common\+::\+PSBTError} $>$ Fill\+PSBT (\begin{DoxyParamCaption}\item[{\textbf{ Partially\+Signed\+Transaction} \&}]{psbt}{, }\item[{const \textbf{ Precomputed\+Transaction\+Data} \&}]{txdata}{, }\item[{std\+::optional$<$ int $>$}]{sighash\+\_\+type}{ = {\ttfamily std\+:\+:nullopt}, }\item[{bool}]{sign}{ = {\ttfamily true}, }\item[{bool}]{bip32derivs}{ = {\ttfamily false}, }\item[{int $\ast$}]{n\+\_\+signed}{ = {\ttfamily nullptr}, }\item[{bool}]{finalize}{ = {\ttfamily true}}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Adds script and derivation path information to a PSBT, and optionally signs it. 

Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a9acb2bdcd9c33be21fbde99eb195755e}, and \textbf{ External\+Signer\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_external_signer_script_pub_key_man_a9acb2bdcd9c33be21fbde99eb195755e}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!GetID@{GetID}}
\index{GetID@{GetID}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{GetID()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ac5969a450182fb29387e06e0fa49dcd6} 
virtual \textbf{ uint256} Get\+ID (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a9bb89235acfb364af1ce6452d41b8dce}, and \textbf{ Legacy\+Data\+SPKM} \doxyref{}{p.}{classwallet_1_1_legacy_data_s_p_k_m_a9bb89235acfb364af1ce6452d41b8dce}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!GetKeyPoolSize@{GetKeyPoolSize}}
\index{GetKeyPoolSize@{GetKeyPoolSize}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{GetKeyPoolSize()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a7d236f7e3f4752b8d179c7c6d777109e} 
virtual unsigned int Get\+Key\+Pool\+Size (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a6a4626bcf1eddc9dcd80c590368a5e33}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!GetMetadata@{GetMetadata}}
\index{GetMetadata@{GetMetadata}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{GetMetadata()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a73307c0f97415aaeeef89250f8abc380} 
virtual std\+::unique\+\_\+ptr$<$ \textbf{ CKey\+Metadata} $>$ Get\+Metadata (\begin{DoxyParamCaption}\item[{const \textbf{ CTx\+Destination} \&}]{dest}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a6e637243839e104113b976c654d3ee62}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!GetNewDestination@{GetNewDestination}}
\index{GetNewDestination@{GetNewDestination}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{GetNewDestination()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_af8ac55386f75dd3d353757787e74c1ce} 
virtual \textbf{ util\+::\+Result}$<$ \textbf{ CTx\+Destination} $>$ Get\+New\+Destination (\begin{DoxyParamCaption}\item[{const \textbf{ Output\+Type}}]{type}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_ae83f39f0787c5ff7ac70d9f4aca63652}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!GetReservedDestination@{GetReservedDestination}}
\index{GetReservedDestination@{GetReservedDestination}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{GetReservedDestination()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a430cbfac8428d10eb13806ff17118be9} 
virtual \textbf{ util\+::\+Result}$<$ \textbf{ CTx\+Destination} $>$ Get\+Reserved\+Destination (\begin{DoxyParamCaption}\item[{const \textbf{ Output\+Type}}]{type}{, }\item[{bool}]{internal}{, }\item[{int64\+\_\+t \&}]{index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a519d9d727f33b44dae4c03905b7c73f0}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!GetScriptPubKeys@{GetScriptPubKeys}}
\index{GetScriptPubKeys@{GetScriptPubKeys}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{GetScriptPubKeys()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a171a49b06a5ad69d8e079fdf91013d08} 
virtual std\+::unordered\+\_\+set$<$ \textbf{ CScript}, \textbf{ Salted\+Sip\+Hasher} $>$ Get\+Script\+Pub\+Keys (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Returns a set of all the script\+Pub\+Keys that this \doxyref{Script\+Pub\+Key\+Man}{p.}{classwallet_1_1_script_pub_key_man} watches 

Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_acae3971be9f74320a4809532658ea30a}, and \textbf{ Legacy\+Data\+SPKM} \doxyref{}{p.}{classwallet_1_1_legacy_data_s_p_k_m_acae3971be9f74320a4809532658ea30a}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!GetSolvingProvider@{GetSolvingProvider}}
\index{GetSolvingProvider@{GetSolvingProvider}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{GetSolvingProvider()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a2534aad5e3d342fd387b9a659d933ee0} 
virtual std\+::unique\+\_\+ptr$<$ \textbf{ Signing\+Provider} $>$ Get\+Solving\+Provider (\begin{DoxyParamCaption}\item[{const \textbf{ CScript} \&}]{script}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_ae942fc8344998297343ebae204e7f496}, and \textbf{ Legacy\+Data\+SPKM} \doxyref{}{p.}{classwallet_1_1_legacy_data_s_p_k_m_ae942fc8344998297343ebae204e7f496}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!GetTimeFirstKey@{GetTimeFirstKey}}
\index{GetTimeFirstKey@{GetTimeFirstKey}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{GetTimeFirstKey()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a4680a0f3fff2af8499ba1f100ff553b0} 
virtual int64\+\_\+t Get\+Time\+First\+Key (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_acba36819e3f59482abd9f2243e672e9e}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!HaveCryptedKeys@{HaveCryptedKeys}}
\index{HaveCryptedKeys@{HaveCryptedKeys}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{HaveCryptedKeys()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ab31d9c2beb5760c4e7fe2b340565b167} 
virtual bool Have\+Crypted\+Keys (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a23820976ac78f311ea3acff6df76d242}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!HavePrivateKeys@{HavePrivateKeys}}
\index{HavePrivateKeys@{HavePrivateKeys}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{HavePrivateKeys()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a1476ab960626063771df7cd43ea42585} 
virtual bool Have\+Private\+Keys (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a199bbb843acd137f84585f37ccb18956}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!IsHDEnabled@{IsHDEnabled}}
\index{IsHDEnabled@{IsHDEnabled}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{IsHDEnabled()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a192cce942a62d616153fbfb7eb32dc63} 
virtual bool Is\+HDEnabled (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a4f8bd867013fccff13b4159fa3903e5c}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!IsMine@{IsMine}}
\index{IsMine@{IsMine}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{IsMine()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ace31e444272c0add4bd94c44761f7ba0} 
virtual bool Is\+Mine (\begin{DoxyParamCaption}\item[{const \textbf{ CScript} \&}]{script}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a3790661aa0b6c5110fde4476a7f29cd0}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!KeepDestination@{KeepDestination}}
\index{KeepDestination@{KeepDestination}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{KeepDestination()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a2c6affb18523a8f3d9505585185bf045} 
virtual void Keep\+Destination (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{index}{, }\item[{const \textbf{ Output\+Type} \&}]{type}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!MarkUnusedAddresses@{MarkUnusedAddresses}}
\index{MarkUnusedAddresses@{MarkUnusedAddresses}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{MarkUnusedAddresses()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a5c5b052c7b616b7880dfa0fe1a2e6c86} 
virtual std\+::vector$<$ \textbf{ Wallet\+Destination} $>$ Mark\+Unused\+Addresses (\begin{DoxyParamCaption}\item[{const \textbf{ CScript} \&}]{script}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Mark unused addresses as being used Affects all keys up to and including the one determined by provided script.


\begin{DoxyParams}{Parameters}
{\em script} & determines the last key to mark as used\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
All of the addresses affected 
\end{DoxyReturn}


Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_ab33f26945a28cc8eb92de11a09ba3913}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!ReturnDestination@{ReturnDestination}}
\index{ReturnDestination@{ReturnDestination}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{ReturnDestination()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a0b0edfe43d923d766e90ffa613323a30} 
virtual void Return\+Destination (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{index}{, }\item[{bool}]{internal}{, }\item[{const \textbf{ CTx\+Destination} \&}]{addr}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_afd49b62ac63f50d3ee3c6cac0a21c29b}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!RewriteDB@{RewriteDB}}
\index{RewriteDB@{RewriteDB}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{RewriteDB()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ab437d7bea4222ff007dec29496e46e4a} 
virtual void Rewrite\+DB (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



The action to do when the \doxyref{DB}{p.}{class_d_b} needs rewrite. 

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!SignMessage@{SignMessage}}
\index{SignMessage@{SignMessage}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{SignMessage()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a07b95fa1f835ea7a90382556f88daf71} 
virtual \textbf{ Signing\+Result} Sign\+Message (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{message}{, }\item[{const \textbf{ PKHash} \&}]{pkhash}{, }\item[{std\+::string \&}]{str\+\_\+sig}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Sign a message with the given script 

Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a328d3f8111415068d28c86d833b5156b}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!SignTransaction@{SignTransaction}}
\index{SignTransaction@{SignTransaction}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{SignTransaction()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a65d657c387c39d56df83db10ae076f66} 
virtual bool Sign\+Transaction (\begin{DoxyParamCaption}\item[{\textbf{ CMutable\+Transaction} \&}]{tx}{, }\item[{const std\+::map$<$ \textbf{ COut\+Point}, \textbf{ Coin} $>$ \&}]{coins}{, }\item[{int}]{sighash}{, }\item[{std\+::map$<$ int, \textbf{ bilingual\+\_\+str} $>$ \&}]{input\+\_\+errors}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Creates new signatures and adds them to the transaction. Returns whether all inputs were signed 

Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a2c392d37195242545844c3c8009c3e76}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!TopUp@{TopUp}}
\index{TopUp@{TopUp}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{TopUp()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_aefacf9065a8a1bbedba70133a12c6e21} 
virtual bool Top\+Up (\begin{DoxyParamCaption}\item[{unsigned int}]{size}{ = {\ttfamily 0}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Fills internal address pool. Use within \doxyref{Script\+Pub\+Key\+Man}{p.}{classwallet_1_1_script_pub_key_man} implementations should be used sparingly and only when something from the address pool is removed, excluding Get\+New\+Destination and Get\+Reserved\+Destination. External wallet code is primarily responsible for topping up prior to fetching new addresses 

Reimplemented in \textbf{ Descriptor\+Script\+Pub\+Key\+Man} \doxyref{}{p.}{classwallet_1_1_descriptor_script_pub_key_man_a13cabb9490bbf25ed8d9cc627618cf9d}.

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!WalletLogPrintf@{WalletLogPrintf}}
\index{WalletLogPrintf@{WalletLogPrintf}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{WalletLogPrintf()}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ab231740b5fcabd8da3c6eda6cf1cfd06} 
template$<$typename... Params$>$ \\
void Wallet\+Log\+Printf (\begin{DoxyParamCaption}\item[{\textbf{ util\+::\+Consteval\+Format\+String}$<$ sizeof...(\textbf{ Params})$>$}]{wallet\+\_\+fmt}{, }\item[{const \textbf{ Params} \&...}]{params}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Prepends the wallet name in logging output to ease debugging in multi-\/wallet use cases 

\label{doc-variable-members}
\doxysubsection{Field Documentation}
\index{ScriptPubKeyMan@{ScriptPubKeyMan}!m\_storage@{m\_storage}}
\index{m\_storage@{m\_storage}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{m\_storage}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_ac4a21736443c15ad56498832ce090e19} 
\textbf{ Wallet\+Storage}\& m\+\_\+storage\hspace{0.3cm}{\ttfamily [protected]}}

\index{ScriptPubKeyMan@{ScriptPubKeyMan}!NotifyCanGetAddressesChanged@{NotifyCanGetAddressesChanged}}
\index{NotifyCanGetAddressesChanged@{NotifyCanGetAddressesChanged}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{NotifyCanGetAddressesChanged}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a909c982de74e0eb5c51f57b161ae6352} 
boost\+::signals2\+::signal$<$void ()$>$ Notify\+Can\+Get\+Addresses\+Changed}

Keypool has new keys \index{ScriptPubKeyMan@{ScriptPubKeyMan}!NotifyFirstKeyTimeChanged@{NotifyFirstKeyTimeChanged}}
\index{NotifyFirstKeyTimeChanged@{NotifyFirstKeyTimeChanged}!ScriptPubKeyMan@{ScriptPubKeyMan}}
\doxysubsubsection{NotifyFirstKeyTimeChanged}
{\footnotesize\ttfamily \label{classwallet_1_1_script_pub_key_man_a9d82c74227d863f5df2aeba563bc1043} 
boost\+::signals2\+::signal$<$void (const \textbf{ Script\+Pub\+Key\+Man}$\ast$ spkm, int64\+\_\+t new\+\_\+birth\+\_\+time)$>$ Notify\+First\+Key\+Time\+Changed}

Birth time changed 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/wallet/\textbf{ scriptpubkeyman.\+h}\end{DoxyCompactItemize}
