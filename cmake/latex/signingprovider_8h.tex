\doxysection{src/script/signingprovider.h File Reference}
\label{signingprovider_8h}\index{src/script/signingprovider.h@{src/script/signingprovider.h}}
{\ttfamily \#include $<$addresstype.\+h$>$}\newline
{\ttfamily \#include $<$attributes.\+h$>$}\newline
{\ttfamily \#include $<$key.\+h$>$}\newline
{\ttfamily \#include $<$musig.\+h$>$}\newline
{\ttfamily \#include $<$pubkey.\+h$>$}\newline
{\ttfamily \#include $<$script/keyorigin.\+h$>$}\newline
{\ttfamily \#include $<$script/script.\+h$>$}\newline
{\ttfamily \#include $<$sync.\+h$>$}\newline
{\ttfamily \#include $<$functional$>$}\newline
{\ttfamily \#include $<$optional$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ Shortest\+Vector\+First\+Comparator}
\item 
struct \textbf{ Taproot\+Spend\+Data}
\item 
class \textbf{ Taproot\+Builder}
\item 
class \textbf{ Signing\+Provider}
\item 
class \textbf{ Hiding\+Signing\+Provider}
\item 
struct \textbf{ Flat\+Signing\+Provider}
\item 
class \textbf{ Fillable\+Signing\+Provider}
\item 
class \textbf{ Multi\+Signing\+Provider}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
std\+::optional$<$ std\+::vector$<$ std\+::tuple$<$ int, std\+::vector$<$ unsigned char $>$, int $>$ $>$ $>$ \textbf{ Infer\+Taproot\+Tree} (const \textbf{ Taproot\+Spend\+Data} \&spenddata, const \textbf{ XOnly\+Pub\+Key} \&output)
\item 
\textbf{ CKey\+ID} \textbf{ Get\+Key\+For\+Destination} (const \textbf{ Signing\+Provider} \&store, const \textbf{ CTx\+Destination} \&dest)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \textbf{ Signing\+Provider} \& \textbf{ DUMMY\+\_\+\+SIGNING\+\_\+\+PROVIDER}
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{signingprovider.h@{signingprovider.h}!GetKeyForDestination@{GetKeyForDestination}}
\index{GetKeyForDestination@{GetKeyForDestination}!signingprovider.h@{signingprovider.h}}
\doxysubsubsection{GetKeyForDestination()}
{\footnotesize\ttfamily \label{signingprovider_8h_ae65e08579aa35a7b467349bfbf1d9880} 
\textbf{ CKey\+ID} Get\+Key\+For\+Destination (\begin{DoxyParamCaption}\item[{const \textbf{ Signing\+Provider} \&}]{store}{, }\item[{const \textbf{ CTx\+Destination} \&}]{dest}{}\end{DoxyParamCaption})}

Return the \doxyref{CKey\+ID}{p.}{class_c_key_i_d} of the key involved in a script (if there is a unique one). \index{signingprovider.h@{signingprovider.h}!InferTaprootTree@{InferTaprootTree}}
\index{InferTaprootTree@{InferTaprootTree}!signingprovider.h@{signingprovider.h}}
\doxysubsubsection{InferTaprootTree()}
{\footnotesize\ttfamily \label{signingprovider_8h_a075b7df92359ace305937514dfd5070a} 
std\+::optional$<$ std\+::vector$<$ std\+::tuple$<$ int, std\+::vector$<$ unsigned char $>$, int $>$ $>$ $>$ Infer\+Taproot\+Tree (\begin{DoxyParamCaption}\item[{const \textbf{ Taproot\+Spend\+Data} \&}]{spenddata}{, }\item[{const \textbf{ XOnly\+Pub\+Key} \&}]{output}{}\end{DoxyParamCaption})}

Given a \doxyref{Taproot\+Spend\+Data}{p.}{struct_taproot_spend_data} and the output key, reconstruct its script tree.

If the output doesn\textquotesingle{}t match the spenddata, or if the data in spenddata is incomplete, std\+::nullopt is returned. Otherwise, a vector of (depth, script, leaf\+\_\+ver) tuples is returned, corresponding to a depth-\/first traversal of the script tree. Data structure to represent the nodes of the tree we\textquotesingle{}re going to build.

Hash of this node, if known; 0 otherwise.

The left and right subtrees (note that their order is irrelevant).

If this is known to be a leaf node, a pointer to the (script, leaf\+\_\+ver) pair. nullptr otherwise.

Whether or not this node has been explored (is known to be a leaf, or known to have children).

Whether or not this node is an inner node (unknown until explored = true).

Whether or not we have produced output for this subtree.

\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{signingprovider.h@{signingprovider.h}!DUMMY\_SIGNING\_PROVIDER@{DUMMY\_SIGNING\_PROVIDER}}
\index{DUMMY\_SIGNING\_PROVIDER@{DUMMY\_SIGNING\_PROVIDER}!signingprovider.h@{signingprovider.h}}
\doxysubsubsection{DUMMY\_SIGNING\_PROVIDER}
{\footnotesize\ttfamily \label{signingprovider_8h_a129cc81972e09e3ba1c29777eb9d0ed0} 
const \textbf{ Signing\+Provider}\& DUMMY\+\_\+\+SIGNING\+\_\+\+PROVIDER\hspace{0.3cm}{\ttfamily [extern]}}

