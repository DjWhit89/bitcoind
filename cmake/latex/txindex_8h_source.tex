\doxysection{txindex.\+h}
\label{txindex_8h_source}\index{src/index/txindex.h@{src/index/txindex.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2017-\/present\ The\ Bitcoin\ Core\ developers}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ software\ license,\ see\ the\ accompanying}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ file\ COPYING\ or\ http://www.opensource.org/licenses/mit-\/license.php.}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ BITCOIN\_INDEX\_TXINDEX\_H}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ BITCOIN\_INDEX\_TXINDEX\_H}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <index/base.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <primitives/transaction.h>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{class\ }uint256;}
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }interfaces\ \{}
\DoxyCodeLine{00016\ \textcolor{keyword}{class\ }Chain;}
\DoxyCodeLine{00017\ \}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ DEFAULT\_TXINDEX\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }TxIndex\ final\ :\ \textcolor{keyword}{public}\ BaseIndex}
\DoxyCodeLine{00027\ \{}
\DoxyCodeLine{00028\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keyword}{class\ }DB;}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{const}\ std::unique\_ptr<DB>\ m\_db;}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{bool}\ AllowPrune()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{bool}\ CustomAppend(\textcolor{keyword}{const}\ interfaces::BlockInfo\&\ block)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ BaseIndex::DB\&\ GetDB()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{explicit}\ TxIndex(std::unique\_ptr<interfaces::Chain>\ chain,\ \textcolor{keywordtype}{size\_t}\ n\_cache\_size,\ \textcolor{keywordtype}{bool}\ f\_memory\ =\ \textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ f\_wipe\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{comment}{//\ Destructor\ is\ declared\ because\ this\ class\ contains\ a\ unique\_ptr\ to\ an\ incomplete\ type.}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~TxIndex()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{bool}\ FindTx(\textcolor{keyword}{const}\ Txid\&\ tx\_hash,\ uint256\&\ block\_hash,\ CTransactionRef\&\ tx)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00055\ \};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00058\ \textcolor{keyword}{extern}\ std::unique\_ptr<TxIndex>\ g\_txindex;}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ BITCOIN\_INDEX\_TXINDEX\_H}}

\end{DoxyCode}
