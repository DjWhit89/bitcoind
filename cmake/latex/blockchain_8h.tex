\doxysection{src/rpc/blockchain.h File Reference}
\label{blockchain_8h}\index{src/rpc/blockchain.h@{src/rpc/blockchain.h}}
{\ttfamily \#include $<$consensus/amount.\+h$>$}\newline
{\ttfamily \#include $<$core\+\_\+io.\+h$>$}\newline
{\ttfamily \#include $<$streams.\+h$>$}\newline
{\ttfamily \#include $<$sync.\+h$>$}\newline
{\ttfamily \#include $<$util/fs.\+h$>$}\newline
{\ttfamily \#include $<$validation.\+h$>$}\newline
{\ttfamily \#include $<$any$>$}\newline
{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \textbf{ node}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \textbf{ Get\+Difficulty} (const \textbf{ CBlock\+Index} \&blockindex)
\item 
\textbf{ Uni\+Value} \textbf{ block\+To\+JSON} (\textbf{ node\+::\+Block\+Manager} \&blockman, const \textbf{ CBlock} \&block, const \textbf{ CBlock\+Index} \&tip, const \textbf{ CBlock\+Index} \&blockindex, \textbf{ Tx\+Verbosity} verbosity, const \textbf{ uint256} pow\+\_\+limit) \textbf{ LOCKS\+\_\+\+EXCLUDED}(\textbf{ cs\+\_\+main})
\item 
\textbf{ Uni\+Value} \textbf{ blockheader\+To\+JSON} (const \textbf{ CBlock\+Index} \&tip, const \textbf{ CBlock\+Index} \&blockindex, const \textbf{ uint256} pow\+\_\+limit) \textbf{ LOCKS\+\_\+\+EXCLUDED}(\textbf{ cs\+\_\+main})
\item 
void \textbf{ Calculate\+Percentiles\+By\+Weight} (\textbf{ CAmount} result[NUM\+\_\+\+GETBLOCKSTATS\+\_\+\+PERCENTILES], std\+::vector$<$ std\+::pair$<$ \textbf{ CAmount}, int64\+\_\+t $>$ $>$ \&scores, int64\+\_\+t total\+\_\+weight)
\item 
\textbf{ Uni\+Value} \textbf{ Create\+UTXOSnapshot} (\textbf{ node\+::\+Node\+Context} \&\textbf{ node}, \textbf{ Chainstate} \&chainstate, \textbf{ Auto\+File} \&\&afile, const \textbf{ fs\+::path} \&path, const \textbf{ fs\+::path} \&tmppath)
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{blockchain.h@{blockchain.h}!blockheaderToJSON@{blockheaderToJSON}}
\index{blockheaderToJSON@{blockheaderToJSON}!blockchain.h@{blockchain.h}}
\doxysubsubsection{blockheaderToJSON()}
{\footnotesize\ttfamily \label{blockchain_8h_a6f0fcca65821ab436773202a07685d97} 
\textbf{ Uni\+Value} blockheader\+To\+JSON (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} \&}]{tip}{, }\item[{const \textbf{ CBlock\+Index} \&}]{blockindex}{, }\item[{const \textbf{ uint256}}]{pow\+\_\+limit}{}\end{DoxyParamCaption})}

Block header to JSON \index{blockchain.h@{blockchain.h}!blockToJSON@{blockToJSON}}
\index{blockToJSON@{blockToJSON}!blockchain.h@{blockchain.h}}
\doxysubsubsection{blockToJSON()}
{\footnotesize\ttfamily \label{blockchain_8h_a157f27af27efae5f494e8b52e31c2f50} 
\textbf{ Uni\+Value} block\+To\+JSON (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Block\+Manager} \&}]{blockman}{, }\item[{const \textbf{ CBlock} \&}]{block}{, }\item[{const \textbf{ CBlock\+Index} \&}]{tip}{, }\item[{const \textbf{ CBlock\+Index} \&}]{blockindex}{, }\item[{\textbf{ Tx\+Verbosity}}]{verbosity}{, }\item[{const \textbf{ uint256}}]{pow\+\_\+limit}{}\end{DoxyParamCaption})}

Block description to JSON \index{blockchain.h@{blockchain.h}!CalculatePercentilesByWeight@{CalculatePercentilesByWeight}}
\index{CalculatePercentilesByWeight@{CalculatePercentilesByWeight}!blockchain.h@{blockchain.h}}
\doxysubsubsection{CalculatePercentilesByWeight()}
{\footnotesize\ttfamily \label{blockchain_8h_ab911c2a3503111fa52a5d9bba1ba5233} 
void Calculate\+Percentiles\+By\+Weight (\begin{DoxyParamCaption}\item[{\textbf{ CAmount}}]{result}{[\+NUM\+\_\+\+GETBLOCKSTATS\+\_\+\+PERCENTILES], }\item[{std\+::vector$<$ std\+::pair$<$ \textbf{ CAmount}, int64\+\_\+t $>$ $>$ \&}]{scores}{, }\item[{int64\+\_\+t}]{total\+\_\+weight}{}\end{DoxyParamCaption})}

Used by getblockstats to get feerates at different percentiles by weight \index{blockchain.h@{blockchain.h}!CreateUTXOSnapshot@{CreateUTXOSnapshot}}
\index{CreateUTXOSnapshot@{CreateUTXOSnapshot}!blockchain.h@{blockchain.h}}
\doxysubsubsection{CreateUTXOSnapshot()}
{\footnotesize\ttfamily \label{blockchain_8h_a751a0fdd50577a9ad0c51fb84ec8d4e0} 
\textbf{ Uni\+Value} Create\+UTXOSnapshot (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Node\+Context} \&}]{node}{, }\item[{\textbf{ Chainstate} \&}]{chainstate}{, }\item[{\textbf{ Auto\+File} \&\&}]{afile}{, }\item[{const \textbf{ fs\+::path} \&}]{path}{, }\item[{const \textbf{ fs\+::path} \&}]{tmppath}{}\end{DoxyParamCaption})}

Test-\/only helper to create UTXO snapshots given a chainstate and a file handle. \begin{DoxyReturn}{Returns}
a \doxyref{Uni\+Value}{p.}{class_uni_value} map containing metadata about the snapshot. 
\end{DoxyReturn}
\index{blockchain.h@{blockchain.h}!GetDifficulty@{GetDifficulty}}
\index{GetDifficulty@{GetDifficulty}!blockchain.h@{blockchain.h}}
\doxysubsubsection{GetDifficulty()}
{\footnotesize\ttfamily \label{blockchain_8h_a66931089358b95acbaa88d0d9ea7311d} 
double Get\+Difficulty (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} \&}]{blockindex}{}\end{DoxyParamCaption})}

Get the difficulty of the net wrt to the given block index.

\begin{DoxyReturn}{Returns}
A floating point number that is a multiple of the main net minimum difficulty (4295032833 hashes). 
\end{DoxyReturn}
