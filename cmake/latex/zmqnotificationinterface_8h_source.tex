\doxysection{zmqnotificationinterface.\+h}
\label{zmqnotificationinterface_8h_source}\index{src/zmq/zmqnotificationinterface.h@{src/zmq/zmqnotificationinterface.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2015-\/present\ The\ Bitcoin\ Core\ developers}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ software\ license,\ see\ the\ accompanying}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ file\ COPYING\ or\ http://www.opensource.org/licenses/mit-\/license.php.}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ BITCOIN\_ZMQ\_ZMQNOTIFICATIONINTERFACE\_H}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ BITCOIN\_ZMQ\_ZMQNOTIFICATIONINTERFACE\_H}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <primitives/transaction.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <validationinterface.h>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <list>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{class\ }CBlock;}
\DoxyCodeLine{00018\ \textcolor{keyword}{class\ }CBlockIndex;}
\DoxyCodeLine{00019\ \textcolor{keyword}{class\ }CZMQAbstractNotifier;}
\DoxyCodeLine{00020\ \textcolor{keyword}{struct\ }NewMempoolTransactionInfo;}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }CZMQNotificationInterface\ final\ :\ \textcolor{keyword}{public}\ CValidationInterface}
\DoxyCodeLine{00023\ \{}
\DoxyCodeLine{00024\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ \ \ \ \ \string~CZMQNotificationInterface();}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ std::list<const\ CZMQAbstractNotifier*>\ GetActiveNotifiers()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keyword}{static}\ std::unique\_ptr<CZMQNotificationInterface>\ Create(std::function<\textcolor{keywordtype}{bool}(std::vector<std::byte>\&,\ \textcolor{keyword}{const}\ CBlockIndex\&)>\ get\_block\_by\_index);}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordtype}{bool}\ Initialize();}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{void}\ Shutdown();}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{comment}{//\ CValidationInterface}}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordtype}{void}\ TransactionAddedToMempool(\textcolor{keyword}{const}\ NewMempoolTransactionInfo\&\ tx,\ uint64\_t\ mempool\_sequence)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ TransactionRemovedFromMempool(\textcolor{keyword}{const}\ CTransactionRef\&\ tx,\ MemPoolRemovalReason\ reason,\ uint64\_t\ mempool\_sequence)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{void}\ BlockConnected(\textcolor{keyword}{const}\ kernel::ChainstateRole\&\ role,\ \textcolor{keyword}{const}\ std::shared\_ptr<const\ CBlock>\&\ pblock,\ \textcolor{keyword}{const}\ CBlockIndex*\ pindexConnected)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{void}\ BlockDisconnected(\textcolor{keyword}{const}\ std::shared\_ptr<const\ CBlock>\&\ pblock,\ \textcolor{keyword}{const}\ CBlockIndex*\ pindexDisconnected)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordtype}{void}\ UpdatedBlockTip(\textcolor{keyword}{const}\ CBlockIndex\ *pindexNew,\ \textcolor{keyword}{const}\ CBlockIndex\ *pindexFork,\ \textcolor{keywordtype}{bool}\ fInitialDownload)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00043\ \ \ \ \ CZMQNotificationInterface();}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{void}*\ pcontext\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00046\ \ \ \ \ std::list<std::unique\_ptr<CZMQAbstractNotifier>>\ notifiers;}
\DoxyCodeLine{00047\ \};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{extern}\ std::unique\_ptr<CZMQNotificationInterface>\ g\_zmq\_notification\_interface;}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ BITCOIN\_ZMQ\_ZMQNOTIFICATIONINTERFACE\_H}}

\end{DoxyCode}
