\doxysection{src/test/fuzz/txorphan.cpp File Reference}
\label{txorphan_8cpp}\index{src/test/fuzz/txorphan.cpp@{src/test/fuzz/txorphan.cpp}}
{\ttfamily \#include $<$consensus/amount.\+h$>$}\newline
{\ttfamily \#include $<$consensus/validation.\+h$>$}\newline
{\ttfamily \#include $<$net\+\_\+processing.\+h$>$}\newline
{\ttfamily \#include $<$node/eviction.\+h$>$}\newline
{\ttfamily \#include $<$node/txorphanage.\+h$>$}\newline
{\ttfamily \#include $<$policy/policy.\+h$>$}\newline
{\ttfamily \#include $<$primitives/transaction.\+h$>$}\newline
{\ttfamily \#include $<$script/script.\+h$>$}\newline
{\ttfamily \#include $<$sync.\+h$>$}\newline
{\ttfamily \#include $<$test/fuzz/\+Fuzzed\+Data\+Provider.\+h$>$}\newline
{\ttfamily \#include $<$test/fuzz/fuzz.\+h$>$}\newline
{\ttfamily \#include $<$test/fuzz/util.\+h$>$}\newline
{\ttfamily \#include $<$test/util/setup\+\_\+common.\+h$>$}\newline
{\ttfamily \#include $<$uint256.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/feefrac.\+h$>$}\newline
{\ttfamily \#include $<$util/time.\+h$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$bitset$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$memory$>$}\newline
{\ttfamily \#include $<$set$>$}\newline
{\ttfamily \#include $<$utility$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ initialize\+\_\+orphanage} ()
\item 
\textbf{ FUZZ\+\_\+\+TARGET} (txorphan,.\textbf{ init}=\textbf{ initialize\+\_\+orphanage})
\item 
\textbf{ FUZZ\+\_\+\+TARGET} (txorphan\+\_\+protected,.\textbf{ init}=\textbf{ initialize\+\_\+orphanage})
\item 
\textbf{ FUZZ\+\_\+\+TARGET} (txorphanage\+\_\+sim)
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{txorphan.cpp@{txorphan.cpp}!FUZZ\_TARGET@{FUZZ\_TARGET}}
\index{FUZZ\_TARGET@{FUZZ\_TARGET}!txorphan.cpp@{txorphan.cpp}}
\doxysubsubsection{FUZZ\_TARGET()\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{txorphan_8cpp_af258a55bd6b315a253b270f3a5fe7819} 
FUZZ\+\_\+\+TARGET (\begin{DoxyParamCaption}\item[{txorphan}]{}{, }\item[{.}]{init}{ = {\ttfamily \textbf{ initialize\+\_\+orphanage}}}\end{DoxyParamCaption})}

\index{txorphan.cpp@{txorphan.cpp}!FUZZ\_TARGET@{FUZZ\_TARGET}}
\index{FUZZ\_TARGET@{FUZZ\_TARGET}!txorphan.cpp@{txorphan.cpp}}
\doxysubsubsection{FUZZ\_TARGET()\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{txorphan_8cpp_ab5f5c58ee13185a06905959d46402e9a} 
FUZZ\+\_\+\+TARGET (\begin{DoxyParamCaption}\item[{txorphan\+\_\+protected}]{}{, }\item[{.}]{init}{ = {\ttfamily \textbf{ initialize\+\_\+orphanage}}}\end{DoxyParamCaption})}

\index{txorphan.cpp@{txorphan.cpp}!FUZZ\_TARGET@{FUZZ\_TARGET}}
\index{FUZZ\_TARGET@{FUZZ\_TARGET}!txorphan.cpp@{txorphan.cpp}}
\doxysubsubsection{FUZZ\_TARGET()\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{txorphan_8cpp_a404d97c57e4bd7c6962fb6a4d7943da5} 
FUZZ\+\_\+\+TARGET (\begin{DoxyParamCaption}\item[{txorphanage\+\_\+sim}]{}{}\end{DoxyParamCaption})}

The total number of transactions this simulation uses (not all of which will necessarily be present in the orphanage at once).

The number of peers this simulation uses (not all of which will necessarily be present in the orphanage at once).

The maximum number of announcements this simulation uses (which may be higher than the number permitted inside the orphanage).

Local RNG. Only used for topology/sizes of the transaction set, the order of transactions in Erase\+For\+Block, and for the randomized passed to Add\+Children\+To\+Work\+Set.

Data structure representing one announcement (pair of (tx, peer), plus whether it\textquotesingle{}s reconsiderable or not.

The entire simulated orphanage is represented by this list of announcements, in announcement order (unlike Tx\+Orphanage\+Impl which uses a sequence number to represent announcement order). New announcements are added to the back.

Consume a transaction (index into txn) from provider.

Consume a \doxyref{Node\+Id}{p.}{net_8h_aa637b11e18b77724b35db2229cd12788} from provider.

Consume both a transaction (index into txn) and a \doxyref{Node\+Id}{p.}{net_8h_aa637b11e18b77724b35db2229cd12788} from provider.

Determine if we have any announcements of the given transaction in the simulation.

Count the number of peers in the simulation.

Determine if we have any reconsiderable announcements of a given transaction.

Determine if a peer has any transactions to reconsider.

Get an iterator to an existing (wtxid, peer) pair in the simulation.

Get an iterator to an existing (tx, peer) pair in the simulation.

Compute a peer\textquotesingle{}s DoS score according to simulation data.

Set of not-\/already-\/reconsiderable child wtxids.\index{txorphan.cpp@{txorphan.cpp}!initialize\_orphanage@{initialize\_orphanage}}
\index{initialize\_orphanage@{initialize\_orphanage}!txorphan.cpp@{txorphan.cpp}}
\doxysubsubsection{initialize\_orphanage()}
{\footnotesize\ttfamily \label{txorphan_8cpp_a3f1384b1f9f69a998af9e0c0b65a0b86} 
void initialize\+\_\+orphanage (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

