\doxysection{CService Class Reference}
\label{class_c_service}\index{CService@{CService}}


{\ttfamily \#include $<$netaddress.\+h$>$}

Inheritance diagram for CService\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_c_service}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ CService} ()
\item 
\textbf{ CService} (const \textbf{ CNet\+Addr} \&ip, uint16\+\_\+t \textbf{ port})
\item 
\textbf{ CService} (const struct in\+\_\+addr \&ipv4\+Addr, uint16\+\_\+t \textbf{ port})
\item 
\textbf{ CService} (const struct sockaddr\+\_\+in \&addr)
\item 
uint16\+\_\+t \textbf{ Get\+Port} () const
\item 
bool \textbf{ Get\+Sock\+Addr} (struct sockaddr $\ast$paddr, socklen\+\_\+t $\ast$addrlen) const
\item 
bool \textbf{ Set\+Sock\+Addr} (const struct sockaddr $\ast$paddr, socklen\+\_\+t addrlen)
\item 
sa\+\_\+family\+\_\+t \textbf{ Get\+SAFamily} () const
\item 
std\+::vector$<$ unsigned char $>$ \textbf{ Get\+Key} () const
\item 
std\+::string \textbf{ To\+String\+Addr\+Port} () const
\item 
\textbf{ CService} (const struct in6\+\_\+addr \&ipv6\+Addr, uint16\+\_\+t \textbf{ port})
\item 
\textbf{ CService} (const struct sockaddr\+\_\+in6 \&addr)
\item 
\textbf{ SERIALIZE\+\_\+\+METHODS} (\textbf{ CService}, obj)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \textbf{ CNet\+Addr}}
\begin{DoxyCompactItemize}
\item 
\textbf{ CNet\+Addr} ()
\item 
\textbf{ CNet\+Addr} (const struct in\+\_\+addr \&ipv4\+Addr)
\item 
void \textbf{ Set\+IP} (const \textbf{ CNet\+Addr} \&ip)
\item 
void \textbf{ Set\+Legacy\+IPv6} (std\+::span$<$ const uint8\+\_\+t $>$ ipv6)
\item 
bool \textbf{ Set\+Internal} (const std\+::string \&\textbf{ name})
\item 
bool \textbf{ Set\+Special} (std\+::string\+\_\+view addr)
\item 
bool \textbf{ Is\+Bind\+Any} () const
\item 
bool \textbf{ Is\+IPv4} () const
\item 
bool \textbf{ Is\+IPv6} () const
\item 
bool \textbf{ Is\+RFC1918} () const
\item 
bool \textbf{ Is\+RFC2544} () const
\item 
bool \textbf{ Is\+RFC6598} () const
\item 
bool \textbf{ Is\+RFC5737} () const
\item 
bool \textbf{ Is\+RFC3849} () const
\item 
bool \textbf{ Is\+RFC3927} () const
\item 
bool \textbf{ Is\+RFC3964} () const
\item 
bool \textbf{ Is\+RFC4193} () const
\item 
bool \textbf{ Is\+RFC4380} () const
\item 
bool \textbf{ Is\+RFC4843} () const
\item 
bool \textbf{ Is\+RFC7343} () const
\item 
bool \textbf{ Is\+RFC4862} () const
\item 
bool \textbf{ Is\+RFC6052} () const
\item 
bool \textbf{ Is\+RFC6145} () const
\item 
bool \textbf{ Is\+He\+Net} () const
\item 
bool \textbf{ Is\+Tor} () const
\item 
bool \textbf{ Is\+I2P} () const
\item 
bool \textbf{ Is\+CJDNS} () const
\item 
bool \textbf{ Has\+CJDNSPrefix} () const
\item 
bool \textbf{ Is\+Local} () const
\item 
bool \textbf{ Is\+Routable} () const
\item 
bool \textbf{ Is\+Internal} () const
\item 
bool \textbf{ Is\+Valid} () const
\item 
bool \textbf{ Is\+Privacy\+Net} () const
\item 
bool \textbf{ Is\+Addr\+V1\+Compatible} () const
\item 
enum \textbf{ Network} \textbf{ Get\+Network} () const
\item 
std\+::string \textbf{ To\+String\+Addr} () const
\item 
bool \textbf{ Get\+In\+Addr} (struct in\+\_\+addr $\ast$pipv4\+Addr) const
\item 
\textbf{ Network} \textbf{ Get\+Net\+Class} () const
\item 
uint32\+\_\+t \textbf{ Get\+Linked\+IPv4} () const
\begin{DoxyCompactList}\small\item\em For IPv4, mapped IPv4, SIIT translated IPv4, Teredo, 6to4 tunneled addresses, return the relevant IPv4 address as a uint32. \end{DoxyCompactList}\item 
bool \textbf{ Has\+Linked\+IPv4} () const
\begin{DoxyCompactList}\small\item\em Whether this address has a linked IPv4 address (see \doxyref{Get\+Linked\+IPv4()}{p.}{class_c_net_addr_ade1544526aafcd87db74e498d1a8dc0a}). \end{DoxyCompactList}\item 
std\+::vector$<$ unsigned char $>$ \textbf{ Get\+Addr\+Bytes} () const
\item 
int \textbf{ Get\+Reachability\+From} (const \textbf{ CNet\+Addr} \&paddr\+Partner) const
\item 
\textbf{ CNet\+Addr} (const struct in6\+\_\+addr \&pipv6\+Addr, const uint32\+\_\+t scope=0)
\item 
bool \textbf{ Get\+In6\+Addr} (struct in6\+\_\+addr $\ast$pipv6\+Addr) const
\item 
bool \textbf{ Is\+Relayable} () const
\item 
{\footnotesize template$<$typename Stream$>$ }\\void \textbf{ Serialize} (Stream \&s) const
\item 
{\footnotesize template$<$typename Stream$>$ }\\void \textbf{ Unserialize} (Stream \&s)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \textbf{ port}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \textbf{ CNet\+Addr}}
\begin{DoxyCompactItemize}
\item 
\textbf{ prevector}$<$ ADDR\+\_\+\+IPV6\+\_\+\+SIZE, uint8\+\_\+t $>$ \textbf{ m\+\_\+addr} \{ADDR\+\_\+\+IPV6\+\_\+\+SIZE, 0x0\}
\item 
\textbf{ Network} \textbf{ m\+\_\+net} \{\textbf{ NET\+\_\+\+IPV6}\}
\item 
uint32\+\_\+t \textbf{ m\+\_\+scope\+\_\+id} \{0\}
\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \textbf{ CService\+Hash}
\item 
bool \textbf{ operator==} (const \textbf{ CService} \&a, const \textbf{ CService} \&b)
\item 
bool \textbf{ operator$<$} (const \textbf{ CService} \&a, const \textbf{ CService} \&b)
\item 
\textbf{ CService} \textbf{ Maybe\+Flip\+IPv6to\+CJDNS} (const \textbf{ CService} \&service)
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \textbf{ CNet\+Addr}}
\begin{DoxyCompactItemize}
\item 
enum class \textbf{ Encoding} \{ \textbf{ V1}
, \textbf{ V2}
 \}
\item 
enum \textbf{ BIP155\+Network} \+: uint8\+\_\+t \{ \newline
\textbf{ IPV4} = 1
, \textbf{ IPV6} = 2
, \textbf{ TORV2} = 3
, \textbf{ TORV3} = 4
, \newline
\textbf{ I2P} = 5
, \textbf{ CJDNS} = 6
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes inherited from \textbf{ CNet\+Addr}}
\begin{DoxyCompactItemize}
\item 
static constexpr \textbf{ Ser\+Params} \textbf{ V1} \{\textbf{ Encoding\+::\+V1}\}
\item 
static constexpr \textbf{ Ser\+Params} \textbf{ V2} \{\textbf{ Encoding\+::\+V2}\}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A combination of a network address (\doxyref{CNet\+Addr}{p.}{class_c_net_addr}) and a (TCP) port 

\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{CService@{CService}!CService@{CService}}
\index{CService@{CService}!CService@{CService}}
\doxysubsubsection{CService()\hspace{0.1cm}{\footnotesize\ttfamily [1/6]}}
{\footnotesize\ttfamily \label{class_c_service_ad996af1868228769c6772bd9be5f8bbb} 
\textbf{ CService} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{CService@{CService}!CService@{CService}}
\index{CService@{CService}!CService@{CService}}
\doxysubsubsection{CService()\hspace{0.1cm}{\footnotesize\ttfamily [2/6]}}
{\footnotesize\ttfamily \label{class_c_service_a3609a4ced6e8a35cb4ce5bccc7fe4905} 
\textbf{ CService} (\begin{DoxyParamCaption}\item[{const \textbf{ CNet\+Addr} \&}]{ip}{, }\item[{uint16\+\_\+t}]{port}{}\end{DoxyParamCaption})}

\index{CService@{CService}!CService@{CService}}
\index{CService@{CService}!CService@{CService}}
\doxysubsubsection{CService()\hspace{0.1cm}{\footnotesize\ttfamily [3/6]}}
{\footnotesize\ttfamily \label{class_c_service_a80c435e885ec8a4e727652d11f832848} 
\textbf{ CService} (\begin{DoxyParamCaption}\item[{const struct in\+\_\+addr \&}]{ipv4\+Addr}{, }\item[{uint16\+\_\+t}]{port}{}\end{DoxyParamCaption})}

\index{CService@{CService}!CService@{CService}}
\index{CService@{CService}!CService@{CService}}
\doxysubsubsection{CService()\hspace{0.1cm}{\footnotesize\ttfamily [4/6]}}
{\footnotesize\ttfamily \label{class_c_service_aa6ef5f32c06a478ead948b7323119bdf} 
\textbf{ CService} (\begin{DoxyParamCaption}\item[{const struct sockaddr\+\_\+in \&}]{addr}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

\index{CService@{CService}!CService@{CService}}
\index{CService@{CService}!CService@{CService}}
\doxysubsubsection{CService()\hspace{0.1cm}{\footnotesize\ttfamily [5/6]}}
{\footnotesize\ttfamily \label{class_c_service_a317cdcd81580ec7388e90559b69d5d9d} 
\textbf{ CService} (\begin{DoxyParamCaption}\item[{const struct in6\+\_\+addr \&}]{ipv6\+Addr}{, }\item[{uint16\+\_\+t}]{port}{}\end{DoxyParamCaption})}

\index{CService@{CService}!CService@{CService}}
\index{CService@{CService}!CService@{CService}}
\doxysubsubsection{CService()\hspace{0.1cm}{\footnotesize\ttfamily [6/6]}}
{\footnotesize\ttfamily \label{class_c_service_aa63e4b517d069873eeeeed831a478f3d} 
\textbf{ CService} (\begin{DoxyParamCaption}\item[{const struct sockaddr\+\_\+in6 \&}]{addr}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{CService@{CService}!GetKey@{GetKey}}
\index{GetKey@{GetKey}!CService@{CService}}
\doxysubsubsection{GetKey()}
{\footnotesize\ttfamily \label{class_c_service_a2f76cbfe9660cf0325a7498e3c5b6f22} 
std\+::vector$<$ unsigned char $>$ Get\+Key (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

\begin{DoxyReturn}{Returns}
An identifier unique to this service\textquotesingle{}s address and port number. 
\end{DoxyReturn}
\index{CService@{CService}!GetPort@{GetPort}}
\index{GetPort@{GetPort}!CService@{CService}}
\doxysubsubsection{GetPort()}
{\footnotesize\ttfamily \label{class_c_service_a8b98ce5a8d69c2b25589194d2b8a29ab} 
uint16\+\_\+t Get\+Port (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

\index{CService@{CService}!GetSAFamily@{GetSAFamily}}
\index{GetSAFamily@{GetSAFamily}!CService@{CService}}
\doxysubsubsection{GetSAFamily()}
{\footnotesize\ttfamily \label{class_c_service_a952a09a688d833b0827c91e9b11df29a} 
sa\+\_\+family\+\_\+t Get\+SAFamily (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}}

Get the address family \begin{DoxyReturn}{Returns}
AF\+\_\+\+UNSPEC if unspecified 
\end{DoxyReturn}
\index{CService@{CService}!GetSockAddr@{GetSockAddr}}
\index{GetSockAddr@{GetSockAddr}!CService@{CService}}
\doxysubsubsection{GetSockAddr()}
{\footnotesize\ttfamily \label{class_c_service_ad6425203c3b52cf31127954072639b57} 
bool Get\+Sock\+Addr (\begin{DoxyParamCaption}\item[{struct sockaddr $\ast$}]{paddr}{, }\item[{socklen\+\_\+t $\ast$}]{addrlen}{}\end{DoxyParamCaption}) const}

Obtain the IPv4/6 socket address this represents.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{out}}  & {\em paddr} & The obtained socket address. \\
\hline
\mbox{\texttt{in,out}}  & {\em addrlen} & The size, in bytes, of the address structure pointed to by paddr. The value that\textquotesingle{}s pointed to by this parameter might change after calling this function if the size of the corresponding address structure changed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether or not the operation was successful. 
\end{DoxyReturn}
\index{CService@{CService}!SERIALIZE\_METHODS@{SERIALIZE\_METHODS}}
\index{SERIALIZE\_METHODS@{SERIALIZE\_METHODS}!CService@{CService}}
\doxysubsubsection{SERIALIZE\_METHODS()}
{\footnotesize\ttfamily \label{class_c_service_a346119e1f85145d342762575c3249796} 
SERIALIZE\+\_\+\+METHODS (\begin{DoxyParamCaption}\item[{\textbf{ CService}}]{}{, }\item[{obj}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\index{CService@{CService}!SetSockAddr@{SetSockAddr}}
\index{SetSockAddr@{SetSockAddr}!CService@{CService}}
\doxysubsubsection{SetSockAddr()}
{\footnotesize\ttfamily \label{class_c_service_ad3a05f88759096a8df5d0a25e0256fa7} 
bool Set\+Sock\+Addr (\begin{DoxyParamCaption}\item[{const struct sockaddr $\ast$}]{paddr}{, }\item[{socklen\+\_\+t}]{addrlen}{}\end{DoxyParamCaption})}

Set \doxyref{CService}{p.}{class_c_service} from a network sockaddr. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em paddr} & Pointer to sockaddr structure \\
\hline
\mbox{\texttt{in}}  & {\em addrlen} & Length of sockaddr structure in bytes. This will be checked to exactly match the length of a socket address of the provided family, unless std\+::nullopt is passed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true on success 
\end{DoxyReturn}
\index{CService@{CService}!ToStringAddrPort@{ToStringAddrPort}}
\index{ToStringAddrPort@{ToStringAddrPort}!CService@{CService}}
\doxysubsubsection{ToStringAddrPort()}
{\footnotesize\ttfamily \label{class_c_service_aac5ca8b51c9b88aab6790964f43b0684} 
std\+::string To\+String\+Addr\+Port (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



\label{doc-related-members}
\doxysubsection{Friends And Related Symbol Documentation}
\index{CService@{CService}!CServiceHash@{CServiceHash}}
\index{CServiceHash@{CServiceHash}!CService@{CService}}
\doxysubsubsection{CServiceHash}
{\footnotesize\ttfamily \label{class_c_service_ac85de87cc3333fffe963bfc088cbee2c} 
friend class \textbf{ CService\+Hash}\hspace{0.3cm}{\ttfamily [friend]}}

\index{CService@{CService}!MaybeFlipIPv6toCJDNS@{MaybeFlipIPv6toCJDNS}}
\index{MaybeFlipIPv6toCJDNS@{MaybeFlipIPv6toCJDNS}!CService@{CService}}
\doxysubsubsection{MaybeFlipIPv6toCJDNS}
{\footnotesize\ttfamily \label{class_c_service_aa0d388812dee65a6371a4bdff962dfa4} 
\textbf{ CService} Maybe\+Flip\+IPv6to\+CJDNS (\begin{DoxyParamCaption}\item[{const \textbf{ CService} \&}]{service}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}

If an IPv6 address belongs to the address range used by the CJDNS network and the CJDNS network is reachable (-\/cjdnsreachable config is set), then change the type from NET\+\_\+\+IPV6 to NET\+\_\+\+CJDNS. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em service} & Address to potentially convert. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a copy of {\ttfamily service} either unmodified or changed to CJDNS. 
\end{DoxyReturn}
\index{CService@{CService}!operator$<$@{operator$<$}}
\index{operator$<$@{operator$<$}!CService@{CService}}
\doxysubsubsection{operator$<$}
{\footnotesize\ttfamily \label{class_c_service_a26d0e22a8e7ae213b25467da3556c9e4} 
bool operator$<$ (\begin{DoxyParamCaption}\item[{const \textbf{ CService} \&}]{a}{, }\item[{const \textbf{ CService} \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}

\index{CService@{CService}!operator==@{operator==}}
\index{operator==@{operator==}!CService@{CService}}
\doxysubsubsection{operator==}
{\footnotesize\ttfamily \label{class_c_service_a7abc2516fa7e015cafcf9b98bc33e2ea} 
bool operator== (\begin{DoxyParamCaption}\item[{const \textbf{ CService} \&}]{a}{, }\item[{const \textbf{ CService} \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}



\label{doc-variable-members}
\doxysubsection{Field Documentation}
\index{CService@{CService}!port@{port}}
\index{port@{port}!CService@{CService}}
\doxysubsubsection{port}
{\footnotesize\ttfamily \label{class_c_service_a8e0798404bf2cf5dabb84c5ba9a4f236} 
uint16\+\_\+t port\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\textbf{ netaddress.\+h}\item 
src/\textbf{ netaddress.\+cpp}\end{DoxyCompactItemize}
