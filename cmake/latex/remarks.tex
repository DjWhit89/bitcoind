\chapter{Remarks }
\label{remarks}\index{Remarks@{Remarks}}
\doxysection{Purpose}\label{remarks_purpose}
This header currently exposes an API for interacting with parts of Bitcoin Core\textquotesingle{}s consensus code. Users can validate blocks, iterate the block index, read block and undo data from disk, and validate scripts. The header is unversioned and not stable yet. Users should expect breaking changes. It is also not yet included in releases of Bitcoin Core.\doxysection{Context}\label{remarks_context}
The library provides a built-\/in static constant kernel context. This static context offers only limited functionality. It detects and self-\/checks the correct \doxyref{sha256}{p.}{namespacesha256} implementation, initializes the random number generator and self-\/checks the secp256k1 static context. It is used internally for otherwise "{}context-\/free"{} operations. This means that the user is not required to initialize their own context before using the library.

The user should create their own context for passing it to state-\/rich validation functions and holding callbacks for kernel events.\doxysection{Error handling}\label{remarks_error}
Functions communicate an error through their return types, usually returning a nullptr, 0, or false if an error is encountered. Additionally, verification functions, e.\+g. for scripts, may communicate more detailed error information through status code out parameters.

Fine-\/grained validation information is communicated through the validation interface.

The kernel notifications issue callbacks for errors. These are usually indicative of a system error. If such an error is issued, it is recommended to halt and tear down the existing kernel objects. Remediating the error may require system intervention by the user.\doxysection{Pointer and argument conventions}\label{remarks_pointer}
The user is responsible for de-\/allocating the memory owned by pointers returned by functions. Typically pointers returned by $\ast$\+\_\+create(...) functions can be de-\/allocated by corresponding $\ast$\+\_\+destroy(...) functions.

A function that takes pointer arguments makes no assumptions on their lifetime. Once the function returns the user can safely de-\/allocate the passed in arguments.

Const pointers represent views, and do not transfer ownership. Lifetime guarantees of these objects are described in the respective documentation. Ownership of these resources may be taken by copying. They are typically used for iteration with minimal overhead and require some care by the programmer that their lifetime is not extended beyond that of the original object.

Array lengths follow the pointer argument they describe. 