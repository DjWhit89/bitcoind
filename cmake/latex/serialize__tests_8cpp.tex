\doxysection{src/test/serialize\+\_\+tests.cpp File Reference}
\label{serialize__tests_8cpp}\index{src/test/serialize\_tests.cpp@{src/test/serialize\_tests.cpp}}
{\ttfamily \#include $<$hash.\+h$>$}\newline
{\ttfamily \#include $<$serialize.\+h$>$}\newline
{\ttfamily \#include $<$streams.\+h$>$}\newline
{\ttfamily \#include $<$test/util/setup\+\_\+common.\+h$>$}\newline
{\ttfamily \#include $<$util/strencodings.\+h$>$}\newline
{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$boost/test/unit\+\_\+test.\+hpp$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \textbf{ Uncopyable\+Stream}
\item 
class \textbf{ CSerialize\+Methods\+Test\+Single}
\item 
class \textbf{ CSerialize\+Methods\+Test\+Many}
\item 
struct \textbf{ Base\+Format}
\item 
class \textbf{ Base}
\begin{DoxyCompactList}\small\item\em (Un)serialize a number as raw byte or 2 hexadecimal chars. \end{DoxyCompactList}\item 
class \textbf{ Derived\+And\+Base\+Format}
\item 
class \textbf{ Derived}
\item 
struct \textbf{ Other\+Param}
\item 
class \textbf{ Other\+Param\+Checker}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (sizes)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (varints)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (varints\+\_\+bitpatterns)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (compactsize)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (vector\+\_\+bool)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (array)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (noncanonical)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (class\+\_\+methods)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (with\+\_\+params\+\_\+multi)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (with\+\_\+params\+\_\+move)
\begin{DoxyCompactList}\small\item\em Test creating a \doxyref{Params\+Stream}{p.}{class_params_stream} that moves from a stream argument. \end{DoxyCompactList}\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (with\+\_\+params\+\_\+base)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (with\+\_\+params\+\_\+vector\+\_\+of\+\_\+base)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (with\+\_\+params\+\_\+derived)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
constexpr \textbf{ Base\+Format} \textbf{ RAW} \{\textbf{ Base\+Format\+::\+RAW}\}
\item 
constexpr \textbf{ Base\+Format} \textbf{ HEX} \{\textbf{ Base\+Format\+::\+HEX}\}
\item 
constexpr \textbf{ Derived\+And\+Base\+Format} \textbf{ RAW\+\_\+\+LOWER} \{\{\textbf{ Base\+Format\+::\+RAW}\}, \textbf{ Derived\+And\+Base\+Format\+::\+Derived\+Format\+::\+LOWER}\}
\item 
constexpr \textbf{ Derived\+And\+Base\+Format} \textbf{ HEX\+\_\+\+UPPER} \{\{\textbf{ Base\+Format\+::\+HEX}\}, \textbf{ Derived\+And\+Base\+Format\+::\+Derived\+Format\+::\+UPPER}\}
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [1/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a3e71450dcdfd9b80d82a35d4c84b289a} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{array}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [2/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a4c5404d5caa1dda35118c7881f91ff12} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{class\+\_\+methods}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [3/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_ae9e969e46809b2f06681d5db4aed2b27} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{compactsize}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [4/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_aabfae3698d7ea1c5398ed38d3210b555} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{noncanonical}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [5/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_ac8a62fba8c3a4e0825d290c3339b8417} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{sizes}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [6/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a0528829bf2541df9b7c85e3a309ee435} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{varints}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [7/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a008a70b8ba997d1eb834cd53a3ae2f70} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{varints\+\_\+bitpatterns}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [8/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a7dcd2e6291d7344666e96c1b452f84ba} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{vector\+\_\+bool}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [9/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a694caeef5a0b96cece405d8417b9bead} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{with\+\_\+params\+\_\+base}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [10/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_af1fb054b841affda4f2c1c111c3a0904} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{with\+\_\+params\+\_\+derived}]{}{}\end{DoxyParamCaption})}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [11/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a5d6ef540a4c1af32977d6d1198a41207} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{with\+\_\+params\+\_\+move}]{}{}\end{DoxyParamCaption})}



Test creating a \doxyref{Params\+Stream}{p.}{class_params_stream} that moves from a stream argument. 

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [12/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a8483716fc3e93553e2d0fa93aa867af6} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{with\+\_\+params\+\_\+multi}]{}{}\end{DoxyParamCaption})}

Test creating a stream with multiple parameters and making sure serialization code requiring different parameters can retrieve them. Also test that earlier parameters take precedence if the same parameter type is specified twice. (Choice of whether earlier or later values take precedence or multiple values of the same type are allowed was arbitrary, and just decided based on what would require smallest amount of ugly C++ template code. Intent of the test is to just ensure there is no unexpected behavior.) \index{serialize\_tests.cpp@{serialize\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [13/13]}}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a9a6343f79fa0c7d663e7f16308a74420} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{with\+\_\+params\+\_\+vector\+\_\+of\+\_\+base}]{}{}\end{DoxyParamCaption})}



\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{serialize\_tests.cpp@{serialize\_tests.cpp}!HEX@{HEX}}
\index{HEX@{HEX}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{HEX}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a53c585b5fe2d9bef8bb52a0b8b8c9120} 
\textbf{ Base\+Format} HEX \{\textbf{ Base\+Format\+::\+HEX}\}\hspace{0.3cm}{\ttfamily [constexpr]}}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!HEX\_UPPER@{HEX\_UPPER}}
\index{HEX\_UPPER@{HEX\_UPPER}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{HEX\_UPPER}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a043a25816f2970dcd22dcb28343b6c92} 
\textbf{ Derived\+And\+Base\+Format} HEX\+\_\+\+UPPER \{\{\textbf{ Base\+Format\+::\+HEX}\}, \textbf{ Derived\+And\+Base\+Format\+::\+Derived\+Format\+::\+UPPER}\}\hspace{0.3cm}{\ttfamily [constexpr]}}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!RAW@{RAW}}
\index{RAW@{RAW}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{RAW}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a3c291e3b735f8629e54f027226d80d10} 
\textbf{ Base\+Format} RAW \{\textbf{ Base\+Format\+::\+RAW}\}\hspace{0.3cm}{\ttfamily [constexpr]}}

\index{serialize\_tests.cpp@{serialize\_tests.cpp}!RAW\_LOWER@{RAW\_LOWER}}
\index{RAW\_LOWER@{RAW\_LOWER}!serialize\_tests.cpp@{serialize\_tests.cpp}}
\doxysubsubsection{RAW\_LOWER}
{\footnotesize\ttfamily \label{serialize__tests_8cpp_a43543b5126d0c4d89d53e1f5d65c3727} 
\textbf{ Derived\+And\+Base\+Format} RAW\+\_\+\+LOWER \{\{\textbf{ Base\+Format\+::\+RAW}\}, \textbf{ Derived\+And\+Base\+Format\+::\+Derived\+Format\+::\+LOWER}\}\hspace{0.3cm}{\ttfamily [constexpr]}}

