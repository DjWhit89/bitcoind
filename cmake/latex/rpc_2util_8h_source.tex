\doxysection{util.\+h}
\label{rpc_2util_8h_source}\index{src/rpc/util.h@{src/rpc/util.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2017-\/present\ The\ Bitcoin\ Core\ developers}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ software\ license,\ see\ the\ accompanying}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ file\ COPYING\ or\ http://www.opensource.org/licenses/mit-\/license.php.}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ BITCOIN\_RPC\_UTIL\_H}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ BITCOIN\_RPC\_UTIL\_H}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <addresstype.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <consensus/amount.h>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <node/transaction.h>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <outputtype.h>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <pubkey.h>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <rpc/protocol.h>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <rpc/request.h>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <script/script.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <script/sign.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <uint256.h>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <univalue.h>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <util/check.h>}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <initializer\_list>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <string\_view>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <variant>}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }JSONRPCRequest;}
\DoxyCodeLine{00035\ \textcolor{keyword}{enum}\ ServiceFlags\ :\ uint64\_t;}
\DoxyCodeLine{00036\ \textcolor{keyword}{enum\ class}\ OutputType;}
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }FlatSigningProvider;}
\DoxyCodeLine{00038\ \textcolor{keyword}{struct\ }bilingual\_str;}
\DoxyCodeLine{00039\ \textcolor{keyword}{namespace\ }common\ \{}
\DoxyCodeLine{00040\ \textcolor{keyword}{enum\ class}\ PSBTError;}
\DoxyCodeLine{00041\ \}\ \textcolor{comment}{//\ namespace\ common}}
\DoxyCodeLine{00042\ \textcolor{keyword}{namespace\ }node\ \{}
\DoxyCodeLine{00043\ \textcolor{keyword}{enum\ class}\ TransactionError;}
\DoxyCodeLine{00044\ \}\ \textcolor{comment}{//\ namespace\ node}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ DEFAULT\_RPC\_DOC\_CHECK\{}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#ifdef\ RPC\_DOC\_CHECK}}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{true}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{false}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00052\ \};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00058\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ std::string\ UNIX\_EPOCH\_TIME;}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00064\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ std::string\ EXAMPLE\_ADDRESS[2];}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{class\ }FillableSigningProvider;}
\DoxyCodeLine{00067\ \textcolor{keyword}{class\ }CScript;}
\DoxyCodeLine{00068\ \textcolor{keyword}{struct\ }Sections;}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{struct\ }HelpResult\ :\ std::runtime\_error\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{explicit}\ HelpResult(\textcolor{keyword}{const}\ std::string\&\ msg)\ :\ std::runtime\_error\{msg\}\ \{\}}
\DoxyCodeLine{00072\ \};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00079\ std::string\ GetAllOutputTypes();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{struct\ }UniValueType\ \{}
\DoxyCodeLine{00084\ \ \ \ \ UniValueType(UniValue::VType\ \_type)\ :\ typeAny(false),\ type(\_type)\ \{\}}
\DoxyCodeLine{00085\ \ \ \ \ UniValueType()\ :\ typeAny(true)\ \{\}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{bool}\ typeAny;}
\DoxyCodeLine{00087\ \ \ \ \ UniValue::VType\ type;}
\DoxyCodeLine{00088\ \};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{comment}{/*}}
\DoxyCodeLine{00091\ \textcolor{comment}{\ \ Check\ for\ expected\ keys/value\ types\ in\ an\ Object.}}
\DoxyCodeLine{00092\ \textcolor{comment}{*/}}
\DoxyCodeLine{00093\ \textcolor{keywordtype}{void}\ RPCTypeCheckObj(\textcolor{keyword}{const}\ UniValue\&\ o,}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ UniValueType>\&\ typesExpected,}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{bool}\ fAllowNull\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{bool}\ fStrict\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00102\ uint256\ ParseHashV(\textcolor{keyword}{const}\ UniValue\&\ v,\ std::string\_view\ name);}
\DoxyCodeLine{00103\ uint256\ ParseHashO(\textcolor{keyword}{const}\ UniValue\&\ o,\ std::string\_view\ strKey);}
\DoxyCodeLine{00104\ std::vector<unsigned\ char>\ ParseHexV(\textcolor{keyword}{const}\ UniValue\&\ v,\ std::string\_view\ name);}
\DoxyCodeLine{00105\ std::vector<unsigned\ char>\ ParseHexO(\textcolor{keyword}{const}\ UniValue\&\ o,\ std::string\_view\ strKey);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00116\ \textcolor{keywordtype}{int}\ ParseVerbosity(\textcolor{keyword}{const}\ UniValue\&\ arg,\ \textcolor{keywordtype}{int}\ default\_verbosity,\ \textcolor{keywordtype}{bool}\ allow\_bool);}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00125\ CAmount\ AmountFromValue(\textcolor{keyword}{const}\ UniValue\&\ value,\ \textcolor{keywordtype}{int}\ decimals\ =\ 8);}
\DoxyCodeLine{00130\ CFeeRate\ ParseFeeRate(\textcolor{keyword}{const}\ UniValue\&\ json);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \textcolor{keyword}{using\ }RPCArgList\ =\ std::vector<std::pair<std::string,\ UniValue>>;}
\DoxyCodeLine{00133\ std::string\ HelpExampleCli(\textcolor{keyword}{const}\ std::string\&\ methodname,\ \textcolor{keyword}{const}\ std::string\&\ args);}
\DoxyCodeLine{00134\ std::string\ HelpExampleCliNamed(\textcolor{keyword}{const}\ std::string\&\ methodname,\ \textcolor{keyword}{const}\ RPCArgList\&\ args);}
\DoxyCodeLine{00135\ std::string\ HelpExampleRpc(\textcolor{keyword}{const}\ std::string\&\ methodname,\ \textcolor{keyword}{const}\ std::string\&\ args);}
\DoxyCodeLine{00136\ std::string\ HelpExampleRpcNamed(\textcolor{keyword}{const}\ std::string\&\ methodname,\ \textcolor{keyword}{const}\ RPCArgList\&\ args);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ CPubKey\ HexToPubKey(\textcolor{keyword}{const}\ std::string\&\ hex\_in);}
\DoxyCodeLine{00139\ CTxDestination\ AddAndGetMultisigDestination(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ required,\ \textcolor{keyword}{const}\ std::vector<CPubKey>\&\ pubkeys,\ OutputType\ type,\ FlatSigningProvider\&\ keystore,\ CScript\&\ script\_out);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ UniValue\ DescribeAddress(\textcolor{keyword}{const}\ CTxDestination\&\ dest);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00144\ std::optional<int>\ ParseSighashString(\textcolor{keyword}{const}\ UniValue\&\ sighash);}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00147\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ ParseConfirmTarget(\textcolor{keyword}{const}\ UniValue\&\ value,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ max\_target);}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ RPCErrorCode\ RPCErrorFromTransactionError(node::TransactionError\ terr);}
\DoxyCodeLine{00150\ UniValue\ JSONRPCPSBTError(common::PSBTError\ err);}
\DoxyCodeLine{00151\ UniValue\ JSONRPCTransactionError(node::TransactionError\ terr,\ \textcolor{keyword}{const}\ std::string\&\ err\_string\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00154\ std::pair<int64\_t,\ int64\_t>\ ParseDescriptorRange(\textcolor{keyword}{const}\ UniValue\&\ value);}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00157\ std::vector<CScript>\ EvalDescriptorStringOrObject(\textcolor{keyword}{const}\ UniValue\&\ scanobject,\ FlatSigningProvider\&\ provider,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ expand\_priv\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00163\ \textcolor{keyword}{enum\ class}\ OuterType\ \{}
\DoxyCodeLine{00164\ \ \ \ \ ARR,}
\DoxyCodeLine{00165\ \ \ \ \ OBJ,}
\DoxyCodeLine{00166\ \ \ \ \ NONE,\ \textcolor{comment}{//\ Only\ set\ on\ first\ recursion}}
\DoxyCodeLine{00167\ \};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{keyword}{struct\ }RPCArgOptions\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordtype}{bool}\ skip\_type\_check\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00171\ \ \ \ \ std::string\ oneline\_description\{\};\ \ \ }
\DoxyCodeLine{00172\ \ \ \ \ std::vector<std::string>\ type\_str\{\};\ }
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordtype}{bool}\ hidden\{\textcolor{keyword}{false}\};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordtype}{bool}\ also\_positional\{\textcolor{keyword}{false}\};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00183\ \};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \textcolor{comment}{//\ NOLINTNEXTLINE(misc-\/no-\/recursion)}}
\DoxyCodeLine{00186\ \textcolor{keyword}{struct\ }RPCArg\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keyword}{enum\ class}\ Type\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ OBJ,}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ ARR,}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ STR,}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ NUM,}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ BOOL,}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ OBJ\_NAMED\_PARAMS,\ }
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ OBJ\_USER\_KEYS,\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ AMOUNT,\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ STR\_HEX,\ \ \ \ \ \ \ }
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ RANGE,\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00204\ \ \ \ \ \};}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keyword}{enum\ class}\ Optional\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ NO,}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ OMITTED,}
\DoxyCodeLine{00218\ \ \ \ \ \};}
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{keyword}{using\ }DefaultHint\ =\ std::string;}
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keyword}{using\ }Default\ =\ UniValue;}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keyword}{using\ }Fallback\ =\ std::variant<Optional,\ DefaultHint,\ Default>;}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ m\_names;\ }
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keyword}{const}\ Type\ m\_type;}
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<RPCArg>\ m\_inner;\ }
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{keyword}{const}\ Fallback\ m\_fallback;}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ m\_description;}
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keyword}{const}\ RPCArgOptions\ m\_opts;}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ RPCArg(}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ std::string\ name,}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ Type\ type,}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ Fallback\ fallback,}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ std::string\ description,}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ RPCArgOptions\ opts\ =\ \{\})}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ :\ m\_names\{std::move(name)\},}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ m\_type\{std::move(type)\},}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ m\_fallback\{std::move(fallback)\},}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ m\_description\{std::move(description)\},}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ m\_opts\{std::move(opts)\}}
\DoxyCodeLine{00243\ \ \ \ \ \{}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ CHECK\_NONFATAL(type\ !=\ Type::ARR\ \&\&\ type\ !=\ Type::OBJ\ \&\&\ type\ !=\ Type::OBJ\_NAMED\_PARAMS\ \&\&\ type\ !=\ Type::OBJ\_USER\_KEYS);}
\DoxyCodeLine{00245\ \ \ \ \ \}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ RPCArg(}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ std::string\ name,}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ Type\ type,}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ Fallback\ fallback,}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ std::string\ description,}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ std::vector<RPCArg>\ inner,}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ RPCArgOptions\ opts\ =\ \{\})}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ :\ m\_names\{std::move(name)\},}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ m\_type\{std::move(type)\},}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ m\_inner\{std::move(inner)\},}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ m\_fallback\{std::move(fallback)\},}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ m\_description\{std::move(description)\},}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ m\_opts\{std::move(opts)\}}
\DoxyCodeLine{00260\ \ \ \ \ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ CHECK\_NONFATAL(type\ ==\ Type::ARR\ ||\ type\ ==\ Type::OBJ\ ||\ type\ ==\ Type::OBJ\_NAMED\_PARAMS\ ||\ type\ ==\ Type::OBJ\_USER\_KEYS);}
\DoxyCodeLine{00262\ \ \ \ \ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsOptional()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00270\ \ \ \ \ UniValue\ MatchesType(\textcolor{keyword}{const}\ UniValue\&\ request)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00273\ \ \ \ \ std::string\ GetFirstName()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00276\ \ \ \ \ std::string\ GetName()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00282\ \ \ \ \ std::string\ ToString(\textcolor{keywordtype}{bool}\ oneline)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00287\ \ \ \ \ std::string\ ToStringObj(\textcolor{keywordtype}{bool}\ oneline)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00292\ \ \ \ \ std::string\ ToDescriptionString(\textcolor{keywordtype}{bool}\ is\_named\_arg)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00293\ \};}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \textcolor{comment}{//\ NOLINTNEXTLINE(misc-\/no-\/recursion)}}
\DoxyCodeLine{00296\ \textcolor{keyword}{struct\ }RPCResult\ \{}
\DoxyCodeLine{00297\ \ \ \ \ \textcolor{keyword}{enum\ class}\ Type\ \{}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ OBJ,}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ ARR,}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ STR,}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ NUM,}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ BOOL,}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ NONE,}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ ANY,\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ STR\_AMOUNT,\ }
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ STR\_HEX,\ \ \ \ }
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ OBJ\_DYN,\ \ \ \ }
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ ARR\_FIXED,\ \ }
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ NUM\_TIME,\ \ \ }
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ ELISION,\ \ \ \ }
\DoxyCodeLine{00311\ \ \ \ \ \};}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{keyword}{const}\ Type\ m\_type;}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ m\_key\_name;\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<RPCResult>\ m\_inner;\ }
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ m\_optional;}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ m\_skip\_type\_check;}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ m\_description;}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ m\_cond;}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \ \ RPCResult(}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ std::string\ cond,}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ Type\ type,}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ std::string\ m\_key\_name,}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ optional,}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ std::string\ description,}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ std::vector<RPCResult>\ inner\ =\ \{\})}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ :\ m\_type\{std::move(type)\},}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ m\_key\_name\{std::move(m\_key\_name)\},}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ m\_inner\{std::move(inner)\},}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ m\_optional\{optional\},}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ m\_skip\_type\_check\{false\},}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ m\_description\{std::move(description)\},}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ m\_cond\{std::move(cond)\}}
\DoxyCodeLine{00335\ \ \ \ \ \{}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ CHECK\_NONFATAL(!m\_cond.empty());}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ CheckInnerDoc();}
\DoxyCodeLine{00338\ \ \ \ \ \}}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \ \ \ \ RPCResult(}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ std::string\ cond,}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ Type\ type,}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ std::string\ m\_key\_name,}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ std::string\ description,}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ std::vector<RPCResult>\ inner\ =\ \{\})}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ :\ RPCResult\{std::move(cond),\ type,\ std::move(m\_key\_name),\ \textcolor{comment}{/*optional=*/}false,\ std::move(description),\ std::move(inner)\}\ \{\}}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \ \ \ \ RPCResult(}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ Type\ type,}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ std::string\ m\_key\_name,}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ optional,}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ std::string\ description,}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ std::vector<RPCResult>\ inner\ =\ \{\},}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ skip\_type\_check\ =\ \textcolor{keyword}{false})}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ :\ m\_type\{std::move(type)\},}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ m\_key\_name\{std::move(m\_key\_name)\},}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ m\_inner\{std::move(inner)\},}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ m\_optional\{optional\},}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ m\_skip\_type\_check\{skip\_type\_check\},}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ m\_description\{std::move(description)\},}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ m\_cond\{\}}
\DoxyCodeLine{00362\ \ \ \ \ \{}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ CheckInnerDoc();}
\DoxyCodeLine{00364\ \ \ \ \ \}}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \ \ \ \ RPCResult(}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ Type\ type,}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ std::string\ m\_key\_name,}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ std::string\ description,}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ std::vector<RPCResult>\ inner\ =\ \{\},}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ skip\_type\_check\ =\ \textcolor{keyword}{false})}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ :\ RPCResult\{type,\ std::move(m\_key\_name),\ \textcolor{comment}{/*optional=*/}false,\ std::move(description),\ std::move(inner),\ skip\_type\_check\}\ \{\}}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{keywordtype}{void}\ ToSections(Sections\&\ sections,\ OuterType\ outer\_type\ =\ OuterType::NONE,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ current\_indent\ =\ 0)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00377\ \ \ \ \ std::string\ ToStringObj()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00379\ \ \ \ \ std::string\ ToDescriptionString()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00383\ \ \ \ \ UniValue\ MatchesType(\textcolor{keyword}{const}\ UniValue\&\ result)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordtype}{void}\ CheckInnerDoc()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00387\ \};}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \textcolor{keyword}{struct\ }RPCResults\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<RPCResult>\ m\_results;}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \ \ \ \ RPCResults(RPCResult\ result)}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ :\ m\_results\{\{result\}\}}
\DoxyCodeLine{00394\ \ \ \ \ \{}
\DoxyCodeLine{00395\ \ \ \ \ \}}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \ \ \ \ RPCResults(std::initializer\_list<RPCResult>\ results)}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ :\ m\_results\{results\}}
\DoxyCodeLine{00399\ \ \ \ \ \{}
\DoxyCodeLine{00400\ \ \ \ \ \}}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00405\ \ \ \ \ std::string\ ToDescriptionString()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00406\ \};}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \textcolor{keyword}{struct\ }RPCExamples\ \{}
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ m\_examples;}
\DoxyCodeLine{00410\ \ \ \ \ \textcolor{keyword}{explicit}\ RPCExamples(}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ std::string\ examples)}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ :\ m\_examples(std::move(examples))}
\DoxyCodeLine{00413\ \ \ \ \ \{}
\DoxyCodeLine{00414\ \ \ \ \ \}}
\DoxyCodeLine{00415\ \ \ \ \ std::string\ ToDescriptionString()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00416\ \};}
\DoxyCodeLine{00417\ }
\DoxyCodeLine{00418\ \textcolor{keyword}{class\ }RPCHelpMan}
\DoxyCodeLine{00419\ \{}
\DoxyCodeLine{00420\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00421\ \ \ \ \ RPCHelpMan(std::string\ name,\ std::string\ description,\ std::vector<RPCArg>\ args,\ RPCResults\ results,\ RPCExamples\ examples);}
\DoxyCodeLine{00422\ \ \ \ \ \textcolor{keyword}{using\ }RPCMethodImpl\ =\ std::function<UniValue(\textcolor{keyword}{const}\ RPCHelpMan\&,\ \textcolor{keyword}{const}\ JSONRPCRequest\&)>;}
\DoxyCodeLine{00423\ \ \ \ \ RPCHelpMan(std::string\ name,\ std::string\ description,\ std::vector<RPCArg>\ args,\ RPCResults\ results,\ RPCExamples\ examples,\ RPCMethodImpl\ fun);}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \ \ UniValue\ HandleRequest(\textcolor{keyword}{const}\ JSONRPCRequest\&\ request)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00443\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ R>}
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{keyword}{auto}\ Arg(std::string\_view\ key)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00445\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ i\{GetParamIndex(key)\};}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ argument\ (required\ or\ with\ default\ value).}}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_trivially\_copyable\_v<R>)\ \{}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ trivially\ copyable\ types\ by\ value.}}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ArgValue<R>(i);}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ everything\ else\ by\ reference.}}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ArgValue<const\ R\&>(i);}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00455\ \ \ \ \ \}}
\DoxyCodeLine{00475\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ R>}
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{keyword}{auto}\ MaybeArg(std::string\_view\ key)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00477\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ i\{GetParamIndex(key)\};}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ optional\ argument\ (without\ default).}}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_trivially\_copyable\_v<R>)\ \{}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ trivially\ copyable\ types\ by\ value,\ wrapped\ in\ optional.}}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ArgValue<std::optional<R>>(i);}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ other\ types\ by\ pointer.}}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ArgValue<const\ R*>(i);}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00487\ \ \ \ \ \}}
\DoxyCodeLine{00488\ \ \ \ \ std::string\ ToString()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00490\ \ \ \ \ UniValue\ GetArgMap()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00492\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsValidNumArgs(\textcolor{keywordtype}{size\_t}\ num\_args)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00494\ \ \ \ \ std::vector<std::pair<std::string,\ bool>>\ GetArgNames()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ m\_name;}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00499\ \ \ \ \ \textcolor{keyword}{const}\ RPCMethodImpl\ m\_fun;}
\DoxyCodeLine{00500\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ m\_description;}
\DoxyCodeLine{00501\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<RPCArg>\ m\_args;}
\DoxyCodeLine{00502\ \ \ \ \ \textcolor{keyword}{const}\ RPCResults\ m\_results;}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{keyword}{const}\ RPCExamples\ m\_examples;}
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{keyword}{mutable}\ \textcolor{keyword}{const}\ JSONRPCRequest*\ m\_req\{\textcolor{keyword}{nullptr}\};\ \textcolor{comment}{//\ A\ pointer\ to\ the\ request\ for\ the\ duration\ of\ m\_fun()}}
\DoxyCodeLine{00505\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ R>}
\DoxyCodeLine{00506\ \ \ \ \ R\ ArgValue(\textcolor{keywordtype}{size\_t}\ i)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ GetParamIndex(std::string\_view\ key)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00509\ \};}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00517\ \textcolor{keywordtype}{void}\ PushWarnings(\textcolor{keyword}{const}\ UniValue\&\ warnings,\ UniValue\&\ obj);}
\DoxyCodeLine{00518\ \textcolor{keywordtype}{void}\ PushWarnings(\textcolor{keyword}{const}\ std::vector<bilingual\_str>\&\ warnings,\ UniValue\&\ obj);}
\DoxyCodeLine{00519\ }
\DoxyCodeLine{00520\ std::vector<RPCResult>\ ScriptPubKeyDoc();}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00522\ \textcolor{comment}{/***}}
\DoxyCodeLine{00523\ \textcolor{comment}{\ *\ Get\ the\ target\ for\ a\ given\ block\ index.}}
\DoxyCodeLine{00524\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00525\ \textcolor{comment}{\ *\ @param[in]\ blockindex\ \ \ \ the\ block}}
\DoxyCodeLine{00526\ \textcolor{comment}{\ *\ @param[in]\ pow\_limit\ \ \ \ \ PoW\ limit\ (consensus\ parameter)}}
\DoxyCodeLine{00527\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00528\ \textcolor{comment}{\ *\ @return\ \ the\ target}}
\DoxyCodeLine{00529\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00530\ uint256\ GetTarget(\textcolor{keyword}{const}\ CBlockIndex\&\ blockindex,\ \textcolor{keyword}{const}\ uint256\ pow\_limit);}
\DoxyCodeLine{00531\ }
\DoxyCodeLine{00532\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ BITCOIN\_RPC\_UTIL\_H}}

\end{DoxyCode}
