\doxysection{src/common/signmessage.cpp File Reference}
\label{common_2signmessage_8cpp}\index{src/common/signmessage.cpp@{src/common/signmessage.cpp}}
{\ttfamily \#include $<$common/signmessage.\+h$>$}\newline
{\ttfamily \#include $<$hash.\+h$>$}\newline
{\ttfamily \#include $<$key.\+h$>$}\newline
{\ttfamily \#include $<$key\+\_\+io.\+h$>$}\newline
{\ttfamily \#include $<$pubkey.\+h$>$}\newline
{\ttfamily \#include $<$uint256.\+h$>$}\newline
{\ttfamily \#include $<$util/strencodings.\+h$>$}\newline
{\ttfamily \#include $<$cassert$>$}\newline
{\ttfamily \#include $<$optional$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$variant$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Message\+Verification\+Result} \textbf{ Message\+Verify} (const std\+::string \&address, const std\+::string \&signature, const std\+::string \&message)
\item 
bool \textbf{ Message\+Sign} (const \textbf{ CKey} \&privkey, const std\+::string \&message, std\+::string \&signature)
\item 
\textbf{ uint256} \textbf{ Message\+Hash} (const std\+::string \&message)
\item 
std\+::string \textbf{ Signing\+Result\+String} (const \textbf{ Signing\+Result} res)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const std\+::string \textbf{ MESSAGE\+\_\+\+MAGIC} = "{}Bitcoin Signed Message\+:\textbackslash{}n"{}
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{signmessage.cpp@{signmessage.cpp}!MessageHash@{MessageHash}}
\index{MessageHash@{MessageHash}!signmessage.cpp@{signmessage.cpp}}
\doxysubsubsection{MessageHash()}
{\footnotesize\ttfamily \label{common_2signmessage_8cpp_a1e46bfaa3d4a60127bc3567500ab33e0} 
\textbf{ uint256} Message\+Hash (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{message}{}\end{DoxyParamCaption})}

Hashes a message for signing and verification in a manner that prevents inadvertently signing a transaction. \index{signmessage.cpp@{signmessage.cpp}!MessageSign@{MessageSign}}
\index{MessageSign@{MessageSign}!signmessage.cpp@{signmessage.cpp}}
\doxysubsubsection{MessageSign()}
{\footnotesize\ttfamily \label{common_2signmessage_8cpp_a8f468cc4ed9c26654965d4725ca2328c} 
bool Message\+Sign (\begin{DoxyParamCaption}\item[{const \textbf{ CKey} \&}]{privkey}{, }\item[{const std\+::string \&}]{message}{, }\item[{std\+::string \&}]{signature}{}\end{DoxyParamCaption})}

Sign a message. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em privkey} & Private key to sign with. \\
\hline
\mbox{\texttt{in}}  & {\em message} & The message to sign. \\
\hline
\mbox{\texttt{out}}  & {\em signature} & Signature, base64 encoded, only set if true is returned. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if signing was successful. 
\end{DoxyReturn}
\index{signmessage.cpp@{signmessage.cpp}!MessageVerify@{MessageVerify}}
\index{MessageVerify@{MessageVerify}!signmessage.cpp@{signmessage.cpp}}
\doxysubsubsection{MessageVerify()}
{\footnotesize\ttfamily \label{common_2signmessage_8cpp_ae9b3748dda75a2b345247a4ecda4e411} 
\textbf{ Message\+Verification\+Result} Message\+Verify (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{address}{, }\item[{const std\+::string \&}]{signature}{, }\item[{const std\+::string \&}]{message}{}\end{DoxyParamCaption})}

Verify a signed message. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em address} & Signer\textquotesingle{}s bitcoin address, it must refer to a public key. \\
\hline
\mbox{\texttt{in}}  & {\em signature} & The signature in base64 format. \\
\hline
\mbox{\texttt{in}}  & {\em message} & The message that was signed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
result code 
\end{DoxyReturn}
\index{signmessage.cpp@{signmessage.cpp}!SigningResultString@{SigningResultString}}
\index{SigningResultString@{SigningResultString}!signmessage.cpp@{signmessage.cpp}}
\doxysubsubsection{SigningResultString()}
{\footnotesize\ttfamily \label{common_2signmessage_8cpp_ab31473fff0976e80fcd67166175c0c16} 
std\+::string Signing\+Result\+String (\begin{DoxyParamCaption}\item[{const \textbf{ Signing\+Result}}]{res}{}\end{DoxyParamCaption})}



\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{signmessage.cpp@{signmessage.cpp}!MESSAGE\_MAGIC@{MESSAGE\_MAGIC}}
\index{MESSAGE\_MAGIC@{MESSAGE\_MAGIC}!signmessage.cpp@{signmessage.cpp}}
\doxysubsubsection{MESSAGE\_MAGIC}
{\footnotesize\ttfamily \label{common_2signmessage_8cpp_aabee2cd4984433ed008727913d550262} 
const std\+::string MESSAGE\+\_\+\+MAGIC = "{}Bitcoin Signed Message\+:\textbackslash{}n"{}}

Text used to signify that a signed message follows and to prevent inadvertently signing a transaction. 