\doxysection{foo.\+h}
\label{foo_8h_source}\index{src/ipc/libmultiprocess/test/mp/test/foo.h@{src/ipc/libmultiprocess/test/mp/test/foo.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ The\ Bitcoin\ Core\ developers}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ software\ license,\ see\ the\ accompanying}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ file\ COPYING\ or\ http://www.opensource.org/licenses/mit-\/license.php.}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ MP\_TEST\_FOO\_H}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ MP\_TEST\_FOO\_H}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <cassert>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <set>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{namespace\ }mp\ \{}
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }test\ \{}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{struct\ }FooStruct}
\DoxyCodeLine{00020\ \{}
\DoxyCodeLine{00021\ \ \ \ \ std::string\ name;}
\DoxyCodeLine{00022\ \ \ \ \ std::set<int>\ setint;}
\DoxyCodeLine{00023\ \ \ \ \ std::vector<bool>\ vbool;}
\DoxyCodeLine{00024\ \};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{enum\ class}\ FooEnum\ :\ uint8\_t\ \{\ ONE\ =\ 1,\ TWO\ =\ 2,\ \};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{struct\ }FooCustom}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ \ \ \ \ std::string\ v1;}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordtype}{int}\ v2;}
\DoxyCodeLine{00032\ \};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{struct\ }FooEmpty}
\DoxyCodeLine{00035\ \{}
\DoxyCodeLine{00036\ \};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{struct\ }FooMessage}
\DoxyCodeLine{00039\ \{}
\DoxyCodeLine{00040\ \ \ \ \ std::string\ message;}
\DoxyCodeLine{00041\ \};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{struct\ }FooMutable}
\DoxyCodeLine{00044\ \{}
\DoxyCodeLine{00045\ \ \ \ \ std::string\ message;}
\DoxyCodeLine{00046\ \};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{keyword}{class\ }FooCallback}
\DoxyCodeLine{00049\ \{}
\DoxyCodeLine{00050\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~FooCallback()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ call(\textcolor{keywordtype}{int}\ arg)\ =\ 0;}
\DoxyCodeLine{00053\ \};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{keyword}{class\ }ExtendedCallback\ :\ \textcolor{keyword}{public}\ FooCallback}
\DoxyCodeLine{00056\ \{}
\DoxyCodeLine{00057\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ callExtended(\textcolor{keywordtype}{int}\ arg)\ =\ 0;}
\DoxyCodeLine{00059\ \};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \textcolor{keyword}{class\ }FooImplementation}
\DoxyCodeLine{00062\ \{}
\DoxyCodeLine{00063\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{int}\ add(\textcolor{keywordtype}{int}\ a,\ \textcolor{keywordtype}{int}\ b)\ \{\ \textcolor{keywordflow}{return}\ a\ +\ b;\ \}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{void}\ addOut(\textcolor{keywordtype}{int}\ a,\ \textcolor{keywordtype}{int}\ b,\ \textcolor{keywordtype}{int}\&\ out)\ \{\ out\ =\ a\ +\ b;\ \}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{void}\ addInOut(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\&\ sum)\ \{\ sum\ +=\ x;\ \}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{int}\ mapSize(\textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ map)\ \{\ \textcolor{keywordflow}{return}\ map.size();\ \}}
\DoxyCodeLine{00068\ \ \ \ \ FooStruct\ pass(FooStruct\ foo)\ \{\ \textcolor{keywordflow}{return}\ foo;\ \}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{void}\ raise(FooStruct\ foo)\ \{\ \textcolor{keywordflow}{throw}\ foo;\ \}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{void}\ initThreadMap()\ \{\}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{int}\ callback(FooCallback\&\ callback,\ \textcolor{keywordtype}{int}\ arg)\ \{\ \textcolor{keywordflow}{return}\ callback.call(arg);\ \}}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{int}\ callbackUnique(std::unique\_ptr<FooCallback>\ callback,\ \textcolor{keywordtype}{int}\ arg)\ \{\ \textcolor{keywordflow}{return}\ callback-\/>call(arg);\ \}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{int}\ callbackShared(std::shared\_ptr<FooCallback>\ callback,\ \textcolor{keywordtype}{int}\ arg)\ \{\ \textcolor{keywordflow}{return}\ callback-\/>call(arg);\ \}\ \textcolor{comment}{//\ NOLINT(performance-\/unnecessary-\/value-\/param)}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordtype}{void}\ saveCallback(std::shared\_ptr<FooCallback>\ callback)\ \{\ m\_callback\ =\ std::move(callback);\ \}}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{int}\ callbackSaved(\textcolor{keywordtype}{int}\ arg)\ \{\ \textcolor{keywordflow}{return}\ m\_callback-\/>call(arg);\ \}}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{int}\ callbackExtended(ExtendedCallback\&\ callback,\ \textcolor{keywordtype}{int}\ arg)\ \{\ \textcolor{keywordflow}{return}\ callback.callExtended(arg);\ \}}
\DoxyCodeLine{00077\ \ \ \ \ FooCustom\ passCustom(FooCustom\ foo)\ \{\ \textcolor{keywordflow}{return}\ foo;\ \}}
\DoxyCodeLine{00078\ \ \ \ \ FooEmpty\ passEmpty(FooEmpty\ foo)\ \{\ \textcolor{keywordflow}{return}\ foo;\ \}}
\DoxyCodeLine{00079\ \ \ \ \ FooMessage\ passMessage(FooMessage\ foo)\ \{\ foo.message\ +=\ \textcolor{stringliteral}{"{}\ call"{}};\ \textcolor{keywordflow}{return}\ foo;\ \}}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{void}\ passMutable(FooMutable\&\ foo)\ \{\ foo.message\ +=\ \textcolor{stringliteral}{"{}\ call"{}};\ \}}
\DoxyCodeLine{00081\ \ \ \ \ FooEnum\ passEnum(FooEnum\ foo)\ \{\ \textcolor{keywordflow}{return}\ foo;\ \}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{int}\ passFn(std::function<\textcolor{keywordtype}{int}()>\ fn)\ \{\ \textcolor{keywordflow}{return}\ fn();\ \}}
\DoxyCodeLine{00083\ \ \ \ \ std::shared\_ptr<FooCallback>\ m\_callback;}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ callFn()\ \{\ assert(m\_fn);\ m\_fn();\ \}}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ callFnAsync()\ \{\ assert(m\_fn);\ m\_fn();\ \}}
\DoxyCodeLine{00086\ \ \ \ \ std::function<void()>\ m\_fn;}
\DoxyCodeLine{00087\ \};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \}\ \textcolor{comment}{//\ namespace\ test}}
\DoxyCodeLine{00090\ \}\ \textcolor{comment}{//\ namespace\ mp}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ MP\_TEST\_FOO\_H}}

\end{DoxyCode}
