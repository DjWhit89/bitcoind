\doxysection{src/addrdb.h File Reference}
\label{addrdb_8h}\index{src/addrdb.h@{src/addrdb.h}}
{\ttfamily \#include $<$net\+\_\+types.\+h$>$}\newline
{\ttfamily \#include $<$util/fs.\+h$>$}\newline
{\ttfamily \#include $<$util/result.\+h$>$}\newline
{\ttfamily \#include $<$memory$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \textbf{ CBan\+DB}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ Read\+From\+Stream} (\textbf{ Addr\+Man} \&addr, \textbf{ Data\+Stream} \&ss\+Peers)
\item 
bool \textbf{ Dump\+Peer\+Addresses} (const \textbf{ Args\+Manager} \&\textbf{ args}, const \textbf{ Addr\+Man} \&addr)
\item 
\textbf{ util\+::\+Result}$<$ std\+::unique\+\_\+ptr$<$ \textbf{ Addr\+Man} $>$ $>$ \textbf{ Load\+Addrman} (const \textbf{ Net\+Group\+Manager} \&netgroupman, const \textbf{ Args\+Manager} \&\textbf{ args})
\item 
void \textbf{ Dump\+Anchors} (const \textbf{ fs\+::path} \&anchors\+\_\+db\+\_\+path, const std\+::vector$<$ \textbf{ CAddress} $>$ \&anchors)
\item 
std\+::vector$<$ \textbf{ CAddress} $>$ \textbf{ Read\+Anchors} (const \textbf{ fs\+::path} \&anchors\+\_\+db\+\_\+path)
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{addrdb.h@{addrdb.h}!DumpAnchors@{DumpAnchors}}
\index{DumpAnchors@{DumpAnchors}!addrdb.h@{addrdb.h}}
\doxysubsubsection{DumpAnchors()}
{\footnotesize\ttfamily \label{addrdb_8h_ab681d777d2080a8a4c8a77615284f26b} 
void Dump\+Anchors (\begin{DoxyParamCaption}\item[{const \textbf{ fs\+::path} \&}]{anchors\+\_\+db\+\_\+path}{, }\item[{const std\+::vector$<$ \textbf{ CAddress} $>$ \&}]{anchors}{}\end{DoxyParamCaption})}

Dump the anchor IP address database (anchors.\+dat)

Anchors are last known outgoing block-\/relay-\/only peers that are tried to re-\/connect to on startup. \index{addrdb.h@{addrdb.h}!DumpPeerAddresses@{DumpPeerAddresses}}
\index{DumpPeerAddresses@{DumpPeerAddresses}!addrdb.h@{addrdb.h}}
\doxysubsubsection{DumpPeerAddresses()}
{\footnotesize\ttfamily \label{addrdb_8h_a46b99d2cb8fc1cf9b90ce69865ba2c1b} 
bool Dump\+Peer\+Addresses (\begin{DoxyParamCaption}\item[{const \textbf{ Args\+Manager} \&}]{args}{, }\item[{const \textbf{ Addr\+Man} \&}]{addr}{}\end{DoxyParamCaption})}

\index{addrdb.h@{addrdb.h}!LoadAddrman@{LoadAddrman}}
\index{LoadAddrman@{LoadAddrman}!addrdb.h@{addrdb.h}}
\doxysubsubsection{LoadAddrman()}
{\footnotesize\ttfamily \label{addrdb_8h_a905ae35e03b9c0948edce984db148606} 
\textbf{ util\+::\+Result}$<$ std\+::unique\+\_\+ptr$<$ \textbf{ Addr\+Man} $>$ $>$ Load\+Addrman (\begin{DoxyParamCaption}\item[{const \textbf{ Net\+Group\+Manager} \&}]{netgroupman}{, }\item[{const \textbf{ Args\+Manager} \&}]{args}{}\end{DoxyParamCaption})}

Returns an error string on failure \index{addrdb.h@{addrdb.h}!ReadAnchors@{ReadAnchors}}
\index{ReadAnchors@{ReadAnchors}!addrdb.h@{addrdb.h}}
\doxysubsubsection{ReadAnchors()}
{\footnotesize\ttfamily \label{addrdb_8h_a8f6a25d4b23081f3cded969261584cd4} 
std\+::vector$<$ \textbf{ CAddress} $>$ Read\+Anchors (\begin{DoxyParamCaption}\item[{const \textbf{ fs\+::path} \&}]{anchors\+\_\+db\+\_\+path}{}\end{DoxyParamCaption})}

Read the anchor IP address database (anchors.\+dat)

Deleting anchors.\+dat is intentional as it avoids renewed peering to anchors after an unclean shutdown and thus potential exploitation of the anchor peer policy. \index{addrdb.h@{addrdb.h}!ReadFromStream@{ReadFromStream}}
\index{ReadFromStream@{ReadFromStream}!addrdb.h@{addrdb.h}}
\doxysubsubsection{ReadFromStream()}
{\footnotesize\ttfamily \label{addrdb_8h_aa539f8e72f1a85663d53a4856c2952a5} 
void Read\+From\+Stream (\begin{DoxyParamCaption}\item[{\textbf{ Addr\+Man} \&}]{addr}{, }\item[{\textbf{ Data\+Stream} \&}]{ss\+Peers}{}\end{DoxyParamCaption})}

Only used by tests. 