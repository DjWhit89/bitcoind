\doxysection{CDisk\+Block\+Index Class Reference}
\label{class_c_disk_block_index}\index{CDiskBlockIndex@{CDiskBlockIndex}}


{\ttfamily \#include $<$chain.\+h$>$}

Inheritance diagram for CDisk\+Block\+Index\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_c_disk_block_index}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ CDisk\+Block\+Index} ()
\item 
\textbf{ CDisk\+Block\+Index} (const \textbf{ CBlock\+Index} $\ast$pindex)
\item 
\textbf{ SERIALIZE\+\_\+\+METHODS} (\textbf{ CDisk\+Block\+Index}, obj)
\item 
\textbf{ uint256} \textbf{ Construct\+Block\+Hash} () const
\item 
\textbf{ uint256} \textbf{ Get\+Block\+Hash} ()=delete
\item 
std\+::string \textbf{ To\+String} ()=delete
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \textbf{ CBlock\+Index}}
\begin{DoxyCompactItemize}
\item 
int n\+File \textbf{ GUARDED\+\_\+\+BY} (\textbf{ \+::cs\+\_\+main})
\begin{DoxyCompactList}\small\item\em Which \# file this block is stored in (blk?????.dat). \end{DoxyCompactList}\item 
unsigned int n\+Data\+Pos \textbf{ GUARDED\+\_\+\+BY} (\textbf{ \+::cs\+\_\+main})
\begin{DoxyCompactList}\small\item\em Byte offset within blk?????.dat where this block\textquotesingle{}s data is stored. \end{DoxyCompactList}\item 
unsigned int n\+Undo\+Pos \textbf{ GUARDED\+\_\+\+BY} (\textbf{ \+::cs\+\_\+main})
\begin{DoxyCompactList}\small\item\em Byte offset within rev?????.dat where this block\textquotesingle{}s undo data is stored. \end{DoxyCompactList}\item 
uint32\+\_\+t n\+Status \textbf{ GUARDED\+\_\+\+BY} (\textbf{ \+::cs\+\_\+main})
\item 
\textbf{ CBlock\+Index} (const \textbf{ CBlock\+Header} \&block)
\item 
\textbf{ Flat\+File\+Pos} \textbf{ Get\+Block\+Pos} () const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(
\item 
\textbf{ Flat\+File\+Pos} \textbf{ Get\+Undo\+Pos} () const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(
\item 
\textbf{ CBlock\+Header} \textbf{ Get\+Block\+Header} () const
\item 
\textbf{ uint256} \textbf{ Get\+Block\+Hash} () const
\item 
bool \textbf{ Have\+Num\+Chain\+Txs} () const
\item 
\textbf{ Node\+Seconds} \textbf{ Time} () const
\item 
int64\+\_\+t \textbf{ Get\+Block\+Time} () const
\item 
int64\+\_\+t \textbf{ Get\+Block\+Time\+Max} () const
\item 
int64\+\_\+t \textbf{ Get\+Median\+Time\+Past} () const
\item 
std\+::string \textbf{ To\+String} () const
\item 
bool \textbf{ Is\+Valid} (enum \textbf{ Block\+Status} n\+Up\+To) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(
\begin{DoxyCompactList}\small\item\em Check whether this block index entry is valid up to the passed validity level. \end{DoxyCompactList}\item 
bool \textbf{ Raise\+Validity} (enum \textbf{ Block\+Status} n\+Up\+To) \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(
\item 
void \textbf{ Build\+Skip} ()
\begin{DoxyCompactList}\small\item\em Build the skiplist pointer for this entry. \end{DoxyCompactList}\item 
\textbf{ CBlock\+Index} $\ast$ \textbf{ Get\+Ancestor} (int height)
\begin{DoxyCompactList}\small\item\em Efficiently find an ancestor of this block. \end{DoxyCompactList}\item 
const \textbf{ CBlock\+Index} $\ast$ \textbf{ Get\+Ancestor} (int height) const
\item 
\textbf{ CBlock\+Index} ()=default
\item 
\textbf{ $\sim$\+CBlock\+Index} ()=default
\end{DoxyCompactItemize}
\doxysubsubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\textbf{ uint256} \textbf{ hash\+Prev}
\end{DoxyCompactItemize}
\doxysubsection*{Data Fields inherited from \textbf{ CBlock\+Index}}
\begin{DoxyCompactItemize}
\item 
const \textbf{ uint256} $\ast$ \textbf{ phash\+Block} \{nullptr\}
\begin{DoxyCompactList}\small\item\em pointer to the hash of the block, if any. Memory is owned by this \doxyref{CBlock\+Index}{p.}{class_c_block_index} \end{DoxyCompactList}\item 
\textbf{ CBlock\+Index} $\ast$ \textbf{ pprev} \{nullptr\}
\begin{DoxyCompactList}\small\item\em pointer to the index of the predecessor of this block \end{DoxyCompactList}\item 
\textbf{ CBlock\+Index} $\ast$ \textbf{ pskip} \{nullptr\}
\begin{DoxyCompactList}\small\item\em pointer to the index of some further predecessor of this block \end{DoxyCompactList}\item 
int \textbf{ n\+Height} \{0\}
\begin{DoxyCompactList}\small\item\em height of the entry in the chain. The genesis block has height 0 \end{DoxyCompactList}\item 
\textbf{ arith\+\_\+uint256} \textbf{ n\+Chain\+Work} \{\}
\begin{DoxyCompactList}\small\item\em (memory only) Total amount of work (expected number of hashes) in the chain up to and including this block \end{DoxyCompactList}\item 
unsigned int \textbf{ n\+Tx} \{0\}
\item 
uint64\+\_\+t \textbf{ m\+\_\+chain\+\_\+tx\+\_\+count} \{0\}
\item 
int32\+\_\+t \textbf{ n\+Version} \{0\}
\begin{DoxyCompactList}\small\item\em block header \end{DoxyCompactList}\item 
\textbf{ uint256} \textbf{ hash\+Merkle\+Root} \{\}
\item 
uint32\+\_\+t \textbf{ n\+Time} \{0\}
\item 
uint32\+\_\+t \textbf{ n\+Bits} \{0\}
\item 
uint32\+\_\+t \textbf{ n\+Nonce} \{0\}
\item 
int32\+\_\+t \textbf{ n\+Sequence\+Id} \{SEQ\+\_\+\+ID\+\_\+\+INIT\+\_\+\+FROM\+\_\+\+DISK\}
\item 
unsigned int \textbf{ n\+Time\+Max} \{0\}
\begin{DoxyCompactList}\small\item\em (memory only) Maximum n\+Time in the chain up to and including this block. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Public Attributes inherited from \textbf{ CBlock\+Index}}
\begin{DoxyCompactItemize}
\item 
static constexpr int \textbf{ n\+Median\+Time\+Span} = 11
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \textbf{ CBlock\+Index}}
\begin{DoxyCompactItemize}
\item 
\textbf{ CBlock\+Index} (const \textbf{ CBlock\+Index} \&)=default
\item 
\textbf{ CBlock\+Index} \& \textbf{ operator=} (const \textbf{ CBlock\+Index} \&)=delete
\item 
\textbf{ CBlock\+Index} (\textbf{ CBlock\+Index} \&\&)=delete
\item 
\textbf{ CBlock\+Index} \& \textbf{ operator=} (\textbf{ CBlock\+Index} \&\&)=delete
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Used to marshal pointers into hashes for db storage. 

\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{CDiskBlockIndex@{CDiskBlockIndex}!CDiskBlockIndex@{CDiskBlockIndex}}
\index{CDiskBlockIndex@{CDiskBlockIndex}!CDiskBlockIndex@{CDiskBlockIndex}}
\doxysubsubsection{CDiskBlockIndex()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{class_c_disk_block_index_a71a4d6260dabe93d8a050e045561988c} 
\textbf{ CDisk\+Block\+Index} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\index{CDiskBlockIndex@{CDiskBlockIndex}!CDiskBlockIndex@{CDiskBlockIndex}}
\index{CDiskBlockIndex@{CDiskBlockIndex}!CDiskBlockIndex@{CDiskBlockIndex}}
\doxysubsubsection{CDiskBlockIndex()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{class_c_disk_block_index_ab9ca09d5f03c9242b063195fbf07bde0} 
\textbf{ CDisk\+Block\+Index} (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} $\ast$}]{pindex}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{CDiskBlockIndex@{CDiskBlockIndex}!ConstructBlockHash@{ConstructBlockHash}}
\index{ConstructBlockHash@{ConstructBlockHash}!CDiskBlockIndex@{CDiskBlockIndex}}
\doxysubsubsection{ConstructBlockHash()}
{\footnotesize\ttfamily \label{class_c_disk_block_index_a9fddcff87bbdfcb770c690c26c34f4dc} 
\textbf{ uint256} Construct\+Block\+Hash (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\index{CDiskBlockIndex@{CDiskBlockIndex}!GetBlockHash@{GetBlockHash}}
\index{GetBlockHash@{GetBlockHash}!CDiskBlockIndex@{CDiskBlockIndex}}
\doxysubsubsection{GetBlockHash()}
{\footnotesize\ttfamily \label{class_c_disk_block_index_a3c905c2c112e136c708156a4fea26908} 
\textbf{ uint256} Get\+Block\+Hash (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\index{CDiskBlockIndex@{CDiskBlockIndex}!SERIALIZE\_METHODS@{SERIALIZE\_METHODS}}
\index{SERIALIZE\_METHODS@{SERIALIZE\_METHODS}!CDiskBlockIndex@{CDiskBlockIndex}}
\doxysubsubsection{SERIALIZE\_METHODS()}
{\footnotesize\ttfamily \label{class_c_disk_block_index_a1cbdec3f99430a8f024884c8e454941c} 
SERIALIZE\+\_\+\+METHODS (\begin{DoxyParamCaption}\item[{\textbf{ CDisk\+Block\+Index}}]{}{, }\item[{obj}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\index{CDiskBlockIndex@{CDiskBlockIndex}!ToString@{ToString}}
\index{ToString@{ToString}!CDiskBlockIndex@{CDiskBlockIndex}}
\doxysubsubsection{ToString()}
{\footnotesize\ttfamily \label{class_c_disk_block_index_afc9e6e4a31b8af63d5be4d1d53aff338} 
std\+::string To\+String (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\label{doc-variable-members}
\doxysubsection{Field Documentation}
\index{CDiskBlockIndex@{CDiskBlockIndex}!hashPrev@{hashPrev}}
\index{hashPrev@{hashPrev}!CDiskBlockIndex@{CDiskBlockIndex}}
\doxysubsubsection{hashPrev}
{\footnotesize\ttfamily \label{class_c_disk_block_index_a67559d798b647a6fadedd24fe9c88584} 
\textbf{ uint256} hash\+Prev}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\textbf{ chain.\+h}\end{DoxyCompactItemize}
