\doxysection{rpcconsole.\+h}
\label{rpcconsole_8h_source}\index{src/qt/rpcconsole.h@{src/qt/rpcconsole.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2011-\/present\ The\ Bitcoin\ Core\ developers}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ software\ license,\ see\ the\ accompanying}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ file\ COPYING\ or\ http://www.opensource.org/licenses/mit-\/license.php.}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ BITCOIN\_QT\_RPCCONSOLE\_H}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ BITCOIN\_QT\_RPCCONSOLE\_H}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <bitcoin-\/build-\/config.h>}\ \textcolor{comment}{//\ IWYU\ pragma:\ keep}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <qt/clientmodel.h>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <qt/guiutil.h>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <qt/peertablemodel.h>}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <net.h>}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <QByteArray>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <QCompleter>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <QMimeData>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <QTextDocumentFragment>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <QTextEdit>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <QThread>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <QWidget>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{class\ }PlatformStyle;}
\DoxyCodeLine{00025\ \textcolor{keyword}{class\ }RPCExecutor;}
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }WalletModel;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }interfaces\ \{}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keyword}{class\ }Node;}
\DoxyCodeLine{00030\ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{namespace\ }Ui\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{class\ }RPCConsole;}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ QT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00037\ \textcolor{keyword}{class\ }QDateTime;}
\DoxyCodeLine{00038\ \textcolor{keyword}{class\ }QMenu;}
\DoxyCodeLine{00039\ \textcolor{keyword}{class\ }QItemSelection;}
\DoxyCodeLine{00040\ QT\_END\_NAMESPACE}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{class\ }RPCConsole:\ \textcolor{keyword}{public}\ QWidget}
\DoxyCodeLine{00044\ \{}
\DoxyCodeLine{00045\ \ \ \ \ Q\_OBJECT}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{explicit}\ RPCConsole(interfaces::Node\&\ node,\ \textcolor{keyword}{const}\ PlatformStyle\ *platformStyle,\ QWidget\ *parent);}
\DoxyCodeLine{00049\ \ \ \ \ \string~RPCConsole();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ RPCParseCommandLine(interfaces::Node*\ node,\ std::string\ \&strResult,\ \textcolor{keyword}{const}\ std::string\ \&strCommand,\ \textcolor{keywordtype}{bool}\ fExecute,\ std::string\ *\ \textcolor{keyword}{const}\ pstrFilteredOut\ =\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{const}\ QString\&\ wallet\_name\ =\ \{\});}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ RPCExecuteCommandLine(interfaces::Node\&\ node,\ std::string\ \&strResult,\ \textcolor{keyword}{const}\ std::string\ \&strCommand,\ std::string\ *\ \textcolor{keyword}{const}\ pstrFilteredOut\ =\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{const}\ QString\&\ wallet\_name\ =\ \{\})\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ RPCParseCommandLine(\&node,\ strResult,\ strCommand,\ \textcolor{keyword}{true},\ pstrFilteredOut,\ wallet\_name);}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{void}\ setClientModel(ClientModel\ *model\ =\ \textcolor{keyword}{nullptr},\ \textcolor{keywordtype}{int}\ bestblock\_height\ =\ 0,\ int64\_t\ bestblock\_date\ =\ 0,\ \textcolor{keywordtype}{double}\ verification\_progress\ =\ 0.0);}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#ifdef\ ENABLE\_WALLET}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{void}\ addWallet(WalletModel*\ \textcolor{keyword}{const}\ walletModel);}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{void}\ removeWallet(WalletModel*\ \textcolor{keyword}{const}\ walletModel);}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ ENABLE\_WALLET}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{enum}\ MessageClass\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ MC\_ERROR,}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ MC\_DEBUG,}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ CMD\_REQUEST,}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ CMD\_REPLY,}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ CMD\_ERROR}
\DoxyCodeLine{00069\ \ \ \ \ \};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{enum\ class}\ TabTypes\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ INFO,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ CONSOLE,}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ GRAPH,}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ PEERS}
\DoxyCodeLine{00076\ \ \ \ \ \};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ std::vector<TabTypes>\ tabs()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{TabTypes::INFO,\ TabTypes::CONSOLE,\ TabTypes::GRAPH,\ TabTypes::PEERS\};\ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ QString\ tabTitle(TabTypes\ tab\_type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00081\ \ \ \ \ QKeySequence\ tabShortcut(TabTypes\ tab\_type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ eventFilter(QObject*\ obj,\ QEvent\ *event)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ keyPressEvent(QKeyEvent\ *)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{void}\ changeEvent(QEvent*\ e)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{keyword}{private}\ Q\_SLOTS:}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_lineEdit\_returnPressed();}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_tabWidget\_currentChanged(\textcolor{keywordtype}{int}\ index);}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_openDebugLogfileButton\_clicked();}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_sldGraphRange\_valueChanged(\textcolor{keywordtype}{int}\ value);}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{void}\ updateTrafficStats(quint64\ totalBytesIn,\ quint64\ totalBytesOut);}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{void}\ resizeEvent(QResizeEvent\ *event)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{void}\ showEvent(QShowEvent\ *event)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{void}\ hideEvent(QHideEvent\ *event)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{void}\ showPeersTableContextMenu(\textcolor{keyword}{const}\ QPoint\&\ point);}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{void}\ showBanTableContextMenu(\textcolor{keyword}{const}\ QPoint\&\ point);}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordtype}{void}\ showOrHideBanTableIfRequired();}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordtype}{void}\ clearSelectedNode();}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ updateDetailWidget();}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{keyword}{public}\ Q\_SLOTS:}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{void}\ clear(\textcolor{keywordtype}{bool}\ keep\_prompt\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{void}\ fontBigger();}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordtype}{void}\ fontSmaller();}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{void}\ setFontSize(\textcolor{keywordtype}{int}\ newSize);}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordtype}{void}\ message(\textcolor{keywordtype}{int}\ category,\ \textcolor{keyword}{const}\ QString\ \&msg)\ \{\ message(category,\ msg,\ \textcolor{keyword}{false});\ \}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{void}\ message(\textcolor{keywordtype}{int}\ category,\ \textcolor{keyword}{const}\ QString\ \&message,\ \textcolor{keywordtype}{bool}\ html);}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{void}\ setNumConnections(\textcolor{keywordtype}{int}\ count);}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{void}\ setNetworkActive(\textcolor{keywordtype}{bool}\ networkActive);}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordtype}{void}\ setNumBlocks(\textcolor{keywordtype}{int}\ count,\ \textcolor{keyword}{const}\ QDateTime\&\ blockDate,\ \textcolor{keywordtype}{double}\ nVerificationProgress,\ SyncType\ synctype);}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordtype}{void}\ setMempoolSize(\textcolor{keywordtype}{long}\ numberOfTxs,\ \textcolor{keywordtype}{size\_t}\ dynUsage,\ \textcolor{keywordtype}{size\_t}\ maxUsage);}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{void}\ browseHistory(\textcolor{keywordtype}{int}\ offset);}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{void}\ scrollToEnd();}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordtype}{void}\ disconnectSelectedNode();}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{void}\ banSelectedNode(\textcolor{keywordtype}{int}\ bantime);}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordtype}{void}\ unbanSelectedNode();}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordtype}{void}\ setTabFocus(\textcolor{keyword}{enum}\ TabTypes\ tabType);}
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#ifdef\ ENABLE\_WALLET}\textcolor{preprocessor}{}}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{void}\ setCurrentWallet(WalletModel*\ \textcolor{keyword}{const}\ wallet\_model);}
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ ENABLE\_WALLET}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keyword}{struct\ }TranslatedStrings\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ QString\ yes\{tr(\textcolor{stringliteral}{"{}Yes"{}})\},\ no\{tr(\textcolor{stringliteral}{"{}No"{}})\},\ to\{tr(\textcolor{stringliteral}{"{}To"{}})\},\ from\{tr(\textcolor{stringliteral}{"{}From"{}})\},}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ ban\_for\{tr(\textcolor{stringliteral}{"{}Ban\ for"{}})\},\ na\{tr(\textcolor{stringliteral}{"{}N/A"{}})\},\ unknown\{tr(\textcolor{stringliteral}{"{}Unknown"{}})\};}
\DoxyCodeLine{00148\ \ \ \ \ \}\ \textcolor{keyword}{const}\ ts;}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{void}\ startExecutor();}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{void}\ setTrafficGraphRange(\textcolor{keywordtype}{int}\ mins);}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keyword}{enum}\ ColumnWidths}
\DoxyCodeLine{00154\ \ \ \ \ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ ADDRESS\_COLUMN\_WIDTH\ =\ 200,}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ SUBVERSION\_COLUMN\_WIDTH\ =\ 150,}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ PING\_COLUMN\_WIDTH\ =\ 80,}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ BANSUBNET\_COLUMN\_WIDTH\ =\ 200,}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ BANTIME\_COLUMN\_WIDTH\ =\ 250}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \};}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ interfaces::Node\&\ m\_node;}
\DoxyCodeLine{00164\ \ \ \ \ Ui::RPCConsole*\ \textcolor{keyword}{const}\ ui;}
\DoxyCodeLine{00165\ \ \ \ \ ClientModel\ *clientModel\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00166\ \ \ \ \ QStringList\ history;}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{int}\ historyPtr\ =\ 0;}
\DoxyCodeLine{00168\ \ \ \ \ QString\ cmdBeforeBrowsing;}
\DoxyCodeLine{00169\ \ \ \ \ QList<NodeId>\ cachedNodeids;}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keyword}{const}\ PlatformStyle*\ \textcolor{keyword}{const}\ platformStyle;}
\DoxyCodeLine{00171\ \ \ \ \ QMenu\ *peersTableContextMenu\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00172\ \ \ \ \ QMenu\ *banTableContextMenu\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordtype}{int}\ consoleFontSize\ =\ 0;}
\DoxyCodeLine{00174\ \ \ \ \ QCompleter\ *autoCompleter\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00175\ \ \ \ \ QThread\ thread;}
\DoxyCodeLine{00176\ \ \ \ \ RPCExecutor*\ m\_executor\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00177\ \ \ \ \ WalletModel*\ m\_last\_wallet\_model\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_is\_executing\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00179\ \ \ \ \ QByteArray\ m\_peer\_widget\_header\_state;}
\DoxyCodeLine{00180\ \ \ \ \ QByteArray\ m\_banlist\_widget\_header\_state;}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{void}\ updateNetworkState();}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00186\ \ \ \ \ QString\ TimeDurationField(std::chrono::seconds\ time\_now,\ std::chrono::seconds\ time\_at\_event)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00187\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ time\_at\_event.count()\ ?\ GUIUtil::formatDurationStr(time\_now\ -\/\ time\_at\_event)\ :\ tr(\textcolor{stringliteral}{"{}Never"{}});}
\DoxyCodeLine{00189\ \ \ \ \ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordtype}{void}\ updateWindowTitle();}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \textcolor{keyword}{private}\ Q\_SLOTS:}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordtype}{void}\ updateAlerts(\textcolor{keyword}{const}\ QString\&\ warnings);}
\DoxyCodeLine{00195\ \};}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00201\ \textcolor{keyword}{class\ }PlainCopyTextEdit\ :\ \textcolor{keyword}{public}\ QTextEdit\ \{}
\DoxyCodeLine{00202\ \ \ \ \ Q\_OBJECT}
\DoxyCodeLine{00203\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keyword}{using\ }QTextEdit::QTextEdit;}
\DoxyCodeLine{00205\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00206\ \ \ \ \ QMimeData*\ createMimeDataFromSelection()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ md\ =\ \textcolor{keyword}{new}\ QMimeData();}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ md-\/>setText(textCursor().selection().toPlainText());}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ md;}
\DoxyCodeLine{00210\ \ \ \ \ \}}
\DoxyCodeLine{00211\ \};}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ BITCOIN\_QT\_RPCCONSOLE\_H}}

\end{DoxyCode}
