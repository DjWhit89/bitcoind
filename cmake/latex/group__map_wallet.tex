\doxysection{Map\+Wallet }
\label{group__map_wallet}\index{MapWallet@{MapWallet}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
const \textbf{ CWallet\+Tx} $\ast$ \textbf{ Get\+Wallet\+Tx} (const \textbf{ Txid} \&hash) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
void \textbf{ Upgrade\+Descriptor\+Cache} () \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\begin{DoxyCompactList}\small\item\em Upgrade Descriptor\+Caches. \end{DoxyCompactList}\item 
bool \textbf{ Unlock} (const \textbf{ Secure\+String} \&str\+Wallet\+Passphrase)
\item 
bool \textbf{ Change\+Wallet\+Passphrase} (const \textbf{ Secure\+String} \&str\+Old\+Wallet\+Passphrase, const \textbf{ Secure\+String} \&str\+New\+Wallet\+Passphrase)
\item 
void \textbf{ Set\+Last\+Block\+Processed} (int block\+\_\+height, \textbf{ uint256} block\+\_\+hash) \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
std\+::set$<$ \textbf{ Txid} $>$ \textbf{ Get\+Conflicts} (const \textbf{ Txid} \&txid) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\begin{DoxyCompactList}\small\item\em Get wallet transactions that conflict with given transaction (spend same outputs). \end{DoxyCompactList}\item 
bool \textbf{ Has\+Wallet\+Spend} (const \textbf{ CTransaction\+Ref} \&tx) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\begin{DoxyCompactList}\small\item\em Check if a given transaction has any of its outputs spent by another transaction in the wallet. \end{DoxyCompactList}\item 
void \textbf{ Close} ()
\begin{DoxyCompactList}\small\item\em Close wallet database. \end{DoxyCompactList}\item 
bool \textbf{ Is\+Spent} (const \textbf{ COut\+Point} \&outpoint) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Encrypt\+Wallet} (const \textbf{ Secure\+String} \&str\+Wallet\+Passphrase)
\item 
\textbf{ DBErrors} \textbf{ Reorder\+Transactions} ()
\item 
int64\+\_\+t \textbf{ Inc\+Order\+Pos\+Next} (\textbf{ Wallet\+Batch} $\ast$batch=nullptr) \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
void \textbf{ Mark\+Dirty} ()
\item 
bool \textbf{ Mark\+Replaced} (const \textbf{ Txid} \&original\+Hash, const \textbf{ Txid} \&new\+Hash)
\item 
void \textbf{ Set\+Spent\+Key\+State} (\textbf{ Wallet\+Batch} \&batch, const \textbf{ Txid} \&hash, unsigned int n, bool used, std\+::set$<$ \textbf{ CTx\+Destination} $>$ \&tx\+\_\+destinations) \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Is\+Spent\+Key} (const \textbf{ CScript} \&script\+Pub\+Key) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
\textbf{ CWallet\+Tx} $\ast$ \textbf{ Add\+To\+Wallet} (\textbf{ CTransaction\+Ref} tx, const \textbf{ Tx\+State} \&state, const \textbf{ Update\+Wallet\+Tx\+Fn} \&update\+\_\+wtx=nullptr, bool rescanning\+\_\+old\+\_\+block=false)
\item 
bool \textbf{ Load\+To\+Wallet} (const \textbf{ Txid} \&hash, const \textbf{ Update\+Wallet\+Tx\+Fn} \&fill\+\_\+wtx) \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Transaction\+Can\+Be\+Abandoned} (const \textbf{ Txid} \&hash\+Tx) const
\item 
bool \textbf{ Abandon\+Transaction} (const \textbf{ Txid} \&hash\+Tx)
\item 
bool \textbf{ Abandon\+Transaction} (\textbf{ CWallet\+Tx} \&tx) \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
void \textbf{ transaction\+Added\+To\+Mempool} (const \textbf{ CTransaction\+Ref} \&tx) override
\item 
void \textbf{ transaction\+Removed\+From\+Mempool} (const \textbf{ CTransaction\+Ref} \&tx, \textbf{ Mem\+Pool\+Removal\+Reason} reason) override
\item 
void \textbf{ block\+Connected} (const \textbf{ kernel\+::\+Chainstate\+Role} \&role, const \textbf{ interfaces\+::\+Block\+Info} \&block) override
\item 
void \textbf{ block\+Disconnected} (const \textbf{ interfaces\+::\+Block\+Info} \&block) override
\item 
void \textbf{ updated\+Block\+Tip} () override
\item 
\textbf{ CAmount} \textbf{ Get\+Debit} (const \textbf{ CTx\+In} \&txin) const
\item 
bool \textbf{ Is\+Mine} (const \textbf{ CTx\+Out} \&txout) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Is\+Mine} (const \textbf{ CTx\+Destination} \&dest) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Is\+Mine} (const \textbf{ CScript} \&\textbf{ script}) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Is\+Mine} (const \textbf{ CTransaction} \&tx) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Is\+Mine} (const \textbf{ COut\+Point} \&outpoint) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Is\+From\+Me} (const \textbf{ CTransaction} \&tx) const
\item 
\textbf{ CAmount} \textbf{ Get\+Debit} (const \textbf{ CTransaction} \&tx) const
\item 
bool \textbf{ Is\+HDEnabled} () const
\item 
bool \textbf{ Can\+Get\+Addresses} (bool internal=false) const
\item 
void Block\+Until\+Synced\+To\+Current\+Chain() const \textbf{ LOCKS\+\_\+\+EXCLUDED}(void \textbf{ Set\+Wallet\+Flag} (uint64\+\_\+t \textbf{ flags})
\item 
void \textbf{ Unset\+Wallet\+Flag} (uint64\+\_\+t flag)
\item 
bool \textbf{ Is\+Wallet\+Flag\+Set} (uint64\+\_\+t flag) const override
\item 
bool \textbf{ Load\+Wallet\+Flags} (uint64\+\_\+t \textbf{ flags})
\item 
void \textbf{ Init\+Wallet\+Flags} (uint64\+\_\+t \textbf{ flags})
\item 
uint64\+\_\+t \textbf{ Get\+Wallet\+Flags} () const
\begin{DoxyCompactList}\small\item\em Retrieve all of the wallet\textquotesingle{}s flags. \end{DoxyCompactList}\item 
void \textbf{ Maybe\+Update\+Birth\+Time} (int64\+\_\+t time)
\item 
int64\+\_\+t \textbf{ Rescan\+From\+Time} (int64\+\_\+t start\+Time, const \textbf{ Wallet\+Rescan\+Reserver} \&reserver, bool update)
\item 
\textbf{ Scan\+Result} \textbf{ Scan\+For\+Wallet\+Transactions} (const \textbf{ uint256} \&start\+\_\+block, int start\+\_\+height, std\+::optional$<$ int $>$ max\+\_\+height, const \textbf{ Wallet\+Rescan\+Reserver} \&reserver, bool f\+Update, const bool save\+\_\+progress)
\item 
bool \textbf{ Submit\+Tx\+Memory\+Pool\+And\+Relay} (\textbf{ CWallet\+Tx} \&wtx, std\+::string \&err\+\_\+string, \textbf{ node\+::\+Tx\+Broadcast} broadcast\+\_\+method) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
std\+::set$<$ \textbf{ Txid} $>$ \textbf{ Get\+Tx\+Conflicts} (const \textbf{ CWallet\+Tx} \&wtx) const \textbf{ EXCLUSIVE\+\_\+\+LOCKS\+\_\+\+REQUIRED}(\textbf{ cs\+\_\+wallet})
\item 
bool \textbf{ Should\+Resend} () const
\item 
void \textbf{ Resubmit\+Wallet\+Transactions} (\textbf{ node\+::\+Tx\+Broadcast} broadcast\+\_\+method, bool force)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{MapWallet@{MapWallet}!AbandonTransaction@{AbandonTransaction}}
\index{AbandonTransaction@{AbandonTransaction}!MapWallet@{MapWallet}}
\doxysubsubsection{AbandonTransaction()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{group__map_wallet_ga00c2954a6b23c1f3d347a172ac410983} 
bool Abandon\+Transaction (\begin{DoxyParamCaption}\item[{const \textbf{ Txid} \&}]{hash\+Tx}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!AbandonTransaction@{AbandonTransaction}}
\index{AbandonTransaction@{AbandonTransaction}!MapWallet@{MapWallet}}
\doxysubsubsection{AbandonTransaction()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{group__map_wallet_ga39c108e9048c9ae986b11577c1de79a1} 
bool Abandon\+Transaction (\begin{DoxyParamCaption}\item[{\textbf{ CWallet\+Tx} \&}]{tx}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!AddToWallet@{AddToWallet}}
\index{AddToWallet@{AddToWallet}!MapWallet@{MapWallet}}
\doxysubsubsection{AddToWallet()}
{\footnotesize\ttfamily \label{group__map_wallet_ga57ed6eb2716d8ec0b853e96e4ae3ace0} 
\textbf{ CWallet\+Tx} $\ast$ Add\+To\+Wallet (\begin{DoxyParamCaption}\item[{\textbf{ CTransaction\+Ref}}]{tx}{, }\item[{const \textbf{ Tx\+State} \&}]{state}{, }\item[{const \textbf{ Update\+Wallet\+Tx\+Fn} \&}]{update\+\_\+wtx}{ = {\ttfamily nullptr}, }\item[{bool}]{rescanning\+\_\+old\+\_\+block}{ = {\ttfamily false}}\end{DoxyParamCaption})}

Add the transaction to the wallet, wrapping it up inside a \doxyref{CWallet\+Tx}{p.}{classwallet_1_1_c_wallet_tx} \begin{DoxyReturn}{Returns}
the recently added wtx pointer or nullptr if there was a db write error. 
\end{DoxyReturn}
\index{MapWallet@{MapWallet}!blockConnected@{blockConnected}}
\index{blockConnected@{blockConnected}!MapWallet@{MapWallet}}
\doxysubsubsection{blockConnected()}
{\footnotesize\ttfamily \label{group__map_wallet_gaaf84f2db1945a7c2339ecd46e842df10} 
void block\+Connected (\begin{DoxyParamCaption}\item[{const \textbf{ kernel\+::\+Chainstate\+Role} \&}]{role}{, }\item[{const \textbf{ interfaces\+::\+Block\+Info} \&}]{block}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \textbf{ Chain\+::\+Notifications} \doxyref{}{p.}{classinterfaces_1_1_chain_1_1_notifications_a9174ff907a672747f8bc8f867b837f2e}.

\index{MapWallet@{MapWallet}!blockDisconnected@{blockDisconnected}}
\index{blockDisconnected@{blockDisconnected}!MapWallet@{MapWallet}}
\doxysubsubsection{blockDisconnected()}
{\footnotesize\ttfamily \label{group__map_wallet_ga8560d51f2be13b7d82f5aa5e8a49d0b4} 
void block\+Disconnected (\begin{DoxyParamCaption}\item[{const \textbf{ interfaces\+::\+Block\+Info} \&}]{block}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \textbf{ Chain\+::\+Notifications} \doxyref{}{p.}{classinterfaces_1_1_chain_1_1_notifications_a6e018f6d85eb8e3efab6a1bb0d0c14ec}.

\index{MapWallet@{MapWallet}!CanGetAddresses@{CanGetAddresses}}
\index{CanGetAddresses@{CanGetAddresses}!MapWallet@{MapWallet}}
\doxysubsubsection{CanGetAddresses()}
{\footnotesize\ttfamily \label{group__map_wallet_gac9b895fb2f90a824e6e68f4b1fb8b62e} 
bool Can\+Get\+Addresses (\begin{DoxyParamCaption}\item[{bool}]{internal}{ = {\ttfamily false}}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!ChangeWalletPassphrase@{ChangeWalletPassphrase}}
\index{ChangeWalletPassphrase@{ChangeWalletPassphrase}!MapWallet@{MapWallet}}
\doxysubsubsection{ChangeWalletPassphrase()}
{\footnotesize\ttfamily \label{group__map_wallet_ga11830015f759bb7404944eaa63ca0f0e} 
bool Change\+Wallet\+Passphrase (\begin{DoxyParamCaption}\item[{const \textbf{ Secure\+String} \&}]{str\+Old\+Wallet\+Passphrase}{, }\item[{const \textbf{ Secure\+String} \&}]{str\+New\+Wallet\+Passphrase}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!Close@{Close}}
\index{Close@{Close}!MapWallet@{MapWallet}}
\doxysubsubsection{Close()}
{\footnotesize\ttfamily \label{group__map_wallet_ga7f7a3199c392465d0767c6506c1af5b4} 
void Close (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Close wallet database. 

\index{MapWallet@{MapWallet}!EncryptWallet@{EncryptWallet}}
\index{EncryptWallet@{EncryptWallet}!MapWallet@{MapWallet}}
\doxysubsubsection{EncryptWallet()}
{\footnotesize\ttfamily \label{group__map_wallet_gaebe674ef6385f108412746e110e302c0} 
bool Encrypt\+Wallet (\begin{DoxyParamCaption}\item[{const \textbf{ Secure\+String} \&}]{str\+Wallet\+Passphrase}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!GetConflicts@{GetConflicts}}
\index{GetConflicts@{GetConflicts}!MapWallet@{MapWallet}}
\doxysubsubsection{GetConflicts()}
{\footnotesize\ttfamily \label{group__map_wallet_gadf1464971a4c4b985ff3a3a50cd7bfe0} 
std\+::set$<$ \textbf{ Txid} $>$ Get\+Conflicts (\begin{DoxyParamCaption}\item[{const \textbf{ Txid} \&}]{txid}{}\end{DoxyParamCaption}) const}



Get wallet transactions that conflict with given transaction (spend same outputs). 

\index{MapWallet@{MapWallet}!GetDebit@{GetDebit}}
\index{GetDebit@{GetDebit}!MapWallet@{MapWallet}}
\doxysubsubsection{GetDebit()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{group__map_wallet_gaa5e467c040ee3aaec85f18dd8dbb2da1} 
\textbf{ CAmount} Get\+Debit (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction} \&}]{tx}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!GetDebit@{GetDebit}}
\index{GetDebit@{GetDebit}!MapWallet@{MapWallet}}
\doxysubsubsection{GetDebit()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{group__map_wallet_gad131fefcee12495ca01ac8c6665d0ff8} 
\textbf{ CAmount} Get\+Debit (\begin{DoxyParamCaption}\item[{const \textbf{ CTx\+In} \&}]{txin}{}\end{DoxyParamCaption}) const}

Returns amount of debit, i.\+e. the amount leaving this wallet due to this input \index{MapWallet@{MapWallet}!GetTxConflicts@{GetTxConflicts}}
\index{GetTxConflicts@{GetTxConflicts}!MapWallet@{MapWallet}}
\doxysubsubsection{GetTxConflicts()}
{\footnotesize\ttfamily \label{group__map_wallet_ga7b37d7c8b7f618b643dfdb4efcccc251} 
std\+::set$<$ \textbf{ Txid} $>$ Get\+Tx\+Conflicts (\begin{DoxyParamCaption}\item[{const \textbf{ CWallet\+Tx} \&}]{wtx}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!GetWalletFlags@{GetWalletFlags}}
\index{GetWalletFlags@{GetWalletFlags}!MapWallet@{MapWallet}}
\doxysubsubsection{GetWalletFlags()}
{\footnotesize\ttfamily \label{group__map_wallet_ga5405898d04d829facf45fb7b5b06730b} 
uint64\+\_\+t Get\+Wallet\+Flags (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Retrieve all of the wallet\textquotesingle{}s flags. 

\index{MapWallet@{MapWallet}!GetWalletTx@{GetWalletTx}}
\index{GetWalletTx@{GetWalletTx}!MapWallet@{MapWallet}}
\doxysubsubsection{GetWalletTx()}
{\footnotesize\ttfamily \label{group__map_wallet_ga87f9bddffcdd20af082dd81929ec4c4a} 
const \textbf{ CWallet\+Tx} $\ast$ Get\+Wallet\+Tx (\begin{DoxyParamCaption}\item[{const \textbf{ Txid} \&}]{hash}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!HasWalletSpend@{HasWalletSpend}}
\index{HasWalletSpend@{HasWalletSpend}!MapWallet@{MapWallet}}
\doxysubsubsection{HasWalletSpend()}
{\footnotesize\ttfamily \label{group__map_wallet_gac570dabbd5f46c33e009fc0711bed968} 
bool Has\+Wallet\+Spend (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction\+Ref} \&}]{tx}{}\end{DoxyParamCaption}) const}



Check if a given transaction has any of its outputs spent by another transaction in the wallet. 

\index{MapWallet@{MapWallet}!IncOrderPosNext@{IncOrderPosNext}}
\index{IncOrderPosNext@{IncOrderPosNext}!MapWallet@{MapWallet}}
\doxysubsubsection{IncOrderPosNext()}
{\footnotesize\ttfamily \label{group__map_wallet_ga60ff9ab7706e8b5e28a5596433cf5de0} 
int64\+\_\+t Inc\+Order\+Pos\+Next (\begin{DoxyParamCaption}\item[{\textbf{ Wallet\+Batch} $\ast$}]{batch}{ = {\ttfamily nullptr}}\end{DoxyParamCaption})}

Increment the next transaction order id \begin{DoxyReturn}{Returns}
next transaction order id 
\end{DoxyReturn}
\index{MapWallet@{MapWallet}!InitWalletFlags@{InitWalletFlags}}
\index{InitWalletFlags@{InitWalletFlags}!MapWallet@{MapWallet}}
\doxysubsubsection{InitWalletFlags()}
{\footnotesize\ttfamily \label{group__map_wallet_gabdfac29f9880c4f21fdec2728bc11dcb} 
void Init\+Wallet\+Flags (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{flags}{}\end{DoxyParamCaption})}

overwrite all flags by the given uint64\+\_\+t flags must be uninitialised (or 0) only known flags may be present \index{MapWallet@{MapWallet}!IsFromMe@{IsFromMe}}
\index{IsFromMe@{IsFromMe}!MapWallet@{MapWallet}}
\doxysubsubsection{IsFromMe()}
{\footnotesize\ttfamily \label{group__map_wallet_ga62702affd72c99155d80af2b0d779357} 
bool Is\+From\+Me (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction} \&}]{tx}{}\end{DoxyParamCaption}) const}

should probably be renamed to Is\+Relevant\+To\+Me \index{MapWallet@{MapWallet}!IsHDEnabled@{IsHDEnabled}}
\index{IsHDEnabled@{IsHDEnabled}!MapWallet@{MapWallet}}
\doxysubsubsection{IsHDEnabled()}
{\footnotesize\ttfamily \label{group__map_wallet_ga3de04fe27247e0b6dcb1e06ddefbb0c7} 
bool Is\+HDEnabled (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!IsMine@{IsMine}}
\index{IsMine@{IsMine}!MapWallet@{MapWallet}}
\doxysubsubsection{IsMine()\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily \label{group__map_wallet_gadfa479ed0eac9e8c5d41d106fd0e73db} 
bool Is\+Mine (\begin{DoxyParamCaption}\item[{const \textbf{ COut\+Point} \&}]{outpoint}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!IsMine@{IsMine}}
\index{IsMine@{IsMine}!MapWallet@{MapWallet}}
\doxysubsubsection{IsMine()\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily \label{group__map_wallet_ga42fd3099136fe82a931487bf65ff7a8f} 
bool Is\+Mine (\begin{DoxyParamCaption}\item[{const \textbf{ CScript} \&}]{script}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!IsMine@{IsMine}}
\index{IsMine@{IsMine}!MapWallet@{MapWallet}}
\doxysubsubsection{IsMine()\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily \label{group__map_wallet_ga298f79fad90e0c51f97a5e106e2d71cd} 
bool Is\+Mine (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction} \&}]{tx}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!IsMine@{IsMine}}
\index{IsMine@{IsMine}!MapWallet@{MapWallet}}
\doxysubsubsection{IsMine()\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily \label{group__map_wallet_gaf94556750950a6b5d1acf85209e3d43e} 
bool Is\+Mine (\begin{DoxyParamCaption}\item[{const \textbf{ CTx\+Destination} \&}]{dest}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!IsMine@{IsMine}}
\index{IsMine@{IsMine}!MapWallet@{MapWallet}}
\doxysubsubsection{IsMine()\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily \label{group__map_wallet_ga35577fbadad353e936511173ca193d5b} 
bool Is\+Mine (\begin{DoxyParamCaption}\item[{const \textbf{ CTx\+Out} \&}]{txout}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!IsSpent@{IsSpent}}
\index{IsSpent@{IsSpent}!MapWallet@{MapWallet}}
\doxysubsubsection{IsSpent()}
{\footnotesize\ttfamily \label{group__map_wallet_ga1e0aa42b7d2555cd3614b5c25892ae47} 
bool Is\+Spent (\begin{DoxyParamCaption}\item[{const \textbf{ COut\+Point} \&}]{outpoint}{}\end{DoxyParamCaption}) const}

Outpoint is spent if any non-\/conflicted transaction spends it\+: \index{MapWallet@{MapWallet}!IsSpentKey@{IsSpentKey}}
\index{IsSpentKey@{IsSpentKey}!MapWallet@{MapWallet}}
\doxysubsubsection{IsSpentKey()}
{\footnotesize\ttfamily \label{group__map_wallet_ga643bfb5573d46f4918890fca3f06f800} 
bool Is\+Spent\+Key (\begin{DoxyParamCaption}\item[{const \textbf{ CScript} \&}]{script\+Pub\+Key}{}\end{DoxyParamCaption}) const}

\index{MapWallet@{MapWallet}!IsWalletFlagSet@{IsWalletFlagSet}}
\index{IsWalletFlagSet@{IsWalletFlagSet}!MapWallet@{MapWallet}}
\doxysubsubsection{IsWalletFlagSet()}
{\footnotesize\ttfamily \label{group__map_wallet_ga61bdaf8e731b1181b8c0efa468793501} 
bool Is\+Wallet\+Flag\+Set (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{flag}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

check if a certain wallet flag is set 

Implements \textbf{ Wallet\+Storage} \doxyref{}{p.}{classwallet_1_1_wallet_storage_a39f5a481a5eacb57ca38b546a07261c9}.

\index{MapWallet@{MapWallet}!LoadToWallet@{LoadToWallet}}
\index{LoadToWallet@{LoadToWallet}!MapWallet@{MapWallet}}
\doxysubsubsection{LoadToWallet()}
{\footnotesize\ttfamily \label{group__map_wallet_gab06a8d56d2444a2d4cd94a6cb1025f62} 
bool Load\+To\+Wallet (\begin{DoxyParamCaption}\item[{const \textbf{ Txid} \&}]{hash}{, }\item[{const \textbf{ Update\+Wallet\+Tx\+Fn} \&}]{fill\+\_\+wtx}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!LoadWalletFlags@{LoadWalletFlags}}
\index{LoadWalletFlags@{LoadWalletFlags}!MapWallet@{MapWallet}}
\doxysubsubsection{LoadWalletFlags()}
{\footnotesize\ttfamily \label{group__map_wallet_ga2f542dcc7e4b0ab21860e444675f6dd8} 
bool Load\+Wallet\+Flags (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{flags}{}\end{DoxyParamCaption})}

Loads the flags into the wallet. (used by Load\+Wallet) \index{MapWallet@{MapWallet}!MarkDirty@{MarkDirty}}
\index{MarkDirty@{MarkDirty}!MapWallet@{MapWallet}}
\doxysubsubsection{MarkDirty()}
{\footnotesize\ttfamily \label{group__map_wallet_gaf92fcb5995a583e68e79e2826ff61e5d} 
void Mark\+Dirty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!MarkReplaced@{MarkReplaced}}
\index{MarkReplaced@{MarkReplaced}!MapWallet@{MapWallet}}
\doxysubsubsection{MarkReplaced()}
{\footnotesize\ttfamily \label{group__map_wallet_ga761a83b7e29037245f0b78e18eb4cef0} 
bool Mark\+Replaced (\begin{DoxyParamCaption}\item[{const \textbf{ Txid} \&}]{original\+Hash}{, }\item[{const \textbf{ Txid} \&}]{new\+Hash}{}\end{DoxyParamCaption})}

Mark a transaction as replaced by another transaction. \index{MapWallet@{MapWallet}!MaybeUpdateBirthTime@{MaybeUpdateBirthTime}}
\index{MaybeUpdateBirthTime@{MaybeUpdateBirthTime}!MapWallet@{MapWallet}}
\doxysubsubsection{MaybeUpdateBirthTime()}
{\footnotesize\ttfamily \label{group__map_wallet_gab113f49b5e8e4a1f05f1fcd0bd4a2bc0} 
void Maybe\+Update\+Birth\+Time (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{time}{}\end{DoxyParamCaption})}

Updates wallet birth time if \textquotesingle{}time\textquotesingle{} is below it \index{MapWallet@{MapWallet}!ReorderTransactions@{ReorderTransactions}}
\index{ReorderTransactions@{ReorderTransactions}!MapWallet@{MapWallet}}
\doxysubsubsection{ReorderTransactions()}
{\footnotesize\ttfamily \label{group__map_wallet_ga40a7a9313bd92311a5d629dc9a45171b} 
\textbf{ DBErrors} Reorder\+Transactions (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!RescanFromTime@{RescanFromTime}}
\index{RescanFromTime@{RescanFromTime}!MapWallet@{MapWallet}}
\doxysubsubsection{RescanFromTime()}
{\footnotesize\ttfamily \label{group__map_wallet_gad8bc52f86ecb41eaa8e6fd6b76612526} 
int64\+\_\+t Rescan\+From\+Time (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{start\+Time}{, }\item[{const \textbf{ Wallet\+Rescan\+Reserver} \&}]{reserver}{, }\item[{bool}]{update}{}\end{DoxyParamCaption})}

Scan active chain for relevant transactions after importing keys. This should be called whenever new keys are added to the wallet, with the oldest key creation time.

\begin{DoxyReturn}{Returns}
Earliest timestamp that could be successfully scanned from. Timestamp returned will be higher than start\+Time if relevant blocks could not be read. 
\end{DoxyReturn}
\index{MapWallet@{MapWallet}!ResubmitWalletTransactions@{ResubmitWalletTransactions}}
\index{ResubmitWalletTransactions@{ResubmitWalletTransactions}!MapWallet@{MapWallet}}
\doxysubsubsection{ResubmitWalletTransactions()}
{\footnotesize\ttfamily \label{group__map_wallet_ga0920a1d6fd550db5aec49cb5444c6863} 
void Resubmit\+Wallet\+Transactions (\begin{DoxyParamCaption}\item[{\textbf{ node\+::\+Tx\+Broadcast}}]{broadcast\+\_\+method}{, }\item[{bool}]{force}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!ScanForWalletTransactions@{ScanForWalletTransactions}}
\index{ScanForWalletTransactions@{ScanForWalletTransactions}!MapWallet@{MapWallet}}
\doxysubsubsection{ScanForWalletTransactions()}
{\footnotesize\ttfamily \label{group__map_wallet_ga2a0e77826bb3eb329c973904b6ce526e} 
\textbf{ CWallet\+::\+Scan\+Result} Scan\+For\+Wallet\+Transactions (\begin{DoxyParamCaption}\item[{const \textbf{ uint256} \&}]{start\+\_\+block}{, }\item[{int}]{start\+\_\+height}{, }\item[{std\+::optional$<$ int $>$}]{max\+\_\+height}{, }\item[{const \textbf{ Wallet\+Rescan\+Reserver} \&}]{reserver}{, }\item[{bool}]{f\+Update}{, }\item[{const bool}]{save\+\_\+progress}{}\end{DoxyParamCaption})}

Scan the block chain (starting in start\+\_\+block) for transactions from or to us. If f\+Update is true, found transactions that already exist in the wallet will be updated. If max\+\_\+height is not set, the mempool will be scanned as well.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em start\+\_\+block} & Scan starting block. If block is not on the active chain, the scan will return SUCCESS immediately. \\
\hline
\mbox{\texttt{in}}  & {\em start\+\_\+height} & Height of start\+\_\+block \\
\hline
\mbox{\texttt{in}}  & {\em max\+\_\+height} & Optional max scanning height. If unset there is no maximum and scanning can continue to the tip\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxyref{Scan\+Result}{p.}{structwallet_1_1_c_wallet_1_1_scan_result} returning scan information and indicating success or failure. Return status will be set to SUCCESS if scan was successful. FAILURE if a complete rescan was not possible (due to pruning or corruption). USER\+\_\+\+ABORT if the rescan was aborted before it could complete.
\end{DoxyReturn}
\begin{DoxyPrecond}{Precondition}
Caller needs to make sure start\+\_\+block (and the optional stop\+\_\+block) are on the main chain after to the addition of any new keys you want to detect transactions for. 
\end{DoxyPrecond}
\index{MapWallet@{MapWallet}!SetLastBlockProcessed@{SetLastBlockProcessed}}
\index{SetLastBlockProcessed@{SetLastBlockProcessed}!MapWallet@{MapWallet}}
\doxysubsubsection{SetLastBlockProcessed()}
{\footnotesize\ttfamily \label{group__map_wallet_gafcf11b5037c8e0bc10e2bff08a7d3916} 
void Set\+Last\+Block\+Processed (\begin{DoxyParamCaption}\item[{int}]{block\+\_\+height}{, }\item[{\textbf{ uint256}}]{block\+\_\+hash}{}\end{DoxyParamCaption})}

Set last block processed height, and write to database \index{MapWallet@{MapWallet}!SetSpentKeyState@{SetSpentKeyState}}
\index{SetSpentKeyState@{SetSpentKeyState}!MapWallet@{MapWallet}}
\doxysubsubsection{SetSpentKeyState()}
{\footnotesize\ttfamily \label{group__map_wallet_ga777c9c6ae3f731641ebffac00ffe5b50} 
void Set\+Spent\+Key\+State (\begin{DoxyParamCaption}\item[{\textbf{ Wallet\+Batch} \&}]{batch}{, }\item[{const \textbf{ Txid} \&}]{hash}{, }\item[{unsigned int}]{n}{, }\item[{bool}]{used}{, }\item[{std\+::set$<$ \textbf{ CTx\+Destination} $>$ \&}]{tx\+\_\+destinations}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!SetWalletFlag@{SetWalletFlag}}
\index{SetWalletFlag@{SetWalletFlag}!MapWallet@{MapWallet}}
\doxysubsubsection{SetWalletFlag()}
{\footnotesize\ttfamily \label{group__map_wallet_ga82f88a55967e6c66d6791f3b27f6c85e} 
void Set\+Wallet\+Flag (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{flags}{}\end{DoxyParamCaption})}

Blocks until the wallet state is up-\/to-\/date to /at least/ the current chain at the time this function is entered Obviously holding cs\+\_\+main/cs\+\_\+wallet when going into this call may cause deadlock set a single wallet flag \index{MapWallet@{MapWallet}!ShouldResend@{ShouldResend}}
\index{ShouldResend@{ShouldResend}!MapWallet@{MapWallet}}
\doxysubsubsection{ShouldResend()}
{\footnotesize\ttfamily \label{group__map_wallet_ga0d3347b3d2d7fa73e4ed14b0bda71898} 
bool Should\+Resend (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

Return true if all conditions for periodically resending transactions are met. \index{MapWallet@{MapWallet}!SubmitTxMemoryPoolAndRelay@{SubmitTxMemoryPoolAndRelay}}
\index{SubmitTxMemoryPoolAndRelay@{SubmitTxMemoryPoolAndRelay}!MapWallet@{MapWallet}}
\doxysubsubsection{SubmitTxMemoryPoolAndRelay()}
{\footnotesize\ttfamily \label{group__map_wallet_ga83d016f97d79a8909254d7cfbb956031} 
bool Submit\+Tx\+Memory\+Pool\+And\+Relay (\begin{DoxyParamCaption}\item[{\textbf{ CWallet\+Tx} \&}]{wtx}{, }\item[{std\+::string \&}]{err\+\_\+string}{, }\item[{\textbf{ node\+::\+Tx\+Broadcast}}]{broadcast\+\_\+method}{}\end{DoxyParamCaption}) const}

Pass this transaction to node for optional mempool insertion and relay to peers. \index{MapWallet@{MapWallet}!transactionAddedToMempool@{transactionAddedToMempool}}
\index{transactionAddedToMempool@{transactionAddedToMempool}!MapWallet@{MapWallet}}
\doxysubsubsection{transactionAddedToMempool()}
{\footnotesize\ttfamily \label{group__map_wallet_gaf3150d24d6ff3942da991c5d9a00116a} 
void transaction\+Added\+To\+Mempool (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction\+Ref} \&}]{tx}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \textbf{ Chain\+::\+Notifications} \doxyref{}{p.}{classinterfaces_1_1_chain_1_1_notifications_a40d55eef1e714f89e5072bb037ece1a9}.

\index{MapWallet@{MapWallet}!TransactionCanBeAbandoned@{TransactionCanBeAbandoned}}
\index{TransactionCanBeAbandoned@{TransactionCanBeAbandoned}!MapWallet@{MapWallet}}
\doxysubsubsection{TransactionCanBeAbandoned()}
{\footnotesize\ttfamily \label{group__map_wallet_gaeb88ae8d616a45f6acd2b7c40b0a6e83} 
bool Transaction\+Can\+Be\+Abandoned (\begin{DoxyParamCaption}\item[{const \textbf{ Txid} \&}]{hash\+Tx}{}\end{DoxyParamCaption}) const}

Return whether transaction can be abandoned \index{MapWallet@{MapWallet}!transactionRemovedFromMempool@{transactionRemovedFromMempool}}
\index{transactionRemovedFromMempool@{transactionRemovedFromMempool}!MapWallet@{MapWallet}}
\doxysubsubsection{transactionRemovedFromMempool()}
{\footnotesize\ttfamily \label{group__map_wallet_ga660fd5a55a468682a2daf42f442481df} 
void transaction\+Removed\+From\+Mempool (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction\+Ref} \&}]{tx}{, }\item[{\textbf{ Mem\+Pool\+Removal\+Reason}}]{reason}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \textbf{ Chain\+::\+Notifications} \doxyref{}{p.}{classinterfaces_1_1_chain_1_1_notifications_a8179f72a79c1de8147f49ddc57e19153}.

\index{MapWallet@{MapWallet}!Unlock@{Unlock}}
\index{Unlock@{Unlock}!MapWallet@{MapWallet}}
\doxysubsubsection{Unlock()}
{\footnotesize\ttfamily \label{group__map_wallet_gaa47ea199cde45be574c4b24527d22662} 
bool Unlock (\begin{DoxyParamCaption}\item[{const \textbf{ Secure\+String} \&}]{str\+Wallet\+Passphrase}{}\end{DoxyParamCaption})}

\index{MapWallet@{MapWallet}!UnsetWalletFlag@{UnsetWalletFlag}}
\index{UnsetWalletFlag@{UnsetWalletFlag}!MapWallet@{MapWallet}}
\doxysubsubsection{UnsetWalletFlag()}
{\footnotesize\ttfamily \label{group__map_wallet_ga65856ea93b43476127469cb8c0a8888b} 
void Unset\+Wallet\+Flag (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{flag}{}\end{DoxyParamCaption})}

Unsets a single wallet flag \index{MapWallet@{MapWallet}!updatedBlockTip@{updatedBlockTip}}
\index{updatedBlockTip@{updatedBlockTip}!MapWallet@{MapWallet}}
\doxysubsubsection{updatedBlockTip()}
{\footnotesize\ttfamily \label{group__map_wallet_ga198bb6cd5fae6b912adb1ceff2c45fe0} 
void updated\+Block\+Tip (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \textbf{ Chain\+::\+Notifications} \doxyref{}{p.}{classinterfaces_1_1_chain_1_1_notifications_a59eed28c3c84f095fb917c6edbeaf021}.

\index{MapWallet@{MapWallet}!UpgradeDescriptorCache@{UpgradeDescriptorCache}}
\index{UpgradeDescriptorCache@{UpgradeDescriptorCache}!MapWallet@{MapWallet}}
\doxysubsubsection{UpgradeDescriptorCache()}
{\footnotesize\ttfamily \label{group__map_wallet_ga058f04f5b4be0e80b557111567405ff4} 
void Upgrade\+Descriptor\+Cache (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Upgrade Descriptor\+Caches. 

