\doxysection{src/crc32c Directory Reference}
\label{dir_59f729f72e269cb266cf2ff4e0cb07e0}\index{src/crc32c Directory Reference@{src/crc32c Directory Reference}}
\doxysubsubsection*{Directories}
\begin{DoxyCompactItemize}
\item 
directory \textbf{ include}
\item 
directory \textbf{ src}
\end{DoxyCompactItemize}
\doxysubsubsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \textbf{ .\+ycm\+\_\+extra\+\_\+conf.\+py}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxysubsection{CRC32C}\label{dir_59f729f72e269cb266cf2ff4e0cb07e0_autotoc_md3}
{\texttt{}}

New file format authors should consider {\texttt{Highway\+Hash}}. The initial version of this code was extracted from {\texttt{Level\+DB}}, which is a stable key-\/value store that is widely used at Google.

This project collects a few CRC32C implementations under an umbrella that dispatches to a suitable implementation based on the host computer\textquotesingle{}s hardware capabilities.

CRC32C is specified as the CRC that uses the i\+SCSI polynomial in {\texttt{RFC 3720}}. The polynomial was introduced by G. Castagnoli, S. Braeuer and M. Herrmann. CRC32C is used in software such as Btrfs, ext4, Ceph and leveldb.\doxysubsection{Usage}\label{dir_59f729f72e269cb266cf2ff4e0cb07e0_autotoc_md4}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}crc32c/crc32c.h"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()\ \{}
\DoxyCodeLine{\ \ \textcolor{keyword}{const}\ std::uint8\_t\ buffer[]\ =\ \{0,\ 0,\ 0,\ 0\};}
\DoxyCodeLine{\ \ std::uint32\_t\ result;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ Process\ a\ raw\ buffer.}}
\DoxyCodeLine{\ \ result\ =\ crc32c::Crc32c(buffer,\ 4);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ Process\ a\ std::string.}}
\DoxyCodeLine{\ \ std::string\ string;}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{string}.resize(4);}
\DoxyCodeLine{\ \ result\ =\ crc32c::Crc32c(\textcolor{keywordtype}{string});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ If\ you\ have\ C++17\ support,\ process\ a\ std::string\_view.}}
\DoxyCodeLine{\ \ std::string\_view\ string\_view(\textcolor{keywordtype}{string});}
\DoxyCodeLine{\ \ result\ =\ crc32c::Crc32c(string\_view);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCode}
\doxysubsection{Prerequisites}\label{dir_59f729f72e269cb266cf2ff4e0cb07e0_autotoc_md5}
This project uses {\texttt{CMake}} for building and testing. CMake is available in all popular Linux distributions, as well as in {\texttt{Homebrew}}.

This project uses submodules for dependency management.


\begin{DoxyCode}{0}
\DoxyCodeLine{git\ submodule\ update\ -\/-\/init\ -\/-\/recursive}

\end{DoxyCode}


If you\textquotesingle{}re using {\texttt{Atom}}, the following packages can help.


\begin{DoxyCode}{0}
\DoxyCodeLine{apm\ install\ autocomplete-\/clang\ build\ build-\/cmake\ clang-\/format\ language-\/cmake\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ linter\ linter-\/clang}

\end{DoxyCode}


If you don\textquotesingle{}t mind more setup in return for more speed, replace {\ttfamily autocomplete-\/clang} and {\ttfamily linter-\/clang} with {\ttfamily you-\/complete-\/me}. This requires {\texttt{setting up ycmd}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{apm\ install\ autocomplete-\/plus\ build\ build-\/cmake\ clang-\/format\ language-\/cmake\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ linter\ you-\/complete-\/me}

\end{DoxyCode}
\doxysubsection{Building}\label{dir_59f729f72e269cb266cf2ff4e0cb07e0_autotoc_md6}
The following commands build and install the project.


\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir\ build}
\DoxyCodeLine{cd\ build}
\DoxyCodeLine{cmake\ -\/DCRC32C\_BUILD\_TESTS=0\ -\/DCRC32C\_BUILD\_BENCHMARKS=0\ ..\ \&\&\ make\ all\ install}

\end{DoxyCode}
\doxysubsection{Development}\label{dir_59f729f72e269cb266cf2ff4e0cb07e0_autotoc_md7}
The following command (when executed from {\ttfamily build/}) (re)builds the project and runs the tests.


\begin{DoxyCode}{0}
\DoxyCodeLine{cmake\ ..\ \&\&\ cmake\ -\/-\/build\ .\ \&\&\ ctest\ -\/-\/output-\/on-\/failure}

\end{DoxyCode}
\doxysubsubsection{Android testing}\label{dir_59f729f72e269cb266cf2ff4e0cb07e0_autotoc_md8}
The following command builds the project against the Android NDK, which is useful for benchmarking against ARM processors.


\begin{DoxyCode}{0}
\DoxyCodeLine{cmake\ ..\ -\/DCMAKE\_SYSTEM\_NAME=Android\ -\/DCMAKE\_ANDROID\_ARCH\_ABI=arm64-\/v8a\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ -\/DCMAKE\_ANDROID\_NDK=\$HOME/Library/Android/sdk/ndk-\/bundle\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ -\/DCMAKE\_ANDROID\_NDK\_TOOLCHAIN\_VERSION=clang\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ -\/DCMAKE\_ANDROID\_STL\_TYPE=c++\_static\ -\/DCRC32C\_USE\_GLOG=0\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ -\/DCMAKE\_BUILD\_TYPE=Release\ \&\&\ cmake\ -\/-\/build\ .}

\end{DoxyCode}


The following commands install and run the benchmarks.


\begin{DoxyCode}{0}
\DoxyCodeLine{adb\ push\ crc32c\_bench\ /data/local/tmp}
\DoxyCodeLine{adb\ shell\ chmod\ +x\ /data/local/tmp/crc32c\_bench}
\DoxyCodeLine{adb\ shell\ 'cd\ /data/local/tmp\ \&\&\ ./crc32c\_bench'}
\DoxyCodeLine{adb\ shell\ rm\ /data/local/tmp/crc32c\_bench}

\end{DoxyCode}


The following commands install and run the tests.


\begin{DoxyCode}{0}
\DoxyCodeLine{adb\ push\ crc32c\_tests\ /data/local/tmp}
\DoxyCodeLine{adb\ shell\ chmod\ +x\ /data/local/tmp/crc32c\_tests}
\DoxyCodeLine{adb\ shell\ 'cd\ /data/local/tmp\ \&\&\ ./crc32c\_tests'}
\DoxyCodeLine{adb\ shell\ rm\ /data/local/tmp/crc32c\_tests}

\end{DoxyCode}
 