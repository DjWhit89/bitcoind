\doxysection{Script\+Compression Struct Reference}
\label{struct_script_compression}\index{ScriptCompression@{ScriptCompression}}


{\ttfamily \#include $<$compressor.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Stream$>$ }\\void \textbf{ Ser} (Stream \&s, const \textbf{ CScript} \&\textbf{ script})
\item 
{\footnotesize template$<$typename Stream$>$ }\\void \textbf{ Unser} (Stream \&s, \textbf{ CScript} \&\textbf{ script})
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const unsigned int \textbf{ n\+Special\+Scripts} = 6
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Compact serializer for scripts.

It detects common cases and encodes them much more efficiently. 3 special cases are defined\+:
\begin{DoxyItemize}
\item Pay to pubkey hash (encoded as 21 bytes)
\item Pay to script hash (encoded as 21 bytes)
\item Pay to pubkey starting with 0x02, 0x03 or 0x04 (encoded as 33 bytes)
\end{DoxyItemize}

Other scripts up to 121 bytes require 1 byte + script length. Above that, scripts up to 16505 bytes require 2 bytes + script length. 

\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{ScriptCompression@{ScriptCompression}!Ser@{Ser}}
\index{Ser@{Ser}!ScriptCompression@{ScriptCompression}}
\doxysubsubsection{Ser()}
{\footnotesize\ttfamily \label{struct_script_compression_a99900717a285576fab6c80ac6332f43d} 
template$<$typename Stream$>$ \\
void Ser (\begin{DoxyParamCaption}\item[{Stream \&}]{s}{, }\item[{const \textbf{ CScript} \&}]{script}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\index{ScriptCompression@{ScriptCompression}!Unser@{Unser}}
\index{Unser@{Unser}!ScriptCompression@{ScriptCompression}}
\doxysubsubsection{Unser()}
{\footnotesize\ttfamily \label{struct_script_compression_a05e2e10ba455b819e073da7922fb96e8} 
template$<$typename Stream$>$ \\
void Unser (\begin{DoxyParamCaption}\item[{Stream \&}]{s}{, }\item[{\textbf{ CScript} \&}]{script}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\label{doc-variable-members}
\doxysubsection{Field Documentation}
\index{ScriptCompression@{ScriptCompression}!nSpecialScripts@{nSpecialScripts}}
\index{nSpecialScripts@{nSpecialScripts}!ScriptCompression@{ScriptCompression}}
\doxysubsubsection{nSpecialScripts}
{\footnotesize\ttfamily \label{struct_script_compression_aba2dd124be252802d8cdaaf4d772a204} 
const unsigned int n\+Special\+Scripts = 6\hspace{0.3cm}{\ttfamily [static]}}

make this static for now (there are only 6 special scripts defined) this can potentially be extended together with a new version for transactions, in which case this value becomes dependent on version and n\+Height of the enclosing transaction. 

The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\textbf{ compressor.\+h}\end{DoxyCompactItemize}
