\doxysection{Flat\+File\+Seq Class Reference}
\label{class_flat_file_seq}\index{FlatFileSeq@{FlatFileSeq}}


{\ttfamily \#include $<$flatfile.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Flat\+File\+Seq} (\textbf{ fs\+::path} dir, const char $\ast$\textbf{ prefix}, size\+\_\+t chunk\+\_\+size)
\item 
\textbf{ fs\+::path} \textbf{ File\+Name} (const \textbf{ Flat\+File\+Pos} \&pos) const
\item 
FILE $\ast$ \textbf{ Open} (const \textbf{ Flat\+File\+Pos} \&pos, bool read\+\_\+only=false) const
\item 
size\+\_\+t \textbf{ Allocate} (const \textbf{ Flat\+File\+Pos} \&pos, size\+\_\+t add\+\_\+size, bool \&out\+\_\+of\+\_\+space) const
\item 
bool \textbf{ Flush} (const \textbf{ Flat\+File\+Pos} \&pos, bool finalize=false) const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxyref{Flat\+File\+Seq}{p.}{class_flat_file_seq} represents a sequence of numbered files storing raw data. This class facilitates access to and efficient management of these files. 

\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{FlatFileSeq@{FlatFileSeq}!FlatFileSeq@{FlatFileSeq}}
\index{FlatFileSeq@{FlatFileSeq}!FlatFileSeq@{FlatFileSeq}}
\doxysubsubsection{FlatFileSeq()}
{\footnotesize\ttfamily \label{class_flat_file_seq_a5b04f0a785886cc74030d19e04d9db6f} 
\textbf{ Flat\+File\+Seq} (\begin{DoxyParamCaption}\item[{\textbf{ fs\+::path}}]{dir}{, }\item[{const char $\ast$}]{prefix}{, }\item[{size\+\_\+t}]{chunk\+\_\+size}{}\end{DoxyParamCaption})}

Constructor


\begin{DoxyParams}{Parameters}
{\em dir} & The base directory that all files live in. \\
\hline
{\em prefix} & A short prefix given to all file names. \\
\hline
{\em chunk\+\_\+size} & Disk space is pre-\/allocated in multiples of this amount. \\
\hline
\end{DoxyParams}


\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{FlatFileSeq@{FlatFileSeq}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!FlatFileSeq@{FlatFileSeq}}
\doxysubsubsection{Allocate()}
{\footnotesize\ttfamily \label{class_flat_file_seq_af666b274ed54c0c5b85e75a9667b7f8c} 
size\+\_\+t Allocate (\begin{DoxyParamCaption}\item[{const \textbf{ Flat\+File\+Pos} \&}]{pos}{, }\item[{size\+\_\+t}]{add\+\_\+size}{, }\item[{bool \&}]{out\+\_\+of\+\_\+space}{}\end{DoxyParamCaption}) const}

Allocate additional space in a file after the given starting position. The amount allocated will be the minimum multiple of the sequence chunk size greater than add\+\_\+size.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em pos} & The starting position that bytes will be allocated after. \\
\hline
\mbox{\texttt{in}}  & {\em add\+\_\+size} & The minimum number of bytes to be allocated. \\
\hline
\mbox{\texttt{out}}  & {\em out\+\_\+of\+\_\+space} & Whether the allocation failed due to insufficient disk space. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes successfully allocated. 
\end{DoxyReturn}
\index{FlatFileSeq@{FlatFileSeq}!FileName@{FileName}}
\index{FileName@{FileName}!FlatFileSeq@{FlatFileSeq}}
\doxysubsubsection{FileName()}
{\footnotesize\ttfamily \label{class_flat_file_seq_a1f0c206e761475ee9494f66a7d9568b1} 
\textbf{ fs\+::path} File\+Name (\begin{DoxyParamCaption}\item[{const \textbf{ Flat\+File\+Pos} \&}]{pos}{}\end{DoxyParamCaption}) const}

Get the name of the file at the given position. \index{FlatFileSeq@{FlatFileSeq}!Flush@{Flush}}
\index{Flush@{Flush}!FlatFileSeq@{FlatFileSeq}}
\doxysubsubsection{Flush()}
{\footnotesize\ttfamily \label{class_flat_file_seq_a9c2a1ae1e24b540801dda0dc9d186cc1} 
bool Flush (\begin{DoxyParamCaption}\item[{const \textbf{ Flat\+File\+Pos} \&}]{pos}{, }\item[{bool}]{finalize}{ = {\ttfamily false}}\end{DoxyParamCaption}) const}

Commit a file to disk, and optionally truncate off extra pre-\/allocated bytes if final.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em pos} & The first unwritten position in the file to be flushed. \\
\hline
\mbox{\texttt{in}}  & {\em finalize} & True if no more data will be written to this file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true on success, false on failure. 
\end{DoxyReturn}
\index{FlatFileSeq@{FlatFileSeq}!Open@{Open}}
\index{Open@{Open}!FlatFileSeq@{FlatFileSeq}}
\doxysubsubsection{Open()}
{\footnotesize\ttfamily \label{class_flat_file_seq_ab2a84182d7087a62bc2764b321a2e59d} 
FILE $\ast$ Open (\begin{DoxyParamCaption}\item[{const \textbf{ Flat\+File\+Pos} \&}]{pos}{, }\item[{bool}]{read\+\_\+only}{ = {\ttfamily false}}\end{DoxyParamCaption}) const}

Open a handle to the file at the given position. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\textbf{ flatfile.\+h}\item 
src/\textbf{ flatfile.\+cpp}\end{DoxyCompactItemize}
