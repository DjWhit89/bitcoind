\doxysection{src/common/args.cpp File Reference}
\label{args_8cpp}\index{src/common/args.cpp@{src/common/args.cpp}}
{\ttfamily \#include $<$common/args.\+h$>$}\newline
{\ttfamily \#include $<$chainparamsbase.\+h$>$}\newline
{\ttfamily \#include $<$common/settings.\+h$>$}\newline
{\ttfamily \#include $<$logging.\+h$>$}\newline
{\ttfamily \#include $<$sync.\+h$>$}\newline
{\ttfamily \#include $<$tinyformat.\+h$>$}\newline
{\ttfamily \#include $<$univalue.\+h$>$}\newline
{\ttfamily \#include $<$util/chaintype.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/fs.\+h$>$}\newline
{\ttfamily \#include $<$util/fs\+\_\+helpers.\+h$>$}\newline
{\ttfamily \#include $<$util/strencodings.\+h$>$}\newline
{\ttfamily \#include $<$util/string.\+h$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$cassert$>$}\newline
{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$cstdlib$>$}\newline
{\ttfamily \#include $<$cstring$>$}\newline
{\ttfamily \#include $<$map$>$}\newline
{\ttfamily \#include $<$optional$>$}\newline
{\ttfamily \#include $<$stdexcept$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$utility$>$}\newline
{\ttfamily \#include $<$variant$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Key\+Info} \textbf{ Interpret\+Key} (std\+::string key)
\item 
std\+::optional$<$ \textbf{ common\+::\+Settings\+Value} $>$ \textbf{ Interpret\+Value} (const \textbf{ Key\+Info} \&key, const std\+::string $\ast$value, unsigned int \textbf{ flags}, std\+::string \&error)
\item 
std\+::optional$<$ std\+::string $>$ \textbf{ Setting\+To\+String} (const \textbf{ common\+::\+Settings\+Value} \&value)
\item 
std\+::string \textbf{ Setting\+To\+String} (const \textbf{ common\+::\+Settings\+Value} \&value, const std\+::string \&str\+Default)
\item 
std\+::optional$<$ int64\+\_\+t $>$ \textbf{ Setting\+To\+Int} (const \textbf{ common\+::\+Settings\+Value} \&value)
\item 
int64\+\_\+t \textbf{ Setting\+To\+Int} (const \textbf{ common\+::\+Settings\+Value} \&value, int64\+\_\+t n\+Default)
\item 
std\+::optional$<$ bool $>$ \textbf{ Setting\+To\+Bool} (const \textbf{ common\+::\+Settings\+Value} \&value)
\item 
bool \textbf{ Setting\+To\+Bool} (const \textbf{ common\+::\+Settings\+Value} \&value, bool f\+Default)
\item 
bool \textbf{ Help\+Requested} (const \textbf{ Args\+Manager} \&\textbf{ args})
\item 
void \textbf{ Setup\+Help\+Options} (\textbf{ Args\+Manager} \&\textbf{ args})
\item 
std\+::string \textbf{ Help\+Message\+Group} (const std\+::string \&message)
\item 
std\+::string \textbf{ Help\+Message\+Opt} (const std\+::string \&option, const std\+::string \&message)
\item 
bool \textbf{ Has\+Test\+Option} (const \textbf{ Args\+Manager} \&\textbf{ args}, const std\+::string \&test\+\_\+option)
\item 
\textbf{ fs\+::path} \textbf{ Get\+Default\+Data\+Dir} ()
\item 
bool \textbf{ Check\+Data\+Dir\+Option} (const \textbf{ Args\+Manager} \&\textbf{ args})
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const char $\ast$const \textbf{ BITCOIN\+\_\+\+CONF\+\_\+\+FILENAME} = "{}bitcoin.\+conf"{}
\item 
const char $\ast$const \textbf{ BITCOIN\+\_\+\+SETTINGS\+\_\+\+FILENAME} = "{}settings.\+json"{}
\item 
\textbf{ Args\+Manager} \textbf{ g\+Args}
\item 
const std\+::vector$<$ std\+::string $>$ \textbf{ TEST\+\_\+\+OPTIONS\+\_\+\+DOC}
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{args.cpp@{args.cpp}!CheckDataDirOption@{CheckDataDirOption}}
\index{CheckDataDirOption@{CheckDataDirOption}!args.cpp@{args.cpp}}
\doxysubsubsection{CheckDataDirOption()}
{\footnotesize\ttfamily \label{args_8cpp_a554db395bd221c8ad1ae5c47c9b85f14} 
bool Check\+Data\+Dir\+Option (\begin{DoxyParamCaption}\item[{const \textbf{ Args\+Manager} \&}]{args}{}\end{DoxyParamCaption})}

\index{args.cpp@{args.cpp}!GetDefaultDataDir@{GetDefaultDataDir}}
\index{GetDefaultDataDir@{GetDefaultDataDir}!args.cpp@{args.cpp}}
\doxysubsubsection{GetDefaultDataDir()}
{\footnotesize\ttfamily \label{args_8cpp_a15cb85964fe08c264605537f44570d3c} 
\textbf{ fs\+::path} Get\+Default\+Data\+Dir (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{args.cpp@{args.cpp}!HasTestOption@{HasTestOption}}
\index{HasTestOption@{HasTestOption}!args.cpp@{args.cpp}}
\doxysubsubsection{HasTestOption()}
{\footnotesize\ttfamily \label{args_8cpp_aa42c2b171434ec3e853a1827816ec0a4} 
bool Has\+Test\+Option (\begin{DoxyParamCaption}\item[{const \textbf{ Args\+Manager} \&}]{args}{, }\item[{const std\+::string \&}]{test\+\_\+option}{}\end{DoxyParamCaption})}

Checks if a particular test option is present in -\/test command-\/line arg options \index{args.cpp@{args.cpp}!HelpMessageGroup@{HelpMessageGroup}}
\index{HelpMessageGroup@{HelpMessageGroup}!args.cpp@{args.cpp}}
\doxysubsubsection{HelpMessageGroup()}
{\footnotesize\ttfamily \label{args_8cpp_aae6ceac1cd94a0e700783c733e60e970} 
std\+::string Help\+Message\+Group (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{message}{}\end{DoxyParamCaption})}

\doxyref{Format}{p.}{struct_format} a string to be used as group of options in help messages


\begin{DoxyParams}{Parameters}
{\em message} & Group name (e.\+g. "{}\+RPC server options\+:"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the formatted string 
\end{DoxyReturn}
\index{args.cpp@{args.cpp}!HelpMessageOpt@{HelpMessageOpt}}
\index{HelpMessageOpt@{HelpMessageOpt}!args.cpp@{args.cpp}}
\doxysubsubsection{HelpMessageOpt()}
{\footnotesize\ttfamily \label{args_8cpp_aec85bcd561766ad0362a8fc5cd4a8542} 
std\+::string Help\+Message\+Opt (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{option}{, }\item[{const std\+::string \&}]{message}{}\end{DoxyParamCaption})}

\doxyref{Format}{p.}{struct_format} a string to be used as option description in help messages


\begin{DoxyParams}{Parameters}
{\em option} & Option message (e.\+g. "{}-\/rpcuser=$<$user$>$"{}) \\
\hline
{\em message} & Option description (e.\+g. "{}\+Username for JSON-\/\+RPC connections"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the formatted string 
\end{DoxyReturn}
\index{args.cpp@{args.cpp}!HelpRequested@{HelpRequested}}
\index{HelpRequested@{HelpRequested}!args.cpp@{args.cpp}}
\doxysubsubsection{HelpRequested()}
{\footnotesize\ttfamily \label{args_8cpp_a093290ce7064fd971da90cc40b62c5e1} 
bool Help\+Requested (\begin{DoxyParamCaption}\item[{const \textbf{ Args\+Manager} \&}]{args}{}\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
true if help has been requested via a command-\/line arg 
\end{DoxyReturn}
\index{args.cpp@{args.cpp}!InterpretKey@{InterpretKey}}
\index{InterpretKey@{InterpretKey}!args.cpp@{args.cpp}}
\doxysubsubsection{InterpretKey()}
{\footnotesize\ttfamily \label{args_8cpp_ab003f9b5b78167db2e8b9efdb61e9f31} 
\textbf{ Key\+Info} Interpret\+Key (\begin{DoxyParamCaption}\item[{std\+::string}]{key}{}\end{DoxyParamCaption})}

Parse "{}name"{}, "{}section.\+name"{}, "{}noname"{}, "{}section.\+noname"{} settings keys.

\begin{DoxyNote}{Note}
Where an option was negated can be later checked using the Is\+Arg\+Negated() method. One use case for this is to have a way to disable options that are not normally boolean (e.\+g. using -\/nodebuglogfile to request that debug log output is not sent to any file at all). 
\end{DoxyNote}
\index{args.cpp@{args.cpp}!InterpretValue@{InterpretValue}}
\index{InterpretValue@{InterpretValue}!args.cpp@{args.cpp}}
\doxysubsubsection{InterpretValue()}
{\footnotesize\ttfamily \label{args_8cpp_a2b75b4761fc0b1810c55495966c2bdb3} 
std\+::optional$<$ \textbf{ common\+::\+Settings\+Value} $>$ Interpret\+Value (\begin{DoxyParamCaption}\item[{const \textbf{ Key\+Info} \&}]{key}{, }\item[{const std\+::string $\ast$}]{value}{, }\item[{unsigned int}]{flags}{, }\item[{std\+::string \&}]{error}{}\end{DoxyParamCaption})}

Interpret settings value based on registered flags.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em key} & key information to know if key was negated \\
\hline
\mbox{\texttt{in}}  & {\em value} & string value of setting to be parsed \\
\hline
\mbox{\texttt{in}}  & {\em flags} & \doxyref{Args\+Manager}{p.}{class_args_manager} registered argument flags \\
\hline
\mbox{\texttt{out}}  & {\em error} & Error description if settings value is not valid\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
parsed settings value if it is valid, otherwise nullopt accompanied by a descriptive error string 
\end{DoxyReturn}
\index{args.cpp@{args.cpp}!SettingToBool@{SettingToBool}}
\index{SettingToBool@{SettingToBool}!args.cpp@{args.cpp}}
\doxysubsubsection{SettingToBool()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{args_8cpp_a56bc4115119dce9ee2b3e7e81eac0776} 
std\+::optional$<$ bool $>$ Setting\+To\+Bool (\begin{DoxyParamCaption}\item[{const \textbf{ common\+::\+Settings\+Value} \&}]{value}{}\end{DoxyParamCaption})}

\index{args.cpp@{args.cpp}!SettingToBool@{SettingToBool}}
\index{SettingToBool@{SettingToBool}!args.cpp@{args.cpp}}
\doxysubsubsection{SettingToBool()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{args_8cpp_a644ded7ee4fc68877acbeff3b57830af} 
bool Setting\+To\+Bool (\begin{DoxyParamCaption}\item[{const \textbf{ common\+::\+Settings\+Value} \&}]{value}{, }\item[{bool}]{f\+Default}{}\end{DoxyParamCaption})}

\index{args.cpp@{args.cpp}!SettingToInt@{SettingToInt}}
\index{SettingToInt@{SettingToInt}!args.cpp@{args.cpp}}
\doxysubsubsection{SettingToInt()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{args_8cpp_ad66a093f3ca079384f7b51d689adbc78} 
std\+::optional$<$ int64\+\_\+t $>$ Setting\+To\+Int (\begin{DoxyParamCaption}\item[{const \textbf{ common\+::\+Settings\+Value} \&}]{value}{}\end{DoxyParamCaption})}

\index{args.cpp@{args.cpp}!SettingToInt@{SettingToInt}}
\index{SettingToInt@{SettingToInt}!args.cpp@{args.cpp}}
\doxysubsubsection{SettingToInt()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{args_8cpp_ac1e2edec64a2bb410b9bb7c41b470a18} 
int64\+\_\+t Setting\+To\+Int (\begin{DoxyParamCaption}\item[{const \textbf{ common\+::\+Settings\+Value} \&}]{value}{, }\item[{int64\+\_\+t}]{n\+Default}{}\end{DoxyParamCaption})}

\index{args.cpp@{args.cpp}!SettingToString@{SettingToString}}
\index{SettingToString@{SettingToString}!args.cpp@{args.cpp}}
\doxysubsubsection{SettingToString()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{args_8cpp_a57449b615d8abc74491c916fb04cc7e2} 
std\+::optional$<$ std\+::string $>$ Setting\+To\+String (\begin{DoxyParamCaption}\item[{const \textbf{ common\+::\+Settings\+Value} \&}]{value}{}\end{DoxyParamCaption})}

\index{args.cpp@{args.cpp}!SettingToString@{SettingToString}}
\index{SettingToString@{SettingToString}!args.cpp@{args.cpp}}
\doxysubsubsection{SettingToString()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{args_8cpp_a2cadcdbd8935b591ec97ed586ca52549} 
std\+::string Setting\+To\+String (\begin{DoxyParamCaption}\item[{const \textbf{ common\+::\+Settings\+Value} \&}]{value}{, }\item[{const std\+::string \&}]{str\+Default}{}\end{DoxyParamCaption})}

\index{args.cpp@{args.cpp}!SetupHelpOptions@{SetupHelpOptions}}
\index{SetupHelpOptions@{SetupHelpOptions}!args.cpp@{args.cpp}}
\doxysubsubsection{SetupHelpOptions()}
{\footnotesize\ttfamily \label{args_8cpp_a0ff31367c16c02baefa03b65f8b4a639} 
void Setup\+Help\+Options (\begin{DoxyParamCaption}\item[{\textbf{ Args\+Manager} \&}]{args}{}\end{DoxyParamCaption})}

Add help options to the args manager 

\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{args.cpp@{args.cpp}!BITCOIN\_CONF\_FILENAME@{BITCOIN\_CONF\_FILENAME}}
\index{BITCOIN\_CONF\_FILENAME@{BITCOIN\_CONF\_FILENAME}!args.cpp@{args.cpp}}
\doxysubsubsection{BITCOIN\_CONF\_FILENAME}
{\footnotesize\ttfamily \label{args_8cpp_abf57498ee2b7213f49662a019744a74d} 
const char$\ast$ const BITCOIN\+\_\+\+CONF\+\_\+\+FILENAME = "{}bitcoin.\+conf"{}}

\index{args.cpp@{args.cpp}!BITCOIN\_SETTINGS\_FILENAME@{BITCOIN\_SETTINGS\_FILENAME}}
\index{BITCOIN\_SETTINGS\_FILENAME@{BITCOIN\_SETTINGS\_FILENAME}!args.cpp@{args.cpp}}
\doxysubsubsection{BITCOIN\_SETTINGS\_FILENAME}
{\footnotesize\ttfamily \label{args_8cpp_a330154777c90859524c56e2dbf3fdb4f} 
const char$\ast$ const BITCOIN\+\_\+\+SETTINGS\+\_\+\+FILENAME = "{}settings.\+json"{}}

\index{args.cpp@{args.cpp}!gArgs@{gArgs}}
\index{gArgs@{gArgs}!args.cpp@{args.cpp}}
\doxysubsubsection{gArgs}
{\footnotesize\ttfamily \label{args_8cpp_a934b7735a5308149ab1bf3ca9fc4d694} 
\textbf{ Args\+Manager} g\+Args}

\index{args.cpp@{args.cpp}!TEST\_OPTIONS\_DOC@{TEST\_OPTIONS\_DOC}}
\index{TEST\_OPTIONS\_DOC@{TEST\_OPTIONS\_DOC}!args.cpp@{args.cpp}}
\doxysubsubsection{TEST\_OPTIONS\_DOC}
{\footnotesize\ttfamily \label{args_8cpp_a0407a17456b8daea6c8ccdd632342a5f} 
const std\+::vector$<$std\+::string$>$ TEST\+\_\+\+OPTIONS\+\_\+\+DOC}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}addrman\ (use\ deterministic\ addrman)"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}reindex\_after\_failure\_noninteractive\_yes\ (When\ asked\ for\ a\ reindex\ after\ failure\ interactively,\ simulate\ as-\/if\ answered\ with\ 'yes')"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}bip94\ (enforce\ BIP94\ consensus\ rules)"{}},}
\DoxyCodeLine{\}}

\end{DoxyCode}
