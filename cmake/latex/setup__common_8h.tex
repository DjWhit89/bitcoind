\doxysection{src/test/util/setup\+\_\+common.h File Reference}
\label{setup__common_8h}\index{src/test/util/setup\_common.h@{src/test/util/setup\_common.h}}
{\ttfamily \#include $<$common/args.\+h$>$}\newline
{\ttfamily \#include $<$kernel/caches.\+h$>$}\newline
{\ttfamily \#include $<$kernel/context.\+h$>$}\newline
{\ttfamily \#include $<$key.\+h$>$}\newline
{\ttfamily \#include $<$node/caches.\+h$>$}\newline
{\ttfamily \#include $<$node/context.\+h$>$}\newline
{\ttfamily \#include $<$optional$>$}\newline
{\ttfamily \#include $<$ostream$>$}\newline
{\ttfamily \#include $<$primitives/transaction.\+h$>$}\newline
{\ttfamily \#include $<$pubkey.\+h$>$}\newline
{\ttfamily \#include $<$stdexcept$>$}\newline
{\ttfamily \#include $<$test/util/random.\+h$>$}\newline
{\ttfamily \#include $<$util/chaintype.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/fs.\+h$>$}\newline
{\ttfamily \#include $<$util/signalinterrupt.\+h$>$}\newline
{\ttfamily \#include $<$util/string.\+h$>$}\newline
{\ttfamily \#include $<$util/vector.\+h$>$}\newline
{\ttfamily \#include $<$functional$>$}\newline
{\ttfamily \#include $<$type\+\_\+traits$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ Test\+Opts}
\item 
struct \textbf{ Basic\+Testing\+Setup}
\item 
struct \textbf{ Chain\+Testing\+Setup}
\item 
struct \textbf{ Testing\+Setup}
\item 
struct \textbf{ Reg\+Testing\+Setup}
\item 
struct \textbf{ Testnet4\+Setup}
\item 
struct \textbf{ Test\+Chain100\+Setup}
\item 
class \textbf{ Has\+Reason}
\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \textbf{ std}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ Setup\+Common\+Test\+Args} (\textbf{ Args\+Manager} \&argsman)
\item 
{\footnotesize template$<$class \textbf{ T} = const Basic\+Testing\+Setup$>$ }\\std\+::unique\+\_\+ptr$<$ \textbf{ T} $>$ \textbf{ Make\+No\+Log\+File\+Context} (const \textbf{ Chain\+Type} chain\+\_\+type=\textbf{ Chain\+Type\+::\+REGTEST}, \textbf{ Test\+Opts} opts=\{\})
\item 
\textbf{ CBlock} \textbf{ get\+Block13b8a} ()
\item 
{\footnotesize template$<$typename \textbf{ T}$>$ \newline
requires std\+::is\+\_\+enum\+\_\+v$<$\textbf{ T}$>$}\\std\+::ostream \& \textbf{ operator$<$$<$} (std\+::ostream \&os, const \textbf{ T} \&e)
\item 
{\footnotesize template$<$typename \textbf{ T}$>$ }\\std\+::ostream \& \textbf{ operator$<$$<$} (std\+::ostream \&os, const std\+::optional$<$ \textbf{ T} $>$ \&v)
\item 
std\+::ostream \& \textbf{ operator$<$$<$} (std\+::ostream \&os, const \textbf{ arith\+\_\+uint256} \&num)
\item 
std\+::ostream \& \textbf{ operator$<$$<$} (std\+::ostream \&os, const \textbf{ uint160} \&num)
\item 
std\+::ostream \& \textbf{ operator$<$$<$} (std\+::ostream \&os, const \textbf{ uint256} \&num)
\item 
std\+::ostream \& \textbf{ operator$<$$<$} (std\+::ostream \&os, const \textbf{ Txid} \&txid)
\item 
std\+::ostream \& \textbf{ operator$<$$<$} (std\+::ostream \&os, const \textbf{ Wtxid} \&wtxid)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const std\+::function$<$ void(const std\+::string \&)$>$ \textbf{ G\+\_\+\+TEST\+\_\+\+LOG\+\_\+\+FUN}
\item 
const std\+::function$<$ std\+::vector$<$ const char $\ast$ $>$()$>$ \textbf{ G\+\_\+\+TEST\+\_\+\+COMMAND\+\_\+\+LINE\+\_\+\+ARGUMENTS}
\item 
const std\+::function$<$ std\+::string()$>$ \textbf{ G\+\_\+\+TEST\+\_\+\+GET\+\_\+\+FULL\+\_\+\+NAME}
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{setup\_common.h@{setup\_common.h}!getBlock13b8a@{getBlock13b8a}}
\index{getBlock13b8a@{getBlock13b8a}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{getBlock13b8a()}
{\footnotesize\ttfamily \label{setup__common_8h_ab90d9f44c02c81299205a6b7cdd0c77a} 
\textbf{ CBlock} get\+Block13b8a (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
a real block (0000000000013b8ab2cd513b0261a14096412195a72a0c4827d229dcc7e0f7af) with 9 txs. 
\end{DoxyReturn}
\index{setup\_common.h@{setup\_common.h}!MakeNoLogFileContext@{MakeNoLogFileContext}}
\index{MakeNoLogFileContext@{MakeNoLogFileContext}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{MakeNoLogFileContext()}
{\footnotesize\ttfamily \label{setup__common_8h_ac701dbfa0fe023ed9ecf8d505798fd6d} 
template$<$class \textbf{ T} = const Basic\+Testing\+Setup$>$ \\
std\+::unique\+\_\+ptr$<$ \textbf{ T} $>$ Make\+No\+Log\+File\+Context (\begin{DoxyParamCaption}\item[{const \textbf{ Chain\+Type}}]{chain\+\_\+type}{ = {\ttfamily \textbf{ Chain\+Type\+::\+REGTEST}}, }\item[{\textbf{ Test\+Opts}}]{opts}{ = {\ttfamily \{\}}}\end{DoxyParamCaption})}

Make a test setup that has disk access to the debug.\+log file disabled. Can be used in "{}hot loops"{}, for example fuzzing or benchmarking. \index{setup\_common.h@{setup\_common.h}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{operator$<$$<$()\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily \label{setup__common_8h_ad60621104f7bdd9adb82bac58180405f} 
std\+::ostream \& operator$<$$<$ (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os}{, }\item[{const \textbf{ arith\+\_\+uint256} \&}]{num}{}\end{DoxyParamCaption})}

\index{setup\_common.h@{setup\_common.h}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{operator$<$$<$()\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily \label{setup__common_8h_ace508c9cdda1a37b91f36a25c41a1a90} 
std\+::ostream \& operator$<$$<$ (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os}{, }\item[{const \textbf{ Txid} \&}]{txid}{}\end{DoxyParamCaption})}

\index{setup\_common.h@{setup\_common.h}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{operator$<$$<$()\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily \label{setup__common_8h_aa01de713e36beedd1c2ac66a4b3f7169} 
std\+::ostream \& operator$<$$<$ (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os}{, }\item[{const \textbf{ uint160} \&}]{num}{}\end{DoxyParamCaption})}

\index{setup\_common.h@{setup\_common.h}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{operator$<$$<$()\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily \label{setup__common_8h_a318c618a5ddc8b01c5231fa3c4f8174e} 
std\+::ostream \& operator$<$$<$ (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os}{, }\item[{const \textbf{ uint256} \&}]{num}{}\end{DoxyParamCaption})}

\index{setup\_common.h@{setup\_common.h}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{operator$<$$<$()\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily \label{setup__common_8h_a1b589db9013627c82069daa01a9c1fa8} 
std\+::ostream \& operator$<$$<$ (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os}{, }\item[{const \textbf{ Wtxid} \&}]{wtxid}{}\end{DoxyParamCaption})}

\index{setup\_common.h@{setup\_common.h}!SetupCommonTestArgs@{SetupCommonTestArgs}}
\index{SetupCommonTestArgs@{SetupCommonTestArgs}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{SetupCommonTestArgs()}
{\footnotesize\ttfamily \label{setup__common_8h_a880a04126ebfe7b082867551596e2e8b} 
void Setup\+Common\+Test\+Args (\begin{DoxyParamCaption}\item[{\textbf{ Args\+Manager} \&}]{argsman}{}\end{DoxyParamCaption})}

Register common test args. Shared across binaries that rely on the test framework. 

\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{setup\_common.h@{setup\_common.h}!G\_TEST\_COMMAND\_LINE\_ARGUMENTS@{G\_TEST\_COMMAND\_LINE\_ARGUMENTS}}
\index{G\_TEST\_COMMAND\_LINE\_ARGUMENTS@{G\_TEST\_COMMAND\_LINE\_ARGUMENTS}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{G\_TEST\_COMMAND\_LINE\_ARGUMENTS}
{\footnotesize\ttfamily \label{setup__common_8h_a8bfd6cb1ba53218cfb23e264c9882595} 
const std\+::function$<$std\+::vector$<$const char$\ast$$>$()$>$ G\+\_\+\+TEST\+\_\+\+COMMAND\+\_\+\+LINE\+\_\+\+ARGUMENTS\hspace{0.3cm}{\ttfamily [extern]}}

Retrieve the command line arguments.

Retrieve the command line arguments from boost. Allows usage like\+: {\ttfamily test\+\_\+bitcoin -\/-\/run\+\_\+test="{}net\+\_\+tests/cnode\+\_\+listen\+\_\+port"{} -\/-\/ -\/checkaddrman=1 -\/printtoconsole=1} which would return {\ttfamily ["{}-\/checkaddrman=1"{}, "{}-\/printtoconsole=1"{}]}. \index{setup\_common.h@{setup\_common.h}!G\_TEST\_GET\_FULL\_NAME@{G\_TEST\_GET\_FULL\_NAME}}
\index{G\_TEST\_GET\_FULL\_NAME@{G\_TEST\_GET\_FULL\_NAME}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{G\_TEST\_GET\_FULL\_NAME}
{\footnotesize\ttfamily \label{setup__common_8h_ae4e86c1978b1356f089690f1ba14d57a} 
const std\+::function$<$std\+::string()$>$ G\+\_\+\+TEST\+\_\+\+GET\+\_\+\+FULL\+\_\+\+NAME\hspace{0.3cm}{\ttfamily [extern]}}

Retrieve the unit test name.

Retrieve the boost unit test name. \index{setup\_common.h@{setup\_common.h}!G\_TEST\_LOG\_FUN@{G\_TEST\_LOG\_FUN}}
\index{G\_TEST\_LOG\_FUN@{G\_TEST\_LOG\_FUN}!setup\_common.h@{setup\_common.h}}
\doxysubsubsection{G\_TEST\_LOG\_FUN}
{\footnotesize\ttfamily \label{setup__common_8h_a7856751c927eca1bf2f922da66530ea9} 
const std\+::function$<$void(const std\+::string\&)$>$ G\+\_\+\+TEST\+\_\+\+LOG\+\_\+\+FUN\hspace{0.3cm}{\ttfamily [extern]}}

This is connected to the logger. Can be used to redirect logs to any other log

Redirect debug log to unit\+\_\+test.\+log files 