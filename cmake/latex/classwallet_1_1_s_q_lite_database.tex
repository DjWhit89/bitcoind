\doxysection{SQLite\+Database Class Reference}
\label{classwallet_1_1_s_q_lite_database}\index{SQLiteDatabase@{SQLiteDatabase}}


{\ttfamily \#include $<$sqlite.\+h$>$}

Inheritance diagram for SQLite\+Database\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classwallet_1_1_s_q_lite_database}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ SQLite\+Database} ()=delete
\item 
\textbf{ SQLite\+Database} (const \textbf{ fs\+::path} \&dir\+\_\+path, const \textbf{ fs\+::path} \&file\+\_\+path, const \textbf{ Database\+Options} \&options, bool mock=false)
\item 
\textbf{ $\sim$\+SQLite\+Database} ()
\item 
bool \textbf{ Verify} (\textbf{ bilingual\+\_\+str} \&error)
\item 
void \textbf{ Open} () override
\item 
void \textbf{ Close} () override
\item 
bool \textbf{ Rewrite} () override
\item 
bool \textbf{ Backup} (const std\+::string \&dest) const override
\item 
std\+::string \textbf{ Filename} () override
\item 
std\+::vector$<$ \textbf{ fs\+::path} $>$ \textbf{ Files} () override
\item 
std\+::string \textbf{ Format} () override
\item 
std\+::unique\+\_\+ptr$<$ \textbf{ Database\+Batch} $>$ \textbf{ Make\+Batch} () override
\item 
bool \textbf{ Has\+Active\+Txn} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \textbf{ Wallet\+Database}}
\begin{DoxyCompactItemize}
\item 
\textbf{ Wallet\+Database} ()=default
\item 
virtual \textbf{ $\sim$\+Wallet\+Database} ()=default
\end{DoxyCompactItemize}
\doxysubsubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
std\+::binary\+\_\+semaphore \textbf{ m\+\_\+write\+\_\+semaphore}
\item 
sqlite3 $\ast$ \textbf{ m\+\_\+db} \{nullptr\}
\item 
bool \textbf{ m\+\_\+use\+\_\+unsafe\+\_\+sync}
\end{DoxyCompactItemize}
\doxysubsection*{Data Fields inherited from \textbf{ Wallet\+Database}}
\begin{DoxyCompactItemize}
\item 
std\+::atomic$<$ int $>$ \textbf{ m\+\_\+refcount} \{0\}
\begin{DoxyCompactList}\small\item\em Counts the number of active database users to be sure that the database is not closed while someone is using it. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
An instance of this class represents one SQLite3 database. 

\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{SQLiteDatabase@{SQLiteDatabase}!SQLiteDatabase@{SQLiteDatabase}}
\index{SQLiteDatabase@{SQLiteDatabase}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{SQLiteDatabase()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a18a91d1df5ca1dfc2d1a6bdbac5d93ed} 
SQLite\+Database (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\index{SQLiteDatabase@{SQLiteDatabase}!SQLiteDatabase@{SQLiteDatabase}}
\index{SQLiteDatabase@{SQLiteDatabase}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{SQLiteDatabase()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_ab9d830c27509bcbd13c0a22b1f2a6275} 
SQLite\+Database (\begin{DoxyParamCaption}\item[{const \textbf{ fs\+::path} \&}]{dir\+\_\+path}{, }\item[{const \textbf{ fs\+::path} \&}]{file\+\_\+path}{, }\item[{const \textbf{ Database\+Options} \&}]{options}{, }\item[{bool}]{mock}{ = {\ttfamily false}}\end{DoxyParamCaption})}

Create \doxyref{DB}{p.}{class_d_b} handle to real database \index{SQLiteDatabase@{SQLiteDatabase}!````~SQLiteDatabase@{$\sim$SQLiteDatabase}}
\index{````~SQLiteDatabase@{$\sim$SQLiteDatabase}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{$\sim$SQLiteDatabase()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_ad7fd5237c389bd182f8025c05300da51} 
$\sim$\textbf{ SQLite\+Database} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{SQLiteDatabase@{SQLiteDatabase}!Backup@{Backup}}
\index{Backup@{Backup}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{Backup()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a9007e8d5abbe567c3255a71d3802dc94} 
bool Backup (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{dest}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Back up the entire database to a file. 

Implements \textbf{ Wallet\+Database} \doxyref{}{p.}{classwallet_1_1_wallet_database_a128c0cdd162a59b9e673b7b3ef25e5eb}.

\index{SQLiteDatabase@{SQLiteDatabase}!Close@{Close}}
\index{Close@{Close}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{Close()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a0f9aecd570c4e5e6d41337f0e2f1adf5} 
void Close (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Close the database 

Implements \textbf{ Wallet\+Database} \doxyref{}{p.}{classwallet_1_1_wallet_database_aacb6d0e5e6d570cdc2b0da14c3921ff0}.

\index{SQLiteDatabase@{SQLiteDatabase}!Filename@{Filename}}
\index{Filename@{Filename}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{Filename()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a5763f6a37436a3c2ea3055108142d4fe} 
std\+::string Filename (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Return path to main database file for logs and error messages. 

Implements \textbf{ Wallet\+Database} \doxyref{}{p.}{classwallet_1_1_wallet_database_a25ad5f26118c00b51c1d1cdfe4dde260}.

\index{SQLiteDatabase@{SQLiteDatabase}!Files@{Files}}
\index{Files@{Files}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{Files()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a374248409e6c55c3a928c4c464f25ce2} 
std\+::vector$<$ \textbf{ fs\+::path} $>$ Files (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Return paths to all database created files 

Implements \textbf{ Wallet\+Database} \doxyref{}{p.}{classwallet_1_1_wallet_database_a5ce53d218b3605687ac43ddf1db7b152}.

\index{SQLiteDatabase@{SQLiteDatabase}!Format@{Format}}
\index{Format@{Format}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{Format()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_ab484e14597e1c01509c032bf827ed268} 
std\+::string \textbf{ Format} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \textbf{ Wallet\+Database} \doxyref{}{p.}{classwallet_1_1_wallet_database_af4e31ecb708419370270e68032cf9c40}.

\index{SQLiteDatabase@{SQLiteDatabase}!HasActiveTxn@{HasActiveTxn}}
\index{HasActiveTxn@{HasActiveTxn}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{HasActiveTxn()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a4387c8d49e22c8cf4db1e344937750d3} 
bool Has\+Active\+Txn (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Return true if there is an on-\/going txn in this connection \index{SQLiteDatabase@{SQLiteDatabase}!MakeBatch@{MakeBatch}}
\index{MakeBatch@{MakeBatch}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{MakeBatch()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a5f4d22dcb275c0d9067128fae22d0410} 
std\+::unique\+\_\+ptr$<$ \textbf{ Database\+Batch} $>$ Make\+Batch (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Make a \doxyref{SQLite\+Batch}{p.}{classwallet_1_1_s_q_lite_batch} connected to this database 

Implements \textbf{ Wallet\+Database} \doxyref{}{p.}{classwallet_1_1_wallet_database_a44572b5ff40991b2f6883eec7f1b800b}.

\index{SQLiteDatabase@{SQLiteDatabase}!Open@{Open}}
\index{Open@{Open}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{Open()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_acf67a6e477cdfa63a5e865e472441a17} 
void Open (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Open the database if it is not already opened 

Implements \textbf{ Wallet\+Database} \doxyref{}{p.}{classwallet_1_1_wallet_database_af3d7c172541d28c555ba083eeaa8fafb}.

\index{SQLiteDatabase@{SQLiteDatabase}!Rewrite@{Rewrite}}
\index{Rewrite@{Rewrite}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{Rewrite()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a2269883cba6033755413f1d878f70e18} 
bool Rewrite (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Rewrite the entire database on disk 

Implements \textbf{ Wallet\+Database} \doxyref{}{p.}{classwallet_1_1_wallet_database_a6dc9d008c3beb3b25cdfb0f9d9953cef}.

\index{SQLiteDatabase@{SQLiteDatabase}!Verify@{Verify}}
\index{Verify@{Verify}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{Verify()}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_ae140fa27ba0b2ca16ae25805c89e9eb1} 
bool Verify (\begin{DoxyParamCaption}\item[{\textbf{ bilingual\+\_\+str} \&}]{error}{}\end{DoxyParamCaption})}



\label{doc-variable-members}
\doxysubsection{Field Documentation}
\index{SQLiteDatabase@{SQLiteDatabase}!m\_db@{m\_db}}
\index{m\_db@{m\_db}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{m\_db}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a34ef3d8c9ef73eb6f90e4cd9a533fc97} 
sqlite3$\ast$ m\+\_\+db \{nullptr\}}

\index{SQLiteDatabase@{SQLiteDatabase}!m\_use\_unsafe\_sync@{m\_use\_unsafe\_sync}}
\index{m\_use\_unsafe\_sync@{m\_use\_unsafe\_sync}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{m\_use\_unsafe\_sync}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a57fa97952bfb5475359c67d43f4760e9} 
bool m\+\_\+use\+\_\+unsafe\+\_\+sync}

\index{SQLiteDatabase@{SQLiteDatabase}!m\_write\_semaphore@{m\_write\_semaphore}}
\index{m\_write\_semaphore@{m\_write\_semaphore}!SQLiteDatabase@{SQLiteDatabase}}
\doxysubsubsection{m\_write\_semaphore}
{\footnotesize\ttfamily \label{classwallet_1_1_s_q_lite_database_a224bcaf44ebb66359abdc37c846dce16} 
std\+::binary\+\_\+semaphore m\+\_\+write\+\_\+semaphore}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/wallet/\textbf{ sqlite.\+h}\item 
src/wallet/\textbf{ sqlite.\+cpp}\end{DoxyCompactItemize}
