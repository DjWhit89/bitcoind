\doxysection{src/test/transaction\+\_\+tests.cpp File Reference}
\label{transaction__tests_8cpp}\index{src/test/transaction\_tests.cpp@{src/test/transaction\_tests.cpp}}
{\ttfamily \#include $<$test/data/tx\+\_\+invalid.\+json.\+h$>$}\newline
{\ttfamily \#include $<$test/data/tx\+\_\+valid.\+json.\+h$>$}\newline
{\ttfamily \#include $<$test/util/setup\+\_\+common.\+h$>$}\newline
{\ttfamily \#include $<$checkqueue.\+h$>$}\newline
{\ttfamily \#include $<$clientversion.\+h$>$}\newline
{\ttfamily \#include $<$consensus/amount.\+h$>$}\newline
{\ttfamily \#include $<$consensus/tx\+\_\+check.\+h$>$}\newline
{\ttfamily \#include $<$consensus/tx\+\_\+verify.\+h$>$}\newline
{\ttfamily \#include $<$consensus/validation.\+h$>$}\newline
{\ttfamily \#include $<$core\+\_\+io.\+h$>$}\newline
{\ttfamily \#include $<$key.\+h$>$}\newline
{\ttfamily \#include $<$policy/policy.\+h$>$}\newline
{\ttfamily \#include $<$policy/settings.\+h$>$}\newline
{\ttfamily \#include $<$primitives/transaction\+\_\+identifier.\+h$>$}\newline
{\ttfamily \#include $<$script/interpreter.\+h$>$}\newline
{\ttfamily \#include $<$script/script.\+h$>$}\newline
{\ttfamily \#include $<$script/script\+\_\+error.\+h$>$}\newline
{\ttfamily \#include $<$script/sigcache.\+h$>$}\newline
{\ttfamily \#include $<$script/sign.\+h$>$}\newline
{\ttfamily \#include $<$script/signingprovider.\+h$>$}\newline
{\ttfamily \#include $<$script/solver.\+h$>$}\newline
{\ttfamily \#include $<$streams.\+h$>$}\newline
{\ttfamily \#include $<$test/util/json.\+h$>$}\newline
{\ttfamily \#include $<$test/util/random.\+h$>$}\newline
{\ttfamily \#include $<$test/util/script.\+h$>$}\newline
{\ttfamily \#include $<$test/util/transaction\+\_\+utils.\+h$>$}\newline
{\ttfamily \#include $<$util/strencodings.\+h$>$}\newline
{\ttfamily \#include $<$util/string.\+h$>$}\newline
{\ttfamily \#include $<$validation.\+h$>$}\newline
{\ttfamily \#include $<$functional$>$}\newline
{\ttfamily \#include $<$map$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$boost/test/unit\+\_\+test.\+hpp$>$}\newline
{\ttfamily \#include $<$univalue.\+h$>$}\newline
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef std\+::vector$<$ unsigned char $>$ \textbf{ valtype}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ script\+\_\+verify\+\_\+flags} \textbf{ Parse\+Script\+Flags} (std\+::string str\+Flags)
\item 
bool \textbf{ Check\+Map\+Flag\+Names} ()
\item 
bool \textbf{ Check\+Tx\+Scripts} (const \textbf{ CTransaction} \&tx, const std\+::map$<$ \textbf{ COut\+Point}, \textbf{ CScript} $>$ \&map\+\_\+prevout\+\_\+script\+Pub\+Keys, const std\+::map$<$ \textbf{ COut\+Point}, int64\+\_\+t $>$ \&map\+\_\+prevout\+\_\+values, \textbf{ script\+\_\+verify\+\_\+flags} \textbf{ flags}, const \textbf{ Precomputed\+Transaction\+Data} \&txdata, const std\+::string \&str\+Test, bool expect\+\_\+valid)
\item 
\textbf{ script\+\_\+verify\+\_\+flags} \textbf{ Trim\+Flags} (\textbf{ script\+\_\+verify\+\_\+flags} \textbf{ flags})
\item 
\textbf{ script\+\_\+verify\+\_\+flags} \textbf{ Fill\+Flags} (\textbf{ script\+\_\+verify\+\_\+flags} \textbf{ flags})
\item 
std\+::set$<$ \textbf{ script\+\_\+verify\+\_\+flags} $>$ \textbf{ Exclude\+Individual\+Flags} (\textbf{ script\+\_\+verify\+\_\+flags} \textbf{ flags})
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (tx\+\_\+valid)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (tx\+\_\+invalid)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (tx\+\_\+no\+\_\+inputs)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (tx\+\_\+oversized)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (basic\+\_\+transaction\+\_\+tests)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (test\+\_\+\+Get)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (test\+\_\+big\+\_\+witness\+\_\+transaction)
\item 
\textbf{ Signature\+Data} \textbf{ Combine\+Signatures} (const \textbf{ CMutable\+Transaction} \&input1, const \textbf{ CMutable\+Transaction} \&input2, const \textbf{ CTransaction\+Ref} tx)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (test\+\_\+witness)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (test\+\_\+\+Is\+Standard)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (max\+\_\+standard\+\_\+legacy\+\_\+sigops)
\item 
\textbf{ BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE} (spends\+\_\+witness\+\_\+prog)
\item 
std\+::vector$<$ std\+::string $>$ \textbf{ Split\+String} (std\+::string\+\_\+view str, char sep)
\item 
{\footnotesize template$<$typename \textbf{ T}$>$ }\\std\+::string \textbf{ To\+String} (const \textbf{ T} \&t)
\end{DoxyCompactItemize}


\label{doc-typedef-members}
\doxysubsection{Typedef Documentation}
\index{transaction\_tests.cpp@{transaction\_tests.cpp}!valtype@{valtype}}
\index{valtype@{valtype}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{valtype}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a893ae190c4461e89b01441657f8975ed} 
typedef std\+::vector$<$unsigned char$>$ \textbf{ valtype}}



\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [1/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_abfa216e661a69da58fec819247ba2ced} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{basic\+\_\+transaction\+\_\+tests}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [2/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_af9169f3465292ee353eb021fa39a2e25} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{max\+\_\+standard\+\_\+legacy\+\_\+sigops}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [3/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a168924eda5a8df96dd4dabe68cc1e401} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{spends\+\_\+witness\+\_\+prog}]{}{}\end{DoxyParamCaption})}

Sanity check the return value of Spends\+Non\+Anchor\+Witness\+Prog for various output types. \index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [4/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a3b970137fe0d0c5e4464a545e7fcba0c} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{test\+\_\+big\+\_\+witness\+\_\+transaction}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [5/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_abac0e30fbb3cdbf99203bdf052f013a1} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{test\+\_\+\+Get}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [6/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_ae68d0c93989e7a6f9830b7fb89e95710} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{test\+\_\+\+Is\+Standard}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [7/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a0343c37f3a798adf74ff349ae96cd1b6} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{test\+\_\+witness}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [8/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a9cdc5fd4afb0ced7215c30e8cc05630d} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{tx\+\_\+invalid}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [9/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a1fa06411191d8a8214b76df05c8b98bd} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{tx\+\_\+no\+\_\+inputs}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [10/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_ac1bc00735f828d517affc6ba959b83f1} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{tx\+\_\+oversized}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}}
\index{BOOST\_AUTO\_TEST\_CASE@{BOOST\_AUTO\_TEST\_CASE}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{BOOST\_AUTO\_TEST\_CASE()\hspace{0.1cm}{\footnotesize\ttfamily [11/11]}}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a95cc8e41ddd51e8968c72fad030189bb} 
BOOST\+\_\+\+AUTO\+\_\+\+TEST\+\_\+\+CASE (\begin{DoxyParamCaption}\item[{tx\+\_\+valid}]{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!CheckMapFlagNames@{CheckMapFlagNames}}
\index{CheckMapFlagNames@{CheckMapFlagNames}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{CheckMapFlagNames()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_ab18a3d5275995a65f9a3276c6d8245c7} 
bool Check\+Map\+Flag\+Names (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!CheckTxScripts@{CheckTxScripts}}
\index{CheckTxScripts@{CheckTxScripts}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{CheckTxScripts()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a4d7df04fe5ecad624864ccb538b6ffe7} 
bool Check\+Tx\+Scripts (\begin{DoxyParamCaption}\item[{const \textbf{ CTransaction} \&}]{tx}{, }\item[{const std\+::map$<$ \textbf{ COut\+Point}, \textbf{ CScript} $>$ \&}]{map\+\_\+prevout\+\_\+script\+Pub\+Keys}{, }\item[{const std\+::map$<$ \textbf{ COut\+Point}, int64\+\_\+t $>$ \&}]{map\+\_\+prevout\+\_\+values}{, }\item[{\textbf{ script\+\_\+verify\+\_\+flags}}]{flags}{, }\item[{const \textbf{ Precomputed\+Transaction\+Data} \&}]{txdata}{, }\item[{const std\+::string \&}]{str\+Test}{, }\item[{bool}]{expect\+\_\+valid}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!CombineSignatures@{CombineSignatures}}
\index{CombineSignatures@{CombineSignatures}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{CombineSignatures()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a033e0616dd2d750b23890882f14e3e97} 
\textbf{ Signature\+Data} Combine\+Signatures (\begin{DoxyParamCaption}\item[{const \textbf{ CMutable\+Transaction} \&}]{input1}{, }\item[{const \textbf{ CMutable\+Transaction} \&}]{input2}{, }\item[{const \textbf{ CTransaction\+Ref}}]{tx}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!ExcludeIndividualFlags@{ExcludeIndividualFlags}}
\index{ExcludeIndividualFlags@{ExcludeIndividualFlags}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{ExcludeIndividualFlags()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a46985d747d56d076f5fd7e64a05450ff} 
std\+::set$<$ \textbf{ script\+\_\+verify\+\_\+flags} $>$ Exclude\+Individual\+Flags (\begin{DoxyParamCaption}\item[{\textbf{ script\+\_\+verify\+\_\+flags}}]{flags}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!FillFlags@{FillFlags}}
\index{FillFlags@{FillFlags}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{FillFlags()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a4d6057fbb025c80dfd75ceb1d528f424} 
\textbf{ script\+\_\+verify\+\_\+flags} Fill\+Flags (\begin{DoxyParamCaption}\item[{\textbf{ script\+\_\+verify\+\_\+flags}}]{flags}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!ParseScriptFlags@{ParseScriptFlags}}
\index{ParseScriptFlags@{ParseScriptFlags}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{ParseScriptFlags()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_aa003a32df6df5100059432c457c236ad} 
\textbf{ script\+\_\+verify\+\_\+flags} Parse\+Script\+Flags (\begin{DoxyParamCaption}\item[{std\+::string}]{str\+Flags}{}\end{DoxyParamCaption})}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!SplitString@{SplitString}}
\index{SplitString@{SplitString}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{SplitString()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_aa8c971a6e91a687b968e737c9d22de2c} 
std\+::vector$<$ std\+::string $>$ Split\+String (\begin{DoxyParamCaption}\item[{std\+::string\+\_\+view}]{str}{, }\item[{char}]{sep}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}}

\index{transaction\_tests.cpp@{transaction\_tests.cpp}!ToString@{ToString}}
\index{ToString@{ToString}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{ToString()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_aec2c30b1707eac00ff7e4fb5b3f7a92d} 
template$<$typename \textbf{ T}$>$ \\
std\+::string To\+String (\begin{DoxyParamCaption}\item[{const \textbf{ T} \&}]{t}{}\end{DoxyParamCaption})}

Locale-\/independent version of std\+::to\+\_\+string \index{transaction\_tests.cpp@{transaction\_tests.cpp}!TrimFlags@{TrimFlags}}
\index{TrimFlags@{TrimFlags}!transaction\_tests.cpp@{transaction\_tests.cpp}}
\doxysubsubsection{TrimFlags()}
{\footnotesize\ttfamily \label{transaction__tests_8cpp_a76624341686b3cc157a6656ea184ad9c} 
\textbf{ script\+\_\+verify\+\_\+flags} Trim\+Flags (\begin{DoxyParamCaption}\item[{\textbf{ script\+\_\+verify\+\_\+flags}}]{flags}{}\end{DoxyParamCaption})}

