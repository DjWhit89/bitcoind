\doxysection{src/rest.cpp File Reference}
\label{rest_8cpp}\index{src/rest.cpp@{src/rest.cpp}}
{\ttfamily \#include $<$rest.\+h$>$}\newline
{\ttfamily \#include $<$blockfilter.\+h$>$}\newline
{\ttfamily \#include $<$chain.\+h$>$}\newline
{\ttfamily \#include $<$chainparams.\+h$>$}\newline
{\ttfamily \#include $<$core\+\_\+io.\+h$>$}\newline
{\ttfamily \#include $<$flatfile.\+h$>$}\newline
{\ttfamily \#include $<$httpserver.\+h$>$}\newline
{\ttfamily \#include $<$index/blockfilterindex.\+h$>$}\newline
{\ttfamily \#include $<$index/txindex.\+h$>$}\newline
{\ttfamily \#include $<$node/blockstorage.\+h$>$}\newline
{\ttfamily \#include $<$node/context.\+h$>$}\newline
{\ttfamily \#include $<$primitives/block.\+h$>$}\newline
{\ttfamily \#include $<$primitives/transaction.\+h$>$}\newline
{\ttfamily \#include $<$rpc/blockchain.\+h$>$}\newline
{\ttfamily \#include $<$rpc/mempool.\+h$>$}\newline
{\ttfamily \#include $<$rpc/protocol.\+h$>$}\newline
{\ttfamily \#include $<$rpc/server.\+h$>$}\newline
{\ttfamily \#include $<$rpc/server\+\_\+util.\+h$>$}\newline
{\ttfamily \#include $<$streams.\+h$>$}\newline
{\ttfamily \#include $<$sync.\+h$>$}\newline
{\ttfamily \#include $<$txmempool.\+h$>$}\newline
{\ttfamily \#include $<$undo.\+h$>$}\newline
{\ttfamily \#include $<$util/any.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/strencodings.\+h$>$}\newline
{\ttfamily \#include $<$validation.\+h$>$}\newline
{\ttfamily \#include $<$any$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$univalue.\+h$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ CCoin}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ RESTResponse\+Format} \textbf{ Parse\+Data\+Format} (std\+::string \&param, const std\+::string \&str\+Req)
\item 
\textbf{ RPCHelp\+Man} \textbf{ getblockchaininfo} ()
\item 
\textbf{ RPCHelp\+Man} \textbf{ getdeploymentinfo} ()
\item 
void \textbf{ Start\+REST} (const std\+::any \&context)
\item 
void \textbf{ Interrupt\+REST} ()
\item 
void \textbf{ Stop\+REST} ()
\item 
\textbf{ CTransaction\+Ref} \textbf{ Get\+Transaction} (const \textbf{ CBlock\+Index} $\ast$const block\+\_\+index, const \textbf{ CTx\+Mem\+Pool} $\ast$const mempool, const \textbf{ Txid} \&hash, const \textbf{ Block\+Manager} \&blockman, \textbf{ uint256} \&hash\+Block)
\item 
std\+::vector$<$ std\+::string $>$ \textbf{ Split\+String} (std\+::string\+\_\+view str, char sep)
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{rest.cpp@{rest.cpp}!getblockchaininfo@{getblockchaininfo}}
\index{getblockchaininfo@{getblockchaininfo}!rest.cpp@{rest.cpp}}
\doxysubsubsection{getblockchaininfo()}
{\footnotesize\ttfamily \label{rest_8cpp_a9fc64b62e8fe0dc5e5c08e681dfa9842} 
\textbf{ RPCHelp\+Man} getblockchaininfo (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{rest.cpp@{rest.cpp}!getdeploymentinfo@{getdeploymentinfo}}
\index{getdeploymentinfo@{getdeploymentinfo}!rest.cpp@{rest.cpp}}
\doxysubsubsection{getdeploymentinfo()}
{\footnotesize\ttfamily \label{rest_8cpp_a8607eb67a5d43764422aa95ce363e346} 
\textbf{ RPCHelp\+Man} getdeploymentinfo (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{rest.cpp@{rest.cpp}!GetTransaction@{GetTransaction}}
\index{GetTransaction@{GetTransaction}!rest.cpp@{rest.cpp}}
\doxysubsubsection{GetTransaction()}
{\footnotesize\ttfamily \label{rest_8cpp_a5164d41fdf8e6d77e7a7a4e94041e537} 
\textbf{ CTransaction\+Ref} Get\+Transaction (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} $\ast$const}]{block\+\_\+index}{, }\item[{const \textbf{ CTx\+Mem\+Pool} $\ast$const}]{mempool}{, }\item[{const \textbf{ Txid} \&}]{hash}{, }\item[{const \textbf{ Block\+Manager} \&}]{blockman}{, }\item[{\textbf{ uint256} \&}]{hash\+Block}{}\end{DoxyParamCaption})}

Return transaction with a given hash. If mempool is provided and block\+\_\+index is not provided, check it first for the tx. If -\/txindex is available, check it next for the tx. Finally, if block\+\_\+index is provided, check for tx by reading entire block from disk.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em block\+\_\+index} & The block to read from disk, or nullptr \\
\hline
\mbox{\texttt{in}}  & {\em mempool} & If provided, check mempool for tx \\
\hline
\mbox{\texttt{in}}  & {\em hash} & The txid \\
\hline
\mbox{\texttt{in}}  & {\em blockman} & Used to access and read blocks from disk \\
\hline
\mbox{\texttt{out}}  & {\em hash\+Block} & The block hash, if the tx was found via -\/txindex or block\+\_\+index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The tx if found, otherwise nullptr 
\end{DoxyReturn}
\index{rest.cpp@{rest.cpp}!InterruptREST@{InterruptREST}}
\index{InterruptREST@{InterruptREST}!rest.cpp@{rest.cpp}}
\doxysubsubsection{InterruptREST()}
{\footnotesize\ttfamily \label{rest_8cpp_aaf0700868c430b2f0fdd719977f4b115} 
void Interrupt\+REST (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Interrupt RPC REST subsystem. \index{rest.cpp@{rest.cpp}!ParseDataFormat@{ParseDataFormat}}
\index{ParseDataFormat@{ParseDataFormat}!rest.cpp@{rest.cpp}}
\doxysubsubsection{ParseDataFormat()}
{\footnotesize\ttfamily \label{rest_8cpp_aef130237734384c4861de3079dabdde0} 
\textbf{ RESTResponse\+Format} Parse\+Data\+Format (\begin{DoxyParamCaption}\item[{std\+::string \&}]{param}{, }\item[{const std\+::string \&}]{str\+Req}{}\end{DoxyParamCaption})}

Parse a URI to get the data format and URI without data format and query string.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{out}}  & {\em param} & The str\+Req without the data format string and without the query string (if any). \\
\hline
\mbox{\texttt{in}}  & {\em str\+Req} & The URI to be parsed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxyref{RESTResponse\+Format}{p.}{rest_8h_a7a3cf64b0424ebd4d2dd8bf199f74d28} that was parsed from the URI. 
\end{DoxyReturn}
\index{rest.cpp@{rest.cpp}!SplitString@{SplitString}}
\index{SplitString@{SplitString}!rest.cpp@{rest.cpp}}
\doxysubsubsection{SplitString()}
{\footnotesize\ttfamily \label{rest_8cpp_aa8c971a6e91a687b968e737c9d22de2c} 
std\+::vector$<$ std\+::string $>$ Split\+String (\begin{DoxyParamCaption}\item[{std\+::string\+\_\+view}]{str}{, }\item[{char}]{sep}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}}

\index{rest.cpp@{rest.cpp}!StartREST@{StartREST}}
\index{StartREST@{StartREST}!rest.cpp@{rest.cpp}}
\doxysubsubsection{StartREST()}
{\footnotesize\ttfamily \label{rest_8cpp_a5dbd9c0ad05ffbd52b3780aa6d1316a1} 
void Start\+REST (\begin{DoxyParamCaption}\item[{const std\+::any \&}]{context}{}\end{DoxyParamCaption})}

Start HTTP REST subsystem. Precondition; HTTP and RPC has been started. \index{rest.cpp@{rest.cpp}!StopREST@{StopREST}}
\index{StopREST@{StopREST}!rest.cpp@{rest.cpp}}
\doxysubsubsection{StopREST()}
{\footnotesize\ttfamily \label{rest_8cpp_a85472e8d58ccbe1aaf2c239ae0d7d185} 
void Stop\+REST (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Stop HTTP REST subsystem. Precondition; HTTP and RPC has been stopped. 

\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{rest.cpp@{rest.cpp}!handler@{handler}}
\index{handler@{handler}!rest.cpp@{rest.cpp}}
\doxysubsubsection{handler}
{\footnotesize\ttfamily \label{rest_8cpp_a69e29ff93cc45cfc17d3be13aa2e2182} 
bool($\ast$ handler) (const std\+::any \&context, \textbf{ HTTPRequest} $\ast$req, const std\+::string \&str\+Req) (\begin{DoxyParamCaption}\item[{const std\+::any \&}]{context}{, }\item[{\textbf{ HTTPRequest} $\ast$}]{req}{, }\item[{const std\+::string \&}]{str\+Req}{}\end{DoxyParamCaption})}

\index{rest.cpp@{rest.cpp}!name@{name}}
\index{name@{name}!rest.cpp@{rest.cpp}}
\doxysubsubsection{name}
{\footnotesize\ttfamily \label{rest_8cpp_a8f8f80d37794cde9472343e4487ba3eb} 
const char$\ast$ name}

\index{rest.cpp@{rest.cpp}!prefix@{prefix}}
\index{prefix@{prefix}!rest.cpp@{rest.cpp}}
\doxysubsubsection{prefix}
{\footnotesize\ttfamily \label{rest_8cpp_a5b41c5ae4505891e6c53e26df197e02b} 
const char$\ast$ prefix}

\index{rest.cpp@{rest.cpp}!rf@{rf}}
\index{rf@{rf}!rest.cpp@{rest.cpp}}
\doxysubsubsection{rf}
{\footnotesize\ttfamily \label{rest_8cpp_a2883b2b9f14cc586cb630a58f26c068e} 
\textbf{ RESTResponse\+Format} rf}

