\doxysection{src/addresstype.h File Reference}
\label{addresstype_8h}\index{src/addresstype.h@{src/addresstype.h}}
{\ttfamily \#include $<$attributes.\+h$>$}\newline
{\ttfamily \#include $<$pubkey.\+h$>$}\newline
{\ttfamily \#include $<$script/script.\+h$>$}\newline
{\ttfamily \#include $<$uint256.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/hash\+\_\+type.\+h$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$variant$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \textbf{ CNo\+Destination}
\item 
struct \textbf{ Pub\+Key\+Destination}
\item 
struct \textbf{ PKHash}
\item 
struct \textbf{ Script\+Hash}
\item 
struct \textbf{ Witness\+V0\+Script\+Hash}
\item 
struct \textbf{ Witness\+V0\+Key\+Hash}
\item 
struct \textbf{ Witness\+V1\+Taproot}
\item 
struct \textbf{ Witness\+Unknown}
\begin{DoxyCompactList}\small\item\em \doxyref{CTx\+Destination}{p.}{addresstype_8h_abf613dc5a753218ddc85df6ff269be12} subtype to encode any future Witness version. \end{DoxyCompactList}\item 
struct \textbf{ Pay\+To\+Anchor}
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \textbf{ CTx\+Destination} = std\+::variant$<$\textbf{ CNo\+Destination}, \textbf{ Pub\+Key\+Destination}, \textbf{ PKHash}, \textbf{ Script\+Hash}, \textbf{ Witness\+V0\+Script\+Hash}, \textbf{ Witness\+V0\+Key\+Hash}, \textbf{ Witness\+V1\+Taproot}, \textbf{ Pay\+To\+Anchor}, \textbf{ Witness\+Unknown}$>$
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ CKey\+ID} \textbf{ To\+Key\+ID} (const \textbf{ PKHash} \&key\+\_\+hash)
\item 
\textbf{ CScript\+ID} \textbf{ To\+Script\+ID} (const \textbf{ Script\+Hash} \&script\+\_\+hash)
\item 
\textbf{ CKey\+ID} \textbf{ To\+Key\+ID} (const \textbf{ Witness\+V0\+Key\+Hash} \&key\+\_\+hash)
\item 
bool \textbf{ Is\+Valid\+Destination} (const \textbf{ CTx\+Destination} \&dest)
\item 
bool \textbf{ Extract\+Destination} (const \textbf{ CScript} \&script\+Pub\+Key, \textbf{ CTx\+Destination} \&address\+Ret)
\item 
\textbf{ CScript} \textbf{ Get\+Script\+For\+Destination} (const \textbf{ CTx\+Destination} \&dest)
\end{DoxyCompactItemize}


\label{doc-typedef-members}
\doxysubsection{Typedef Documentation}
\index{addresstype.h@{addresstype.h}!CTxDestination@{CTxDestination}}
\index{CTxDestination@{CTxDestination}!addresstype.h@{addresstype.h}}
\doxysubsubsection{CTxDestination}
{\footnotesize\ttfamily \label{addresstype_8h_abf613dc5a753218ddc85df6ff269be12} 
using \textbf{ CTx\+Destination} = std\+::variant$<$\textbf{ CNo\+Destination}, \textbf{ Pub\+Key\+Destination}, \textbf{ PKHash}, \textbf{ Script\+Hash}, \textbf{ Witness\+V0\+Script\+Hash}, \textbf{ Witness\+V0\+Key\+Hash}, \textbf{ Witness\+V1\+Taproot}, \textbf{ Pay\+To\+Anchor}, \textbf{ Witness\+Unknown}$>$}

A txout script categorized into standard templates.
\begin{DoxyItemize}
\item \doxyref{CNo\+Destination}{p.}{class_c_no_destination}\+: Optionally a script, no corresponding address.
\item \doxyref{Pub\+Key\+Destination}{p.}{struct_pub_key_destination}\+: \doxyref{Txout\+Type\+::\+PUBKEY}{p.}{solver_8h_ac908d0e5a62eac70931dae97c6fd3c8faef44d07ca186ab3d0e8f7b211aaa9dab} (P2\+PK), no corresponding address
\item \doxyref{PKHash}{p.}{struct_p_k_hash}\+: \doxyref{Txout\+Type\+::\+PUBKEYHASH}{p.}{solver_8h_ac908d0e5a62eac70931dae97c6fd3c8fa6f659c5c6a9ef703f9bf764627c38a98} destination (P2\+PKH address)
\item \doxyref{Script\+Hash}{p.}{struct_script_hash}\+: \doxyref{Txout\+Type\+::\+SCRIPTHASH}{p.}{solver_8h_ac908d0e5a62eac70931dae97c6fd3c8fa27f02ca8bff408e6f6bfa149474cc28e} destination (P2\+SH address)
\item \doxyref{Witness\+V0\+Script\+Hash}{p.}{struct_witness_v0_script_hash}\+: \doxyref{Txout\+Type\+::\+WITNESS\+\_\+\+V0\+\_\+\+SCRIPTHASH}{p.}{solver_8h_ac908d0e5a62eac70931dae97c6fd3c8fa264ed4d13f767aab3553a6144d64b226} destination (P2\+WSH address)
\item \doxyref{Witness\+V0\+Key\+Hash}{p.}{struct_witness_v0_key_hash}\+: \doxyref{Txout\+Type\+::\+WITNESS\+\_\+\+V0\+\_\+\+KEYHASH}{p.}{solver_8h_ac908d0e5a62eac70931dae97c6fd3c8fae7992ec297aa2c0cb081815c6a671668} destination (P2\+WPKH address)
\item \doxyref{Witness\+V1\+Taproot}{p.}{struct_witness_v1_taproot}\+: \doxyref{Txout\+Type\+::\+WITNESS\+\_\+\+V1\+\_\+\+TAPROOT}{p.}{solver_8h_ac908d0e5a62eac70931dae97c6fd3c8fa049dd79ed8ccf583d838427d6fc30d9f} destination (P2\+TR address)
\item \doxyref{Pay\+To\+Anchor}{p.}{struct_pay_to_anchor}\+: \doxyref{Txout\+Type\+::\+ANCHOR}{p.}{solver_8h_ac908d0e5a62eac70931dae97c6fd3c8fa1d0d6d35c52e907b5e0af4a7f5a81a9f} destination (P2A address)
\item \doxyref{Witness\+Unknown}{p.}{struct_witness_unknown}\+: \doxyref{Txout\+Type\+::\+WITNESS\+\_\+\+UNKNOWN}{p.}{solver_8h_ac908d0e5a62eac70931dae97c6fd3c8fa0a72348992c8c18c766d8b4040e48065} destination (P2W??? address) A \doxyref{CTx\+Destination}{p.}{addresstype_8h_abf613dc5a753218ddc85df6ff269be12} is the internal data type encoded in a bitcoin address 
\end{DoxyItemize}

\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{addresstype.h@{addresstype.h}!ExtractDestination@{ExtractDestination}}
\index{ExtractDestination@{ExtractDestination}!addresstype.h@{addresstype.h}}
\doxysubsubsection{ExtractDestination()}
{\footnotesize\ttfamily \label{addresstype_8h_a951f7e601746ae076afdf3169ecca2fc} 
bool Extract\+Destination (\begin{DoxyParamCaption}\item[{const \textbf{ CScript} \&}]{script\+Pub\+Key}{, }\item[{\textbf{ CTx\+Destination} \&}]{address\+Ret}{}\end{DoxyParamCaption})}

Parse a script\+Pub\+Key for the destination.

For standard scripts that have addresses (and P2\+PK as an exception), a corresponding \doxyref{CTx\+Destination}{p.}{addresstype_8h_abf613dc5a753218ddc85df6ff269be12} is assigned to address\+Ret. For all other scripts. address\+Ret is assigned as a \doxyref{CNo\+Destination}{p.}{class_c_no_destination} containing the script\+Pub\+Key.

Returns true for standard destinations with addresses -\/ P2\+PKH, P2\+SH, P2\+WPKH, P2\+WSH, P2\+TR and P2W??? scripts. Returns false for non-\/standard destinations and those without addresses -\/ P2\+PK, bare multisig, null data, and nonstandard scripts. \index{addresstype.h@{addresstype.h}!GetScriptForDestination@{GetScriptForDestination}}
\index{GetScriptForDestination@{GetScriptForDestination}!addresstype.h@{addresstype.h}}
\doxysubsubsection{GetScriptForDestination()}
{\footnotesize\ttfamily \label{addresstype_8h_ae40f28d3b46c21033f6ee1f1200d0321} 
\textbf{ CScript} Get\+Script\+For\+Destination (\begin{DoxyParamCaption}\item[{const \textbf{ CTx\+Destination} \&}]{dest}{}\end{DoxyParamCaption})}

Generate a Bitcoin script\+Pub\+Key for the given \doxyref{CTx\+Destination}{p.}{addresstype_8h_abf613dc5a753218ddc85df6ff269be12}. Returns a P2\+PKH script for a \doxyref{CKey\+ID}{p.}{class_c_key_i_d} destination, a P2\+SH script for a \doxyref{CScript\+ID}{p.}{class_c_script_i_d}, and an empty script for \doxyref{CNo\+Destination}{p.}{class_c_no_destination}. \index{addresstype.h@{addresstype.h}!IsValidDestination@{IsValidDestination}}
\index{IsValidDestination@{IsValidDestination}!addresstype.h@{addresstype.h}}
\doxysubsubsection{IsValidDestination()}
{\footnotesize\ttfamily \label{addresstype_8h_adb3a21e4afe9c672720b182ddc7cad7c} 
bool Is\+Valid\+Destination (\begin{DoxyParamCaption}\item[{const \textbf{ CTx\+Destination} \&}]{dest}{}\end{DoxyParamCaption})}

Check whether a \doxyref{CTx\+Destination}{p.}{addresstype_8h_abf613dc5a753218ddc85df6ff269be12} corresponds to one with an address. \index{addresstype.h@{addresstype.h}!ToKeyID@{ToKeyID}}
\index{ToKeyID@{ToKeyID}!addresstype.h@{addresstype.h}}
\doxysubsubsection{ToKeyID()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{addresstype_8h_aed536902a866e88fd7e99d00019d94c3} 
\textbf{ CKey\+ID} To\+Key\+ID (\begin{DoxyParamCaption}\item[{const \textbf{ PKHash} \&}]{key\+\_\+hash}{}\end{DoxyParamCaption})}

\index{addresstype.h@{addresstype.h}!ToKeyID@{ToKeyID}}
\index{ToKeyID@{ToKeyID}!addresstype.h@{addresstype.h}}
\doxysubsubsection{ToKeyID()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{addresstype_8h_a2485bdf4bc5d8543319a81a439baf8f1} 
\textbf{ CKey\+ID} To\+Key\+ID (\begin{DoxyParamCaption}\item[{const \textbf{ Witness\+V0\+Key\+Hash} \&}]{key\+\_\+hash}{}\end{DoxyParamCaption})}

\index{addresstype.h@{addresstype.h}!ToScriptID@{ToScriptID}}
\index{ToScriptID@{ToScriptID}!addresstype.h@{addresstype.h}}
\doxysubsubsection{ToScriptID()}
{\footnotesize\ttfamily \label{addresstype_8h_a0a870d4911d2f91bdd852268d55ce2e5} 
\textbf{ CScript\+ID} To\+Script\+ID (\begin{DoxyParamCaption}\item[{const \textbf{ Script\+Hash} \&}]{script\+\_\+hash}{}\end{DoxyParamCaption})}

