\doxysection{src/script/sign.h File Reference}
\label{sign_8h}\index{src/script/sign.h@{src/script/sign.h}}
{\ttfamily \#include $<$attributes.\+h$>$}\newline
{\ttfamily \#include $<$coins.\+h$>$}\newline
{\ttfamily \#include $<$hash.\+h$>$}\newline
{\ttfamily \#include $<$pubkey.\+h$>$}\newline
{\ttfamily \#include $<$script/interpreter.\+h$>$}\newline
{\ttfamily \#include $<$script/keyorigin.\+h$>$}\newline
{\ttfamily \#include $<$script/signingprovider.\+h$>$}\newline
{\ttfamily \#include $<$uint256.\+h$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \textbf{ Base\+Signature\+Creator}
\item 
class \textbf{ Mutable\+Transaction\+Signature\+Creator}
\item 
struct \textbf{ Signature\+Data}
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef std\+::pair$<$ \textbf{ CPub\+Key}, std\+::vector$<$ unsigned char $>$ $>$ \textbf{ Sig\+Pair}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \textbf{ Produce\+Signature} (const \textbf{ Signing\+Provider} \&provider, const \textbf{ Base\+Signature\+Creator} \&creator, const \textbf{ CScript} \&script\+Pub\+Key, \textbf{ Signature\+Data} \&sigdata)
\item 
\textbf{ Signature\+Data} \textbf{ Data\+From\+Transaction} (const \textbf{ CMutable\+Transaction} \&tx, unsigned int n\+In, const \textbf{ CTx\+Out} \&txout)
\item 
void \textbf{ Update\+Input} (\textbf{ CTx\+In} \&input, const \textbf{ Signature\+Data} \&data)
\item 
bool \textbf{ Is\+Seg\+Wit\+Output} (const \textbf{ Signing\+Provider} \&provider, const \textbf{ CScript} \&\textbf{ script})
\item 
bool \textbf{ Sign\+Transaction} (\textbf{ CMutable\+Transaction} \&mtx, const \textbf{ Signing\+Provider} $\ast$provider, const std\+::map$<$ \textbf{ COut\+Point}, \textbf{ Coin} $>$ \&coins, int sighash, std\+::map$<$ int, \textbf{ bilingual\+\_\+str} $>$ \&input\+\_\+errors)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \textbf{ Base\+Signature\+Checker} \& \textbf{ DUMMY\+\_\+\+CHECKER}
\item 
const \textbf{ Base\+Signature\+Creator} \& \textbf{ DUMMY\+\_\+\+SIGNATURE\+\_\+\+CREATOR}
\item 
const \textbf{ Base\+Signature\+Creator} \& \textbf{ DUMMY\+\_\+\+MAXIMUM\+\_\+\+SIGNATURE\+\_\+\+CREATOR}
\end{DoxyCompactItemize}


\label{doc-typedef-members}
\doxysubsection{Typedef Documentation}
\index{sign.h@{sign.h}!SigPair@{SigPair}}
\index{SigPair@{SigPair}!sign.h@{sign.h}}
\doxysubsubsection{SigPair}
{\footnotesize\ttfamily \label{sign_8h_a423149d75b2fd4374004050af6d777eb} 
typedef std\+::pair$<$\textbf{ CPub\+Key}, std\+::vector$<$unsigned char$>$ $>$ \textbf{ Sig\+Pair}}



\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{sign.h@{sign.h}!DataFromTransaction@{DataFromTransaction}}
\index{DataFromTransaction@{DataFromTransaction}!sign.h@{sign.h}}
\doxysubsubsection{DataFromTransaction()}
{\footnotesize\ttfamily \label{sign_8h_ac43070bee0b6bc72e2e2a738892dd1f3} 
\textbf{ Signature\+Data} Data\+From\+Transaction (\begin{DoxyParamCaption}\item[{const \textbf{ CMutable\+Transaction} \&}]{tx}{, }\item[{unsigned int}]{n\+In}{, }\item[{const \textbf{ CTx\+Out} \&}]{txout}{}\end{DoxyParamCaption})}

Extract signature data from a transaction input, and insert it. \index{sign.h@{sign.h}!IsSegWitOutput@{IsSegWitOutput}}
\index{IsSegWitOutput@{IsSegWitOutput}!sign.h@{sign.h}}
\doxysubsubsection{IsSegWitOutput()}
{\footnotesize\ttfamily \label{sign_8h_a234967049e0c0b1a8fcb9e3983f1ae64} 
bool Is\+Seg\+Wit\+Output (\begin{DoxyParamCaption}\item[{const \textbf{ Signing\+Provider} \&}]{provider}{, }\item[{const \textbf{ CScript} \&}]{script}{}\end{DoxyParamCaption})}

Check whether a script\+Pub\+Key is known to be segwit. \index{sign.h@{sign.h}!ProduceSignature@{ProduceSignature}}
\index{ProduceSignature@{ProduceSignature}!sign.h@{sign.h}}
\doxysubsubsection{ProduceSignature()}
{\footnotesize\ttfamily \label{sign_8h_ae60f8fa32dcf02079b8536a8f3e7942b} 
bool Produce\+Signature (\begin{DoxyParamCaption}\item[{const \textbf{ Signing\+Provider} \&}]{provider}{, }\item[{const \textbf{ Base\+Signature\+Creator} \&}]{creator}{, }\item[{const \textbf{ CScript} \&}]{script\+Pub\+Key}{, }\item[{\textbf{ Signature\+Data} \&}]{sigdata}{}\end{DoxyParamCaption})}

Produce a script signature using a generic signature creator. \index{sign.h@{sign.h}!SignTransaction@{SignTransaction}}
\index{SignTransaction@{SignTransaction}!sign.h@{sign.h}}
\doxysubsubsection{SignTransaction()}
{\footnotesize\ttfamily \label{sign_8h_afcc98b7c2da5043c6dc38069c3c47abc} 
bool Sign\+Transaction (\begin{DoxyParamCaption}\item[{\textbf{ CMutable\+Transaction} \&}]{mtx}{, }\item[{const \textbf{ Signing\+Provider} $\ast$}]{provider}{, }\item[{const std\+::map$<$ \textbf{ COut\+Point}, \textbf{ Coin} $>$ \&}]{coins}{, }\item[{int}]{sighash}{, }\item[{std\+::map$<$ int, \textbf{ bilingual\+\_\+str} $>$ \&}]{input\+\_\+errors}{}\end{DoxyParamCaption})}

Sign the \doxyref{CMutable\+Transaction}{p.}{struct_c_mutable_transaction} \index{sign.h@{sign.h}!UpdateInput@{UpdateInput}}
\index{UpdateInput@{UpdateInput}!sign.h@{sign.h}}
\doxysubsubsection{UpdateInput()}
{\footnotesize\ttfamily \label{sign_8h_a2051a9625f7300cb8ad7fdc1bc06f5c5} 
void Update\+Input (\begin{DoxyParamCaption}\item[{\textbf{ CTx\+In} \&}]{input}{, }\item[{const \textbf{ Signature\+Data} \&}]{data}{}\end{DoxyParamCaption})}



\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{sign.h@{sign.h}!DUMMY\_CHECKER@{DUMMY\_CHECKER}}
\index{DUMMY\_CHECKER@{DUMMY\_CHECKER}!sign.h@{sign.h}}
\doxysubsubsection{DUMMY\_CHECKER}
{\footnotesize\ttfamily \label{sign_8h_ac7c8cef845db98e77532b1f1b75d3284} 
const \textbf{ Base\+Signature\+Checker}\& DUMMY\+\_\+\+CHECKER\hspace{0.3cm}{\ttfamily [extern]}}

A signature checker that accepts all signatures \index{sign.h@{sign.h}!DUMMY\_MAXIMUM\_SIGNATURE\_CREATOR@{DUMMY\_MAXIMUM\_SIGNATURE\_CREATOR}}
\index{DUMMY\_MAXIMUM\_SIGNATURE\_CREATOR@{DUMMY\_MAXIMUM\_SIGNATURE\_CREATOR}!sign.h@{sign.h}}
\doxysubsubsection{DUMMY\_MAXIMUM\_SIGNATURE\_CREATOR}
{\footnotesize\ttfamily \label{sign_8h_aa46e7059be2d9fa3dc2f4675704e8218} 
const \textbf{ Base\+Signature\+Creator}\& DUMMY\+\_\+\+MAXIMUM\+\_\+\+SIGNATURE\+\_\+\+CREATOR\hspace{0.3cm}{\ttfamily [extern]}}

A signature creator that just produces 72-\/byte empty signatures. \index{sign.h@{sign.h}!DUMMY\_SIGNATURE\_CREATOR@{DUMMY\_SIGNATURE\_CREATOR}}
\index{DUMMY\_SIGNATURE\_CREATOR@{DUMMY\_SIGNATURE\_CREATOR}!sign.h@{sign.h}}
\doxysubsubsection{DUMMY\_SIGNATURE\_CREATOR}
{\footnotesize\ttfamily \label{sign_8h_adeb428a7d137dcfc2a1f29dd1a562ca8} 
const \textbf{ Base\+Signature\+Creator}\& DUMMY\+\_\+\+SIGNATURE\+\_\+\+CREATOR\hspace{0.3cm}{\ttfamily [extern]}}

A signature creator that just produces 71-\/byte empty signatures. 