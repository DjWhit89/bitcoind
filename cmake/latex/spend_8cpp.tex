\doxysection{src/wallet/spend.cpp File Reference}
\label{spend_8cpp}\index{src/wallet/spend.cpp@{src/wallet/spend.cpp}}
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$common/args.\+h$>$}\newline
{\ttfamily \#include $<$common/messages.\+h$>$}\newline
{\ttfamily \#include $<$common/system.\+h$>$}\newline
{\ttfamily \#include $<$consensus/amount.\+h$>$}\newline
{\ttfamily \#include $<$consensus/validation.\+h$>$}\newline
{\ttfamily \#include $<$interfaces/chain.\+h$>$}\newline
{\ttfamily \#include $<$node/types.\+h$>$}\newline
{\ttfamily \#include $<$numeric$>$}\newline
{\ttfamily \#include $<$policy/policy.\+h$>$}\newline
{\ttfamily \#include $<$policy/truc\+\_\+policy.\+h$>$}\newline
{\ttfamily \#include $<$primitives/transaction.\+h$>$}\newline
{\ttfamily \#include $<$primitives/transaction\+\_\+identifier.\+h$>$}\newline
{\ttfamily \#include $<$script/script.\+h$>$}\newline
{\ttfamily \#include $<$script/signingprovider.\+h$>$}\newline
{\ttfamily \#include $<$script/solver.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/moneystr.\+h$>$}\newline
{\ttfamily \#include $<$util/rbf.\+h$>$}\newline
{\ttfamily \#include $<$util/trace.\+h$>$}\newline
{\ttfamily \#include $<$util/translation.\+h$>$}\newline
{\ttfamily \#include $<$wallet/coincontrol.\+h$>$}\newline
{\ttfamily \#include $<$wallet/fees.\+h$>$}\newline
{\ttfamily \#include $<$wallet/receive.\+h$>$}\newline
{\ttfamily \#include $<$wallet/spend.\+h$>$}\newline
{\ttfamily \#include $<$wallet/transaction.\+h$>$}\newline
{\ttfamily \#include $<$wallet/wallet.\+h$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \textbf{ wallet}
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum class \textbf{ Transaction\+Error} 
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ TRACEPOINT\+\_\+\+SEMAPHORE} (coin\+\_\+selection, selected\+\_\+coins)
\item 
\textbf{ TRACEPOINT\+\_\+\+SEMAPHORE} (coin\+\_\+selection, normal\+\_\+create\+\_\+tx\+\_\+internal)
\item 
\textbf{ TRACEPOINT\+\_\+\+SEMAPHORE} (coin\+\_\+selection, attempting\+\_\+aps\+\_\+create\+\_\+tx)
\item 
\textbf{ TRACEPOINT\+\_\+\+SEMAPHORE} (coin\+\_\+selection, aps\+\_\+create\+\_\+tx\+\_\+internal)
\item 
int \textbf{ Calculate\+Maximum\+Signed\+Input\+Size} (const \textbf{ CTx\+Out} \&txout, const \textbf{ COut\+Point} outpoint, const \textbf{ Signing\+Provider} $\ast$provider, bool can\+\_\+grind\+\_\+r, const \textbf{ CCoin\+Control} $\ast$coin\+\_\+control)
\item 
int \textbf{ Calculate\+Maximum\+Signed\+Input\+Size} (const \textbf{ CTx\+Out} \&txout, const \textbf{ CWallet} $\ast$\textbf{ wallet}, const \textbf{ CCoin\+Control} $\ast$coin\+\_\+control)
\item 
\textbf{ Tx\+Size} \textbf{ Calculate\+Maximum\+Signed\+Tx\+Size} (const \textbf{ CTransaction} \&tx, const \textbf{ CWallet} $\ast$\textbf{ wallet}, const std\+::vector$<$ \textbf{ CTx\+Out} $>$ \&txouts, const \textbf{ CCoin\+Control} $\ast$coin\+\_\+control)
\item 
\textbf{ Tx\+Size} \textbf{ Calculate\+Maximum\+Signed\+Tx\+Size} (const \textbf{ CTransaction} \&tx, const \textbf{ CWallet} $\ast$\textbf{ wallet}, const \textbf{ CCoin\+Control} $\ast$coin\+\_\+control)
\item 
\textbf{ util\+::\+Result}$<$ \textbf{ Pre\+Selected\+Inputs} $>$ \textbf{ Fetch\+Selected\+Inputs} (const \textbf{ CWallet} \&\textbf{ wallet}, const \textbf{ CCoin\+Control} \&coin\+\_\+control, const \textbf{ Coin\+Selection\+Params} \&coin\+\_\+selection\+\_\+params)
\item 
\textbf{ Coins\+Result} \textbf{ Available\+Coins} (const \textbf{ CWallet} \&\textbf{ wallet}, const \textbf{ CCoin\+Control} $\ast$coin\+Control, std\+::optional$<$ \textbf{ CFee\+Rate} $>$ feerate, const \textbf{ Coin\+Filter\+Params} \&params)
\item 
const \textbf{ CTx\+Out} \& \textbf{ Find\+Non\+Change\+Parent\+Output} (const \textbf{ CWallet} \&\textbf{ wallet}, const \textbf{ COut\+Point} \&outpoint)
\item 
std\+::map$<$ \textbf{ CTx\+Destination}, std\+::vector$<$ \textbf{ COutput} $>$ $>$ \textbf{ List\+Coins} (const \textbf{ CWallet} \&\textbf{ wallet})
\item 
\textbf{ Filtered\+Output\+Groups} \textbf{ Group\+Outputs} (const \textbf{ CWallet} \&\textbf{ wallet}, const \textbf{ Coins\+Result} \&coins, const \textbf{ Coin\+Selection\+Params} \&coin\+\_\+sel\+\_\+params, const std\+::vector$<$ \textbf{ Selection\+Filter} $>$ \&filters, std\+::vector$<$ \textbf{ Output\+Group} $>$ \&ret\+\_\+discarded\+\_\+groups)
\item 
\textbf{ Filtered\+Output\+Groups} \textbf{ Group\+Outputs} (const \textbf{ CWallet} \&\textbf{ wallet}, const \textbf{ Coins\+Result} \&coins, const \textbf{ Coin\+Selection\+Params} \&params, const std\+::vector$<$ \textbf{ Selection\+Filter} $>$ \&filters)
\item 
\textbf{ util\+::\+Result}$<$ \textbf{ Selection\+Result} $>$ \textbf{ Attempt\+Selection} (\textbf{ interfaces\+::\+Chain} \&chain, const \textbf{ CAmount} \&n\+Target\+Value, \textbf{ Output\+Group\+Type\+Map} \&groups, const \textbf{ Coin\+Selection\+Params} \&coin\+\_\+selection\+\_\+params, bool allow\+\_\+mixed\+\_\+output\+\_\+types)
\item 
\textbf{ util\+::\+Result}$<$ \textbf{ Selection\+Result} $>$ \textbf{ Choose\+Selection\+Result} (\textbf{ interfaces\+::\+Chain} \&chain, const \textbf{ CAmount} \&n\+Target\+Value, \textbf{ Groups} \&groups, const \textbf{ Coin\+Selection\+Params} \&coin\+\_\+selection\+\_\+params)
\item 
\textbf{ util\+::\+Result}$<$ \textbf{ Selection\+Result} $>$ \textbf{ Select\+Coins} (const \textbf{ CWallet} \&\textbf{ wallet}, \textbf{ Coins\+Result} \&available\+\_\+coins, const \textbf{ Pre\+Selected\+Inputs} \&pre\+\_\+set\+\_\+inputs, const \textbf{ CAmount} \&n\+Target\+Value, const \textbf{ CCoin\+Control} \&coin\+\_\+control, const \textbf{ Coin\+Selection\+Params} \&coin\+\_\+selection\+\_\+params)
\item 
\textbf{ util\+::\+Result}$<$ \textbf{ Selection\+Result} $>$ \textbf{ Automatic\+Coin\+Selection} (const \textbf{ CWallet} \&\textbf{ wallet}, \textbf{ Coins\+Result} \&available\+\_\+coins, const \textbf{ CAmount} \&value\+\_\+to\+\_\+select, const \textbf{ Coin\+Selection\+Params} \&coin\+\_\+selection\+\_\+params)
\item 
void \textbf{ Discourage\+Fee\+Sniping} (\textbf{ CMutable\+Transaction} \&tx, \textbf{ Fast\+Random\+Context} \&rng\+\_\+fast, \textbf{ interfaces\+::\+Chain} \&chain, const \textbf{ uint256} \&block\+\_\+hash, int block\+\_\+height)
\item 
uint64\+\_\+t \textbf{ Get\+Serialize\+Size\+For\+Recipient} (const \textbf{ CRecipient} \&recipient)
\item 
bool \textbf{ Is\+Dust} (const \textbf{ CRecipient} \&recipient, const \textbf{ CFee\+Rate} \&dust\+Relay\+Fee)
\item 
\textbf{ util\+::\+Result}$<$ \textbf{ Created\+Transaction\+Result} $>$ \textbf{ Create\+Transaction} (\textbf{ CWallet} \&\textbf{ wallet}, const std\+::vector$<$ \textbf{ CRecipient} $>$ \&vec\+Send, std\+::optional$<$ unsigned int $>$ change\+\_\+pos, const \textbf{ CCoin\+Control} \&coin\+\_\+control, bool sign)
\item 
\textbf{ util\+::\+Result}$<$ \textbf{ Created\+Transaction\+Result} $>$ \textbf{ Fund\+Transaction} (\textbf{ CWallet} \&\textbf{ wallet}, const \textbf{ CMutable\+Transaction} \&tx, const std\+::vector$<$ \textbf{ CRecipient} $>$ \&vec\+Send, std\+::optional$<$ unsigned int $>$ change\+\_\+pos, bool lock\+Unspents, \textbf{ CCoin\+Control} coin\+Control)
\item 
std\+::string \textbf{ String\+For\+Fee\+Reason} (\textbf{ Fee\+Reason} reason)
\item 
\textbf{ bilingual\+\_\+str} \textbf{ Transaction\+Error\+String} (const \textbf{ Transaction\+Error} err)
\end{DoxyCompactItemize}


\label{doc-enum-members}
\doxysubsection{Enumeration Type Documentation}
\index{spend.cpp@{spend.cpp}!TransactionError@{TransactionError}}
\index{TransactionError@{TransactionError}!spend.cpp@{spend.cpp}}
\doxysubsubsection{TransactionError}
{\footnotesize\ttfamily \label{spend_8cpp_a857c3bfc8da2a43cebacd0582cc867ac} 
enum class \textbf{ Transaction\+Error}\hspace{0.3cm}{\ttfamily [strong]}}



\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{spend.cpp@{spend.cpp}!StringForFeeReason@{StringForFeeReason}}
\index{StringForFeeReason@{StringForFeeReason}!spend.cpp@{spend.cpp}}
\doxysubsubsection{StringForFeeReason()}
{\footnotesize\ttfamily \label{spend_8cpp_ac829072b1bc64aaba8cb1b3a912c557c} 
std\+::string String\+For\+Fee\+Reason (\begin{DoxyParamCaption}\item[{\textbf{ Fee\+Reason}}]{reason}{}\end{DoxyParamCaption})}

\index{spend.cpp@{spend.cpp}!TRACEPOINT\_SEMAPHORE@{TRACEPOINT\_SEMAPHORE}}
\index{TRACEPOINT\_SEMAPHORE@{TRACEPOINT\_SEMAPHORE}!spend.cpp@{spend.cpp}}
\doxysubsubsection{TRACEPOINT\_SEMAPHORE()\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \label{spend_8cpp_a89c732165d450ccb749fbd8f63fe5e13} 
TRACEPOINT\+\_\+\+SEMAPHORE (\begin{DoxyParamCaption}\item[{coin\+\_\+selection}]{}{, }\item[{aps\+\_\+create\+\_\+tx\+\_\+internal}]{}{}\end{DoxyParamCaption})}

\index{spend.cpp@{spend.cpp}!TRACEPOINT\_SEMAPHORE@{TRACEPOINT\_SEMAPHORE}}
\index{TRACEPOINT\_SEMAPHORE@{TRACEPOINT\_SEMAPHORE}!spend.cpp@{spend.cpp}}
\doxysubsubsection{TRACEPOINT\_SEMAPHORE()\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \label{spend_8cpp_a3ef37e02c38801c327dc06e5c94bf062} 
TRACEPOINT\+\_\+\+SEMAPHORE (\begin{DoxyParamCaption}\item[{coin\+\_\+selection}]{}{, }\item[{attempting\+\_\+aps\+\_\+create\+\_\+tx}]{}{}\end{DoxyParamCaption})}

\index{spend.cpp@{spend.cpp}!TRACEPOINT\_SEMAPHORE@{TRACEPOINT\_SEMAPHORE}}
\index{TRACEPOINT\_SEMAPHORE@{TRACEPOINT\_SEMAPHORE}!spend.cpp@{spend.cpp}}
\doxysubsubsection{TRACEPOINT\_SEMAPHORE()\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \label{spend_8cpp_a238c984a816e4592f5369889d184b3d2} 
TRACEPOINT\+\_\+\+SEMAPHORE (\begin{DoxyParamCaption}\item[{coin\+\_\+selection}]{}{, }\item[{normal\+\_\+create\+\_\+tx\+\_\+internal}]{}{}\end{DoxyParamCaption})}

\index{spend.cpp@{spend.cpp}!TRACEPOINT\_SEMAPHORE@{TRACEPOINT\_SEMAPHORE}}
\index{TRACEPOINT\_SEMAPHORE@{TRACEPOINT\_SEMAPHORE}!spend.cpp@{spend.cpp}}
\doxysubsubsection{TRACEPOINT\_SEMAPHORE()\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \label{spend_8cpp_a08b861a5a7f8d759cadba36b3e4610ed} 
TRACEPOINT\+\_\+\+SEMAPHORE (\begin{DoxyParamCaption}\item[{coin\+\_\+selection}]{}{, }\item[{selected\+\_\+coins}]{}{}\end{DoxyParamCaption})}

\index{spend.cpp@{spend.cpp}!TransactionErrorString@{TransactionErrorString}}
\index{TransactionErrorString@{TransactionErrorString}!spend.cpp@{spend.cpp}}
\doxysubsubsection{TransactionErrorString()}
{\footnotesize\ttfamily \label{spend_8cpp_a228edc84611c041043e9d972d976e242} 
\textbf{ bilingual\+\_\+str} Transaction\+Error\+String (\begin{DoxyParamCaption}\item[{const \textbf{ Transaction\+Error}}]{err}{}\end{DoxyParamCaption})}

