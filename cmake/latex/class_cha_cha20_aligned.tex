\doxysection{Cha\+Cha20\+Aligned Class Reference}
\label{class_cha_cha20_aligned}\index{ChaCha20Aligned@{ChaCha20Aligned}}


{\ttfamily \#include $<$chacha20.\+h$>$}

\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \textbf{ Nonce96} = std\+::pair$<$uint32\+\_\+t, uint64\+\_\+t$>$
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Cha\+Cha20\+Aligned} () noexcept=delete
\item 
\textbf{ Cha\+Cha20\+Aligned} (std\+::span$<$ const std\+::byte $>$ key) noexcept
\item 
\textbf{ $\sim$\+Cha\+Cha20\+Aligned} ()
\item 
void \textbf{ Set\+Key} (std\+::span$<$ const std\+::byte $>$ key) noexcept
\item 
void \textbf{ Seek} (\textbf{ Nonce96} \textbf{ nonce}, uint32\+\_\+t block\+\_\+counter) noexcept
\item 
void \textbf{ Keystream} (std\+::span$<$ std\+::byte $>$ out) noexcept
\item 
void \textbf{ Crypt} (std\+::span$<$ const std\+::byte $>$ input, std\+::span$<$ std\+::byte $>$ output) noexcept
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr unsigned \textbf{ KEYLEN} \{32\}
\item 
static constexpr unsigned \textbf{ BLOCKLEN} \{64\}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxyref{Cha\+Cha20}{p.}{class_cha_cha20} cipher that only operates on multiples of 64 bytes. 

\label{doc-typedef-members}
\doxysubsection{Member Typedef Documentation}
\index{ChaCha20Aligned@{ChaCha20Aligned}!Nonce96@{Nonce96}}
\index{Nonce96@{Nonce96}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{Nonce96}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_a61d2278a86007555016c229e849c9e8b} 
using \textbf{ Nonce96} = std\+::pair$<$uint32\+\_\+t, uint64\+\_\+t$>$}

Type for 96-\/bit nonces used by the Set function below.

The first field corresponds to the LE32-\/encoded first 4 bytes of the nonce, also referred to as the \textquotesingle{}32-\/bit fixed-\/common part\textquotesingle{} in Example 2.\+8.\+2 of RFC8439.

The second field corresponds to the LE64-\/encoded last 8 bytes of the nonce. 

\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{ChaCha20Aligned@{ChaCha20Aligned}!ChaCha20Aligned@{ChaCha20Aligned}}
\index{ChaCha20Aligned@{ChaCha20Aligned}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{ChaCha20Aligned()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_a33cd10823b3a7e01ca007699dae5f6f5} 
\textbf{ Cha\+Cha20\+Aligned} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}, {\ttfamily [noexcept]}}

For safety, disallow initialization without key. \index{ChaCha20Aligned@{ChaCha20Aligned}!ChaCha20Aligned@{ChaCha20Aligned}}
\index{ChaCha20Aligned@{ChaCha20Aligned}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{ChaCha20Aligned()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_afb9e45db418419b43ba96fb393d98659} 
\textbf{ Cha\+Cha20\+Aligned} (\begin{DoxyParamCaption}\item[{std\+::span$<$ const std\+::byte $>$}]{key}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Initialize a cipher with specified 32-\/byte key. \index{ChaCha20Aligned@{ChaCha20Aligned}!````~ChaCha20Aligned@{$\sim$ChaCha20Aligned}}
\index{````~ChaCha20Aligned@{$\sim$ChaCha20Aligned}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{$\sim$ChaCha20Aligned()}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_a620b40682617d4b822a101bccc0c770e} 
$\sim$\textbf{ Cha\+Cha20\+Aligned} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Destructor to clean up private memory. 

\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{ChaCha20Aligned@{ChaCha20Aligned}!Crypt@{Crypt}}
\index{Crypt@{Crypt}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{Crypt()}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_ae97dffa0e57089105fd676e93df2cac4} 
void Crypt (\begin{DoxyParamCaption}\item[{std\+::span$<$ const std\+::byte $>$}]{input}{, }\item[{std\+::span$<$ std\+::byte $>$}]{output}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

en/deciphers the message $<$input$>$ and write the result into $<$output$>$

The size of input and output must be equal, and be a multiple of BLOCKLEN. \index{ChaCha20Aligned@{ChaCha20Aligned}!Keystream@{Keystream}}
\index{Keystream@{Keystream}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{Keystream()}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_a22e2c4a752c38639ff51042ed6b81f2f} 
void Keystream (\begin{DoxyParamCaption}\item[{std\+::span$<$ std\+::byte $>$}]{out}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

outputs the keystream into out, whose length must be a multiple of BLOCKLEN. \index{ChaCha20Aligned@{ChaCha20Aligned}!Seek@{Seek}}
\index{Seek@{Seek}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{Seek()}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_a7ec4b93efd2056e8a50f8e3a8549a0f5} 
void Seek (\begin{DoxyParamCaption}\item[{\textbf{ Nonce96}}]{nonce}{, }\item[{uint32\+\_\+t}]{block\+\_\+counter}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Set the 96-\/bit nonce and 32-\/bit block counter.

Block\+\_\+counter selects a position to seek to (to byte BLOCKLEN$\ast$block\+\_\+counter). After 256 GiB, the block counter overflows, and nonce.\+first is incremented. \index{ChaCha20Aligned@{ChaCha20Aligned}!SetKey@{SetKey}}
\index{SetKey@{SetKey}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{SetKey()}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_af20a04df027538abdd9857417428498e} 
void Set\+Key (\begin{DoxyParamCaption}\item[{std\+::span$<$ const std\+::byte $>$}]{key}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Set 32-\/byte key, and seek to nonce 0 and block position 0. 

\label{doc-variable-members}
\doxysubsection{Field Documentation}
\index{ChaCha20Aligned@{ChaCha20Aligned}!BLOCKLEN@{BLOCKLEN}}
\index{BLOCKLEN@{BLOCKLEN}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{BLOCKLEN}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_af40849a9b56cfa92ae215d6fd43cb31b} 
unsigned BLOCKLEN \{64\}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

Block size (inputs/outputs to Keystream / Crypt should be multiples of this). \index{ChaCha20Aligned@{ChaCha20Aligned}!KEYLEN@{KEYLEN}}
\index{KEYLEN@{KEYLEN}!ChaCha20Aligned@{ChaCha20Aligned}}
\doxysubsubsection{KEYLEN}
{\footnotesize\ttfamily \label{class_cha_cha20_aligned_adfcc22508eff6d9a4fa8d29b88cb608a} 
unsigned KEYLEN \{32\}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

Expected key length in constructor and Set\+Key. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/crypto/\textbf{ chacha20.\+h}\item 
src/crypto/\textbf{ chacha20.\+cpp}\end{DoxyCompactItemize}
