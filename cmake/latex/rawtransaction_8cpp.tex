\doxysection{src/rpc/rawtransaction.cpp File Reference}
\label{rawtransaction_8cpp}\index{src/rpc/rawtransaction.cpp@{src/rpc/rawtransaction.cpp}}
{\ttfamily \#include $<$base58.\+h$>$}\newline
{\ttfamily \#include $<$chain.\+h$>$}\newline
{\ttfamily \#include $<$coins.\+h$>$}\newline
{\ttfamily \#include $<$consensus/amount.\+h$>$}\newline
{\ttfamily \#include $<$consensus/validation.\+h$>$}\newline
{\ttfamily \#include $<$core\+\_\+io.\+h$>$}\newline
{\ttfamily \#include $<$index/txindex.\+h$>$}\newline
{\ttfamily \#include $<$key\+\_\+io.\+h$>$}\newline
{\ttfamily \#include $<$node/blockstorage.\+h$>$}\newline
{\ttfamily \#include $<$node/coin.\+h$>$}\newline
{\ttfamily \#include $<$node/context.\+h$>$}\newline
{\ttfamily \#include $<$node/psbt.\+h$>$}\newline
{\ttfamily \#include $<$node/transaction.\+h$>$}\newline
{\ttfamily \#include $<$node/types.\+h$>$}\newline
{\ttfamily \#include $<$policy/packages.\+h$>$}\newline
{\ttfamily \#include $<$policy/policy.\+h$>$}\newline
{\ttfamily \#include $<$policy/rbf.\+h$>$}\newline
{\ttfamily \#include $<$primitives/transaction.\+h$>$}\newline
{\ttfamily \#include $<$psbt.\+h$>$}\newline
{\ttfamily \#include $<$random.\+h$>$}\newline
{\ttfamily \#include $<$rpc/blockchain.\+h$>$}\newline
{\ttfamily \#include $<$rpc/rawtransaction\+\_\+util.\+h$>$}\newline
{\ttfamily \#include $<$rpc/server.\+h$>$}\newline
{\ttfamily \#include $<$rpc/server\+\_\+util.\+h$>$}\newline
{\ttfamily \#include $<$rpc/util.\+h$>$}\newline
{\ttfamily \#include $<$script/script.\+h$>$}\newline
{\ttfamily \#include $<$script/sign.\+h$>$}\newline
{\ttfamily \#include $<$script/signingprovider.\+h$>$}\newline
{\ttfamily \#include $<$script/solver.\+h$>$}\newline
{\ttfamily \#include $<$uint256.\+h$>$}\newline
{\ttfamily \#include $<$undo.\+h$>$}\newline
{\ttfamily \#include $<$util/bip32.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/strencodings.\+h$>$}\newline
{\ttfamily \#include $<$util/string.\+h$>$}\newline
{\ttfamily \#include $<$util/vector.\+h$>$}\newline
{\ttfamily \#include $<$validation.\+h$>$}\newline
{\ttfamily \#include $<$validationinterface.\+h$>$}\newline
{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$numeric$>$}\newline
{\ttfamily \#include $<$univalue.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Partially\+Signed\+Transaction} \textbf{ Process\+PSBT} (const std\+::string \&psbt\+\_\+string, const std\+::any \&context, const \textbf{ Hiding\+Signing\+Provider} \&provider, std\+::optional$<$ int $>$ sighash\+\_\+type, bool finalize)
\item 
\textbf{ RPCHelp\+Man} \textbf{ descriptorprocesspsbt} ()
\item 
void \textbf{ Register\+Raw\+Transaction\+RPCCommands} (\textbf{ CRPCTable} \&t)
\item 
\textbf{ PSBTAnalysis} \textbf{ Analyze\+PSBT} (\textbf{ Partially\+Signed\+Transaction} psbtx)
\item 
void \textbf{ Find\+Coins} (const \textbf{ Node\+Context} \&\textbf{ node}, std\+::map$<$ \textbf{ COut\+Point}, \textbf{ Coin} $>$ \&coins)
\item 
\textbf{ CTransaction\+Ref} \textbf{ Get\+Transaction} (const \textbf{ CBlock\+Index} $\ast$const block\+\_\+index, const \textbf{ CTx\+Mem\+Pool} $\ast$const mempool, const \textbf{ Txid} \&hash, const \textbf{ Block\+Manager} \&blockman, \textbf{ uint256} \&hash\+Block)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \textbf{ RPCResult} \textbf{ decodepsbt\+\_\+inputs}
\item 
const \textbf{ RPCResult} \textbf{ decodepsbt\+\_\+outputs}
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{rawtransaction.cpp@{rawtransaction.cpp}!AnalyzePSBT@{AnalyzePSBT}}
\index{AnalyzePSBT@{AnalyzePSBT}!rawtransaction.cpp@{rawtransaction.cpp}}
\doxysubsubsection{AnalyzePSBT()}
{\footnotesize\ttfamily \label{rawtransaction_8cpp_af950b4118f79793a4568d7252770fc0a} 
\textbf{ PSBTAnalysis} Analyze\+PSBT (\begin{DoxyParamCaption}\item[{\textbf{ Partially\+Signed\+Transaction}}]{psbtx}{}\end{DoxyParamCaption})}

Provides helpful miscellaneous information about where a PSBT is in the signing workflow.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em psbtx} & the PSBT to analyze \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A \doxyref{PSBTAnalysis}{p.}{struct_p_s_b_t_analysis} with information about the provided PSBT. 
\end{DoxyReturn}
\index{rawtransaction.cpp@{rawtransaction.cpp}!descriptorprocesspsbt@{descriptorprocesspsbt}}
\index{descriptorprocesspsbt@{descriptorprocesspsbt}!rawtransaction.cpp@{rawtransaction.cpp}}
\doxysubsubsection{descriptorprocesspsbt()}
{\footnotesize\ttfamily \label{rawtransaction_8cpp_a619e0884b24f2510e79050200bc353c2} 
\textbf{ RPCHelp\+Man} descriptorprocesspsbt (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\index{rawtransaction.cpp@{rawtransaction.cpp}!FindCoins@{FindCoins}}
\index{FindCoins@{FindCoins}!rawtransaction.cpp@{rawtransaction.cpp}}
\doxysubsubsection{FindCoins()}
{\footnotesize\ttfamily \label{rawtransaction_8cpp_a7cbf0dd47c6f8c068e7604434f8e0457} 
void Find\+Coins (\begin{DoxyParamCaption}\item[{const \textbf{ Node\+Context} \&}]{node}{, }\item[{std\+::map$<$ \textbf{ COut\+Point}, \textbf{ Coin} $>$ \&}]{coins}{}\end{DoxyParamCaption})}

Look up unspent output information. Returns coins in the mempool and in the current chain UTXO set. Iterates through all the keys in the map and populates the values.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em node} & The node context to use for lookup \\
\hline
\mbox{\texttt{in,out}}  & {\em coins} & map to fill \\
\hline
\end{DoxyParams}
\index{rawtransaction.cpp@{rawtransaction.cpp}!GetTransaction@{GetTransaction}}
\index{GetTransaction@{GetTransaction}!rawtransaction.cpp@{rawtransaction.cpp}}
\doxysubsubsection{GetTransaction()}
{\footnotesize\ttfamily \label{rawtransaction_8cpp_a5164d41fdf8e6d77e7a7a4e94041e537} 
\textbf{ CTransaction\+Ref} Get\+Transaction (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} $\ast$const}]{block\+\_\+index}{, }\item[{const \textbf{ CTx\+Mem\+Pool} $\ast$const}]{mempool}{, }\item[{const \textbf{ Txid} \&}]{hash}{, }\item[{const \textbf{ Block\+Manager} \&}]{blockman}{, }\item[{\textbf{ uint256} \&}]{hash\+Block}{}\end{DoxyParamCaption})}

Return transaction with a given hash. If mempool is provided and block\+\_\+index is not provided, check it first for the tx. If -\/txindex is available, check it next for the tx. Finally, if block\+\_\+index is provided, check for tx by reading entire block from disk.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em block\+\_\+index} & The block to read from disk, or nullptr \\
\hline
\mbox{\texttt{in}}  & {\em mempool} & If provided, check mempool for tx \\
\hline
\mbox{\texttt{in}}  & {\em hash} & The txid \\
\hline
\mbox{\texttt{in}}  & {\em blockman} & Used to access and read blocks from disk \\
\hline
\mbox{\texttt{out}}  & {\em hash\+Block} & The block hash, if the tx was found via -\/txindex or block\+\_\+index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The tx if found, otherwise nullptr 
\end{DoxyReturn}
\index{rawtransaction.cpp@{rawtransaction.cpp}!ProcessPSBT@{ProcessPSBT}}
\index{ProcessPSBT@{ProcessPSBT}!rawtransaction.cpp@{rawtransaction.cpp}}
\doxysubsubsection{ProcessPSBT()}
{\footnotesize\ttfamily \label{rawtransaction_8cpp_a4780aeec67e96a329f04b82d7e3ab35e} 
\textbf{ Partially\+Signed\+Transaction} Process\+PSBT (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{psbt\+\_\+string}{, }\item[{const std\+::any \&}]{context}{, }\item[{const \textbf{ Hiding\+Signing\+Provider} \&}]{provider}{, }\item[{std\+::optional$<$ int $>$}]{sighash\+\_\+type}{, }\item[{bool}]{finalize}{}\end{DoxyParamCaption})}

\index{rawtransaction.cpp@{rawtransaction.cpp}!RegisterRawTransactionRPCCommands@{RegisterRawTransactionRPCCommands}}
\index{RegisterRawTransactionRPCCommands@{RegisterRawTransactionRPCCommands}!rawtransaction.cpp@{rawtransaction.cpp}}
\doxysubsubsection{RegisterRawTransactionRPCCommands()}
{\footnotesize\ttfamily \label{rawtransaction_8cpp_af016428778b1f23efb3e2f173fe691d8} 
void Register\+Raw\+Transaction\+RPCCommands (\begin{DoxyParamCaption}\item[{\textbf{ CRPCTable} \&}]{t}{}\end{DoxyParamCaption})}



\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{rawtransaction.cpp@{rawtransaction.cpp}!decodepsbt\_inputs@{decodepsbt\_inputs}}
\index{decodepsbt\_inputs@{decodepsbt\_inputs}!rawtransaction.cpp@{rawtransaction.cpp}}
\doxysubsubsection{decodepsbt\_inputs}
{\footnotesize\ttfamily \label{rawtransaction_8cpp_a33f27fb4c819c59c76c6ce2e8af794d3} 
const \textbf{ RPCResult} decodepsbt\+\_\+inputs}

\index{rawtransaction.cpp@{rawtransaction.cpp}!decodepsbt\_outputs@{decodepsbt\_outputs}}
\index{decodepsbt\_outputs@{decodepsbt\_outputs}!rawtransaction.cpp@{rawtransaction.cpp}}
\doxysubsubsection{decodepsbt\_outputs}
{\footnotesize\ttfamily \label{rawtransaction_8cpp_a4e186e812fb1d8ea4731e1c7fb296862} 
const \textbf{ RPCResult} decodepsbt\+\_\+outputs}

