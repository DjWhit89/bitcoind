\doxysection{src/logging.cpp File Reference}
\label{logging_8cpp}\index{src/logging.cpp@{src/logging.cpp}}
{\ttfamily \#include $<$logging.\+h$>$}\newline
{\ttfamily \#include $<$memusage.\+h$>$}\newline
{\ttfamily \#include $<$util/check.\+h$>$}\newline
{\ttfamily \#include $<$util/fs.\+h$>$}\newline
{\ttfamily \#include $<$util/string.\+h$>$}\newline
{\ttfamily \#include $<$util/threadnames.\+h$>$}\newline
{\ttfamily \#include $<$util/time.\+h$>$}\newline
{\ttfamily \#include $<$array$>$}\newline
{\ttfamily \#include $<$cstring$>$}\newline
{\ttfamily \#include $<$map$>$}\newline
{\ttfamily \#include $<$optional$>$}\newline
{\ttfamily \#include $<$utility$>$}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \textbf{ BCLog}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ BCLog\+::\+Logger} \& \textbf{ Log\+Instance} ()
\item 
bool \textbf{ Get\+Log\+Category} (\textbf{ BCLog\+::\+Log\+Flags} \&flag, std\+::string\+\_\+view str)
\item 
std\+::string \textbf{ Log\+Escape\+Message} (std\+::string\+\_\+view str)
\item 
{\footnotesize template$<$typename C, typename \textbf{ S}, typename Unary\+Op$>$ }\\auto \textbf{ Join} (const C \&container, const \textbf{ S} \&separator, Unary\+Op unary\+\_\+op)
\item 
std\+::string\+\_\+view \textbf{ Remove\+Prefix\+View} (std\+::string\+\_\+view str, std\+::string\+\_\+view \textbf{ prefix})
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const char $\ast$const \textbf{ DEFAULT\+\_\+\+DEBUGLOGFILE} = "{}debug.\+log"{}
\item 
constexpr auto \textbf{ MAX\+\_\+\+USER\+\_\+\+SETABLE\+\_\+\+SEVERITY\+\_\+\+LEVEL} \{\textbf{ BCLog\+::\+Level\+::\+Info}\}
\item 
bool \textbf{ f\+Log\+IPs} = DEFAULT\+\_\+\+LOGIPS
\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{logging.cpp@{logging.cpp}!GetLogCategory@{GetLogCategory}}
\index{GetLogCategory@{GetLogCategory}!logging.cpp@{logging.cpp}}
\doxysubsubsection{GetLogCategory()}
{\footnotesize\ttfamily \label{logging_8cpp_a3f113564d44c9eba692f64b0f1194f4b} 
bool Get\+Log\+Category (\begin{DoxyParamCaption}\item[{\textbf{ BCLog\+::\+Log\+Flags} \&}]{flag}{, }\item[{std\+::string\+\_\+view}]{str}{}\end{DoxyParamCaption})}

Return true if str parses as a log category and set the flag \index{logging.cpp@{logging.cpp}!Join@{Join}}
\index{Join@{Join}!logging.cpp@{logging.cpp}}
\doxysubsubsection{Join()}
{\footnotesize\ttfamily \label{logging_8cpp_aff2a33f4c8a8ebd77cf6e0630bd1dbe3} 
template$<$typename C, typename \textbf{ S}, typename Unary\+Op$>$ \\
auto Join (\begin{DoxyParamCaption}\item[{const C \&}]{container}{, }\item[{const \textbf{ S} \&}]{separator}{, }\item[{Unary\+Op}]{unary\+\_\+op}{}\end{DoxyParamCaption})}

Join all container items. Typically used to concatenate strings but accepts containers with elements of any type.


\begin{DoxyParams}{Parameters}
{\em container} & The items to join \\
\hline
{\em separator} & The separator \\
\hline
{\em unary\+\_\+op} & Apply this operator to each item \\
\hline
\end{DoxyParams}
\index{logging.cpp@{logging.cpp}!LogInstance@{LogInstance}}
\index{LogInstance@{LogInstance}!logging.cpp@{logging.cpp}}
\doxysubsubsection{LogInstance()}
{\footnotesize\ttfamily \label{logging_8cpp_a7ef55b61ba6d5bb4d828041cc1cd0f39} 
\textbf{ BCLog\+::\+Logger} \& Log\+Instance (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

NOTE\+: the logger instances is leaked on exit. This is ugly, but will be cleaned up by the OS/libc. Defining a logger as a global object doesn\textquotesingle{}t work since the order of destruction of static/global objects is undefined. Consider if the logger gets destroyed, and then some later destructor calls Log\+Info, maybe indirectly, and you get a core dump at shutdown trying to access the logger. When the shutdown sequence is fully audited and tested, explicit destruction of these objects can be implemented by changing this from a raw pointer to a std\+::unique\+\_\+ptr. Since the $\sim$\+Logger() destructor is never called, the \doxyref{Logger}{p.}{class_logger} class and all its subclasses must have implicitly-\/defined destructors.

This method of initialization was originally introduced in ee3374234c60aba2cc4c5cd5cac1c0aefc2d817c.\index{logging.cpp@{logging.cpp}!RemovePrefixView@{RemovePrefixView}}
\index{RemovePrefixView@{RemovePrefixView}!logging.cpp@{logging.cpp}}
\doxysubsubsection{RemovePrefixView()}
{\footnotesize\ttfamily \label{logging_8cpp_ac90ebbde671e4b19c1a25c6a2b308b10} 
std\+::string\+\_\+view Remove\+Prefix\+View (\begin{DoxyParamCaption}\item[{std\+::string\+\_\+view}]{str}{, }\item[{std\+::string\+\_\+view}]{prefix}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}}



\label{doc-var-members}
\doxysubsection{Variable Documentation}
\index{logging.cpp@{logging.cpp}!DEFAULT\_DEBUGLOGFILE@{DEFAULT\_DEBUGLOGFILE}}
\index{DEFAULT\_DEBUGLOGFILE@{DEFAULT\_DEBUGLOGFILE}!logging.cpp@{logging.cpp}}
\doxysubsubsection{DEFAULT\_DEBUGLOGFILE}
{\footnotesize\ttfamily \label{logging_8cpp_aa83b5532d9039198c491d090c1335583} 
const char$\ast$ const DEFAULT\+\_\+\+DEBUGLOGFILE = "{}debug.\+log"{}}

\index{logging.cpp@{logging.cpp}!fLogIPs@{fLogIPs}}
\index{fLogIPs@{fLogIPs}!logging.cpp@{logging.cpp}}
\doxysubsubsection{fLogIPs}
{\footnotesize\ttfamily \label{logging_8cpp_a8e02420c2f7c53579ccb90acf301ae75} 
bool f\+Log\+IPs = DEFAULT\+\_\+\+LOGIPS}

\index{logging.cpp@{logging.cpp}!MAX\_USER\_SETABLE\_SEVERITY\_LEVEL@{MAX\_USER\_SETABLE\_SEVERITY\_LEVEL}}
\index{MAX\_USER\_SETABLE\_SEVERITY\_LEVEL@{MAX\_USER\_SETABLE\_SEVERITY\_LEVEL}!logging.cpp@{logging.cpp}}
\doxysubsubsection{MAX\_USER\_SETABLE\_SEVERITY\_LEVEL}
{\footnotesize\ttfamily \label{logging_8cpp_aedd380f40cad262d14219854ced5a3bd} 
auto MAX\+\_\+\+USER\+\_\+\+SETABLE\+\_\+\+SEVERITY\+\_\+\+LEVEL \{\textbf{ BCLog\+::\+Level\+::\+Info}\}\hspace{0.3cm}{\ttfamily [constexpr]}}

