\doxysection{fs\+\_\+helpers.\+h}
\label{fs__helpers_8h_source}\index{src/util/fs\_helpers.h@{src/util/fs\_helpers.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2009-\/2010\ Satoshi\ Nakamoto}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Copyright\ (c)\ 2009-\/present\ The\ Bitcoin\ Core\ developers}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ software\ license,\ see\ the\ accompanying}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ file\ COPYING\ or\ http://www.opensource.org/licenses/mit-\/license.php.}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#ifndef\ BITCOIN\_UTIL\_FS\_HELPERS\_H}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#define\ BITCOIN\_UTIL\_FS\_HELPERS\_H}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <util/fs.h>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <cstdio>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <iosfwd>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifdef\ \_\_APPLE\_\_}}
\DoxyCodeLine{00018\ \textcolor{keyword}{enum\ class}\ FSType\ \{}
\DoxyCodeLine{00019\ \ \ \ \ EXFAT,}
\DoxyCodeLine{00020\ \ \ \ \ OTHER,}
\DoxyCodeLine{00021\ \ \ \ \ ERROR}
\DoxyCodeLine{00022\ \};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00031\ FSType\ GetFilesystemType(\textcolor{keyword}{const}\ fs::path\&\ path);}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00038\ \textcolor{keywordtype}{bool}\ FileCommit(FILE*\ file);}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00044\ \textcolor{keywordtype}{void}\ DirectoryCommit(\textcolor{keyword}{const}\ fs::path\&\ dirname);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keywordtype}{bool}\ TruncateFile(FILE*\ file,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ length);}
\DoxyCodeLine{00047\ \textcolor{keywordtype}{int}\ RaiseFileDescriptorLimit(\textcolor{keywordtype}{int}\ nMinFD);}
\DoxyCodeLine{00048\ \textcolor{keywordtype}{void}\ AllocateFileRange(FILE*\ file,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ offset,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ length);}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00054\ [[nodiscard]]\ \textcolor{keywordtype}{bool}\ RenameOver(fs::path\ src,\ fs::path\ dest);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{namespace\ }util\ \{}
\DoxyCodeLine{00057\ \textcolor{keyword}{enum\ class}\ LockResult\ \{}
\DoxyCodeLine{00058\ \ \ \ \ Success,}
\DoxyCodeLine{00059\ \ \ \ \ ErrorWrite,}
\DoxyCodeLine{00060\ \ \ \ \ ErrorLock,}
\DoxyCodeLine{00061\ \};}
\DoxyCodeLine{00062\ [[nodiscard]]\ LockResult\ LockDirectory(\textcolor{keyword}{const}\ fs::path\&\ directory,\ \textcolor{keyword}{const}\ fs::path\&\ lockfile\_name,\ \textcolor{keywordtype}{bool}\ probe\_only\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00063\ \}\ \textcolor{comment}{//\ namespace\ util}}
\DoxyCodeLine{00064\ \textcolor{keywordtype}{void}\ UnlockDirectory(\textcolor{keyword}{const}\ fs::path\&\ directory,\ \textcolor{keyword}{const}\ fs::path\&\ lockfile\_name);}
\DoxyCodeLine{00065\ \textcolor{keywordtype}{bool}\ CheckDiskSpace(\textcolor{keyword}{const}\ fs::path\&\ dir,\ uint64\_t\ additional\_bytes\ =\ 0);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00073\ std::streampos\ GetFileSize(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ std::streamsize\ max\ =\ std::numeric\_limits<std::streamsize>::max());}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00078\ \textcolor{keywordtype}{void}\ ReleaseDirectoryLocks();}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{keywordtype}{bool}\ TryCreateDirectories(\textcolor{keyword}{const}\ fs::path\&\ p);}
\DoxyCodeLine{00081\ fs::path\ GetDefaultDataDir();}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00088\ std::string\ PermsToSymbolicString(fs::perms\ p);}
\DoxyCodeLine{00094\ std::optional<fs::perms>\ InterpretPermString(\textcolor{keyword}{const}\ std::string\&\ s);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#ifdef\ WIN32}}
\DoxyCodeLine{00097\ fs::path\ GetSpecialFolderPath(\textcolor{keywordtype}{int}\ nFolder,\ \textcolor{keywordtype}{bool}\ fCreate\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ BITCOIN\_UTIL\_FS\_HELPERS\_H}}

\end{DoxyCode}
