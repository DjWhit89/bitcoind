\doxysection{src/primitives/transaction.h File Reference}
\label{primitives_2transaction_8h}\index{src/primitives/transaction.h@{src/primitives/transaction.h}}
{\ttfamily \#include $<$attributes.\+h$>$}\newline
{\ttfamily \#include $<$consensus/amount.\+h$>$}\newline
{\ttfamily \#include $<$primitives/transaction\+\_\+identifier.\+h$>$}\newline
{\ttfamily \#include $<$script/script.\+h$>$}\newline
{\ttfamily \#include $<$serialize.\+h$>$}\newline
{\ttfamily \#include $<$uint256.\+h$>$}\newline
{\ttfamily \#include $<$cstddef$>$}\newline
{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$ios$>$}\newline
{\ttfamily \#include $<$limits$>$}\newline
{\ttfamily \#include $<$memory$>$}\newline
{\ttfamily \#include $<$numeric$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$tuple$>$}\newline
{\ttfamily \#include $<$utility$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \textbf{ COut\+Point}
\item 
class \textbf{ CTx\+In}
\item 
class \textbf{ CTx\+Out}
\item 
struct \textbf{ Transaction\+Ser\+Params}
\item 
class \textbf{ CTransaction}
\item 
struct \textbf{ CMutable\+Transaction}
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef std\+::shared\+\_\+ptr$<$ const \textbf{ CTransaction} $>$ \textbf{ CTransaction\+Ref}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Stream, typename Tx\+Type$>$ }\\void \textbf{ Unserialize\+Transaction} (Tx\+Type \&tx, Stream \&s, const \textbf{ Transaction\+Ser\+Params} \&params)
\item 
{\footnotesize template$<$typename Stream, typename Tx\+Type$>$ }\\void \textbf{ Serialize\+Transaction} (const Tx\+Type \&tx, Stream \&s, const \textbf{ Transaction\+Ser\+Params} \&params)
\item 
{\footnotesize template$<$typename Tx\+Type$>$ }\\\textbf{ CAmount} \textbf{ Calculate\+Output\+Value} (const Tx\+Type \&tx)
\end{DoxyCompactItemize}


\label{doc-typedef-members}
\doxysubsection{Typedef Documentation}
\index{transaction.h@{transaction.h}!CTransactionRef@{CTransactionRef}}
\index{CTransactionRef@{CTransactionRef}!transaction.h@{transaction.h}}
\doxysubsubsection{CTransactionRef}
{\footnotesize\ttfamily \label{primitives_2transaction_8h_ae462b4b8f07705a82bf11cf361959b97} 
typedef std\+::shared\+\_\+ptr$<$const \textbf{ CTransaction}$>$ \textbf{ CTransaction\+Ref}}



\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{transaction.h@{transaction.h}!CalculateOutputValue@{CalculateOutputValue}}
\index{CalculateOutputValue@{CalculateOutputValue}!transaction.h@{transaction.h}}
\doxysubsubsection{CalculateOutputValue()}
{\footnotesize\ttfamily \label{primitives_2transaction_8h_ab20efee052189078c9ffb0d5b7f8bc16} 
template$<$typename Tx\+Type$>$ \\
\textbf{ CAmount} Calculate\+Output\+Value (\begin{DoxyParamCaption}\item[{const Tx\+Type \&}]{tx}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\index{transaction.h@{transaction.h}!SerializeTransaction@{SerializeTransaction}}
\index{SerializeTransaction@{SerializeTransaction}!transaction.h@{transaction.h}}
\doxysubsubsection{SerializeTransaction()}
{\footnotesize\ttfamily \label{primitives_2transaction_8h_aa37ad7afd2aec8990be416589e00a530} 
template$<$typename Stream, typename Tx\+Type$>$ \\
void Serialize\+Transaction (\begin{DoxyParamCaption}\item[{const Tx\+Type \&}]{tx}{, }\item[{Stream \&}]{s}{, }\item[{const \textbf{ Transaction\+Ser\+Params} \&}]{params}{}\end{DoxyParamCaption})}

\index{transaction.h@{transaction.h}!UnserializeTransaction@{UnserializeTransaction}}
\index{UnserializeTransaction@{UnserializeTransaction}!transaction.h@{transaction.h}}
\doxysubsubsection{UnserializeTransaction()}
{\footnotesize\ttfamily \label{primitives_2transaction_8h_a2ae413a73ef642a8fb1d971ef3c076b5} 
template$<$typename Stream, typename Tx\+Type$>$ \\
void Unserialize\+Transaction (\begin{DoxyParamCaption}\item[{Tx\+Type \&}]{tx}{, }\item[{Stream \&}]{s}{, }\item[{const \textbf{ Transaction\+Ser\+Params} \&}]{params}{}\end{DoxyParamCaption})}

Basic transaction serialization format\+:
\begin{DoxyItemize}
\item uint32\+\_\+t version
\item std\+::vector$<$\+CTx\+In$>$ vin
\item std\+::vector$<$\+CTx\+Out$>$ vout
\item uint32\+\_\+t n\+Lock\+Time
\end{DoxyItemize}

Extended transaction serialization format\+:
\begin{DoxyItemize}
\item uint32\+\_\+t version
\item unsigned char dummy = 0x00
\item unsigned char flags (!= 0)
\item std\+::vector$<$\+CTx\+In$>$ vin
\item std\+::vector$<$\+CTx\+Out$>$ vout
\item if (flags \& 1)\+:
\begin{DoxyItemize}
\item \doxyref{CScript\+Witness}{p.}{struct_c_script_witness} script\+Witness; (deserialized into \doxyref{CTx\+In}{p.}{class_c_tx_in})
\end{DoxyItemize}
\item uint32\+\_\+t n\+Lock\+Time 
\end{DoxyItemize}