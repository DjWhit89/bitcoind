\doxysection{src/node/connection\+\_\+types.h File Reference}
\label{connection__types_8h}\index{src/node/connection\_types.h@{src/node/connection\_types.h}}
{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum class \textbf{ Connection\+Type} \{ \newline
\textbf{ INBOUND}
, \textbf{ OUTBOUND\+\_\+\+FULL\+\_\+\+RELAY}
, \textbf{ MANUAL}
, \textbf{ FEELER}
, \newline
\textbf{ BLOCK\+\_\+\+RELAY}
, \textbf{ ADDR\+\_\+\+FETCH}
 \}
\item 
enum class \textbf{ Transport\+Protocol\+Type} \+: uint8\+\_\+t \{ \textbf{ DETECTING}
, \textbf{ V1}
, \textbf{ V2}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
std\+::string \textbf{ Connection\+Type\+As\+String} (\textbf{ Connection\+Type} conn\+\_\+type)
\item 
std\+::string \textbf{ Transport\+Type\+As\+String} (\textbf{ Transport\+Protocol\+Type} transport\+\_\+type)
\end{DoxyCompactItemize}


\label{doc-enum-members}
\doxysubsection{Enumeration Type Documentation}
\index{connection\_types.h@{connection\_types.h}!ConnectionType@{ConnectionType}}
\index{ConnectionType@{ConnectionType}!connection\_types.h@{connection\_types.h}}
\doxysubsubsection{ConnectionType}
{\footnotesize\ttfamily \label{connection__types_8h_aa1f0e2efd52935fd01bfece0fbead81f} 
enum class \textbf{ Connection\+Type}\hspace{0.3cm}{\ttfamily [strong]}}

Different types of connections to a peer. This enum encapsulates the information we have available at the time of opening or accepting the connection. Aside from INBOUND, all types are initiated by us.

If adding or removing types, please update CONNECTION\+\_\+\+TYPE\+\_\+\+DOC in \doxyref{src/rpc/net.\+cpp}{p.}{rpc_2net_8cpp} and \doxyref{src/qt/rpcconsole.\+cpp}{p.}{rpcconsole_8cpp}, as well as the descriptions in \doxyref{src/qt/guiutil.\+cpp}{p.}{guiutil_8cpp} and \doxyref{src/bitcoin-\/cli.\+cpp}{p.}{bitcoin-cli_8cpp}\doxyref{Netinfo\+Request\+Handler}{p.}{class_netinfo_request_handler}. \begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{INBOUND@{INBOUND}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!INBOUND@{INBOUND}}}\label{connection__types_8h_aa1f0e2efd52935fd01bfece0fbead81fadf8068ff1ff686a6956977a30ed264b1} 
INBOUND&Inbound connections are those initiated by a peer. This is the only property we know at the time of connection, until P2P messages are exchanged. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{OUTBOUND\_FULL\_RELAY@{OUTBOUND\_FULL\_RELAY}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!OUTBOUND\_FULL\_RELAY@{OUTBOUND\_FULL\_RELAY}}}\label{connection__types_8h_aa1f0e2efd52935fd01bfece0fbead81fab0ab6c7cd982c6321314d7ed53da987d} 
OUTBOUND\+\_\+\+FULL\+\_\+\+RELAY&These are the default connections that we use to connect with the network. There is no restriction on what is relayed; by default we relay blocks, addresses \& transactions. We automatically attempt to open MAX\+\_\+\+OUTBOUND\+\_\+\+FULL\+\_\+\+RELAY\+\_\+\+CONNECTIONS using addresses from our \doxyref{Addr\+Man}{p.}{class_addr_man}. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MANUAL@{MANUAL}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!MANUAL@{MANUAL}}}\label{connection__types_8h_aa1f0e2efd52935fd01bfece0fbead81faa60a6a471c0681e5a49c4f5d00f6bc5a} 
MANUAL&We open manual connections to addresses that users explicitly requested via the addnode RPC or the -\/addnode/-\/connect configuration options. Even if a manual connection is misbehaving, we do not automatically disconnect or add it to our discouragement filter. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{FEELER@{FEELER}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!FEELER@{FEELER}}}\label{connection__types_8h_aa1f0e2efd52935fd01bfece0fbead81fab8acc77a8fa0722a6efb0c395deed9dc} 
FEELER&Feeler connections are short-\/lived connections made to check that a node is alive. They can be useful for\+:
\begin{DoxyItemize}
\item test-\/before-\/evict\+: if one of the peers is considered for eviction from our \doxyref{Addr\+Man}{p.}{class_addr_man} because another peer is mapped to the same slot in the tried table, evict only if this longer-\/known peer is offline.
\item move node addresses from New to Tried table, so that we have more connectable addresses in our \doxyref{Addr\+Man}{p.}{class_addr_man}. Note that in the literature ("{}\+Eclipse Attacks on Bitcoinâ€™s Peer-\/to-\/\+Peer Network"{}) only the latter feature is referred to as "{}feeler connections"{}, although in our codebase feeler connections encompass test-\/before-\/evict as well. We make these connections approximately every FEELER\+\_\+\+INTERVAL\+: first we resolve previously found collisions if they exist (test-\/before-\/evict), otherwise we connect to a node from the new table. 
\end{DoxyItemize}\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{BLOCK\_RELAY@{BLOCK\_RELAY}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!BLOCK\_RELAY@{BLOCK\_RELAY}}}\label{connection__types_8h_aa1f0e2efd52935fd01bfece0fbead81fa29803eb3861591f3b074fabfcc1eaa7e} 
BLOCK\+\_\+\+RELAY&We use block-\/relay-\/only connections to help prevent against partition attacks. By not relaying transactions or addresses, these connections are harder to detect by a third party, thus helping obfuscate the network topology. We automatically attempt to open MAX\+\_\+\+BLOCK\+\_\+\+RELAY\+\_\+\+ONLY\+\_\+\+ANCHORS using addresses from our anchors.\+dat. Then addresses from our \doxyref{Addr\+Man}{p.}{class_addr_man} if MAX\+\_\+\+BLOCK\+\_\+\+RELAY\+\_\+\+ONLY\+\_\+\+CONNECTIONS isn\textquotesingle{}t reached yet. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ADDR\_FETCH@{ADDR\_FETCH}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!ADDR\_FETCH@{ADDR\_FETCH}}}\label{connection__types_8h_aa1f0e2efd52935fd01bfece0fbead81faed461b2576cd30c51b94944c78c53dc5} 
ADDR\+\_\+\+FETCH&Addr\+Fetch connections are short lived connections used to solicit addresses from peers. These are initiated to addresses submitted via the -\/seednode command line argument, or under certain conditions when the \doxyref{Addr\+Man}{p.}{class_addr_man} is empty. \\
\hline

\end{DoxyEnumFields}
\index{connection\_types.h@{connection\_types.h}!TransportProtocolType@{TransportProtocolType}}
\index{TransportProtocolType@{TransportProtocolType}!connection\_types.h@{connection\_types.h}}
\doxysubsubsection{TransportProtocolType}
{\footnotesize\ttfamily \label{connection__types_8h_aa4cf27e78c2ab8d10db422aa3548f7c3} 
enum class \textbf{ Transport\+Protocol\+Type} \+: uint8\+\_\+t\hspace{0.3cm}{\ttfamily [strong]}}

\doxyref{Transport}{p.}{class_transport} layer version \begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{DETECTING@{DETECTING}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!DETECTING@{DETECTING}}}\label{connection__types_8h_aa4cf27e78c2ab8d10db422aa3548f7c3af195b0e74f53330d542d12c87f5b722d} 
DETECTING&Peer could be v1 or v2. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{V1@{V1}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!V1@{V1}}}\label{connection__types_8h_aa4cf27e78c2ab8d10db422aa3548f7c3ab4daca084ad9eabfc8de231929477ed6} 
V1&Unencrypted, plaintext protocol. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{V2@{V2}!connection\_types.h@{connection\_types.h}}\index{connection\_types.h@{connection\_types.h}!V2@{V2}}}\label{connection__types_8h_aa4cf27e78c2ab8d10db422aa3548f7c3aec765f1adc3b4253f2d3b131a4a8618f} 
V2&BIP324 protocol. \\
\hline

\end{DoxyEnumFields}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{connection\_types.h@{connection\_types.h}!ConnectionTypeAsString@{ConnectionTypeAsString}}
\index{ConnectionTypeAsString@{ConnectionTypeAsString}!connection\_types.h@{connection\_types.h}}
\doxysubsubsection{ConnectionTypeAsString()}
{\footnotesize\ttfamily \label{connection__types_8h_ad4a41617686fb10f252b64958f577cb6} 
std\+::string Connection\+Type\+As\+String (\begin{DoxyParamCaption}\item[{\textbf{ Connection\+Type}}]{conn\+\_\+type}{}\end{DoxyParamCaption})}

Convert \doxyref{Connection\+Type}{p.}{connection__types_8h_aa1f0e2efd52935fd01bfece0fbead81f} enum to a string value \index{connection\_types.h@{connection\_types.h}!TransportTypeAsString@{TransportTypeAsString}}
\index{TransportTypeAsString@{TransportTypeAsString}!connection\_types.h@{connection\_types.h}}
\doxysubsubsection{TransportTypeAsString()}
{\footnotesize\ttfamily \label{connection__types_8h_a0d6e14cbd91c1b85dc5e9b308b4bf28e} 
std\+::string Transport\+Type\+As\+String (\begin{DoxyParamCaption}\item[{\textbf{ Transport\+Protocol\+Type}}]{transport\+\_\+type}{}\end{DoxyParamCaption})}

Convert \doxyref{Transport\+Protocol\+Type}{p.}{connection__types_8h_aa4cf27e78c2ab8d10db422aa3548f7c3} enum to a string value 