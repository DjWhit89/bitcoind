\doxysection{Coin\+Stats\+Index Class Reference}
\label{class_coin_stats_index}\index{CoinStatsIndex@{CoinStatsIndex}}


{\ttfamily \#include $<$coinstatsindex.\+h$>$}

Inheritance diagram for Coin\+Stats\+Index\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_coin_stats_index}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Coin\+Stats\+Index} (std\+::unique\+\_\+ptr$<$ \textbf{ interfaces\+::\+Chain} $>$ chain, size\+\_\+t n\+\_\+cache\+\_\+size, bool f\+\_\+memory=false, bool f\+\_\+wipe=false)
\item 
std\+::optional$<$ \textbf{ kernel\+::\+CCoins\+Stats} $>$ \textbf{ Look\+Up\+Stats} (const \textbf{ CBlock\+Index} \&block\+\_\+index) const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \textbf{ Base\+Index}}
\begin{DoxyCompactItemize}
\item 
\textbf{ Base\+Index} (std\+::unique\+\_\+ptr$<$ \textbf{ interfaces\+::\+Chain} $>$ chain, std\+::string \textbf{ name})
\item 
virtual \textbf{ $\sim$\+Base\+Index} ()
\begin{DoxyCompactList}\small\item\em Destructor interrupts sync thread if running and blocks until it exits. \end{DoxyCompactList}\item 
const std\+::string \& \textbf{ Get\+Name} () const \textbf{ LIFETIMEBOUND}
\begin{DoxyCompactList}\small\item\em Get the name of the index for display in logs. \end{DoxyCompactList}\item 
bool Block\+Until\+Synced\+To\+Current\+Chain() const \textbf{ LOCKS\+\_\+\+EXCLUDED}(void \textbf{ Interrupt} ()
\item 
bool \textbf{ Init} ()
\item 
bool \textbf{ Start\+Background\+Sync} ()
\begin{DoxyCompactList}\small\item\em Starts the initial sync process on a background thread. \end{DoxyCompactList}\item 
void \textbf{ Sync} ()
\item 
void \textbf{ Stop} ()
\begin{DoxyCompactList}\small\item\em Stops the instance from staying in sync with blockchain updates. \end{DoxyCompactList}\item 
\textbf{ Index\+Summary} \textbf{ Get\+Summary} () const
\begin{DoxyCompactList}\small\item\em Get a summary of the index and its state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ interfaces\+::\+Chain\+::\+Notify\+Options} \textbf{ Custom\+Options} () override
\begin{DoxyCompactList}\small\item\em Return custom notification options for index. \end{DoxyCompactList}\item 
bool \textbf{ Custom\+Init} (const std\+::optional$<$ \textbf{ interfaces\+::\+Block\+Ref} $>$ \&block) override
\begin{DoxyCompactList}\small\item\em Initialize internal state from the database and block index. \end{DoxyCompactList}\item 
bool \textbf{ Custom\+Commit} (\textbf{ CDBBatch} \&batch) override
\item 
bool \textbf{ Custom\+Append} (const \textbf{ interfaces\+::\+Block\+Info} \&block) override
\begin{DoxyCompactList}\small\item\em Write update index entries for a newly connected block. \end{DoxyCompactList}\item 
bool \textbf{ Custom\+Remove} (const \textbf{ interfaces\+::\+Block\+Info} \&block) override
\begin{DoxyCompactList}\small\item\em Rewind index by one block during a chain reorg. \end{DoxyCompactList}\item 
\textbf{ Base\+Index\+::\+DB} \& \textbf{ Get\+DB} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \textbf{ Base\+Index}}
\begin{DoxyCompactItemize}
\item 
void \textbf{ Block\+Connected} (const \textbf{ kernel\+::\+Chainstate\+Role} \&role, const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&block, const \textbf{ CBlock\+Index} $\ast$pindex) override
\item 
void \textbf{ Chain\+State\+Flushed} (const \textbf{ kernel\+::\+Chainstate\+Role} \&role, const \textbf{ CBlock\+Locator} \&locator) override
\item 
void \textbf{ Set\+Best\+Block\+Index} (const \textbf{ CBlock\+Index} $\ast$block)
\begin{DoxyCompactList}\small\item\em Update the internal best block index as well as the prune lock. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \textbf{ CValidation\+Interface}}
\begin{DoxyCompactItemize}
\item 
\textbf{ $\sim$\+CValidation\+Interface} ()=default
\item 
virtual void \textbf{ Updated\+Block\+Tip} (const \textbf{ CBlock\+Index} $\ast$pindex\+New, const \textbf{ CBlock\+Index} $\ast$pindex\+Fork, bool f\+Initial\+Download)
\item 
virtual void \textbf{ Active\+Tip\+Change} (const \textbf{ CBlock\+Index} \&new\+\_\+tip, bool is\+\_\+ibd)
\item 
virtual void \textbf{ Transaction\+Added\+To\+Mempool} (const \textbf{ New\+Mempool\+Transaction\+Info} \&tx, uint64\+\_\+t mempool\+\_\+sequence)
\item 
virtual void \textbf{ Transaction\+Removed\+From\+Mempool} (const \textbf{ CTransaction\+Ref} \&tx, \textbf{ Mem\+Pool\+Removal\+Reason} reason, uint64\+\_\+t mempool\+\_\+sequence)
\item 
virtual void \textbf{ Mempool\+Transactions\+Removed\+For\+Block} (const std\+::vector$<$ \textbf{ Removed\+Mempool\+Transaction\+Info} $>$ \&txs\+\_\+removed\+\_\+for\+\_\+block, unsigned int n\+Block\+Height)
\item 
virtual void \textbf{ Block\+Disconnected} (const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&block, const \textbf{ CBlock\+Index} $\ast$pindex)
\item 
virtual void \textbf{ Block\+Checked} (const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&, const \textbf{ Block\+Validation\+State} \&)
\item 
virtual void \textbf{ New\+Po\+WValid\+Block} (const \textbf{ CBlock\+Index} $\ast$pindex, const std\+::shared\+\_\+ptr$<$ const \textbf{ CBlock} $>$ \&block)
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Attributes inherited from \textbf{ Base\+Index}}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \textbf{ interfaces\+::\+Chain} $>$ \textbf{ m\+\_\+chain}
\item 
\textbf{ Chainstate} $\ast$ \textbf{ m\+\_\+chainstate} \{nullptr\}
\item 
const std\+::string \textbf{ m\+\_\+name}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxyref{Coin\+Stats\+Index}{p.}{class_coin_stats_index} maintains statistics on the UTXO set. 

\label{doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\index{CoinStatsIndex@{CoinStatsIndex}!CoinStatsIndex@{CoinStatsIndex}}
\index{CoinStatsIndex@{CoinStatsIndex}!CoinStatsIndex@{CoinStatsIndex}}
\doxysubsubsection{CoinStatsIndex()}
{\footnotesize\ttfamily \label{class_coin_stats_index_a43ba3a8fe710b92c2ab3f36bc3c212b0} 
\textbf{ Coin\+Stats\+Index} (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \textbf{ interfaces\+::\+Chain} $>$}]{chain}{, }\item[{size\+\_\+t}]{n\+\_\+cache\+\_\+size}{, }\item[{bool}]{f\+\_\+memory}{ = {\ttfamily false}, }\item[{bool}]{f\+\_\+wipe}{ = {\ttfamily false}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



\label{doc-func-members}
\doxysubsection{Member Function Documentation}
\index{CoinStatsIndex@{CoinStatsIndex}!CustomAppend@{CustomAppend}}
\index{CustomAppend@{CustomAppend}!CoinStatsIndex@{CoinStatsIndex}}
\doxysubsubsection{CustomAppend()}
{\footnotesize\ttfamily \label{class_coin_stats_index_a2866130d78abde86682621008c9b0ca3} 
bool Custom\+Append (\begin{DoxyParamCaption}\item[{const \textbf{ interfaces\+::\+Block\+Info} \&}]{block}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Write update index entries for a newly connected block. 



Reimplemented from \textbf{ Base\+Index} \doxyref{}{p.}{class_base_index_a080cb86acb291b55063a4962ada7be55}.

\index{CoinStatsIndex@{CoinStatsIndex}!CustomCommit@{CustomCommit}}
\index{CustomCommit@{CustomCommit}!CoinStatsIndex@{CoinStatsIndex}}
\doxysubsubsection{CustomCommit()}
{\footnotesize\ttfamily \label{class_coin_stats_index_ad0cef080d295f0162f68530a8e44575e} 
bool Custom\+Commit (\begin{DoxyParamCaption}\item[{\textbf{ CDBBatch} \&}]{batch}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Virtual method called internally by Commit that can be overridden to atomically commit more index state. 

Reimplemented from \textbf{ Base\+Index} \doxyref{}{p.}{class_base_index_aafedd85ce46122ac8066fc9fac0490a1}.

\index{CoinStatsIndex@{CoinStatsIndex}!CustomInit@{CustomInit}}
\index{CustomInit@{CustomInit}!CoinStatsIndex@{CoinStatsIndex}}
\doxysubsubsection{CustomInit()}
{\footnotesize\ttfamily \label{class_coin_stats_index_a152681603ac9fb8c0ccbf84efaa56da9} 
bool Custom\+Init (\begin{DoxyParamCaption}\item[{const std\+::optional$<$ \textbf{ interfaces\+::\+Block\+Ref} $>$ \&}]{block}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Initialize internal state from the database and block index. 



Reimplemented from \textbf{ Base\+Index} \doxyref{}{p.}{class_base_index_a5a941e190accdafcf7918f1b93be62e7}.

\index{CoinStatsIndex@{CoinStatsIndex}!CustomOptions@{CustomOptions}}
\index{CustomOptions@{CustomOptions}!CoinStatsIndex@{CoinStatsIndex}}
\doxysubsubsection{CustomOptions()}
{\footnotesize\ttfamily \label{class_coin_stats_index_a51d997d6ac9091245a102cfad7db925d} 
\textbf{ interfaces\+::\+Chain\+::\+Notify\+Options} Custom\+Options (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Return custom notification options for index. 



Reimplemented from \textbf{ Base\+Index} \doxyref{}{p.}{class_base_index_a3ae41719a350d90748ea10646827fe4d}.

\index{CoinStatsIndex@{CoinStatsIndex}!CustomRemove@{CustomRemove}}
\index{CustomRemove@{CustomRemove}!CoinStatsIndex@{CoinStatsIndex}}
\doxysubsubsection{CustomRemove()}
{\footnotesize\ttfamily \label{class_coin_stats_index_aa40d547c510f155772c2748cfb675765} 
bool Custom\+Remove (\begin{DoxyParamCaption}\item[{const \textbf{ interfaces\+::\+Block\+Info} \&}]{block}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Rewind index by one block during a chain reorg. 



Reimplemented from \textbf{ Base\+Index} \doxyref{}{p.}{class_base_index_af602dc17e45d607b921ed0162568062e}.

\index{CoinStatsIndex@{CoinStatsIndex}!GetDB@{GetDB}}
\index{GetDB@{GetDB}!CoinStatsIndex@{CoinStatsIndex}}
\doxysubsubsection{GetDB()}
{\footnotesize\ttfamily \label{class_coin_stats_index_a306d7e0e7cc4dfa4c78dcd837531edeb} 
\textbf{ Base\+Index\+::\+DB} \& Get\+DB (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Implements \textbf{ Base\+Index} \doxyref{}{p.}{class_base_index_aa8e4007464e2ab64d3559b721f3fc71b}.

\index{CoinStatsIndex@{CoinStatsIndex}!LookUpStats@{LookUpStats}}
\index{LookUpStats@{LookUpStats}!CoinStatsIndex@{CoinStatsIndex}}
\doxysubsubsection{LookUpStats()}
{\footnotesize\ttfamily \label{class_coin_stats_index_a2d916589b49c80daa09399c70d05d7dd} 
std\+::optional$<$ \textbf{ CCoins\+Stats} $>$ Look\+Up\+Stats (\begin{DoxyParamCaption}\item[{const \textbf{ CBlock\+Index} \&}]{block\+\_\+index}{}\end{DoxyParamCaption}) const}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/index/\textbf{ coinstatsindex.\+h}\item 
src/index/\textbf{ coinstatsindex.\+cpp}\end{DoxyCompactItemize}
