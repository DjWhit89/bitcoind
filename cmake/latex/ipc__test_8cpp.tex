\doxysection{src/ipc/test/ipc\+\_\+test.cpp File Reference}
\label{ipc__test_8cpp}\index{src/ipc/test/ipc\_test.cpp@{src/ipc/test/ipc\_test.cpp}}
{\ttfamily \#include $<$interfaces/init.\+h$>$}\newline
{\ttfamily \#include $<$ipc/capnp/protocol.\+h$>$}\newline
{\ttfamily \#include $<$ipc/process.\+h$>$}\newline
{\ttfamily \#include $<$ipc/protocol.\+h$>$}\newline
{\ttfamily \#include $<$logging.\+h$>$}\newline
{\ttfamily \#include $<$mp/proxy-\/types.\+h$>$}\newline
{\ttfamily \#include $<$ipc/test/ipc\+\_\+test.\+capnp.\+h$>$}\newline
{\ttfamily \#include $<$ipc/test/ipc\+\_\+test.\+capnp.\+proxy.\+h$>$}\newline
{\ttfamily \#include $<$ipc/test/ipc\+\_\+test.\+h$>$}\newline
{\ttfamily \#include $<$tinyformat.\+h$>$}\newline
{\ttfamily \#include $<$validation.\+h$>$}\newline
{\ttfamily \#include $<$future$>$}\newline
{\ttfamily \#include $<$thread$>$}\newline
{\ttfamily \#include $<$kj/common.\+h$>$}\newline
{\ttfamily \#include $<$kj/memory.\+h$>$}\newline
{\ttfamily \#include $<$kj/test.\+h$>$}\newline
{\ttfamily \#include $<$stdexcept$>$}\newline
{\ttfamily \#include $<$boost/test/unit\+\_\+test.\+hpp$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \textbf{ Test\+Init}
\begin{DoxyCompactList}\small\item\em Remote init class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ Ipc\+Pipe\+Test} ()
\item 
void \textbf{ Ipc\+Socket\+Pair\+Test} ()
\begin{DoxyCompactList}\small\item\em Test \doxyref{ipc\+::\+Protocol}{p.}{classipc_1_1_protocol} connect() and serve() methods connecting over a socketpair. \end{DoxyCompactList}\item 
void \textbf{ Ipc\+Socket\+Test} (const \textbf{ fs\+::path} \&datadir)
\begin{DoxyCompactList}\small\item\em Test \doxyref{ipc\+::\+Process}{p.}{classipc_1_1_process} bind() and connect() methods connecting over a unix socket. \end{DoxyCompactList}\end{DoxyCompactItemize}


\label{doc-func-members}
\doxysubsection{Function Documentation}
\index{ipc\_test.cpp@{ipc\_test.cpp}!IpcPipeTest@{IpcPipeTest}}
\index{IpcPipeTest@{IpcPipeTest}!ipc\_test.cpp@{ipc\_test.cpp}}
\doxysubsubsection{IpcPipeTest()}
{\footnotesize\ttfamily \label{ipc__test_8cpp_a5cc91d1205b4697bc5006aeaca3ff78d} 
void Ipc\+Pipe\+Test (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Unit test that tests execution of IPC calls without actually creating a separate process. This test is primarily intended to verify behavior of type conversion code that converts C++ objects to Cap\textquotesingle{}n Proto messages and vice versa.

The test creates a thread which creates a \doxyref{Foo\+Implementation}{p.}{class_foo_implementation} object (defined in \doxyref{ipc\+\_\+test.\+h}{p.}{ipc__test_8h}) and a two-\/way pipe accepting IPC requests which call methods on the object through Foo\+Interface (defined in ipc\+\_\+test.\+capnp). \index{ipc\_test.cpp@{ipc\_test.cpp}!IpcSocketPairTest@{IpcSocketPairTest}}
\index{IpcSocketPairTest@{IpcSocketPairTest}!ipc\_test.cpp@{ipc\_test.cpp}}
\doxysubsubsection{IpcSocketPairTest()}
{\footnotesize\ttfamily \label{ipc__test_8cpp_a607139da08727f2a3953e99e7aa8298c} 
void Ipc\+Socket\+Pair\+Test (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Test \doxyref{ipc\+::\+Protocol}{p.}{classipc_1_1_protocol} connect() and serve() methods connecting over a socketpair. 

\index{ipc\_test.cpp@{ipc\_test.cpp}!IpcSocketTest@{IpcSocketTest}}
\index{IpcSocketTest@{IpcSocketTest}!ipc\_test.cpp@{ipc\_test.cpp}}
\doxysubsubsection{IpcSocketTest()}
{\footnotesize\ttfamily \label{ipc__test_8cpp_a38b7d8c812a49c80b2393275259df06d} 
void Ipc\+Socket\+Test (\begin{DoxyParamCaption}\item[{const \textbf{ fs\+::path} \&}]{datadir}{}\end{DoxyParamCaption})}



Test \doxyref{ipc\+::\+Process}{p.}{classipc_1_1_process} bind() and connect() methods connecting over a unix socket. 

