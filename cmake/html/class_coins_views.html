<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: CoinsViews Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_coins_views.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">CoinsViews Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="validation_8h_source.html">validation.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeb8c73dfbc6461d7edfe554911e5d8d9" id="r_aeb8c73dfbc6461d7edfe554911e5d8d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_coins_view_d_b.html">CCoinsViewDB</a> m_dbview&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb8c73dfbc6461d7edfe554911e5d8d9">GUARDED_BY</a> (<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memitem:a6cfcb52222739d110e3891f9d7414eee" id="r_a6cfcb52222739d110e3891f9d7414eee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_coins_view_error_catcher.html">CCoinsViewErrorCatcher</a> m_catcherview&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cfcb52222739d110e3891f9d7414eee">GUARDED_BY</a> (<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a6cfcb52222739d110e3891f9d7414eee"><td class="mdescLeft">&#160;</td><td class="mdescRight">This view wraps access to the leveldb instance and handles read errors gracefully.  <br /></td></tr>
<tr class="memitem:a1bfec3b6a726762dfc082254b9eadafa" id="r_a1bfec3b6a726762dfc082254b9eadafa"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &gt; m_cacheview&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bfec3b6a726762dfc082254b9eadafa">GUARDED_BY</a> (<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memitem:afd016b03b0ba85d2b63841bb4f6ae7d6" id="r_afd016b03b0ba85d2b63841bb4f6ae7d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd016b03b0ba85d2b63841bb4f6ae7d6">CoinsViews</a> (<a class="el" href="struct_d_b_params.html">DBParams</a> db_params, <a class="el" href="struct_coins_view_options.html">CoinsViewOptions</a> options)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A convenience class for constructing the CCoinsView* hierarchy used to facilitate access to the UTXO set.</p>
<p>This class consists of an arrangement of layered <a class="el" href="class_c_coins_view.html">CCoinsView</a> objects, preferring to store and retrieve coins in memory via <span class="tt">m_cacheview</span> but ultimately falling back on cache misses to the canonical store of UTXOs on disk, <span class="tt">m_dbview</span>. </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afd016b03b0ba85d2b63841bb4f6ae7d6" name="afd016b03b0ba85d2b63841bb4f6ae7d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd016b03b0ba85d2b63841bb4f6ae7d6">&#9670;&#160;</a></span>CoinsViews()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_coins_views.html">CoinsViews</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_d_b_params.html">DBParams</a></td>          <td class="paramname"><span class="paramname"><em>db_params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_coins_view_options.html">CoinsViewOptions</a></td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This constructor initializes <a class="el" href="class_c_coins_view_d_b.html">CCoinsViewDB</a> and <a class="el" href="class_c_coins_view_error_catcher.html">CCoinsViewErrorCatcher</a> instances, but it <em>does not</em> create a <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> instance by default. This is done separately because the presence of the cache has implications on whether or not we're allowed to flush the cache's state to disk, which should not be done until the health of the database is verified.</p>
<p>All arguments forwarded onto <a class="el" href="class_c_coins_view_d_b.html">CCoinsViewDB</a>. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a1bfec3b6a726762dfc082254b9eadafa" name="a1bfec3b6a726762dfc082254b9eadafa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bfec3b6a726762dfc082254b9eadafa">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &gt; m_cacheview GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the top layer of the cache hierarchy - it keeps as many coins in memory as can fit per the dbcache setting. </p>

</div>
</div>
<a id="a6cfcb52222739d110e3891f9d7414eee" name="a6cfcb52222739d110e3891f9d7414eee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cfcb52222739d110e3891f9d7414eee">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_coins_view_error_catcher.html">CCoinsViewErrorCatcher</a> m_catcherview GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This view wraps access to the leveldb instance and handles read errors gracefully. </p>

</div>
</div>
<a id="aeb8c73dfbc6461d7edfe554911e5d8d9" name="aeb8c73dfbc6461d7edfe554911e5d8d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8c73dfbc6461d7edfe554911e5d8d9">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_coins_view_d_b.html">CCoinsViewDB</a> m_dbview GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The lowest level of the <a class="el" href="class_coins_views.html">CoinsViews</a> cache hierarchy sits in a leveldb database on disk. All unspent coins reside in this store. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="validation_8h_source.html">validation.h</a></li>
<li>src/<a class="el" href="validation_8cpp.html">validation.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_coins_views.html">CoinsViews</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
