<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: TxOrphanage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classnode_1_1_tx_orphanage.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">TxOrphanage Class Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="txorphanage_8h_source.html">txorphanage.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TxOrphanage:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classnode_1_1_tx_orphanage.png" usemap="#TxOrphanage_map" alt=""/>
  <map id="TxOrphanage_map" name="TxOrphanage_map">
<area href="classnode_1_1_tx_orphanage_impl.html" alt="TxOrphanageImpl" shape="rect" coords="0,56,111,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:OrphanInfo" id="r_OrphanInfo"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnode_1_1_tx_orphanage_1_1_orphan_info.html">OrphanInfo</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-types" class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9ecb794ec69428768c604c35c07d363c" id="r_a9ecb794ec69428768c604c35c07d363c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a> = int64_t</td></tr>
<tr class="memitem:ae64c746440a24b397929dabe92a05f2a" id="r_ae64c746440a24b397929dabe92a05f2a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> = unsigned int</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a99fde298ba8065eae1392128a966cf20" id="r_a99fde298ba8065eae1392128a966cf20"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99fde298ba8065eae1392128a966cf20">~TxOrphanage</a> ()=default</td></tr>
<tr class="memitem:aa531657413f08782ad44b53a78e3c8da" id="r_aa531657413f08782ad44b53a78e3c8da"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa531657413f08782ad44b53a78e3c8da">AddTx</a> (const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;tx, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer)=0</td></tr>
<tr class="memitem:ae3eac48ab71e7cefb180d768f7bb5cc1" id="r_ae3eac48ab71e7cefb180d768f7bb5cc1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3eac48ab71e7cefb180d768f7bb5cc1">AddAnnouncer</a> (const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;wtxid, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer)=0</td></tr>
<tr class="memitem:af83b81a4f5c6eaccc68d75d81ed40e23" id="r_af83b81a4f5c6eaccc68d75d81ed40e23"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af83b81a4f5c6eaccc68d75d81ed40e23">GetTx</a> (const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;wtxid) const =0</td></tr>
<tr class="memitem:a4516ed2d83873aa37d9b55a51d13f4eb" id="r_a4516ed2d83873aa37d9b55a51d13f4eb"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4516ed2d83873aa37d9b55a51d13f4eb">HaveTx</a> (const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;wtxid) const =0</td></tr>
<tr class="memitem:af6c15a01e9ebce4318f7b146a2814953" id="r_af6c15a01e9ebce4318f7b146a2814953"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6c15a01e9ebce4318f7b146a2814953">HaveTxFromPeer</a> (const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;wtxid, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer) const =0</td></tr>
<tr class="memitem:a165764ad1929c61b28ea4912700332d7" id="r_a165764ad1929c61b28ea4912700332d7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a165764ad1929c61b28ea4912700332d7">GetTxToReconsider</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer)=0</td></tr>
<tr class="memitem:a9a5587e663e5254ceff00d332d09762e" id="r_a9a5587e663e5254ceff00d332d09762e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a5587e663e5254ceff00d332d09762e">EraseTx</a> (const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;wtxid)=0</td></tr>
<tr class="memitem:ab26a7d7efe1a139251bd61cb15a83844" id="r_ab26a7d7efe1a139251bd61cb15a83844"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab26a7d7efe1a139251bd61cb15a83844">EraseForPeer</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer)=0</td></tr>
<tr class="memitem:abad7ee1d0e86f38cd0073ee488ba9683" id="r_abad7ee1d0e86f38cd0073ee488ba9683"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abad7ee1d0e86f38cd0073ee488ba9683">EraseForBlock</a> (const <a class="el" href="class_c_block.html">CBlock</a> &amp;block)=0</td></tr>
<tr class="memitem:a76f9c7940a33f29181b8df2ed682a68f" id="r_a76f9c7940a33f29181b8df2ed682a68f"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::pair&lt; <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a>, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76f9c7940a33f29181b8df2ed682a68f">AddChildrenToWorkSet</a> (const <a class="el" href="class_c_transaction.html">CTransaction</a> &amp;tx, <a class="el" href="class_fast_random_context.html">FastRandomContext</a> &amp;rng)=0</td></tr>
<tr class="memitem:a2f7c4f3514fdecd6bb089d2d2f69fc41" id="r_a2f7c4f3514fdecd6bb089d2d2f69fc41"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f7c4f3514fdecd6bb089d2d2f69fc41">HaveTxToReconsider</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer)=0</td></tr>
<tr class="memitem:a996808ef7fe314f06050e1830dfb91a8" id="r_a996808ef7fe314f06050e1830dfb91a8"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a996808ef7fe314f06050e1830dfb91a8">GetChildrenFromSamePeer</a> (const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;parent, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid) const =0</td></tr>
<tr class="memitem:af76a7ae7bb57b16ce8866fb918563fcc" id="r_af76a7ae7bb57b16ce8866fb918563fcc"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structnode_1_1_tx_orphanage_1_1_orphan_info.html">OrphanInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af76a7ae7bb57b16ce8866fb918563fcc">GetOrphanTransactions</a> () const =0</td></tr>
<tr class="memitem:a8edacb81bb219e9c6dd9777481ca96f4" id="r_a8edacb81bb219e9c6dd9777481ca96f4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8edacb81bb219e9c6dd9777481ca96f4">TotalOrphanUsage</a> () const =0</td></tr>
<tr class="memitem:a3fe86e221ae868af1263201a324b5cf1" id="r_a3fe86e221ae868af1263201a324b5cf1"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3fe86e221ae868af1263201a324b5cf1">UsageByPeer</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer) const =0</td></tr>
<tr class="memitem:a1578c00743d364ac7613ec06533c3abe" id="r_a1578c00743d364ac7613ec06533c3abe"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1578c00743d364ac7613ec06533c3abe">SanityCheck</a> () const =0</td></tr>
<tr class="memitem:ac53a36cf19fc6acc0b73fc976cb3e218" id="r_ac53a36cf19fc6acc0b73fc976cb3e218"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac53a36cf19fc6acc0b73fc976cb3e218">CountAnnouncements</a> () const =0</td></tr>
<tr class="memitem:a75c5c956dccb034646e2829beec1659f" id="r_a75c5c956dccb034646e2829beec1659f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75c5c956dccb034646e2829beec1659f">CountUniqueOrphans</a> () const =0</td></tr>
<tr class="memitem:a6f996bbda476e87e49520c74353e7406" id="r_a6f996bbda476e87e49520c74353e7406"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f996bbda476e87e49520c74353e7406">AnnouncementsFromPeer</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer) const =0</td></tr>
<tr class="memitem:aff2ad97a2e114b87c24284f1f2ef8f90" id="r_aff2ad97a2e114b87c24284f1f2ef8f90"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff2ad97a2e114b87c24284f1f2ef8f90">LatencyScoreFromPeer</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer) const =0</td></tr>
<tr class="memitem:ada1ad3e5b3ebc38a71edd1febb2e9e04" id="r_ada1ad3e5b3ebc38a71edd1febb2e9e04"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada1ad3e5b3ebc38a71edd1febb2e9e04">MaxGlobalLatencyScore</a> () const =0</td></tr>
<tr class="memitem:a8a5bf58a85a372e75424bce8b15ecf6b" id="r_a8a5bf58a85a372e75424bce8b15ecf6b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a5bf58a85a372e75424bce8b15ecf6b">TotalLatencyScore</a> () const =0</td></tr>
<tr class="memitem:a8b268d8ad483f3bda376d81ab09f12a3" id="r_a8b268d8ad483f3bda376d81ab09f12a3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b268d8ad483f3bda376d81ab09f12a3">ReservedPeerUsage</a> () const =0</td></tr>
<tr class="memitem:ab9190a80136a26be949e6ae168966bcf" id="r_ab9190a80136a26be949e6ae168966bcf"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9190a80136a26be949e6ae168966bcf">MaxPeerLatencyScore</a> () const =0</td></tr>
<tr class="memitem:ae600e63b5d0f9356d11ecfc5132663db" id="r_ae600e63b5d0f9356d11ecfc5132663db"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae600e63b5d0f9356d11ecfc5132663db">MaxGlobalUsage</a> () const =0</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class to track orphan transactions (failed on TX_MISSING_INPUTS) Since we cannot distinguish orphans from bad transactions with non-existent inputs, we heavily limit the amount of announcements (unique (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a>, wtxid) pairs), the number of inputs, and size of the orphans stored (both individual and summed). We also try to prevent adversaries from churning this data structure: once global limits are reached, we continuously evict the oldest announcement (sorting non-reconsiderable orphans before reconsiderable ones) from the most resource-intensive peer until we are back within limits.</p><ul>
<li>Peers can exceed their individual limits (e.g. because they are very useful transaction relay peers) as long as the global limits are not exceeded.</li>
<li>As long as the orphan has 1 announcer, it remains in the orphanage.</li>
<li>No peer can trigger the eviction of another peer's orphans.</li>
<li>Peers' orphans are effectively protected from eviction as long as they don't exceed their limits. Not thread-safe. Requires external synchronization. </li>
</ul>
</div><a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Member Typedef Documentation</h2>
<a id="ae64c746440a24b397929dabe92a05f2a" name="ae64c746440a24b397929dabe92a05f2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae64c746440a24b397929dabe92a05f2a">&#9670;&#160;</a></span>Count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> = unsigned int</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ecb794ec69428768c604c35c07d363c" name="a9ecb794ec69428768c604c35c07d363c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ecb794ec69428768c604c35c07d363c">&#9670;&#160;</a></span>Usage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a> = int64_t</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a99fde298ba8065eae1392128a966cf20" name="a99fde298ba8065eae1392128a966cf20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99fde298ba8065eae1392128a966cf20">&#9670;&#160;</a></span>~TxOrphanage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classnode_1_1_tx_orphanage.html">TxOrphanage</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span><span class="mlabel default">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="ae3eac48ab71e7cefb180d768f7bb5cc1" name="ae3eac48ab71e7cefb180d768f7bb5cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3eac48ab71e7cefb180d768f7bb5cc1">&#9670;&#160;</a></span>AddAnnouncer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool AddAnnouncer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>wtxid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add an additional announcer to an orphan if it exists. Otherwise, do nothing. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#ab3a6d2ce43a18dc83f7c5fc70008751f">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a76f9c7940a33f29181b8df2ed682a68f" name="a76f9c7940a33f29181b8df2ed682a68f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76f9c7940a33f29181b8df2ed682a68f">&#9670;&#160;</a></span>AddChildrenToWorkSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt; std::pair&lt; <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a>, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> &gt; &gt; AddChildrenToWorkSet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_transaction.html">CTransaction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_fast_random_context.html">FastRandomContext</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rng</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add any orphans that list a particular tx as a parent into the from peer's work set </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#ac7035b4774c2522ffbb2647e678b56f5">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="aa531657413f08782ad44b53a78e3c8da" name="aa531657413f08782ad44b53a78e3c8da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa531657413f08782ad44b53a78e3c8da">&#9670;&#160;</a></span>AddTx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool AddTx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a new orphan transaction </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a6311d1194e412f0b309230a3114861d2">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a6f996bbda476e87e49520c74353e7406" name="a6f996bbda476e87e49520c74353e7406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f996bbda476e87e49520c74353e7406">&#9670;&#160;</a></span>AnnouncementsFromPeer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> AnnouncementsFromPeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of orphans stored from this peer. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a5b13c903511e599de8d79521a1d53924">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="ac53a36cf19fc6acc0b73fc976cb3e218" name="ac53a36cf19fc6acc0b73fc976cb3e218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac53a36cf19fc6acc0b73fc976cb3e218">&#9670;&#160;</a></span>CountAnnouncements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> CountAnnouncements </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of announcements, i.e. total size of m_orphans. Ones for the same wtxid are not de-duplicated. Not the same as <a class="el" href="#a8a5bf58a85a372e75424bce8b15ecf6b">TotalLatencyScore()</a>. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a6a70a93655917625994eac1ced83dea6">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a75c5c956dccb034646e2829beec1659f" name="a75c5c956dccb034646e2829beec1659f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c5c956dccb034646e2829beec1659f">&#9670;&#160;</a></span>CountUniqueOrphans()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> CountUniqueOrphans </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of unique orphans (by wtxid). </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a5b7e314fd88b3c5e9c0275b17595fa25">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="abad7ee1d0e86f38cd0073ee488ba9683" name="abad7ee1d0e86f38cd0073ee488ba9683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad7ee1d0e86f38cd0073ee488ba9683">&#9670;&#160;</a></span>EraseForBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EraseForBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>block</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Erase all orphans included in or invalidated by a new block </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#aba844ec93c8720893170ef3841c31993">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="ab26a7d7efe1a139251bd61cb15a83844" name="ab26a7d7efe1a139251bd61cb15a83844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab26a7d7efe1a139251bd61cb15a83844">&#9670;&#160;</a></span>EraseForPeer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EraseForPeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maybe erase all orphans announced by a peer (eg, after that peer disconnects). If an orphan has been announced by another peer, don't erase, just remove this peer from the list of announcers. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a63c9f300a9a83739990adeaea107ed53">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a9a5587e663e5254ceff00d332d09762e" name="a9a5587e663e5254ceff00d332d09762e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a5587e663e5254ceff00d332d09762e">&#9670;&#160;</a></span>EraseTx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EraseTx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>wtxid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Erase an orphan by wtxid, including all announcements if there are multiple. Returns true if an orphan was erased, false if no tx with this wtxid exists. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#ad77fb6e86f3273e6a043e1234a44edf7">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a996808ef7fe314f06050e1830dfb91a8" name="a996808ef7fe314f06050e1830dfb91a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a996808ef7fe314f06050e1830dfb91a8">&#9670;&#160;</a></span>GetChildrenFromSamePeer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt; <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &gt; GetChildrenFromSamePeer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>parent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get all children that spend from this tx and were received from nodeid. Sorted reconsiderable before non-reconsiderable, then from most recent to least recent. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a9a3e662b5788d500ee081c1e31ea225a">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="af76a7ae7bb57b16ce8866fb918563fcc" name="af76a7ae7bb57b16ce8866fb918563fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76a7ae7bb57b16ce8866fb918563fcc">&#9670;&#160;</a></span>GetOrphanTransactions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt; <a class="el" href="structnode_1_1_tx_orphanage_1_1_orphan_info.html">OrphanInfo</a> &gt; GetOrphanTransactions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get all orphan transactions </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a4c1120cab86aec07749a1688768c0913">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="af83b81a4f5c6eaccc68d75d81ed40e23" name="af83b81a4f5c6eaccc68d75d81ed40e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af83b81a4f5c6eaccc68d75d81ed40e23">&#9670;&#160;</a></span>GetTx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> GetTx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>wtxid</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a transaction by its witness txid </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#ab9b403f36450a721644e04345a2f51e5">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a165764ad1929c61b28ea4912700332d7" name="a165764ad1929c61b28ea4912700332d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a165764ad1929c61b28ea4912700332d7">&#9670;&#160;</a></span>GetTxToReconsider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> GetTxToReconsider </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extract a transaction from a peer's work set, and flip it back to non-reconsiderable. Returns nullptr if there are no transactions to work on. Otherwise returns the transaction reference, and removes it from the work set. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#acf3de1e0a8dfebdaa3daf409b140a35e">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a4516ed2d83873aa37d9b55a51d13f4eb" name="a4516ed2d83873aa37d9b55a51d13f4eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4516ed2d83873aa37d9b55a51d13f4eb">&#9670;&#160;</a></span>HaveTx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool HaveTx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>wtxid</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if we already have an orphan transaction (by wtxid only) </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a4f45559a614ff40b1d31b6b86d85abfb">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="af6c15a01e9ebce4318f7b146a2814953" name="af6c15a01e9ebce4318f7b146a2814953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6c15a01e9ebce4318f7b146a2814953">&#9670;&#160;</a></span>HaveTxFromPeer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool HaveTxFromPeer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>wtxid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if a {tx, peer} exists in the orphanage. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a112727cb216a48442a91ce9128e8fcc3">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a2f7c4f3514fdecd6bb089d2d2f69fc41" name="a2f7c4f3514fdecd6bb089d2d2f69fc41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f7c4f3514fdecd6bb089d2d2f69fc41">&#9670;&#160;</a></span>HaveTxToReconsider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool HaveTxToReconsider </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Does this peer have any work to do? </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#ae2e9ddbc5f40025f7674e4ae7e7741f4">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="aff2ad97a2e114b87c24284f1f2ef8f90" name="aff2ad97a2e114b87c24284f1f2ef8f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff2ad97a2e114b87c24284f1f2ef8f90">&#9670;&#160;</a></span>LatencyScoreFromPeer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> LatencyScoreFromPeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Latency score of transactions announced by this peer. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a2c2d4675760152df769173a4ecf90408">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="ada1ad3e5b3ebc38a71edd1febb2e9e04" name="ada1ad3e5b3ebc38a71edd1febb2e9e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada1ad3e5b3ebc38a71edd1febb2e9e04">&#9670;&#160;</a></span>MaxGlobalLatencyScore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> MaxGlobalLatencyScore </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the maximum global latency score allowed </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a503cd86bd86ad37812d0fec65e283e58">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="ae600e63b5d0f9356d11ecfc5132663db" name="ae600e63b5d0f9356d11ecfc5132663db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae600e63b5d0f9356d11ecfc5132663db">&#9670;&#160;</a></span>MaxGlobalUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a> MaxGlobalUsage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the maximum global usage allowed </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a21b70c9610e62a78775200bcdaf13896">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="ab9190a80136a26be949e6ae168966bcf" name="ab9190a80136a26be949e6ae168966bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9190a80136a26be949e6ae168966bcf">&#9670;&#160;</a></span>MaxPeerLatencyScore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> MaxPeerLatencyScore </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the maximum latency score allowed per peer </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#ac5414c7e5fb36ac91ffae05d7b028014">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a8b268d8ad483f3bda376d81ab09f12a3" name="a8b268d8ad483f3bda376d81ab09f12a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b268d8ad483f3bda376d81ab09f12a3">&#9670;&#160;</a></span>ReservedPeerUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a> ReservedPeerUsage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the reserved usage per peer </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a58091790f282f4764cd64eb3c5a3f390">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a1578c00743d364ac7613ec06533c3abe" name="a1578c00743d364ac7613ec06533c3abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1578c00743d364ac7613ec06533c3abe">&#9670;&#160;</a></span>SanityCheck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SanityCheck </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check consistency between PeerOrphanInfo and m_orphans. Recalculate counters and ensure they match what is cached. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a7cfa79e5dde0137b76d1741b2f2e01b3">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a8a5bf58a85a372e75424bce8b15ecf6b" name="a8a5bf58a85a372e75424bce8b15ecf6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a5bf58a85a372e75424bce8b15ecf6b">&#9670;&#160;</a></span>TotalLatencyScore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#ae64c746440a24b397929dabe92a05f2a">Count</a> TotalLatencyScore </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the total latency score of all orphans </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a8be44c83a1c8b0773976d1f8fadf80e9">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a8edacb81bb219e9c6dd9777481ca96f4" name="a8edacb81bb219e9c6dd9777481ca96f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8edacb81bb219e9c6dd9777481ca96f4">&#9670;&#160;</a></span>TotalOrphanUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a> TotalOrphanUsage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the total usage (weight) of all orphans. If an orphan has multiple announcers, its usage is only counted once within this total. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a56e11520626b622d295b572d8006cc3c">TxOrphanageImpl</a>.</p>

</div>
</div>
<a id="a3fe86e221ae868af1263201a324b5cf1" name="a3fe86e221ae868af1263201a324b5cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe86e221ae868af1263201a324b5cf1">&#9670;&#160;</a></span>UsageByPeer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="#a9ecb794ec69428768c604c35c07d363c">Usage</a> UsageByPeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Total usage (weight) of orphans for which this peer is an announcer. If an orphan has multiple announcers, its weight will be accounted for in each PeerOrphanInfo, so the total of all peers' <a class="el" href="#a3fe86e221ae868af1263201a324b5cf1">UsageByPeer()</a> may be larger than <a class="el" href="#a8edacb81bb219e9c6dd9777481ca96f4">TotalOrphanUsage()</a>. Similarly, <a class="el" href="#a3fe86e221ae868af1263201a324b5cf1">UsageByPeer()</a> may be far higher than <a class="el" href="#a8b268d8ad483f3bda376d81ab09f12a3">ReservedPeerUsage()</a>, particularly if many peers have provided the same orphans. </p>

<p>Implemented in <a class="el" href="classnode_1_1_tx_orphanage_impl.html#a69f99d5762c844c699211e5553b7b14d">TxOrphanageImpl</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/node/<a class="el" href="txorphanage_8h_source.html">txorphanage.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacenode.html">node</a></li><li class="navelem"><a href="classnode_1_1_tx_orphanage.html">TxOrphanage</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
