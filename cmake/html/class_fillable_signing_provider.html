<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: FillableSigningProvider Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_fillable_signing_provider.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">FillableSigningProvider Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="signingprovider_8h_source.html">signingprovider.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FillableSigningProvider:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_fillable_signing_provider.png" usemap="#FillableSigningProvider_map" alt=""/>
  <map id="FillableSigningProvider_map" name="FillableSigningProvider_map">
<area href="class_signing_provider.html" alt="SigningProvider" shape="rect" coords="0,0,144,24"/>
<area href="classwallet_1_1_legacy_data_s_p_k_m.html" alt="LegacyDataSPKM" shape="rect" coords="0,112,144,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a808b1207e61f00a06107036c09eca611" id="r_a808b1207e61f00a06107036c09eca611"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a808b1207e61f00a06107036c09eca611">AddKeyPubKey</a> (const <a class="el" href="class_c_key.html">CKey</a> &amp;key, const <a class="el" href="class_c_pub_key.html">CPubKey</a> &amp;pubkey)</td></tr>
<tr class="memitem:a82103fc85f16d100da2455121901aba7" id="r_a82103fc85f16d100da2455121901aba7"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82103fc85f16d100da2455121901aba7">AddKey</a> (const <a class="el" href="class_c_key.html">CKey</a> &amp;key)</td></tr>
<tr class="memitem:ac0baae1468399cc0d85d5ca777c15633" id="r_ac0baae1468399cc0d85d5ca777c15633"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0baae1468399cc0d85d5ca777c15633">GetPubKey</a> (const <a class="el" href="class_c_key_i_d.html">CKeyID</a> &amp;address, <a class="el" href="class_c_pub_key.html">CPubKey</a> &amp;vchPubKeyOut) const override</td></tr>
<tr class="memitem:a25aee14df3601a0cae72852121cfa80a" id="r_a25aee14df3601a0cae72852121cfa80a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25aee14df3601a0cae72852121cfa80a">HaveKey</a> (const <a class="el" href="class_c_key_i_d.html">CKeyID</a> &amp;address) const override</td></tr>
<tr class="memitem:aa675e749b3535803d2783062a8fbf4f3" id="r_aa675e749b3535803d2783062a8fbf4f3"><td class="memItemLeft" align="right" valign="top">virtual std::set&lt; <a class="el" href="class_c_key_i_d.html">CKeyID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa675e749b3535803d2783062a8fbf4f3">GetKeys</a> () const</td></tr>
<tr class="memitem:a255a187c6bac2bbed75fa7f9f605361b" id="r_a255a187c6bac2bbed75fa7f9f605361b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a255a187c6bac2bbed75fa7f9f605361b">GetKey</a> (const <a class="el" href="class_c_key_i_d.html">CKeyID</a> &amp;address, <a class="el" href="class_c_key.html">CKey</a> &amp;keyOut) const override</td></tr>
<tr class="memitem:a8257be7589bc86beab11d5237e957d4b" id="r_a8257be7589bc86beab11d5237e957d4b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8257be7589bc86beab11d5237e957d4b">AddCScript</a> (const <a class="el" href="class_c_script.html">CScript</a> &amp;redeemScript)</td></tr>
<tr class="memitem:a58cb7ca0f5d838001fd6f69447219963" id="r_a58cb7ca0f5d838001fd6f69447219963"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58cb7ca0f5d838001fd6f69447219963">HaveCScript</a> (const <a class="el" href="class_c_script_i_d.html">CScriptID</a> &amp;hash) const override</td></tr>
<tr class="memitem:a801239b1380ffa8ded76689e5b2f8d1d" id="r_a801239b1380ffa8ded76689e5b2f8d1d"><td class="memItemLeft" align="right" valign="top">virtual std::set&lt; <a class="el" href="class_c_script_i_d.html">CScriptID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a801239b1380ffa8ded76689e5b2f8d1d">GetCScripts</a> () const</td></tr>
<tr class="memitem:a391be24fcb31f039412aff737039d505" id="r_a391be24fcb31f039412aff737039d505"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a391be24fcb31f039412aff737039d505">GetCScript</a> (const <a class="el" href="class_c_script_i_d.html">CScriptID</a> &amp;hash, <a class="el" href="class_c_script.html">CScript</a> &amp;redeemScriptOut) const override</td></tr>
<tr class="inherit_header pub_methods_class_signing_provider"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_signing_provider')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Public Member Functions inherited from <a class="el" href="class_signing_provider.html">SigningProvider</a></td></tr>
<tr class="memitem:a7c4242ae77f09130cd477c99c0f55742 inherit pub_methods_class_signing_provider" id="r_a7c4242ae77f09130cd477c99c0f55742"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a7c4242ae77f09130cd477c99c0f55742">~SigningProvider</a> ()=default</td></tr>
<tr class="memitem:a2e762f6836777e0fde8ccc31f1497079 inherit pub_methods_class_signing_provider" id="r_a2e762f6836777e0fde8ccc31f1497079"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a2e762f6836777e0fde8ccc31f1497079">GetKeyOrigin</a> (const <a class="el" href="class_c_key_i_d.html">CKeyID</a> &amp;keyid, <a class="el" href="struct_key_origin_info.html">KeyOriginInfo</a> &amp;info) const</td></tr>
<tr class="memitem:ab3b95c32df40b5babb1c56af5f070502 inherit pub_methods_class_signing_provider" id="r_ab3b95c32df40b5babb1c56af5f070502"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#ab3b95c32df40b5babb1c56af5f070502">GetTaprootSpendData</a> (const <a class="el" href="class_x_only_pub_key.html">XOnlyPubKey</a> &amp;output_key, <a class="el" href="struct_taproot_spend_data.html">TaprootSpendData</a> &amp;spenddata) const</td></tr>
<tr class="memitem:af98fd4696d7d98d88c34911513da8808 inherit pub_methods_class_signing_provider" id="r_af98fd4696d7d98d88c34911513da8808"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#af98fd4696d7d98d88c34911513da8808">GetTaprootBuilder</a> (const <a class="el" href="class_x_only_pub_key.html">XOnlyPubKey</a> &amp;output_key, <a class="el" href="class_taproot_builder.html">TaprootBuilder</a> &amp;builder) const</td></tr>
<tr class="memitem:a8f8d8ddae6a22fe006b5736e73705486 inherit pub_methods_class_signing_provider" id="r_a8f8d8ddae6a22fe006b5736e73705486"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="class_c_pub_key.html">CPubKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a8f8d8ddae6a22fe006b5736e73705486">GetMuSig2ParticipantPubkeys</a> (const <a class="el" href="class_c_pub_key.html">CPubKey</a> &amp;pubkey) const</td></tr>
<tr class="memitem:ac85cd36db8c307226dc85e1c08523319 inherit pub_methods_class_signing_provider" id="r_ac85cd36db8c307226dc85e1c08523319"><td class="memItemLeft" align="right" valign="top">virtual std::map&lt; <a class="el" href="class_c_pub_key.html">CPubKey</a>, std::vector&lt; <a class="el" href="class_c_pub_key.html">CPubKey</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#ac85cd36db8c307226dc85e1c08523319">GetAllMuSig2ParticipantPubkeys</a> () const</td></tr>
<tr class="memitem:a9e151c94981d85054608d981068f5356 inherit pub_methods_class_signing_provider" id="r_a9e151c94981d85054608d981068f5356"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a9e151c94981d85054608d981068f5356">SetMuSig2SecNonce</a> (const <a class="el" href="classuint256.html">uint256</a> &amp;id, <a class="el" href="class_mu_sig2_sec_nonce.html">MuSig2SecNonce</a> &amp;&amp;<a class="el" href="miner__tests_8cpp.html#ad73ee4141a6536b03f4e493b56859e86">nonce</a>) const</td></tr>
<tr class="memitem:a82df8438ba975095882baae73d16b338 inherit pub_methods_class_signing_provider" id="r_a82df8438ba975095882baae73d16b338"><td class="memItemLeft" align="right" valign="top">virtual std::optional&lt; std::reference_wrapper&lt; <a class="el" href="class_mu_sig2_sec_nonce.html">MuSig2SecNonce</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a82df8438ba975095882baae73d16b338">GetMuSig2SecNonce</a> (const <a class="el" href="classuint256.html">uint256</a> &amp;session_id) const</td></tr>
<tr class="memitem:a4911c90235623cb19aee6860a263a0d5 inherit pub_methods_class_signing_provider" id="r_a4911c90235623cb19aee6860a263a0d5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a4911c90235623cb19aee6860a263a0d5">DeleteMuSig2Session</a> (const <a class="el" href="classuint256.html">uint256</a> &amp;session_id) const</td></tr>
<tr class="memitem:a288fc2c4e4bffe6e93f0a9ac29a161eb inherit pub_methods_class_signing_provider" id="r_a288fc2c4e4bffe6e93f0a9ac29a161eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a288fc2c4e4bffe6e93f0a9ac29a161eb">GetKeyByXOnly</a> (const <a class="el" href="class_x_only_pub_key.html">XOnlyPubKey</a> &amp;pubkey, <a class="el" href="class_c_key.html">CKey</a> &amp;key) const</td></tr>
<tr class="memitem:a06e25f62dd170275d13d2e7b26463645 inherit pub_methods_class_signing_provider" id="r_a06e25f62dd170275d13d2e7b26463645"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a06e25f62dd170275d13d2e7b26463645">GetPubKeyByXOnly</a> (const <a class="el" href="class_x_only_pub_key.html">XOnlyPubKey</a> &amp;pubkey, <a class="el" href="class_c_pub_key.html">CPubKey</a> &amp;out) const</td></tr>
<tr class="memitem:a2b9533a2d663e22a10065e4639ce55f0 inherit pub_methods_class_signing_provider" id="r_a2b9533a2d663e22a10065e4639ce55f0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_signing_provider.html#a2b9533a2d663e22a10065e4639ce55f0">GetKeyOriginByXOnly</a> (const <a class="el" href="class_x_only_pub_key.html">XOnlyPubKey</a> &amp;pubkey, <a class="el" href="struct_key_origin_info.html">KeyOriginInfo</a> &amp;info) const</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a03bc5e9dccecd885e00eeefdad774c7f" id="r_a03bc5e9dccecd885e00eeefdad774c7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-types" class="groupheader"><a id="pro-types" name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:abb6d99b9d04444ba00111e8c5a0890d9" id="r_abb6d99b9d04444ba00111e8c5a0890d9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb6d99b9d04444ba00111e8c5a0890d9">KeyMap</a> = std::map&lt;<a class="el" href="class_c_key_i_d.html">CKeyID</a>, <a class="el" href="class_c_key.html">CKey</a>&gt;</td></tr>
<tr class="memitem:aa6c4127eb1a35f55136d9e7a1c9876f0" id="r_aa6c4127eb1a35f55136d9e7a1c9876f0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6c4127eb1a35f55136d9e7a1c9876f0">ScriptMap</a> = std::map&lt;<a class="el" href="class_c_script_i_d.html">CScriptID</a>, <a class="el" href="class_c_script.html">CScript</a>&gt;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-methods" class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aec3ecf374e8208f019a8881ae74408cf" id="r_aec3ecf374e8208f019a8881ae74408cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#abb6d99b9d04444ba00111e8c5a0890d9">KeyMap</a> mapKeys&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec3ecf374e8208f019a8881ae74408cf">GUARDED_BY</a> (<a class="el" href="#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a>)</td></tr>
<tr class="memitem:a89da54f85600e6b49e99116ca7364701" id="r_a89da54f85600e6b49e99116ca7364701"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#aa6c4127eb1a35f55136d9e7a1c9876f0">ScriptMap</a> mapScripts&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89da54f85600e6b49e99116ca7364701">GUARDED_BY</a> (<a class="el" href="#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a>)</td></tr>
<tr class="memitem:a73e5121a48abdfe949731827fa97f1f3" id="r_a73e5121a48abdfe949731827fa97f1f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73e5121a48abdfe949731827fa97f1f3">ImplicitlyLearnRelatedKeyScripts</a> (const <a class="el" href="class_c_pub_key.html">CPubKey</a> &amp;pubkey) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a>)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Fillable signing provider that keeps keys in an address-&gt;secret map </p>
</div><a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Member Typedef Documentation</h2>
<a id="abb6d99b9d04444ba00111e8c5a0890d9" name="abb6d99b9d04444ba00111e8c5a0890d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6d99b9d04444ba00111e8c5a0890d9">&#9670;&#160;</a></span>KeyMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#abb6d99b9d04444ba00111e8c5a0890d9">KeyMap</a> = std::map&lt;<a class="el" href="class_c_key_i_d.html">CKeyID</a>, <a class="el" href="class_c_key.html">CKey</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa6c4127eb1a35f55136d9e7a1c9876f0" name="aa6c4127eb1a35f55136d9e7a1c9876f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6c4127eb1a35f55136d9e7a1c9876f0">&#9670;&#160;</a></span>ScriptMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#aa6c4127eb1a35f55136d9e7a1c9876f0">ScriptMap</a> = std::map&lt;<a class="el" href="class_c_script_i_d.html">CScriptID</a>, <a class="el" href="class_c_script.html">CScript</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a8257be7589bc86beab11d5237e957d4b" name="a8257be7589bc86beab11d5237e957d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8257be7589bc86beab11d5237e957d4b">&#9670;&#160;</a></span>AddCScript()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AddCScript </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_script.html">CScript</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>redeemScript</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a82103fc85f16d100da2455121901aba7" name="a82103fc85f16d100da2455121901aba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82103fc85f16d100da2455121901aba7">&#9670;&#160;</a></span>AddKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool AddKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_key.html">CKey</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a808b1207e61f00a06107036c09eca611" name="a808b1207e61f00a06107036c09eca611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a808b1207e61f00a06107036c09eca611">&#9670;&#160;</a></span>AddKeyPubKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AddKeyPubKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_key.html">CKey</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_pub_key.html">CPubKey</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pubkey</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a391be24fcb31f039412aff737039d505" name="a391be24fcb31f039412aff737039d505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391be24fcb31f039412aff737039d505">&#9670;&#160;</a></span>GetCScript()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GetCScript </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_script_i_d.html">CScriptID</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>hash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_script.html">CScript</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>redeemScriptOut</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_signing_provider.html#a375a2e74144c11516a5782d9ebc7c776">SigningProvider</a>.</p>

</div>
</div>
<a id="a801239b1380ffa8ded76689e5b2f8d1d" name="a801239b1380ffa8ded76689e5b2f8d1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a801239b1380ffa8ded76689e5b2f8d1d">&#9670;&#160;</a></span>GetCScripts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="class_c_script_i_d.html">CScriptID</a> &gt; GetCScripts </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a255a187c6bac2bbed75fa7f9f605361b" name="a255a187c6bac2bbed75fa7f9f605361b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255a187c6bac2bbed75fa7f9f605361b">&#9670;&#160;</a></span>GetKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GetKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_key_i_d.html">CKeyID</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_key.html">CKey</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>keyOut</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_signing_provider.html#a3704982f70765d351e289e3e329d1203">SigningProvider</a>.</p>

<p>Reimplemented in <a class="el" href="classwallet_1_1_legacy_data_s_p_k_m.html#a255a187c6bac2bbed75fa7f9f605361b">LegacyDataSPKM</a>.</p>

</div>
</div>
<a id="aa675e749b3535803d2783062a8fbf4f3" name="aa675e749b3535803d2783062a8fbf4f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa675e749b3535803d2783062a8fbf4f3">&#9670;&#160;</a></span>GetKeys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="class_c_key_i_d.html">CKeyID</a> &gt; GetKeys </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac0baae1468399cc0d85d5ca777c15633" name="ac0baae1468399cc0d85d5ca777c15633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0baae1468399cc0d85d5ca777c15633">&#9670;&#160;</a></span>GetPubKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GetPubKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_key_i_d.html">CKeyID</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_pub_key.html">CPubKey</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vchPubKeyOut</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_signing_provider.html#a176f28791cca9bb7467bc56bac22909d">SigningProvider</a>.</p>

<p>Reimplemented in <a class="el" href="classwallet_1_1_legacy_data_s_p_k_m.html#ac0baae1468399cc0d85d5ca777c15633">LegacyDataSPKM</a>.</p>

</div>
</div>
<a id="a89da54f85600e6b49e99116ca7364701" name="a89da54f85600e6b49e99116ca7364701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89da54f85600e6b49e99116ca7364701">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#aa6c4127eb1a35f55136d9e7a1c9876f0">ScriptMap</a> mapScripts GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Map of script id to scripts known by the signing provider.</p>
<p>This map originally just held P2SH redeemScripts, and was used by wallet code to look up script ids referenced in "OP_HASH160 &lt;script id&gt;
OP_EQUAL" P2SH outputs. Later in 605e8473a7d it was extended to hold P2WSH witnessScripts as well, and used to look up nested scripts referenced in "OP_0 &lt;script hash&gt;" P2WSH outputs. Later in commits f4691ab3a9d and 248f3a76a82, it was extended once again to hold segwit "OP_0 &lt;key or script hash&gt;" scriptPubKeys, in order to give the wallet a way to distinguish between segwit outputs that it generated addresses for and wanted to receive payments from, and segwit outputs that it never generated addresses for, but it could spend just because of having keys. (Before segwit activation it was also important to not treat segwit outputs to arbitrary wallet keys as payments, because these could be spent by anyone without even needing to sign with the keys.)</p>
<p>Some of the scripts stored in mapScripts are memory-only and intentionally not saved to disk. Specifically, scripts added by ImplicitlyLearnRelatedKeyScripts(pubkey) calls are not written to disk so future wallet code can have flexibility to be more selective about what transaction outputs it recognizes as payments, instead of having to treat all outputs spending to keys it knows as payments. By contrast, mapScripts entries added by AddCScript(script), LearnRelatedScripts(pubkey, type), and LearnAllRelatedScripts(pubkey) calls are saved because they are all intentionally used to receive payments.</p>
<p>The FillableSigningProvider::mapScripts script map should not be confused with LegacyScriptPubKeyMan::setWatchOnly script set. The two collections can hold the same scripts, but they serve different purposes. The setWatchOnly script set is intended to expand the set of outputs the wallet considers payments. Every output with a script it contains is considered to belong to the wallet, regardless of whether the script is solvable or signable. By contrast, the scripts in mapScripts are only used for solving, and to restrict which outputs are considered payments by the wallet. An output with a script in mapScripts, unlike setWatchOnly, is not automatically considered to belong to the wallet if it can't be solved and signed for. </p>

</div>
</div>
<a id="aec3ecf374e8208f019a8881ae74408cf" name="aec3ecf374e8208f019a8881ae74408cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec3ecf374e8208f019a8881ae74408cf">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#abb6d99b9d04444ba00111e8c5a0890d9">KeyMap</a> mapKeys GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Map of key id to unencrypted private keys known by the signing provider. Map may be empty if the provider has another source of keys, like an encrypted store. </p>

</div>
</div>
<a id="a58cb7ca0f5d838001fd6f69447219963" name="a58cb7ca0f5d838001fd6f69447219963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58cb7ca0f5d838001fd6f69447219963">&#9670;&#160;</a></span>HaveCScript()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HaveCScript </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_script_i_d.html">CScriptID</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>hash</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_signing_provider.html#ab5c91616b05293f6bbc2505ad7fc745e">SigningProvider</a>.</p>

</div>
</div>
<a id="a25aee14df3601a0cae72852121cfa80a" name="a25aee14df3601a0cae72852121cfa80a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25aee14df3601a0cae72852121cfa80a">&#9670;&#160;</a></span>HaveKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HaveKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_key_i_d.html">CKeyID</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>address</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_signing_provider.html#a7c2a4b3c01c8b1f948f5519f39ce9e7e">SigningProvider</a>.</p>

<p>Reimplemented in <a class="el" href="classwallet_1_1_legacy_data_s_p_k_m.html#a25aee14df3601a0cae72852121cfa80a">LegacyDataSPKM</a>.</p>

</div>
</div>
<a id="a73e5121a48abdfe949731827fa97f1f3" name="a73e5121a48abdfe949731827fa97f1f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73e5121a48abdfe949731827fa97f1f3">&#9670;&#160;</a></span>ImplicitlyLearnRelatedKeyScripts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImplicitlyLearnRelatedKeyScripts </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_pub_key.html">CPubKey</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pubkey</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Field Documentation</h2>
<a id="a03bc5e9dccecd885e00eeefdad774c7f" name="a03bc5e9dccecd885e00eeefdad774c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03bc5e9dccecd885e00eeefdad774c7f">&#9670;&#160;</a></span>cs_KeyStore</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a> cs_KeyStore</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel mutable">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/script/<a class="el" href="signingprovider_8h_source.html">signingprovider.h</a></li>
<li>src/script/<a class="el" href="signingprovider_8cpp.html">signingprovider.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_fillable_signing_provider.html">FillableSigningProvider</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
