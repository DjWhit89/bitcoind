<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: PeerManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_peer_manager.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">PeerManager Class Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="net__processing_8h_source.html">net_processing.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PeerManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_peer_manager.png" usemap="#PeerManager_map" alt=""/>
  <map id="PeerManager_map" name="PeerManager_map">
<area href="class_c_validation_interface.html" alt="CValidationInterface" shape="rect" coords="0,0,127,24"/>
<area href="class_net_events_interface.html" alt="NetEventsInterface" shape="rect" coords="137,0,264,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:Options" id="r_Options"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_peer_manager_1_1_options.html">Options</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab191021c40d824d5b59934fe57edf727" id="r_ab191021c40d824d5b59934fe57edf727"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab191021c40d824d5b59934fe57edf727">~PeerManager</a> ()=default</td></tr>
<tr class="memitem:a03d7d69a9ddfb5f9f1b88c898a100f7c" id="r_a03d7d69a9ddfb5f9f1b88c898a100f7c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classutil_1_1_expected.html">util::Expected</a>&lt; void, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03d7d69a9ddfb5f9f1b88c898a100f7c">FetchBlock</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer_id, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> &amp;block_index)=0</td></tr>
<tr class="memitem:af5d0d4c330e511186664ccc6cbde45b4" id="r_af5d0d4c330e511186664ccc6cbde45b4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5d0d4c330e511186664ccc6cbde45b4">StartScheduledTasks</a> (<a class="el" href="class_c_scheduler.html">CScheduler</a> &amp;scheduler)=0</td></tr>
<tr class="memitem:a0a2c0b5d5bdbe570534c723ac8ed40d2" id="r_a0a2c0b5d5bdbe570534c723ac8ed40d2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a2c0b5d5bdbe570534c723ac8ed40d2">GetNodeStateStats</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, <a class="el" href="struct_c_node_state_stats.html">CNodeStateStats</a> &amp;stats) const =0</td></tr>
<tr class="memitem:a7e198e6b8d5a55d6d207d8a4ec276c51" id="r_a7e198e6b8d5a55d6d207d8a4ec276c51"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structnode_1_1_tx_orphanage_1_1_orphan_info.html">node::TxOrphanage::OrphanInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e198e6b8d5a55d6d207d8a4ec276c51">GetOrphanTransactions</a> ()=0</td></tr>
<tr class="memitem:a652b885b735d84bcdc54aee50f0991d3" id="r_a652b885b735d84bcdc54aee50f0991d3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_peer_manager_info.html">PeerManagerInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a652b885b735d84bcdc54aee50f0991d3">GetInfo</a> () const =0</td></tr>
<tr class="memitem:a3d6eb79f1a9e830a7f5086286e982259" id="r_a3d6eb79f1a9e830a7f5086286e982259"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d6eb79f1a9e830a7f5086286e982259">RelayTransaction</a> (const <a class="el" href="transaction__identifier_8h.html#ac4bb3c35b94889843d632be4de4b223c">Txid</a> &amp;txid, const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;wtxid)=0</td></tr>
<tr class="memitem:a50e4ddcdfd605bb67a7186dc668c0179" id="r_a50e4ddcdfd605bb67a7186dc668c0179"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50e4ddcdfd605bb67a7186dc668c0179">SendPings</a> ()=0</td></tr>
<tr class="memitem:a1d90a213df9fa07bcb96f09786c231b0" id="r_a1d90a213df9fa07bcb96f09786c231b0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d90a213df9fa07bcb96f09786c231b0">SetBestBlock</a> (int height, std::chrono::seconds time)=0</td></tr>
<tr class="memitem:a431851144bf8d5bbde4879140958afe0" id="r_a431851144bf8d5bbde4879140958afe0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a431851144bf8d5bbde4879140958afe0">UnitTestMisbehaving</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer_id)=0</td></tr>
<tr class="memitem:ac0c70b84d12d79139bf57a1902433c71" id="r_ac0c70b84d12d79139bf57a1902433c71"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0c70b84d12d79139bf57a1902433c71">CheckForStaleTipAndEvictPeers</a> ()=0</td></tr>
<tr class="memitem:a653998b8d3ba41d665cbd602da0321b2" id="r_a653998b8d3ba41d665cbd602da0321b2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a653998b8d3ba41d665cbd602da0321b2">ProcessMessage</a> (<a class="el" href="class_c_node.html">CNode</a> &amp;pfrom, const std::string &amp;msg_type, <a class="el" href="class_data_stream.html">DataStream</a> &amp;vRecv, const std::chrono::microseconds time_received, const std::atomic&lt; bool &gt; &amp;interruptMsgProc) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_net_events_interface.html#a49f0444456d2f1da9c3d2ce68a9bb128">g_msgproc_mutex</a>)=0</td></tr>
<tr class="memitem:aba301fc2c683ebc30d8b1cc0c24072fb" id="r_aba301fc2c683ebc30d8b1cc0c24072fb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba301fc2c683ebc30d8b1cc0c24072fb">UpdateLastBlockAnnounceTime</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> <a class="el" href="namespacenode.html">node</a>, int64_t time_in_seconds)=0</td></tr>
<tr class="memitem:a8ae23db0fe06993a981413fc44cda731" id="r_a8ae23db0fe06993a981413fc44cda731"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ae23db0fe06993a981413fc44cda731">GetDesirableServiceFlags</a> (<a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> services) const =0</td></tr>
<tr class="inherit_header pub_methods_class_net_events_interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_net_events_interface')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Public Member Functions inherited from <a class="el" href="class_net_events_interface.html">NetEventsInterface</a></td></tr>
<tr class="memitem:a715127741f55502b525ce560462ec9d2 inherit pub_methods_class_net_events_interface" id="r_a715127741f55502b525ce560462ec9d2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_events_interface.html#a715127741f55502b525ce560462ec9d2">InitializeNode</a> (const <a class="el" href="class_c_node.html">CNode</a> &amp;<a class="el" href="namespacenode.html">node</a>, <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> our_services)=0</td></tr>
<tr class="memitem:afaf525e23b7a975df9d2a7de3b5bf4c3 inherit pub_methods_class_net_events_interface" id="r_afaf525e23b7a975df9d2a7de3b5bf4c3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_events_interface.html#afaf525e23b7a975df9d2a7de3b5bf4c3">FinalizeNode</a> (const <a class="el" href="class_c_node.html">CNode</a> &amp;<a class="el" href="namespacenode.html">node</a>)=0</td></tr>
<tr class="memitem:ab7b5d6bbeea8268f0f66ee9bfe5cf792 inherit pub_methods_class_net_events_interface" id="r_ab7b5d6bbeea8268f0f66ee9bfe5cf792"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_events_interface.html#ab7b5d6bbeea8268f0f66ee9bfe5cf792">HasAllDesirableServiceFlags</a> (<a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> services) const =0</td></tr>
<tr class="memitem:abed824d9e43befca26665cf28718153f inherit pub_methods_class_net_events_interface" id="r_abed824d9e43befca26665cf28718153f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_events_interface.html#abed824d9e43befca26665cf28718153f">ProcessMessages</a> (<a class="el" href="class_c_node.html">CNode</a> *pnode, std::atomic&lt; bool &gt; &amp;interrupt) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_net_events_interface.html#a49f0444456d2f1da9c3d2ce68a9bb128">g_msgproc_mutex</a>)=0</td></tr>
<tr class="memitem:a7b06e68cd69291b3ba255f1094703d8e inherit pub_methods_class_net_events_interface" id="r_a7b06e68cd69291b3ba255f1094703d8e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_events_interface.html#a7b06e68cd69291b3ba255f1094703d8e">SendMessages</a> (<a class="el" href="class_c_node.html">CNode</a> *pnode) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_net_events_interface.html#a49f0444456d2f1da9c3d2ce68a9bb128">g_msgproc_mutex</a>)=0</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9d86f722d4111fed4e14deca63b5841e" id="r_a9d86f722d4111fed4e14deca63b5841e"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="class_peer_manager.html">PeerManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d86f722d4111fed4e14deca63b5841e">make</a> (<a class="el" href="class_c_connman.html">CConnman</a> &amp;connman, <a class="el" href="class_addr_man.html">AddrMan</a> &amp;addrman, <a class="el" href="class_ban_man.html">BanMan</a> *banman, <a class="el" href="class_chainstate_manager.html">ChainstateManager</a> &amp;chainman, <a class="el" href="class_c_tx_mem_pool.html">CTxMemPool</a> &amp;pool, <a class="el" href="classnode_1_1_warnings.html">node::Warnings</a> &amp;warnings, <a class="el" href="struct_options.html">Options</a> opts)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-inherited" class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_class_net_events_interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_attribs_class_net_events_interface')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Static Public Attributes inherited from <a class="el" href="class_net_events_interface.html">NetEventsInterface</a></td></tr>
<tr class="memitem:a49f0444456d2f1da9c3d2ce68a9bb128 inherit pub_static_attribs_class_net_events_interface" id="r_a49f0444456d2f1da9c3d2ce68a9bb128"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="sync_8h.html#a326d1d46ce05b5316d8ebe2694a10a6e">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_events_interface.html#a49f0444456d2f1da9c3d2ce68a9bb128">g_msgproc_mutex</a></td></tr>
<tr class="inherit_header pro_methods_class_c_validation_interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_class_c_validation_interface')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Protected Member Functions inherited from <a class="el" href="class_c_validation_interface.html">CValidationInterface</a></td></tr>
<tr class="memitem:aad9483faad7ccdb00e7494de501776a0 inherit pro_methods_class_c_validation_interface" id="r_aad9483faad7ccdb00e7494de501776a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#aad9483faad7ccdb00e7494de501776a0">~CValidationInterface</a> ()=default</td></tr>
<tr class="memitem:a380dda786ad029c1816421c45424c78c inherit pro_methods_class_c_validation_interface" id="r_a380dda786ad029c1816421c45424c78c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a380dda786ad029c1816421c45424c78c">UpdatedBlockTip</a> (const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexNew, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexFork, bool fInitialDownload)</td></tr>
<tr class="memitem:a4ffef6c150debdc76821b1488b7db20e inherit pro_methods_class_c_validation_interface" id="r_a4ffef6c150debdc76821b1488b7db20e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a4ffef6c150debdc76821b1488b7db20e">ActiveTipChange</a> (const <a class="el" href="class_c_block_index.html">CBlockIndex</a> &amp;new_tip, bool is_ibd)</td></tr>
<tr class="memitem:a7a2ce3dce287e7b5ec214b4bcfe05a99 inherit pro_methods_class_c_validation_interface" id="r_a7a2ce3dce287e7b5ec214b4bcfe05a99"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a7a2ce3dce287e7b5ec214b4bcfe05a99">TransactionAddedToMempool</a> (const <a class="el" href="struct_new_mempool_transaction_info.html">NewMempoolTransactionInfo</a> &amp;tx, uint64_t mempool_sequence)</td></tr>
<tr class="memitem:a34351b1a3571af34d86d50d96c1c7b01 inherit pro_methods_class_c_validation_interface" id="r_a34351b1a3571af34d86d50d96c1c7b01"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a34351b1a3571af34d86d50d96c1c7b01">TransactionRemovedFromMempool</a> (const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;tx, <a class="el" href="mempool__removal__reason_8h.html#a2bc6653552b5871101b6cbefdbaf251f">MemPoolRemovalReason</a> reason, uint64_t mempool_sequence)</td></tr>
<tr class="memitem:a5a935698165aa2894a458e663be2f0db inherit pro_methods_class_c_validation_interface" id="r_a5a935698165aa2894a458e663be2f0db"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a5a935698165aa2894a458e663be2f0db">MempoolTransactionsRemovedForBlock</a> (const std::vector&lt; <a class="el" href="struct_removed_mempool_transaction_info.html">RemovedMempoolTransactionInfo</a> &gt; &amp;txs_removed_for_block, unsigned int nBlockHeight)</td></tr>
<tr class="memitem:a41401b83726759ddd692bbfe627e09d1 inherit pro_methods_class_c_validation_interface" id="r_a41401b83726759ddd692bbfe627e09d1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a41401b83726759ddd692bbfe627e09d1">BlockConnected</a> (const <a class="el" href="structkernel_1_1_chainstate_role.html">kernel::ChainstateRole</a> &amp;role, const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;block, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex)</td></tr>
<tr class="memitem:ace0c3c3b924da1ba43d5d924fceb45ea inherit pro_methods_class_c_validation_interface" id="r_ace0c3c3b924da1ba43d5d924fceb45ea"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#ace0c3c3b924da1ba43d5d924fceb45ea">BlockDisconnected</a> (const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;block, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex)</td></tr>
<tr class="memitem:a462316941d99f23c26c9217297762d52 inherit pro_methods_class_c_validation_interface" id="r_a462316941d99f23c26c9217297762d52"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a462316941d99f23c26c9217297762d52">ChainStateFlushed</a> (const <a class="el" href="structkernel_1_1_chainstate_role.html">kernel::ChainstateRole</a> &amp;role, const <a class="el" href="struct_c_block_locator.html">CBlockLocator</a> &amp;locator)</td></tr>
<tr class="memitem:a49e9c60d03d94ecaa73c610d74e0b824 inherit pro_methods_class_c_validation_interface" id="r_a49e9c60d03d94ecaa73c610d74e0b824"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a49e9c60d03d94ecaa73c610d74e0b824">BlockChecked</a> (const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;, const <a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;)</td></tr>
<tr class="memitem:a51d31af38790c2a66bbf3b9c90c9808b inherit pro_methods_class_c_validation_interface" id="r_a51d31af38790c2a66bbf3b9c90c9808b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_validation_interface.html#a51d31af38790c2a66bbf3b9c90c9808b">NewPoWValidBlock</a> (const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;block)</td></tr>
<tr class="inherit_header pro_methods_class_net_events_interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_class_net_events_interface')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Protected Member Functions inherited from <a class="el" href="class_net_events_interface.html">NetEventsInterface</a></td></tr>
<tr class="memitem:a884426f1fdafd607458a3a75d46a076c inherit pro_methods_class_net_events_interface" id="r_a884426f1fdafd607458a3a75d46a076c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_net_events_interface.html#a884426f1fdafd607458a3a75d46a076c">~NetEventsInterface</a> ()=default</td></tr>
</table>
<a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab191021c40d824d5b59934fe57edf727" name="ab191021c40d824d5b59934fe57edf727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab191021c40d824d5b59934fe57edf727">&#9670;&#160;</a></span>~PeerManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="class_peer_manager.html">PeerManager</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span><span class="mlabel default">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="ac0c70b84d12d79139bf57a1902433c71" name="ac0c70b84d12d79139bf57a1902433c71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0c70b84d12d79139bf57a1902433c71">&#9670;&#160;</a></span>CheckForStaleTipAndEvictPeers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CheckForStaleTipAndEvictPeers </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Evict extra outbound peers. If we think our tip may be stale, connect to an extra outbound. Public for unit testing. </p>

</div>
</div>
<a id="a03d7d69a9ddfb5f9f1b88c898a100f7c" name="a03d7d69a9ddfb5f9f1b88c898a100f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03d7d69a9ddfb5f9f1b88c898a100f7c">&#9670;&#160;</a></span>FetchBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classutil_1_1_expected.html">util::Expected</a>&lt; void, std::string &gt; FetchBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>block_index</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempt to manually fetch block from a given peer. We must already have the header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">peer_id</td><td>The peer id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block_index</td><td>The blockindex </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ae23db0fe06993a981413fc44cda731" name="a8ae23db0fe06993a981413fc44cda731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae23db0fe06993a981413fc44cda731">&#9670;&#160;</a></span>GetDesirableServiceFlags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a> GetDesirableServiceFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protocol_8h.html#ad131f3177584caea787cdbf6f85a9537">ServiceFlags</a></td>          <td class="paramname"><span class="paramname"><em>services</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the set of service flags which are "desirable" for a given peer.</p>
<p>These are the flags which are required for a peer to support for them to be "interesting" to us, ie for us to wish to use one of our few outbound connection slots for or for us to wish to prioritize keeping their connection around.</p>
<p>Relevant service flags may be peer- and state-specific in that the version of the peer may determine which flags are required (eg in the case of NODE_NETWORK_LIMITED where we seek out NODE_NETWORK peers unless they set NODE_NETWORK_LIMITED and we are out of IBD, in which case NODE_NETWORK_LIMITED suffices).</p>
<p>Thus, generally, avoid calling with 'services' == NODE_NONE, unless state-specific flags must absolutely be avoided. When called with 'services' == NODE_NONE, the returned desirable service flags are guaranteed to not change dependent on state - ie they are suitable for use when describing peers which we know to be desirable, but for which we do not have a confirmed set of service flags. </p>

</div>
</div>
<a id="a652b885b735d84bcdc54aee50f0991d3" name="a652b885b735d84bcdc54aee50f0991d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a652b885b735d84bcdc54aee50f0991d3">&#9670;&#160;</a></span>GetInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="struct_peer_manager_info.html">PeerManagerInfo</a> GetInfo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get peer manager info. </p>

</div>
</div>
<a id="a0a2c0b5d5bdbe570534c723ac8ed40d2" name="a0a2c0b5d5bdbe570534c723ac8ed40d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a2c0b5d5bdbe570534c723ac8ed40d2">&#9670;&#160;</a></span>GetNodeStateStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool GetNodeStateStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_node_state_stats.html">CNodeStateStats</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>stats</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get statistics from node state </p>

</div>
</div>
<a id="a7e198e6b8d5a55d6d207d8a4ec276c51" name="a7e198e6b8d5a55d6d207d8a4ec276c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e198e6b8d5a55d6d207d8a4ec276c51">&#9670;&#160;</a></span>GetOrphanTransactions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt; <a class="el" href="structnode_1_1_tx_orphanage_1_1_orphan_info.html">node::TxOrphanage::OrphanInfo</a> &gt; GetOrphanTransactions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d86f722d4111fed4e14deca63b5841e" name="a9d86f722d4111fed4e14deca63b5841e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d86f722d4111fed4e14deca63b5841e">&#9670;&#160;</a></span>make()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="class_peer_manager.html">PeerManager</a> &gt; make </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_connman.html">CConnman</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>connman</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_addr_man.html">AddrMan</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>addrman</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_ban_man.html">BanMan</a> *</td>          <td class="paramname"><span class="paramname"><em>banman</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_chainstate_manager.html">ChainstateManager</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>chainman</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_tx_mem_pool.html">CTxMemPool</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnode_1_1_warnings.html">node::Warnings</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>warnings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_options.html">Options</a></td>          <td class="paramname"><span class="paramname"><em>opts</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a653998b8d3ba41d665cbd602da0321b2" name="a653998b8d3ba41d665cbd602da0321b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653998b8d3ba41d665cbd602da0321b2">&#9670;&#160;</a></span>ProcessMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ProcessMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_node.html">CNode</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pfrom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>msg_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data_stream.html">DataStream</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vRecv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::microseconds</td>          <td class="paramname"><span class="paramname"><em>time_received</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::atomic&lt; bool &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>interruptMsgProc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process a single message from a peer. Public for fuzz testing </p>

</div>
</div>
<a id="a3d6eb79f1a9e830a7f5086286e982259" name="a3d6eb79f1a9e830a7f5086286e982259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d6eb79f1a9e830a7f5086286e982259">&#9670;&#160;</a></span>RelayTransaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RelayTransaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="transaction__identifier_8h.html#ac4bb3c35b94889843d632be4de4b223c">Txid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>txid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>wtxid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Relay transaction to all peers. </p>

</div>
</div>
<a id="a50e4ddcdfd605bb67a7186dc668c0179" name="a50e4ddcdfd605bb67a7186dc668c0179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e4ddcdfd605bb67a7186dc668c0179">&#9670;&#160;</a></span>SendPings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SendPings </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send ping message to all peers </p>

</div>
</div>
<a id="a1d90a213df9fa07bcb96f09786c231b0" name="a1d90a213df9fa07bcb96f09786c231b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d90a213df9fa07bcb96f09786c231b0">&#9670;&#160;</a></span>SetBestBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SetBestBlock </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::seconds</td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the height of the best block and its time (seconds since epoch). </p>

</div>
</div>
<a id="af5d0d4c330e511186664ccc6cbde45b4" name="af5d0d4c330e511186664ccc6cbde45b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d0d4c330e511186664ccc6cbde45b4">&#9670;&#160;</a></span>StartScheduledTasks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void StartScheduledTasks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_scheduler.html">CScheduler</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>scheduler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Begin running background tasks, should only be called once </p>

</div>
</div>
<a id="a431851144bf8d5bbde4879140958afe0" name="a431851144bf8d5bbde4879140958afe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431851144bf8d5bbde4879140958afe0">&#9670;&#160;</a></span>UnitTestMisbehaving()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void UnitTestMisbehaving </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aba301fc2c683ebc30d8b1cc0c24072fb" name="aba301fc2c683ebc30d8b1cc0c24072fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba301fc2c683ebc30d8b1cc0c24072fb">&#9670;&#160;</a></span>UpdateLastBlockAnnounceTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void UpdateLastBlockAnnounceTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>node</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>time_in_seconds</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function is used for testing the stale tip eviction logic, see <a class="el" href="denialofservice__tests_8cpp.html">denialofservice_tests.cpp</a> </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="net__processing_8h_source.html">net_processing.h</a></li>
<li>src/<a class="el" href="net__processing_8cpp.html">net_processing.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_peer_manager.html">PeerManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
