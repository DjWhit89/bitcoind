<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: V2Transport Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_v2_transport.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">V2Transport Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="net_8h_source.html">net.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for V2Transport:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_v2_transport.png" usemap="#V2Transport_map" alt=""/>
  <map id="V2Transport_map" name="V2Transport_map">
<area href="class_transport.html" alt="Transport" shape="rect" coords="0,0,82,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8e35b001b48519575f9b2702c9885275" id="r_a8e35b001b48519575f9b2702c9885275"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e35b001b48519575f9b2702c9885275">V2Transport</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, bool initiating) noexcept</td></tr>
<tr class="memitem:abccf3f4eb2119f48b780a98aa749da2d" id="r_abccf3f4eb2119f48b780a98aa749da2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abccf3f4eb2119f48b780a98aa749da2d">V2Transport</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, bool initiating, const <a class="el" href="class_c_key.html">CKey</a> &amp;key, std::span&lt; const std::byte &gt; ent32, std::vector&lt; uint8_t &gt; garbage) noexcept</td></tr>
<tr class="memitem:a4f36f118f8160d80099867d6649af983" id="r_a4f36f118f8160d80099867d6649af983"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f36f118f8160d80099867d6649af983">ReceivedMessageComplete</a> () const noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_recv_mutex)</td></tr>
<tr class="memitem:a5691fd1213bde99a8f6b51b0db49c799" id="r_a5691fd1213bde99a8f6b51b0db49c799"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5691fd1213bde99a8f6b51b0db49c799">ReceivedBytes</a> (std::span&lt; const uint8_t &gt; &amp;msg_bytes) noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_recv_mutex</td></tr>
<tr class="memitem:a12316f223ad2873017e085b2aacaa6ec" id="r_a12316f223ad2873017e085b2aacaa6ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_net_message.html">CNetMessage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12316f223ad2873017e085b2aacaa6ec">GetReceivedMessage</a> (std::chrono::microseconds time, bool &amp;reject_message) noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_recv_mutex)</td></tr>
<tr class="memitem:ae61bb32e8ff51cb3802156ab3eb10556" id="r_ae61bb32e8ff51cb3802156ab3eb10556"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae61bb32e8ff51cb3802156ab3eb10556">SetMessageToSend</a> (<a class="el" href="struct_c_serialized_net_msg.html">CSerializedNetMsg</a> &amp;msg) noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_send_mutex)</td></tr>
<tr class="memitem:a39dcf7de09089dc617df00c6850647b3" id="r_a39dcf7de09089dc617df00c6850647b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_transport.html#af6ca4dbfbf45f9bd26bc6bf4a6adfb9f">BytesToSend</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39dcf7de09089dc617df00c6850647b3">GetBytesToSend</a> (bool have_next_message) const noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_send_mutex)</td></tr>
<tr class="memitem:ac69707799060ee90f662f6139bf01505" id="r_ac69707799060ee90f662f6139bf01505"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac69707799060ee90f662f6139bf01505">MarkBytesSent</a> (size_t bytes_sent) noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_send_mutex)</td></tr>
<tr class="memitem:a6064b63ffba8cdc3f48a4217f75e3f93" id="r_a6064b63ffba8cdc3f48a4217f75e3f93"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6064b63ffba8cdc3f48a4217f75e3f93">GetSendMemoryUsage</a> () const noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_send_mutex)</td></tr>
<tr class="memitem:ab392835ec6771ddb918c7322a2bf1826" id="r_ab392835ec6771ddb918c7322a2bf1826"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab392835ec6771ddb918c7322a2bf1826">ShouldReconnectV1</a> () const noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_recv_mutex</td></tr>
<tr class="memitem:a52d0c2171a477c4f78137f806a4871f0" id="r_a52d0c2171a477c4f78137f806a4871f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_transport_1_1_info.html">Info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52d0c2171a477c4f78137f806a4871f0">GetInfo</a> () const noexcept override <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(!m_recv_mutex)</td></tr>
<tr class="inherit_header pub_methods_class_transport"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_transport')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Public Member Functions inherited from <a class="el" href="class_transport.html">Transport</a></td></tr>
<tr class="memitem:a9c4cb2756aafdbaa8e42942407e42e6c inherit pub_methods_class_transport" id="r_a9c4cb2756aafdbaa8e42942407e42e6c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transport.html#a9c4cb2756aafdbaa8e42942407e42e6c">~Transport</a> ()=default</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-attribs" class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a426eec4f0246a40d6c4b4f3d821b396b" id="r_a426eec4f0246a40d6c4b4f3d821b396b"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a426eec4f0246a40d6c4b4f3d821b396b">MAX_GARBAGE_LEN</a> = 4095</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-inherited" class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_transport"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_types_class_transport')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Public Types inherited from <a class="el" href="class_transport.html">Transport</a></td></tr>
<tr class="memitem:af6ca4dbfbf45f9bd26bc6bf4a6adfb9f inherit pub_types_class_transport" id="r_af6ca4dbfbf45f9bd26bc6bf4a6adfb9f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transport.html#af6ca4dbfbf45f9bd26bc6bf4a6adfb9f">BytesToSend</a></td></tr>
</table>
<a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8e35b001b48519575f9b2702c9885275" name="a8e35b001b48519575f9b2702c9885275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e35b001b48519575f9b2702c9885275">&#9670;&#160;</a></span>V2Transport() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_v2_transport.html">V2Transport</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>initiating</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a V2 transport with securely generated random keys.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nodeid</td><td>the node's <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> (only for debug log output). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">initiating</td><td>whether we are the initiator side. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abccf3f4eb2119f48b780a98aa749da2d" name="abccf3f4eb2119f48b780a98aa749da2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abccf3f4eb2119f48b780a98aa749da2d">&#9670;&#160;</a></span>V2Transport() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_v2_transport.html">V2Transport</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>initiating</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_key.html">CKey</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; const std::byte &gt;</td>          <td class="paramname"><span class="paramname"><em>ent32</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;</td>          <td class="paramname"><span class="paramname"><em>garbage</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a V2 transport with specified keys and garbage (test use only). </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a39dcf7de09089dc617df00c6850647b3" name="a39dcf7de09089dc617df00c6850647b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39dcf7de09089dc617df00c6850647b3">&#9670;&#160;</a></span>GetBytesToSend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_transport.html#af6ca4dbfbf45f9bd26bc6bf4a6adfb9f">Transport::BytesToSend</a> GetBytesToSend </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>have_next_message</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get bytes to send on the wire, if any, along with other information about it.</p>
<p>As a const function, it does not modify the transport's observable state, and is thus safe to be called multiple times.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">have_next_message</td><td>If true, the "more" return value reports whether more will be sendable after a SetMessageToSend call. It is set by the caller when they know they have another message ready to send, and only care about what happens after that. The have_next_message argument only affects this "more" return value and nothing else.</td></tr>
  </table>
  </dd>
</dl>
<p>Effectively, there are three possible outcomes about whether there are more bytes to send:</p><ul>
<li>Yes: the transport itself has more bytes to send later. For example, for <a class="el" href="class_v1_transport.html">V1Transport</a> this happens during the sending of the header of a message, when there is a non-empty payload that follows.</li>
<li>No: the transport itself has no more bytes to send, but will have bytes to send if handed a message through SetMessageToSend. In <a class="el" href="class_v1_transport.html">V1Transport</a> this happens when sending the payload of a message.</li>
<li>Blocked: the transport itself has no more bytes to send, and is also incapable of sending anything more at all now, if it were handed another message to send. This occurs in <a class="el" href="class_v2_transport.html">V2Transport</a> before the handshake is complete, as the encryption ciphers are not set up for sending messages before that point.</li>
</ul>
<p>The boolean 'more' is true for Yes, false for Blocked, and have_next_message controls what is returned for No.</p>
<dl class="section return"><dt>Returns</dt><dd>a <a class="el" href="class_transport.html#af6ca4dbfbf45f9bd26bc6bf4a6adfb9f">BytesToSend</a> object. The to_send member returned acts as a stream which is only ever appended to. This means that with the exception of MarkBytesSent (which pops bytes off the front of later to_sends), operations on the transport can only append to what is being returned. Also note that m_type and to_send refer to data that is internal to the transport, and calling any non-const function on this object may invalidate them. </dd></dl>

<p>Implements <a class="el" href="class_transport.html#afe903c5a52b321e189d97c6edbb64e95">Transport</a>.</p>

</div>
</div>
<a id="a52d0c2171a477c4f78137f806a4871f0" name="a52d0c2171a477c4f78137f806a4871f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d0c2171a477c4f78137f806a4871f0">&#9670;&#160;</a></span>GetInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_transport_1_1_info.html">Transport::Info</a> GetInfo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieve information about this transport. </p>

<p>Implements <a class="el" href="class_transport.html#a48296f31d432a8809164b3f97bbc1e4a">Transport</a>.</p>

</div>
</div>
<a id="a12316f223ad2873017e085b2aacaa6ec" name="a12316f223ad2873017e085b2aacaa6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12316f223ad2873017e085b2aacaa6ec">&#9670;&#160;</a></span>GetReceivedMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_net_message.html">CNetMessage</a> GetReceivedMessage </td>
          <td>(</td>
          <td class="paramtype">std::chrono::microseconds</td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;</td>          <td class="paramname"><span class="paramname"><em>reject_message</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieve a completed message from transport.</p>
<p>This can only be called when <a class="el" href="#a4f36f118f8160d80099867d6649af983">ReceivedMessageComplete()</a> is true.</p>
<p>If reject_message=true is returned the message itself is invalid, but (other than false returned by ReceivedBytes) the transport is not in an inconsistent state. </p>

<p>Implements <a class="el" href="class_transport.html#a65899c32e93818026372178488912881">Transport</a>.</p>

</div>
</div>
<a id="a6064b63ffba8cdc3f48a4217f75e3f93" name="a6064b63ffba8cdc3f48a4217f75e3f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6064b63ffba8cdc3f48a4217f75e3f93">&#9670;&#160;</a></span>GetSendMemoryUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t GetSendMemoryUsage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the memory usage of this transport attributable to buffered data to send. </p>

<p>Implements <a class="el" href="class_transport.html#a091196a6bab12cd2fe571129015bba8b">Transport</a>.</p>

</div>
</div>
<a id="ac69707799060ee90f662f6139bf01505" name="ac69707799060ee90f662f6139bf01505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac69707799060ee90f662f6139bf01505">&#9670;&#160;</a></span>MarkBytesSent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MarkBytesSent </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>bytes_sent</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Report how many bytes returned by the last <a class="el" href="#a39dcf7de09089dc617df00c6850647b3">GetBytesToSend()</a> have been sent.</p>
<p>bytes_sent cannot exceed to_send.size() of the last <a class="el" href="#a39dcf7de09089dc617df00c6850647b3">GetBytesToSend()</a> result.</p>
<p>If bytes_sent=0, this call has no effect. </p>

<p>Implements <a class="el" href="class_transport.html#a915249a31c6d363883f933cbbd07d22f">Transport</a>.</p>

</div>
</div>
<a id="a5691fd1213bde99a8f6b51b0db49c799" name="a5691fd1213bde99a8f6b51b0db49c799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5691fd1213bde99a8f6b51b0db49c799">&#9670;&#160;</a></span>ReceivedBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ReceivedBytes </td>
          <td>(</td>
          <td class="paramtype">std::span&lt; const uint8_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>msg_bytes</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Feed wire bytes to the transport.</p>
<dl class="section return"><dt>Returns</dt><dd>false if some bytes were invalid, in which case the transport can't be used anymore.</dd></dl>
<p>Consumed bytes are chopped off the front of msg_bytes. </p>
<p>How many bytes to allocate in the receive buffer at most above what is received so far.</p>

<p>Implements <a class="el" href="class_transport.html#af5340b2062e8681b6fb7d8f5a724102d">Transport</a>.</p>

</div>
</div>
<a id="a4f36f118f8160d80099867d6649af983" name="a4f36f118f8160d80099867d6649af983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f36f118f8160d80099867d6649af983">&#9670;&#160;</a></span>ReceivedMessageComplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ReceivedMessageComplete </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the current message is complete (so GetReceivedMessage can be called). </p>

<p>Implements <a class="el" href="class_transport.html#ad72f1df14e7c2b557c3f780d25361073">Transport</a>.</p>

</div>
</div>
<a id="ae61bb32e8ff51cb3802156ab3eb10556" name="ae61bb32e8ff51cb3802156ab3eb10556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae61bb32e8ff51cb3802156ab3eb10556">&#9670;&#160;</a></span>SetMessageToSend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SetMessageToSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_serialized_net_msg.html">CSerializedNetMsg</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the next message to send.</p>
<p>If no message can currently be set (perhaps because the previous one is not yet done being sent), returns false, and msg will be unmodified. Otherwise msg is enqueued (and possibly moved-from) and true is returned. </p>

<p>Implements <a class="el" href="class_transport.html#a7f7875e9c9bf5903f84dba2123309c01">Transport</a>.</p>

</div>
</div>
<a id="ab392835ec6771ddb918c7322a2bf1826" name="ab392835ec6771ddb918c7322a2bf1826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab392835ec6771ddb918c7322a2bf1826">&#9670;&#160;</a></span>ShouldReconnectV1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ShouldReconnectV1 </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Whether upon disconnections, a reconnect with V1 is warranted. </p>

<p>Implements <a class="el" href="class_transport.html#ab8e03c4ee651c248fe3c67c55844681c">Transport</a>.</p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Field Documentation</h2>
<a id="a426eec4f0246a40d6c4b4f3d821b396b" name="a426eec4f0246a40d6c4b4f3d821b396b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a426eec4f0246a40d6c4b4f3d821b396b">&#9670;&#160;</a></span>MAX_GARBAGE_LEN</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t MAX_GARBAGE_LEN = 4095</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="net_8h_source.html">net.h</a></li>
<li>src/<a class="el" href="net_8cpp.html">net.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_v2_transport.html">V2Transport</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
