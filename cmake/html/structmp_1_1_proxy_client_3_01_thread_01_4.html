<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: ProxyClient&lt; Thread &gt; Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('structmp_1_1_proxy_client_3_01_thread_01_4.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">ProxyClient&lt; Thread &gt; Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="proxy-io_8h_source.html">proxy-io.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ProxyClient&lt; Thread &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="structmp_1_1_proxy_client_3_01_thread_01_4.png" usemap="#ProxyClient_3C_20Thread_20_3E_map" alt=""/>
  <map id="ProxyClient_3C_20Thread_20_3E_map" name="ProxyClient_3C_20Thread_20_3E_map">
<area href="classmp_1_1_proxy_client_base.html" alt="ProxyClientBase&lt; Thread, ::capnp::Void &gt;" shape="rect" coords="0,56,251,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acdc11ed333f47511007a0554f529e05b" id="r_acdc11ed333f47511007a0554f529e05b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdc11ed333f47511007a0554f529e05b">ProxyClient</a> (const ProxyClient &amp;)=delete</td></tr>
<tr class="memitem:a20e57d0d84ee9d0282a79764462d5568" id="r_a20e57d0d84ee9d0282a79764462d5568"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20e57d0d84ee9d0282a79764462d5568">~ProxyClient</a> ()</td></tr>
<tr class="memitem:a32f6c2ed2bf7fd1668e2d5c3e5256682" id="r_a32f6c2ed2bf7fd1668e2d5c3e5256682"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32f6c2ed2bf7fd1668e2d5c3e5256682">ProxyClientBase</a> (typename Interface::Client client, <a class="el" href="classmp_1_1_connection.html">Connection</a> *connection, bool destroy_connection)</td></tr>
<tr class="inherit_header pub_methods_classmp_1_1_proxy_client_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classmp_1_1_proxy_client_base')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Public Member Functions inherited from <a class="el" href="classmp_1_1_proxy_client_base.html">ProxyClientBase&lt; Thread, ::capnp::Void &gt;</a></td></tr>
<tr class="memitem:a32f6c2ed2bf7fd1668e2d5c3e5256682 inherit pub_methods_classmp_1_1_proxy_client_base" id="r_a32f6c2ed2bf7fd1668e2d5c3e5256682"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#a32f6c2ed2bf7fd1668e2d5c3e5256682">ProxyClientBase</a> (typename Interface::Client client, <a class="el" href="classmp_1_1_connection.html">Connection</a> *connection, bool destroy_connection)</td></tr>
<tr class="memitem:a0f6d5e2adea8c123189c2f263d0153ee inherit pub_methods_classmp_1_1_proxy_client_base" id="r_a0f6d5e2adea8c123189c2f263d0153ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#a0f6d5e2adea8c123189c2f263d0153ee">~ProxyClientBase</a> () noexcept</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a36bc04dbcc8122bc405076c2bd588f7a" id="r_a36bc04dbcc8122bc405076c2bd588f7a"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="namespacemp.html#a5922c1e79ba82f5eb46c5cd0bfc69966">CleanupIt</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36bc04dbcc8122bc405076c2bd588f7a">m_disconnect_cb</a></td></tr>
<tr class="inherit_header pub_attribs_classmp_1_1_proxy_client_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_classmp_1_1_proxy_client_base')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Data Fields inherited from <a class="el" href="classmp_1_1_proxy_client_base.html">ProxyClientBase&lt; Thread, ::capnp::Void &gt;</a></td></tr>
<tr class="memitem:a6869135fcb798da5312514f9663bb2b0 inherit pub_attribs_classmp_1_1_proxy_client_base" id="r_a6869135fcb798da5312514f9663bb2b0"><td class="memItemLeft" align="right" valign="top">Interface::Client&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#a6869135fcb798da5312514f9663bb2b0">m_client</a></td></tr>
<tr class="memitem:af910ca1c8fc9a191f85d16b71819c033 inherit pub_attribs_classmp_1_1_proxy_client_base" id="r_af910ca1c8fc9a191f85d16b71819c033"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmp_1_1_proxy_context.html">ProxyContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#af910ca1c8fc9a191f85d16b71819c033">m_context</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-inherited" class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classmp_1_1_proxy_client_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_types_classmp_1_1_proxy_client_base')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Public Types inherited from <a class="el" href="classmp_1_1_proxy_client_base.html">ProxyClientBase&lt; Thread, ::capnp::Void &gt;</a></td></tr>
<tr class="memitem:ac56f24b044e98752160b4a0a14514e76 inherit pub_types_classmp_1_1_proxy_client_base" id="r_ac56f24b044e98752160b4a0a14514e76"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#ac56f24b044e98752160b4a0a14514e76">Interface</a></td></tr>
<tr class="memitem:aa5c2e2f388eaba65ab01f79b1ae9ea32 inherit pub_types_classmp_1_1_proxy_client_base" id="r_aa5c2e2f388eaba65ab01f79b1ae9ea32"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#aa5c2e2f388eaba65ab01f79b1ae9ea32">Impl</a></td></tr>
<tr class="memitem:a90cfc8f560844fa5b07d2a91f50faac3 inherit pub_types_classmp_1_1_proxy_client_base" id="r_a90cfc8f560844fa5b07d2a91f50faac3"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#a90cfc8f560844fa5b07d2a91f50faac3">Sub</a></td></tr>
<tr class="memitem:ab856cf84ab94afac4d38a770a8ef93d4 inherit pub_types_classmp_1_1_proxy_client_base" id="r_ab856cf84ab94afac4d38a770a8ef93d4"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#ab856cf84ab94afac4d38a770a8ef93d4">Super</a></td></tr>
<tr class="inherit_header pub_static_methods_classmp_1_1_proxy_client_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_methods_classmp_1_1_proxy_client_base')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Static Public Member Functions inherited from <a class="el" href="classmp_1_1_proxy_client_base.html">ProxyClientBase&lt; Thread, ::capnp::Void &gt;</a></td></tr>
<tr class="memitem:a18e911ce47f7b556cfbf6a3728952071 inherit pub_static_methods_classmp_1_1_proxy_client_base" id="r_a18e911ce47f7b556cfbf6a3728952071"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#a18e911ce47f7b556cfbf6a3728952071">construct</a> (<a class="el" href="classmp_1_1_proxy_client_base.html#ab856cf84ab94afac4d38a770a8ef93d4">Super</a> &amp;)</td></tr>
<tr class="memitem:adb322a9b900118b6eeda9c7d1bd98c83 inherit pub_static_methods_classmp_1_1_proxy_client_base" id="r_adb322a9b900118b6eeda9c7d1bd98c83"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp_1_1_proxy_client_base.html#adb322a9b900118b6eeda9c7d1bd98c83">destroy</a> (<a class="el" href="classmp_1_1_proxy_client_base.html#ab856cf84ab94afac4d38a770a8ef93d4">Super</a> &amp;)</td></tr>
</table>
<a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acdc11ed333f47511007a0554f529e05b" name="acdc11ed333f47511007a0554f529e05b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc11ed333f47511007a0554f529e05b">&#9670;&#160;</a></span>ProxyClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ProxyClient </td>
          <td>(</td>
          <td class="paramtype">const ProxyClient&lt; Thread &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a20e57d0d84ee9d0282a79764462d5568" name="a20e57d0d84ee9d0282a79764462d5568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e57d0d84ee9d0282a79764462d5568">&#9670;&#160;</a></span>~ProxyClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="#acdc11ed333f47511007a0554f529e05b">ProxyClient</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a32f6c2ed2bf7fd1668e2d5c3e5256682" name="a32f6c2ed2bf7fd1668e2d5c3e5256682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32f6c2ed2bf7fd1668e2d5c3e5256682">&#9670;&#160;</a></span>ProxyClientBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ProxyClientBase </td>
          <td>(</td>
          <td class="paramtype">typename Interface::Client</td>          <td class="paramname"><span class="paramname"><em>client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmp_1_1_connection.html">Connection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>destroy_connection</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct libmultiprocess client object wrapping Cap'n Proto client object with a reference to the associated <a class="el" href="classmp_1_1_connection.html">mp::Connection</a> object.</p>
<p>The destroy_connection option determines whether destroying this client object closes the connection. It is set to true for the ProxyClient&lt;InitInterface&gt; object returned by ConnectStream, to let IPC clients close the connection by freeing the object. It is false for other client objects so they can be destroyed without affecting the connection. </p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Field Documentation</h2>
<a id="a36bc04dbcc8122bc405076c2bd588f7a" name="a36bc04dbcc8122bc405076c2bd588f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36bc04dbcc8122bc405076c2bd588f7a">&#9670;&#160;</a></span>m_disconnect_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="namespacemp.html#a5922c1e79ba82f5eb46c5cd0bfc69966">CleanupIt</a>&gt; m_disconnect_cb</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference to callback function that is run if there is a sudden disconnect and the <a class="el" href="classmp_1_1_connection.html">Connection</a> object is destroyed before this <a class="el" href="structmp_1_1_proxy_client_3_01_thread_01_4.html">ProxyClient&lt;Thread&gt;</a> object. The callback will destroy this object and remove its entry from the thread's request_threads or callback_threads map. It will also reset m_disconnect_cb so the destructor does not access it. In the normal case where there is no sudden disconnect, the destructor will unregister m_disconnect_cb so the callback is never run. Since this variable is accessed from multiple threads, accesses should be guarded with the associated <a class="el" href="structmp_1_1_waiter.html#a71aaf23d91d7b7a5611738c4f06e3577">Waiter::m_mutex</a>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/ipc/libmultiprocess/include/mp/<a class="el" href="proxy-io_8h_source.html">proxy-io.h</a></li>
<li>src/ipc/libmultiprocess/src/mp/<a class="el" href="proxy_8cpp.html">proxy.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacemp.html">mp</a></li><li class="navelem"><a href="structmp_1_1_proxy_client_3_01_thread_01_4.html">ProxyClient&lt; Thread &gt;</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
