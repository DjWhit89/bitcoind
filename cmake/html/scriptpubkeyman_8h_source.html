<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: src/wallet/scriptpubkeyman.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('scriptpubkeyman_8h_source.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">scriptpubkeyman.h</div></div>
</div><!--header-->
<div class="contents">
<a href="scriptpubkeyman_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright (c) 2019-present The Bitcoin Core developers</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Distributed under the MIT software license, see the accompanying</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// file COPYING or http://www.opensource.org/licenses/mit-license.php.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#ifndef BITCOIN_WALLET_SCRIPTPUBKEYMAN_H</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#define BITCOIN_WALLET_SCRIPTPUBKEYMAN_H</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;<a class="code" href="addresstype_8h.html">addresstype.h</a>&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;<a class="code" href="messages_8h.html">common/messages.h</a>&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;<a class="code" href="signmessage_8h.html">common/signmessage.h</a>&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;<a class="code" href="common_2types_8h.html">common/types.h</a>&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;logging.h&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;<a class="code" href="musig_8h.html">musig.h</a>&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;<a class="code" href="node_2types_8h.html">node/types.h</a>&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;psbt.h&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;<a class="code" href="script_2descriptor_8h.html">script/descriptor.h</a>&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="script_2script_8h.html">script/script.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="signingprovider_8h.html">script/signingprovider.h</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="result_8h.html">util/result.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;util/time.h&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="crypter_8h.html">wallet/crypter.h</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="wallet_2types_8h.html">wallet/types.h</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="walletdb_8h.html">wallet/walletdb.h</a>&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="walletutil_8h.html">wallet/walletutil.h</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;boost/signals2/signal.hpp&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">enum class</span> <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a>;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacewallet.html">wallet</a> {</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="keyword">struct </span><a class="code hl_struct" href="structwallet_1_1_migration_data.html">MigrationData</a>;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="keyword">class </span><a class="code hl_class" href="classwallet_1_1_script_pub_key_man.html">ScriptPubKeyMan</a>;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">// Wallet storage things that ScriptPubKeyMans need in order to be able to store things to the wallet database.</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="comment">// It provides access to things that are part of the entire wallet and not specific to a ScriptPubKeyMan such as</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">// wallet flags, wallet version, encryption keys, encryption status, and the database itself. This allows a</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment">// ScriptPubKeyMan to have callbacks into CWallet without causing a circular dependency.</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment">// WalletStorage should be the same for all ScriptPubKeyMans of a wallet.</span></div>
<div class="foldopen" id="foldopen00043" data-start="{" data-end="};">
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html">   43</a></span><span class="keyword">class </span><a class="code hl_class" href="classwallet_1_1_wallet_storage.html">WalletStorage</a></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>{</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#ac06f5246a9b3fac86cafda6ea9613bb0">   46</a></span>    <span class="keyword">virtual</span> <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#ac06f5246a9b3fac86cafda6ea9613bb0">~WalletStorage</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#ad324bcc4895a73c0076895674a0961d4">   47</a></span>    <span class="keyword">virtual</span> std::string <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#ad324bcc4895a73c0076895674a0961d4">LogName</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#a3d655ffff7290e1454b42041b73595f2">   48</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classwallet_1_1_wallet_database.html">WalletDatabase</a>&amp; <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#a3d655ffff7290e1454b42041b73595f2">GetDatabase</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#a39f5a481a5eacb57ca38b546a07261c9">   49</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#a39f5a481a5eacb57ca38b546a07261c9">IsWalletFlagSet</a>(uint64_t) <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#a3d5bf05a522cdd0dae38bf4b00368df3">   50</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#a3d5bf05a522cdd0dae38bf4b00368df3">UnsetBlankWalletFlag</a>(<a class="code hl_class" href="classwallet_1_1_wallet_batch.html">WalletBatch</a>&amp;) = 0;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#a9b8c7098575cc9f46dd4659567da323c">   52</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#a9b8c7098575cc9f46dd4659567da323c">WithEncryptionKey</a>(std::function&lt;<span class="keywordtype">bool</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="namespacewallet.html#a64709c9a3acc8f5694515789a183ad7b">CKeyingMaterial</a>&amp;)&gt; cb) <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#a2b13770749ea5b14609b668e9ad49003">   53</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#a2b13770749ea5b14609b668e9ad49003">HasEncryptionKeys</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#ae7bc78361f30bfda0286c8af11392f2d">   54</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#ae7bc78361f30bfda0286c8af11392f2d">IsLocked</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="classwallet_1_1_wallet_storage.html#a66367c3f76bf794ccb5e1afd4562b4eb">   56</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_wallet_storage.html#a66367c3f76bf794ccb5e1afd4562b4eb">TopUpCallback</a>(<span class="keyword">const</span> std::set&lt;CScript&gt;&amp;, <a class="code hl_class" href="classwallet_1_1_script_pub_key_man.html">ScriptPubKeyMan</a>*) = 0;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>};</div>
</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="keyword">static</span> <span class="keyword">constexpr</span> int64_t UNKNOWN_TIME = std::numeric_limits&lt;int64_t&gt;::max();</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> DEFAULT_KEYPOOL_SIZE = 1000;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="namespacewallet.html#a6e6195e0225e313e82634fb730d2164d">   65</a></span>std::vector&lt;CKeyID&gt; <a class="code hl_function" href="namespacewallet.html#a6e6195e0225e313e82634fb730d2164d">GetAffectedKeys</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; spk, <span class="keyword">const</span> <a class="code hl_class" href="class_signing_provider.html">SigningProvider</a>&amp; provider);</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="foldopen" id="foldopen00067" data-start="{" data-end="};">
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="structwallet_1_1_wallet_destination.html">   67</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structwallet_1_1_wallet_destination.html">WalletDestination</a></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>{</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="structwallet_1_1_wallet_destination.html#a317ed8564204078183db6783baff8973">   69</a></span>    <a class="code hl_typedef" href="addresstype_8h.html#abf613dc5a753218ddc85df6ff269be12">CTxDestination</a> <a class="code hl_variable" href="structwallet_1_1_wallet_destination.html#a317ed8564204078183db6783baff8973">dest</a>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="structwallet_1_1_wallet_destination.html#ac83fc3379ca7265f3c20ffa9bcf5d4a3">   70</a></span>    std::optional&lt;bool&gt; <a class="code hl_variable" href="structwallet_1_1_wallet_destination.html#ac83fc3379ca7265f3c20ffa9bcf5d4a3">internal</a>;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>};</div>
</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">/*</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment"> * A class implementing ScriptPubKeyMan manages some (or all) scriptPubKeys used in a wallet.</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment"> * It contains the scripts and keys related to the scriptPubKeys it manages.</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment"> * A ScriptPubKeyMan will be able to give out scriptPubKeys to be used, as well as marking</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment"> * when a scriptPubKey has been used. It also handles when and how to store a scriptPubKey</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment"> * and its related scripts and keys, including encryption.</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00080" data-start="{" data-end="};">
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html">   80</a></span><span class="keyword">class </span><a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">ScriptPubKeyMan</a></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>{</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ac4a21736443c15ad56498832ce090e19">   83</a></span>    <a class="code hl_class" href="classwallet_1_1_wallet_storage.html">WalletStorage</a>&amp; <a class="code hl_variable" href="classwallet_1_1_script_pub_key_man.html#ac4a21736443c15ad56498832ce090e19">m_storage</a>;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">   86</a></span>    <span class="keyword">explicit</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">ScriptPubKeyMan</a>(<a class="code hl_class" href="classwallet_1_1_wallet_storage.html">WalletStorage</a>&amp; storage) : <a class="code hl_variable" href="classwallet_1_1_script_pub_key_man.html#ac4a21736443c15ad56498832ce090e19">m_storage</a>(storage) {}</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a4dc8c1c796df82845d0eba3b3fc85098">   87</a></span>    <span class="keyword">virtual</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a4dc8c1c796df82845d0eba3b3fc85098">~ScriptPubKeyMan</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#af8ac55386f75dd3d353757787e74c1ce">   88</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classutil_1_1_result.html">util::Result&lt;CTxDestination&gt;</a> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#af8ac55386f75dd3d353757787e74c1ce">GetNewDestination</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a> type) { <span class="keywordflow">return</span> <a class="code hl_struct" href="structutil_1_1_error.html">util::Error</a>{<a class="code hl_function" href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a>(<span class="stringliteral">&quot;Not supported&quot;</span>)}; }</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ace31e444272c0add4bd94c44761f7ba0">   89</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#ace31e444272c0add4bd94c44761f7ba0">IsMine</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ac6d13c936a257d55f12a5560c1ae1987">   92</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#ac6d13c936a257d55f12a5560c1ae1987">CheckDecryptionKey</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacewallet.html#a64709c9a3acc8f5694515789a183ad7b">CKeyingMaterial</a>&amp; master_key) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ac52ee85751d421dc586831d35357c83e">   93</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#ac52ee85751d421dc586831d35357c83e">Encrypt</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacewallet.html#a64709c9a3acc8f5694515789a183ad7b">CKeyingMaterial</a>&amp; master_key, <a class="code hl_class" href="classwallet_1_1_wallet_batch.html">WalletBatch</a>* batch) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a430cbfac8428d10eb13806ff17118be9">   95</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classutil_1_1_result.html">util::Result&lt;CTxDestination&gt;</a> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a430cbfac8428d10eb13806ff17118be9">GetReservedDestination</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a> type, <span class="keywordtype">bool</span> internal, int64_t&amp; index) { <span class="keywordflow">return</span> <a class="code hl_struct" href="structutil_1_1_error.html">util::Error</a>{<a class="code hl_function" href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a>(<span class="stringliteral">&quot;Not supported&quot;</span>)}; }</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a2c6affb18523a8f3d9505585185bf045">   96</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a2c6affb18523a8f3d9505585185bf045">KeepDestination</a>(int64_t index, <span class="keyword">const</span> <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a>&amp; type) {}</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a0b0edfe43d923d766e90ffa613323a30">   97</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a0b0edfe43d923d766e90ffa613323a30">ReturnDestination</a>(int64_t index, <span class="keywordtype">bool</span> internal, <span class="keyword">const</span> <a class="code hl_typedef" href="addresstype_8h.html#abf613dc5a753218ddc85df6ff269be12">CTxDestination</a>&amp; addr) {}</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#aefacf9065a8a1bbedba70133a12c6e21">  103</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#aefacf9065a8a1bbedba70133a12c6e21">TopUp</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size = 0) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a5c5b052c7b616b7880dfa0fe1a2e6c86">  112</a></span>    <span class="keyword">virtual</span> std::vector&lt;WalletDestination&gt; <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a5c5b052c7b616b7880dfa0fe1a2e6c86">MarkUnusedAddresses</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>) { <span class="keywordflow">return</span> {}; }</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="comment">/* Returns true if HD is enabled */</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a192cce942a62d616153fbfb7eb32dc63">  115</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a192cce942a62d616153fbfb7eb32dc63">IsHDEnabled</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">/* Returns true if the wallet can give out new addresses. This means it has keys in the keypool or can generate new keys */</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a97c792ee32f77465742ea92d64da08e7">  118</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a97c792ee32f77465742ea92d64da08e7">CanGetAddresses</a>(<span class="keywordtype">bool</span> internal = <span class="keyword">false</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a1476ab960626063771df7cd43ea42585">  120</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a1476ab960626063771df7cd43ea42585">HavePrivateKeys</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ab31d9c2beb5760c4e7fe2b340565b167">  121</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#ab31d9c2beb5760c4e7fe2b340565b167">HaveCryptedKeys</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ab437d7bea4222ff007dec29496e46e4a">  124</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#ab437d7bea4222ff007dec29496e46e4a">RewriteDB</a>() {}</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a7d236f7e3f4752b8d179c7c6d777109e">  126</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a7d236f7e3f4752b8d179c7c6d777109e">GetKeyPoolSize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a4680a0f3fff2af8499ba1f100ff553b0">  128</a></span>    <span class="keyword">virtual</span> int64_t <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a4680a0f3fff2af8499ba1f100ff553b0">GetTimeFirstKey</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a73307c0f97415aaeeef89250f8abc380">  130</a></span>    <span class="keyword">virtual</span> std::unique_ptr&lt;CKeyMetadata&gt; <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a73307c0f97415aaeeef89250f8abc380">GetMetadata</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="addresstype_8h.html#abf613dc5a753218ddc85df6ff269be12">CTxDestination</a>&amp; dest)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a2534aad5e3d342fd387b9a659d933ee0">  132</a></span>    <span class="keyword">virtual</span> std::unique_ptr&lt;SigningProvider&gt; <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a2534aad5e3d342fd387b9a659d933ee0">GetSolvingProvider</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a3944f5f86ba673b484082fef35a75ddb">  137</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a3944f5f86ba673b484082fef35a75ddb">CanProvide</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>, <a class="code hl_struct" href="struct_signature_data.html">SignatureData</a>&amp; sigdata) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a65d657c387c39d56df83db10ae076f66">  140</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a65d657c387c39d56df83db10ae076f66">SignTransaction</a>(<a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a>&amp; tx, <span class="keyword">const</span> std::map&lt;COutPoint, Coin&gt;&amp; coins, <span class="keywordtype">int</span> sighash, std::map&lt;int, bilingual_str&gt;&amp; input_errors)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a07b95fa1f835ea7a90382556f88daf71">  142</a></span>    <span class="keyword">virtual</span> <a class="code hl_enumeration" href="signmessage_8h.html#a5f6c064c16999f3c857affb9e4b99a1e">SigningResult</a> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a07b95fa1f835ea7a90382556f88daf71">SignMessage</a>(<span class="keyword">const</span> std::string&amp; message, <span class="keyword">const</span> <a class="code hl_struct" href="struct_p_k_hash.html">PKHash</a>&amp; pkhash, std::string&amp; str_sig)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="signmessage_8h.html#a5f6c064c16999f3c857affb9e4b99a1ea5949069cd0ebd438f332cab590a1b073">SigningResult::SIGNING_FAILED</a>; };</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ac95b49c07214ecbe8101ba7229d3721b">  144</a></span>    <span class="keyword">virtual</span> std::optional&lt;common::PSBTError&gt; <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#ac95b49c07214ecbe8101ba7229d3721b">FillPSBT</a>(<a class="code hl_struct" href="struct_partially_signed_transaction.html">PartiallySignedTransaction</a>&amp; psbt, <span class="keyword">const</span> <a class="code hl_struct" href="struct_precomputed_transaction_data.html">PrecomputedTransactionData</a>&amp; txdata, std::optional&lt;int&gt; sighash_type = std::nullopt, <span class="keywordtype">bool</span> sign = <span class="keyword">true</span>, <span class="keywordtype">bool</span> bip32derivs = <span class="keyword">false</span>, <span class="keywordtype">int</span>* n_signed = <span class="keyword">nullptr</span>, <span class="keywordtype">bool</span> finalize = <span class="keyword">true</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacecommon.html#a463d00d67d3e9d48d7a3dc0c6ee84d06a40aa75f8e8cfdf7b660c5620e953229f">common::PSBTError::UNSUPPORTED</a>; }</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ac5969a450182fb29387e06e0fa49dcd6">  146</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classuint256.html">uint256</a> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#ac5969a450182fb29387e06e0fa49dcd6">GetID</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_class" href="classuint256.html">uint256</a>(); }</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a171a49b06a5ad69d8e079fdf91013d08">  149</a></span>    <span class="keyword">virtual</span> std::unordered_set&lt;CScript, SaltedSipHasher&gt; <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#a171a49b06a5ad69d8e079fdf91013d08">GetScriptPubKeys</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> {}; };</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code hl_function" href="chainparams_8cpp.html#ad82533eea3b187c1ac5b7c54d8c6f121">Params</a>&gt;</div>
<div class="foldopen" id="foldopen00153" data-start="{" data-end="}">
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#ab231740b5fcabd8da3c6eda6cf1cfd06">  153</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#ab231740b5fcabd8da3c6eda6cf1cfd06">WalletLogPrintf</a>(<a class="code hl_struct" href="structutil_1_1_consteval_format_string.html">util::ConstevalFormatString</a>&lt;<span class="keyword">sizeof</span>...(<a class="code hl_function" href="chainparams_8cpp.html#ad82533eea3b187c1ac5b7c54d8c6f121">Params</a>)&gt; wallet_fmt, <span class="keyword">const</span> <a class="code hl_function" href="chainparams_8cpp.html#ad82533eea3b187c1ac5b7c54d8c6f121">Params</a>&amp;... params)<span class="keyword"> const</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <a class="code hl_define" href="logging_8h.html#a57eb3ffc98e6ad1bdbed0a980a54c484">LogInfo</a>(<span class="stringliteral">&quot;[%s] %s&quot;</span>, <a class="code hl_variable" href="classwallet_1_1_script_pub_key_man.html#ac4a21736443c15ad56498832ce090e19">m_storage</a>.LogName(), <a class="code hl_function" href="namespacetinyformat.html#a94e672659dfe070f7905299d1f170931">tfm::format</a>(wallet_fmt, params...));</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    };</div>
</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a909c982de74e0eb5c51f57b161ae6352">  159</a></span>    boost::signals2::signal&lt;void ()&gt; <a class="code hl_variable" href="classwallet_1_1_script_pub_key_man.html#a909c982de74e0eb5c51f57b161ae6352">NotifyCanGetAddressesChanged</a>;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="classwallet_1_1_script_pub_key_man.html#a9d82c74227d863f5df2aeba563bc1043">  162</a></span>    boost::signals2::signal&lt;void (<span class="keyword">const</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">ScriptPubKeyMan</a>* spkm, int64_t new_birth_time)&gt; <a class="code hl_variable" href="classwallet_1_1_script_pub_key_man.html#a9d82c74227d863f5df2aeba563bc1043">NotifyFirstKeyTimeChanged</a>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>};</div>
</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;OutputType&gt; LEGACY_OUTPUT_TYPES {</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <a class="code hl_enumvalue" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3a456d016bd133625e5036aa9a556f2730">OutputType::LEGACY</a>,</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <a class="code hl_enumvalue" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3adca4c7228b48e4a611d32dc21a0e341a">OutputType::P2SH_SEGWIT</a>,</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <a class="code hl_enumvalue" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3ad4fd7223ebde09ed36b615658d29d7bc">OutputType::BECH32</a>,</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>};</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment">// Manages the data for a LegacyScriptPubKeyMan.</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="comment">// This is the minimum necessary to load a legacy wallet so that it can be migrated.</span></div>
<div class="foldopen" id="foldopen00174" data-start="{" data-end="};">
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_data_s_p_k_m.html">  174</a></span><span class="keyword">class </span><a class="code hl_class" href="classwallet_1_1_legacy_data_s_p_k_m.html">LegacyDataSPKM</a> : <span class="keyword">public</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#afe01a622dff90547d2f9b0f11d74968f">ScriptPubKeyMan</a>, <span class="keyword">public</span> <a class="code hl_class" href="class_fillable_signing_provider.html">FillableSigningProvider</a></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>{</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keyword">using </span>WatchOnlySet = std::set&lt;CScript&gt;;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keyword">using </span>WatchKeyMap = std::map&lt;CKeyID, CPubKey&gt;;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="keyword">using </span>CryptedKeyMap = std::map&lt;CKeyID, std::pair&lt;CPubKey, std::vector&lt;unsigned char&gt;&gt;&gt;;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    CryptedKeyMap mapCryptedKeys <a class="code hl_define" href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a>(<a class="code hl_variable" href="class_fillable_signing_provider.html#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a>);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    WatchOnlySet setWatchOnly <a class="code hl_define" href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a>(<a class="code hl_variable" href="class_fillable_signing_provider.html#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a>);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    WatchKeyMap mapWatchKeys <a class="code hl_define" href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a>(<a class="code hl_variable" href="class_fillable_signing_provider.html#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a>);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="comment">/* the HD chain data model (external chain counters) */</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <a class="code hl_class" href="classwallet_1_1_c_h_d_chain.html">CHDChain</a> m_hd_chain;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    std::unordered_map&lt;CKeyID, CHDChain, SaltedSipHasher&gt; m_inactive_hd_chains;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="keywordtype">bool</span> fDecryptionThoroughlyChecked = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="keywordtype">bool</span> AddWatchOnlyInMem(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a> &amp;dest);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> AddKeyPubKeyInner(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key.html">CKey</a>&amp; key, <span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> &amp;pubkey);</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordtype">bool</span> AddCryptedKeyInner(<span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> &amp;vchPubKey, <span class="keyword">const</span> std::vector&lt;unsigned char&gt; &amp;vchCryptedSecret);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="comment">// Helper function to retrieve a conservative superset of all output scripts that may be relevant to this LegacyDataSPKM.</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment">// It may include scripts that are invalid or not actually watched by this LegacyDataSPKM.</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="comment">// Used only in migration.</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    std::unordered_set&lt;CScript, SaltedSipHasher&gt; GetCandidateScriptPubKeys() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="keywordtype">bool</span> IsMine(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="keywordtype">bool</span> CanProvide(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>, <a class="code hl_struct" href="struct_signature_data.html">SignatureData</a>&amp; sigdata) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="keyword">using </span><a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">ScriptPubKeyMan::ScriptPubKeyMan</a>;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="comment">// Map from Key ID to key metadata.</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_data_s_p_k_m.html#ab2c180db432f2552d90d838092541e42">  207</a></span>    std::map&lt;CKeyID, CKeyMetadata&gt; mapKeyMetadata <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#ab2c180db432f2552d90d838092541e42">GUARDED_BY</a>(<a class="code hl_variable" href="class_fillable_signing_provider.html#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a>);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="comment">// Map from Script ID to key metadata (for watch-only keys).</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_data_s_p_k_m.html#a0a176577091edfd6984b3f1501eeed9d">  210</a></span>    std::map&lt;CScriptID, CKeyMetadata&gt; m_script_metadata <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a0a176577091edfd6984b3f1501eeed9d">GUARDED_BY</a>(<a class="code hl_variable" href="class_fillable_signing_provider.html#a03bc5e9dccecd885e00eeefdad774c7f">cs_KeyStore</a>);</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span> </div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="comment">// ScriptPubKeyMan overrides</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#aff1ae69e02a3fb4746b7773ef7f6875a">CheckDecryptionKey</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacewallet.html#a64709c9a3acc8f5694515789a183ad7b">CKeyingMaterial</a>&amp; master_key) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    std::unordered_set&lt;CScript, SaltedSipHasher&gt; <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#acae3971be9f74320a4809532658ea30a">GetScriptPubKeys</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    std::unique_ptr&lt;SigningProvider&gt; <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#ae942fc8344998297343ebae204e7f496">GetSolvingProvider</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_data_s_p_k_m.html#a9bb89235acfb364af1ce6452d41b8dce">  216</a></span>    <a class="code hl_class" href="classuint256.html">uint256</a> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a9bb89235acfb364af1ce6452d41b8dce">GetID</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classuint256.html#afe31bf960eff93e9fbb93ae573acaef9">uint256::ONE</a>; }</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="comment">// FillableSigningProvider overrides</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a25aee14df3601a0cae72852121cfa80a">HaveKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> &amp;address) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a255a187c6bac2bbed75fa7f9f605361b">GetKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> &amp;address, <a class="code hl_class" href="class_c_key.html">CKey</a>&amp; keyOut) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#ac0baae1468399cc0d85d5ca777c15633">GetPubKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> &amp;address, <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a>&amp; vchPubKeyOut) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a443ac821ab7054c5f8652e3dc30b5f0f">GetKeyOrigin</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a>&amp; keyid, <a class="code hl_struct" href="struct_key_origin_info.html">KeyOriginInfo</a>&amp; info) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a818c6d0e90561007e9f3f07a89bc2422">LoadKeyMetadata</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a>&amp; keyID, <span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_c_key_metadata.html">CKeyMetadata</a> &amp;metadata);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a2c1c303e31d4f0c8982ef45741274c48">LoadScriptMetadata</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a>&amp; script_id, <span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_c_key_metadata.html">CKeyMetadata</a> &amp;metadata);</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#ad65d18f7079b96c0746346333416a176">LoadWatchOnly</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a> &amp;dest);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#acb5d295a2d134a28e76d7a42abb8779d">HaveWatchOnly</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a> &amp;dest) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a44d1df900e56c3ec97a7867905d88716">LoadKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key.html">CKey</a>&amp; key, <span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> &amp;pubkey);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a20fe5abbe92c5a7d12a1ec0bdcfaee7e">LoadCryptedKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> &amp;vchPubKey, <span class="keyword">const</span> std::vector&lt;unsigned char&gt; &amp;vchCryptedSecret, <span class="keywordtype">bool</span> checksum_valid);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a6c92b666312e1336653363250e66cbbf">LoadCScript</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; redeemScript);</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a2e4b481012311c3aaf2953c355976a49">LoadHDChain</a>(<span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_c_h_d_chain.html">CHDChain</a>&amp; chain);</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a77919e347d96b63033779cca4af4d860">AddInactiveHDChain</a>(<span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_c_h_d_chain.html">CHDChain</a>&amp; chain);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_data_s_p_k_m.html#a3ee0805f81142cc75bbdf167a50f0ca5">  241</a></span>    <span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_c_h_d_chain.html">CHDChain</a>&amp; <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a3ee0805f81142cc75bbdf167a50f0ca5">GetHDChain</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_hd_chain; }</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#a2b5fc1f76ac9ca96789a31bdf22454cb">GetWatchPubKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> &amp;address, <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> &amp;pubkey_out) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    std::unordered_set&lt;CScript, SaltedSipHasher&gt; <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#ad9ee01d938ada8052527b37d891cdfcf">GetNotMineScriptPubKeys</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    std::optional&lt;MigrationData&gt; <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#ac5f6bbe7b3f979e34e8fa1b83dfcddf4">MigrateToDescriptor</a>();</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_data_s_p_k_m.html#aab372ddde1ef74fcc95ee85088be4764">DeleteRecordsWithDB</a>(<a class="code hl_class" href="classwallet_1_1_wallet_batch.html">WalletBatch</a>&amp; batch);</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>};</div>
</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span></div>
<div class="foldopen" id="foldopen00260" data-start="{" data-end="};">
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_signing_provider.html">  260</a></span><span class="keyword">class </span><a class="code hl_function" href="classwallet_1_1_legacy_signing_provider.html#ab64749c93cb9c9a78edf4349ae39a041">LegacySigningProvider</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_signing_provider.html">SigningProvider</a></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>{</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_legacy_data_s_p_k_m.html">LegacyDataSPKM</a>&amp; m_spk_man;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_signing_provider.html#ab64749c93cb9c9a78edf4349ae39a041">  265</a></span>    <span class="keyword">explicit</span> <a class="code hl_function" href="classwallet_1_1_legacy_signing_provider.html#ab64749c93cb9c9a78edf4349ae39a041">LegacySigningProvider</a>(<span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_legacy_data_s_p_k_m.html">LegacyDataSPKM</a>&amp; spk_man) : m_spk_man(spk_man) {}</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_signing_provider.html#ab0fc47f2cf61a87d3ee6d118e9560dbb">  267</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_signing_provider.html#ab0fc47f2cf61a87d3ee6d118e9560dbb">GetCScript</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a> &amp;scriptid, <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>)<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> m_spk_man.GetCScript(scriptid, <a class="code hl_namespace" href="namespacescript.html">script</a>); }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_signing_provider.html#af34cf5bb47b9be224e2cef0e1fa8aba2">  268</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_signing_provider.html#af34cf5bb47b9be224e2cef0e1fa8aba2">HaveCScript</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script_i_d.html">CScriptID</a> &amp;scriptid)<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> m_spk_man.HaveCScript(scriptid); }</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_signing_provider.html#a8dded79fe6b083e9d86113aa568dedf4">  269</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_signing_provider.html#a8dded79fe6b083e9d86113aa568dedf4">GetPubKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> &amp;address, <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a>&amp; pubkey)<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> m_spk_man.GetPubKey(address, pubkey); }</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_signing_provider.html#a0a8ae25cba768d006ed5f8bdf631b12f">  270</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_signing_provider.html#a0a8ae25cba768d006ed5f8bdf631b12f">GetKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> &amp;address, <a class="code hl_class" href="class_c_key.html">CKey</a>&amp; key)<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_signing_provider.html#a25aee14df3601a0cae72852121cfa80a">  271</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_signing_provider.html#a25aee14df3601a0cae72852121cfa80a">HaveKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a> &amp;address)<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="classwallet_1_1_legacy_signing_provider.html#a443ac821ab7054c5f8652e3dc30b5f0f">  272</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_legacy_signing_provider.html#a443ac821ab7054c5f8652e3dc30b5f0f">GetKeyOrigin</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a>&amp; keyid, <a class="code hl_struct" href="struct_key_origin_info.html">KeyOriginInfo</a>&amp; info)<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> m_spk_man.GetKeyOrigin(keyid, info); }</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>};</div>
</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="foldopen" id="foldopen00275" data-start="{" data-end="};">
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="classwallet_1_1_descriptor_script_pub_key_man.html">  275</a></span><span class="keyword">class </span><a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ae341c513be603fa2e5a36258b2cfbdd0">DescriptorScriptPubKeyMan</a> : <span class="keyword">public</span> <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">ScriptPubKeyMan</a></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>{</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno"><a class="line" href="classwallet_1_1_descriptor_script_pub_key_man.html#a7e92fbfdbf54c466921dea5d26fdcc1b">  277</a></span>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_friend" href="classwallet_1_1_descriptor_script_pub_key_man.html#a7e92fbfdbf54c466921dea5d26fdcc1b">LegacyDataSPKM</a>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keyword">using </span>ScriptPubKeyMap = std::map&lt;CScript, int32_t&gt;; <span class="comment">// Map of scripts to descriptor range index</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="keyword">using </span>PubKeyMap = std::map&lt;CPubKey, int32_t&gt;; <span class="comment">// Map of pubkeys involved in scripts to descriptor range index</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="keyword">using </span>CryptedKeyMap = std::map&lt;CKeyID, std::pair&lt;CPubKey, std::vector&lt;unsigned char&gt;&gt;&gt;;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <span class="keyword">using </span>KeyMap = std::map&lt;CKeyID, CKey&gt;;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    ScriptPubKeyMap m_map_script_pub_keys <a class="code hl_define" href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    PubKeyMap m_map_pubkeys <a class="code hl_define" href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    int32_t m_max_cached_index = -1;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    KeyMap m_map_keys <a class="code hl_define" href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    CryptedKeyMap m_map_crypted_keys <a class="code hl_define" href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="keywordtype">bool</span> m_decryption_thoroughly_checked = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    int64_t m_keypool_size <a class="code hl_define" href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>){DEFAULT_KEYPOOL_SIZE};</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="keyword">mutable</span> std::map&lt;uint256, MuSig2SecNonce&gt; m_musig2_secnonces;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="keywordtype">bool</span> AddDescriptorKeyWithDB(<a class="code hl_class" href="classwallet_1_1_wallet_batch.html">WalletBatch</a>&amp; batch, <span class="keyword">const</span> <a class="code hl_class" href="class_c_key.html">CKey</a>&amp; key, <span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> &amp;pubkey) <a class="code hl_define" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    KeyMap GetKeys() const <a class="code hl_define" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="comment">// Cached FlatSigningProviders to avoid regenerating them each time they are needed.</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    mutable <a class="code hl_namespace" href="namespacestd.html">std</a>::map&lt;int32_t, <a class="code hl_struct" href="struct_flat_signing_provider.html">FlatSigningProvider</a>&gt; m_map_signing_providers;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="comment">// Fetch the SigningProvider for the given script and optionally include private keys</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <a class="code hl_namespace" href="namespacestd.html">std</a>::unique_ptr&lt;<a class="code hl_struct" href="struct_flat_signing_provider.html">FlatSigningProvider</a>&gt; GetSigningProvider(const <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>, <span class="keywordtype">bool</span> include_private = false) const;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="comment">// Fetch the SigningProvider for a given index and optionally include private keys. Called by the above functions.</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <a class="code hl_namespace" href="namespacestd.html">std</a>::unique_ptr&lt;<a class="code hl_struct" href="struct_flat_signing_provider.html">FlatSigningProvider</a>&gt; GetSigningProvider(int32_t index, <span class="keywordtype">bool</span> include_private = false) const <a class="code hl_define" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>protected:</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno"><a class="line" href="classwallet_1_1_descriptor_script_pub_key_man.html#afe6082ce1af01f65e3b4291244585a79">  322</a></span>    <a class="code hl_class" href="classwallet_1_1_wallet_descriptor.html">WalletDescriptor</a> m_wallet_descriptor GUARDED_BY(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a176aa3c34d315bcb434b2a57b28f442b">TopUpWithDB</a>(<a class="code hl_class" href="classwallet_1_1_wallet_batch.html">WalletBatch</a>&amp; batch, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size = 0);</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>public:</div>
<div class="foldopen" id="foldopen00328" data-start="{" data-end="}">
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno"><a class="line" href="classwallet_1_1_descriptor_script_pub_key_man.html#ae341c513be603fa2e5a36258b2cfbdd0">  328</a></span>    <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ae341c513be603fa2e5a36258b2cfbdd0">DescriptorScriptPubKeyMan</a>(<a class="code hl_class" href="classwallet_1_1_wallet_storage.html">WalletStorage</a>&amp; storage, <a class="code hl_class" href="classwallet_1_1_wallet_descriptor.html">WalletDescriptor</a>&amp; descriptor, int64_t keypool_size)</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        :   <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">ScriptPubKeyMan</a>(storage),</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            m_keypool_size(keypool_size),</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>            m_wallet_descriptor(descriptor)</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        {}</div>
</div>
<div class="foldopen" id="foldopen00333" data-start="{" data-end="}">
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno"><a class="line" href="classwallet_1_1_descriptor_script_pub_key_man.html#ab46d2ceaf696638645a68c9ef2eafa5b">  333</a></span>    <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ab46d2ceaf696638645a68c9ef2eafa5b">DescriptorScriptPubKeyMan</a>(<a class="code hl_class" href="classwallet_1_1_wallet_storage.html">WalletStorage</a>&amp; storage, int64_t keypool_size)</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        :   <a class="code hl_function" href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">ScriptPubKeyMan</a>(storage),</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            m_keypool_size(keypool_size)</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        {}</div>
</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">  338</a></span>    <span class="keyword">mutable</span> <a class="code hl_typedef" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a> <a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <a class="code hl_class" href="classutil_1_1_result.html">util::Result&lt;CTxDestination&gt;</a> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ae83f39f0787c5ff7ac70d9f4aca63652">GetNewDestination</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a> type) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a3790661aa0b6c5110fde4476a7f29cd0">IsMine</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#aff1ae69e02a3fb4746b7773ef7f6875a">CheckDecryptionKey</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacewallet.html#a64709c9a3acc8f5694515789a183ad7b">CKeyingMaterial</a>&amp; master_key) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a97f47858921bce30b15f99daf778e9d7">Encrypt</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacewallet.html#a64709c9a3acc8f5694515789a183ad7b">CKeyingMaterial</a>&amp; master_key, <a class="code hl_class" href="classwallet_1_1_wallet_batch.html">WalletBatch</a>* batch) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span> </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <a class="code hl_class" href="classutil_1_1_result.html">util::Result&lt;CTxDestination&gt;</a> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a519d9d727f33b44dae4c03905b7c73f0">GetReservedDestination</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a> type, <span class="keywordtype">bool</span> internal, int64_t&amp; index) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#afd49b62ac63f50d3ee3c6cac0a21c29b">ReturnDestination</a>(int64_t index, <span class="keywordtype">bool</span> internal, <span class="keyword">const</span> <a class="code hl_typedef" href="addresstype_8h.html#abf613dc5a753218ddc85df6ff269be12">CTxDestination</a>&amp; addr) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="comment">// Tops up the descriptor cache and m_map_script_pub_keys. The cache is stored in the wallet file</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="comment">// and is used to expand the descriptor in GetNewDestination. DescriptorScriptPubKeyMan relies</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <span class="comment">// more on ephemeral data than LegacyScriptPubKeyMan. For wallets using unhardened derivation</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="comment">// (with or without private keys), the &quot;keypool&quot; is a single xpub.</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a13cabb9490bbf25ed8d9cc627618cf9d">TopUp</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size = 0) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span> </div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    std::vector&lt;WalletDestination&gt; <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ab33f26945a28cc8eb92de11a09ba3913">MarkUnusedAddresses</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a4f8bd867013fccff13b4159fa3903e5c">IsHDEnabled</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a62cf46cfdec9b1119a5d6780c6a1d462">SetupDescriptorGeneration</a>(<a class="code hl_class" href="classwallet_1_1_wallet_batch.html">WalletBatch</a>&amp; batch, <span class="keyword">const</span> <a class="code hl_struct" href="struct_c_ext_key.html">CExtKey</a>&amp; master_key, <a class="code hl_enumeration" href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a> addr_type, <span class="keywordtype">bool</span> internal);</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a199bbb843acd137f84585f37ccb18956">HavePrivateKeys</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a34b7b0152195e0974232c1320e34c4ff">HasPrivKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a>&amp; keyid) <span class="keyword">const</span> <a class="code hl_define" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    std::optional&lt;CKey&gt; <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#aac3ad9f0dd9e84ac3f61b24aa067b246">GetKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a>&amp; keyid) <span class="keyword">const</span> <a class="code hl_define" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a23820976ac78f311ea3acff6df76d242">HaveCryptedKeys</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a6a4626bcf1eddc9dcd80c590368a5e33">GetKeyPoolSize</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    int64_t <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#acba36819e3f59482abd9f2243e672e9e">GetTimeFirstKey</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    std::unique_ptr&lt;CKeyMetadata&gt; <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a6e637243839e104113b976c654d3ee62">GetMetadata</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="addresstype_8h.html#abf613dc5a753218ddc85df6ff269be12">CTxDestination</a>&amp; dest) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span> </div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#afe3ef6e5f3a6d4262aecfe4c1d13c5fb">CanGetAddresses</a>(<span class="keywordtype">bool</span> internal = <span class="keyword">false</span>) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    std::unique_ptr&lt;SigningProvider&gt; <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ae942fc8344998297343ebae204e7f496">GetSolvingProvider</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a403dd1b4d652d425bb8d0f2ff52389e7">CanProvide</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_script.html">CScript</a>&amp; <a class="code hl_namespace" href="namespacescript.html">script</a>, <a class="code hl_struct" href="struct_signature_data.html">SignatureData</a>&amp; sigdata) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="comment">// Fetch the SigningProvider for the given pubkey and always include private keys. This should only be called by signing code.</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    std::unique_ptr&lt;FlatSigningProvider&gt; GetSigningProvider(<span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a>&amp; pubkey) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a2c392d37195242545844c3c8009c3e76">SignTransaction</a>(<a class="code hl_struct" href="struct_c_mutable_transaction.html">CMutableTransaction</a>&amp; tx, <span class="keyword">const</span> std::map&lt;COutPoint, Coin&gt;&amp; coins, <span class="keywordtype">int</span> sighash, std::map&lt;int, bilingual_str&gt;&amp; input_errors) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <a class="code hl_enumeration" href="signmessage_8h.html#a5f6c064c16999f3c857affb9e4b99a1e">SigningResult</a> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a328d3f8111415068d28c86d833b5156b">SignMessage</a>(<span class="keyword">const</span> std::string&amp; message, <span class="keyword">const</span> <a class="code hl_struct" href="struct_p_k_hash.html">PKHash</a>&amp; pkhash, std::string&amp; str_sig) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    std::optional&lt;common::PSBTError&gt; <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a9acb2bdcd9c33be21fbde99eb195755e">FillPSBT</a>(<a class="code hl_struct" href="struct_partially_signed_transaction.html">PartiallySignedTransaction</a>&amp; psbt, <span class="keyword">const</span> <a class="code hl_struct" href="struct_precomputed_transaction_data.html">PrecomputedTransactionData</a>&amp; txdata, std::optional&lt;int&gt; sighash_type = std::nullopt, <span class="keywordtype">bool</span> sign = <span class="keyword">true</span>, <span class="keywordtype">bool</span> bip32derivs = <span class="keyword">false</span>, <span class="keywordtype">int</span>* n_signed = <span class="keyword">nullptr</span>, <span class="keywordtype">bool</span> finalize = <span class="keyword">true</span>) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span> </div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <a class="code hl_class" href="classuint256.html">uint256</a> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a9bb89235acfb364af1ce6452d41b8dce">GetID</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ab8d01d03335af702cb6256f67a713e8c">SetCache</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_descriptor_cache.html">DescriptorCache</a>&amp; cache);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#aaff5037a8a8d0eab15011b3b0121fed6">AddKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a>&amp; key_id, <span class="keyword">const</span> <a class="code hl_class" href="class_c_key.html">CKey</a>&amp; key);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a2e4a39421c774381e4aa35cd1ddf4527">AddCryptedKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key_i_d.html">CKeyID</a>&amp; key_id, <span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a>&amp; pubkey, <span class="keyword">const</span> std::vector&lt;unsigned char&gt;&amp; crypted_key);</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a97916a15b69fffd61a9ce775a79b4e1b">HasWalletDescriptor</a>(<span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_wallet_descriptor.html">WalletDescriptor</a>&amp; desc) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <a class="code hl_class" href="classutil_1_1_result.html">util::Result&lt;void&gt;</a> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a7e593f00fe614ca7aacff57503b13f3e">UpdateWalletDescriptor</a>(<a class="code hl_class" href="classwallet_1_1_wallet_descriptor.html">WalletDescriptor</a>&amp; descriptor);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#aa389a1038c0f76fb2ae91fa029e1cdcf">CanUpdateToWalletDescriptor</a>(<span class="keyword">const</span> <a class="code hl_class" href="classwallet_1_1_wallet_descriptor.html">WalletDescriptor</a>&amp; descriptor, std::string&amp; error);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#afc77be04e0aa0842b9033c3e2e23316f">AddDescriptorKey</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_c_key.html">CKey</a>&amp; key, <span class="keyword">const</span> <a class="code hl_class" href="class_c_pub_key.html">CPubKey</a> &amp;pubkey);</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ac6f1be4e404ae15058c834202d94c162">WriteDescriptor</a>();</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <a class="code hl_class" href="classwallet_1_1_wallet_descriptor.html">WalletDescriptor</a> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a26ca930fc8900ab599d597dbc867046b">GetWalletDescriptor</a>() const <a class="code hl_define" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="code hl_variable" href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">cs_desc_man</a>);</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <a class="code hl_namespace" href="namespacestd.html">std</a>::unordered_set&lt;<a class="code hl_class" href="class_c_script.html">CScript</a>, <a class="code hl_class" href="class_salted_sip_hasher.html">SaltedSipHasher</a>&gt; <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#acae3971be9f74320a4809532658ea30a">GetScriptPubKeys</a>() const override;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <a class="code hl_namespace" href="namespacestd.html">std</a>::unordered_set&lt;<a class="code hl_class" href="class_c_script.html">CScript</a>, <a class="code hl_class" href="class_salted_sip_hasher.html">SaltedSipHasher</a>&gt; <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#acae3971be9f74320a4809532658ea30a">GetScriptPubKeys</a>(int32_t minimum_index) const;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    int32_t <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a0e6bbdbdedea16b9ede099a336772335">GetEndRange</a>() const;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    [[nodiscard]] <span class="keywordtype">bool</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#a5d31b95c8d0171b082f0bbe87be3c197">GetDescriptorString</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::<span class="keywordtype">string</span>&amp; out, const <span class="keywordtype">bool</span> priv) const;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwallet_1_1_descriptor_script_pub_key_man.html#ae5d92b03295e3a2208d5733168308481">UpgradeDescriptorCache</a>();</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>};</div>
</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span></div>
<div class="foldopen" id="foldopen00411" data-start="{" data-end="};">
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno"><a class="line" href="structwallet_1_1_migration_data.html">  411</a></span>struct <a class="code hl_struct" href="structwallet_1_1_migration_data.html">MigrationData</a></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>{</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno"><a class="line" href="structwallet_1_1_migration_data.html#ac064fed58fde64c3cfef849c64221e09">  413</a></span>    <a class="code hl_struct" href="struct_c_ext_key.html">CExtKey</a> <a class="code hl_variable" href="structwallet_1_1_migration_data.html#ac064fed58fde64c3cfef849c64221e09">master_key</a>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno"><a class="line" href="structwallet_1_1_migration_data.html#a117439f1253ad547fcad16e73ab4c401">  414</a></span>    std::vector&lt;std::pair&lt;std::string, int64_t&gt;&gt; <a class="code hl_variable" href="structwallet_1_1_migration_data.html#a117439f1253ad547fcad16e73ab4c401">watch_descs</a>;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno"><a class="line" href="structwallet_1_1_migration_data.html#a76282a2dd7cfda436b1886787e54e02e">  415</a></span>    std::vector&lt;std::pair&lt;std::string, int64_t&gt;&gt; <a class="code hl_variable" href="structwallet_1_1_migration_data.html#a76282a2dd7cfda436b1886787e54e02e">solvable_descs</a>;</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno"><a class="line" href="structwallet_1_1_migration_data.html#aa7920864f6d125e013e7ec08b3192553">  416</a></span>    std::vector&lt;std::unique_ptr&lt;DescriptorScriptPubKeyMan&gt;&gt; <a class="code hl_variable" href="structwallet_1_1_migration_data.html#aa7920864f6d125e013e7ec08b3192553">desc_spkms</a>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno"><a class="line" href="structwallet_1_1_migration_data.html#a76cdce260a3faf14dece8fb9ec6ddd3e">  417</a></span>    std::shared_ptr&lt;CWallet&gt; <a class="code hl_variable" href="structwallet_1_1_migration_data.html#a76cdce260a3faf14dece8fb9ec6ddd3e">watchonly_wallet</a>{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno"><a class="line" href="structwallet_1_1_migration_data.html#a0afd760c9181d4adc36db14841da739d">  418</a></span>    std::shared_ptr&lt;CWallet&gt; <a class="code hl_variable" href="structwallet_1_1_migration_data.html#a0afd760c9181d4adc36db14841da739d">solvable_wallet</a>{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>};</div>
</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>} <span class="comment">// namespace wallet</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="preprocessor">#endif </span><span class="comment">// BITCOIN_WALLET_SCRIPTPUBKEYMAN_H</span></div>
<div class="ttc" id="aaddresstype_8h_html"><div class="ttname"><a href="addresstype_8h.html">addresstype.h</a></div></div>
<div class="ttc" id="aaddresstype_8h_html_abf613dc5a753218ddc85df6ff269be12"><div class="ttname"><a href="addresstype_8h.html#abf613dc5a753218ddc85df6ff269be12">CTxDestination</a></div><div class="ttdeci">std::variant&lt; CNoDestination, PubKeyDestination, PKHash, ScriptHash, WitnessV0ScriptHash, WitnessV0KeyHash, WitnessV1Taproot, PayToAnchor, WitnessUnknown &gt; CTxDestination</div><div class="ttdef"><b>Definition</b> addresstype.h:143</div></div>
<div class="ttc" id="achainparams_8cpp_html_ad82533eea3b187c1ac5b7c54d8c6f121"><div class="ttname"><a href="chainparams_8cpp.html#ad82533eea3b187c1ac5b7c54d8c6f121">Params</a></div><div class="ttdeci">const CChainParams &amp; Params()</div><div class="ttdef"><b>Definition</b> chainparams.cpp:112</div></div>
<div class="ttc" id="aclass_c_key_html"><div class="ttname"><a href="class_c_key.html">CKey</a></div><div class="ttdef"><b>Definition</b> key.h:36</div></div>
<div class="ttc" id="aclass_c_key_i_d_html"><div class="ttname"><a href="class_c_key_i_d.html">CKeyID</a></div><div class="ttdef"><b>Definition</b> pubkey.h:24</div></div>
<div class="ttc" id="aclass_c_pub_key_html"><div class="ttname"><a href="class_c_pub_key.html">CPubKey</a></div><div class="ttdef"><b>Definition</b> pubkey.h:34</div></div>
<div class="ttc" id="aclass_c_script_html"><div class="ttname"><a href="class_c_script.html">CScript</a></div><div class="ttdef"><b>Definition</b> script.h:405</div></div>
<div class="ttc" id="aclass_c_script_i_d_html"><div class="ttname"><a href="class_c_script_i_d.html">CScriptID</a></div><div class="ttdef"><b>Definition</b> script.h:594</div></div>
<div class="ttc" id="aclass_descriptor_cache_html"><div class="ttname"><a href="class_descriptor_cache.html">DescriptorCache</a></div><div class="ttdef"><b>Definition</b> descriptor.h:19</div></div>
<div class="ttc" id="aclass_fillable_signing_provider_html"><div class="ttname"><a href="class_fillable_signing_provider.html">FillableSigningProvider</a></div><div class="ttdef"><b>Definition</b> signingprovider.h:251</div></div>
<div class="ttc" id="aclass_fillable_signing_provider_html_a03bc5e9dccecd885e00eeefdad774c7f"><div class="ttname"><a href="class_fillable_signing_provider.html#a03bc5e9dccecd885e00eeefdad774c7f">FillableSigningProvider::cs_KeyStore</a></div><div class="ttdeci">RecursiveMutex cs_KeyStore</div><div class="ttdef"><b>Definition</b> signingprovider.h:308</div></div>
<div class="ttc" id="aclass_salted_sip_hasher_html"><div class="ttname"><a href="class_salted_sip_hasher.html">SaltedSipHasher</a></div><div class="ttdef"><b>Definition</b> hasher.h:113</div></div>
<div class="ttc" id="aclass_signing_provider_html"><div class="ttname"><a href="class_signing_provider.html">SigningProvider</a></div><div class="ttdef"><b>Definition</b> signingprovider.h:157</div></div>
<div class="ttc" id="aclassuint256_html"><div class="ttname"><a href="classuint256.html">uint256</a></div><div class="ttdef"><b>Definition</b> uint256.h:195</div></div>
<div class="ttc" id="aclassuint256_html_afe31bf960eff93e9fbb93ae573acaef9"><div class="ttname"><a href="classuint256.html#afe31bf960eff93e9fbb93ae573acaef9">uint256::ONE</a></div><div class="ttdeci">static const uint256 ONE</div><div class="ttdef"><b>Definition</b> uint256.h:204</div></div>
<div class="ttc" id="aclassutil_1_1_result_html"><div class="ttname"><a href="classutil_1_1_result.html">util::Result</a></div><div class="ttdef"><b>Definition</b> result.h:36</div></div>
<div class="ttc" id="aclasswallet_1_1_c_h_d_chain_html"><div class="ttname"><a href="classwallet_1_1_c_h_d_chain.html">wallet::CHDChain</a></div><div class="ttdef"><b>Definition</b> walletdb.h:95</div></div>
<div class="ttc" id="aclasswallet_1_1_c_key_metadata_html"><div class="ttname"><a href="classwallet_1_1_c_key_metadata.html">wallet::CKeyMetadata</a></div><div class="ttdef"><b>Definition</b> walletdb.h:133</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a0e6bbdbdedea16b9ede099a336772335"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a0e6bbdbdedea16b9ede099a336772335">wallet::DescriptorScriptPubKeyMan::GetEndRange</a></div><div class="ttdeci">int32_t GetEndRange() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1519</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a13cabb9490bbf25ed8d9cc627618cf9d"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a13cabb9490bbf25ed8d9cc627618cf9d">wallet::DescriptorScriptPubKeyMan::TopUp</a></div><div class="ttdeci">bool TopUp(unsigned int size=0) override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:993</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a176aa3c34d315bcb434b2a57b28f442b"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a176aa3c34d315bcb434b2a57b28f442b">wallet::DescriptorScriptPubKeyMan::TopUpWithDB</a></div><div class="ttdeci">bool TopUpWithDB(WalletBatch &amp;batch, unsigned int size=0)</div><div class="ttdoc">Same as &#39;TopUp&#39; but designed for use within a batch transaction context.</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1002</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a199bbb843acd137f84585f37ccb18956"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a199bbb843acd137f84585f37ccb18956">wallet::DescriptorScriptPubKeyMan::HavePrivateKeys</a></div><div class="ttdeci">bool HavePrivateKeys() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1179</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a23820976ac78f311ea3acff6df76d242"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a23820976ac78f311ea3acff6df76d242">wallet::DescriptorScriptPubKeyMan::HaveCryptedKeys</a></div><div class="ttdeci">bool HaveCryptedKeys() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1185</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a26ca930fc8900ab599d597dbc867046b"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a26ca930fc8900ab599d597dbc867046b">wallet::DescriptorScriptPubKeyMan::GetWalletDescriptor</a></div><div class="ttdeci">WalletDescriptor GetWalletDescriptor() const EXCLUSIVE_LOCKS_REQUIRED(cs_desc_man)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1497</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a2c392d37195242545844c3c8009c3e76"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a2c392d37195242545844c3c8009c3e76">wallet::DescriptorScriptPubKeyMan::SignTransaction</a></div><div class="ttdeci">bool SignTransaction(CMutableTransaction &amp;tx, const std::map&lt; COutPoint, Coin &gt; &amp;coins, int sighash, std::map&lt; int, bilingual_str &gt; &amp;input_errors) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1278</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a2e4a39421c774381e4aa35cd1ddf4527"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a2e4a39421c774381e4aa35cd1ddf4527">wallet::DescriptorScriptPubKeyMan::AddCryptedKey</a></div><div class="ttdeci">bool AddCryptedKey(const CKeyID &amp;key_id, const CPubKey &amp;pubkey, const std::vector&lt; unsigned char &gt; &amp;crypted_key)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1471</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a328d3f8111415068d28c86d833b5156b"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a328d3f8111415068d28c86d833b5156b">wallet::DescriptorScriptPubKeyMan::SignMessage</a></div><div class="ttdeci">SigningResult SignMessage(const std::string &amp;message, const PKHash &amp;pkhash, std::string &amp;str_sig) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1292</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a34b7b0152195e0974232c1320e34c4ff"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a34b7b0152195e0974232c1320e34c4ff">wallet::DescriptorScriptPubKeyMan::HasPrivKey</a></div><div class="ttdeci">bool HasPrivKey(const CKeyID &amp;keyid) const EXCLUSIVE_LOCKS_REQUIRED(cs_desc_man)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:963</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a3790661aa0b6c5110fde4476a7f29cd0"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a3790661aa0b6c5110fde4476a7f29cd0">wallet::DescriptorScriptPubKeyMan::IsMine</a></div><div class="ttdeci">bool IsMine(const CScript &amp;script) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:864</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a403dd1b4d652d425bb8d0f2ff52389e7"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a403dd1b4d652d425bb8d0f2ff52389e7">wallet::DescriptorScriptPubKeyMan::CanProvide</a></div><div class="ttdeci">bool CanProvide(const CScript &amp;script, SignatureData &amp;sigdata) override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1273</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a4f8bd867013fccff13b4159fa3903e5c"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a4f8bd867013fccff13b4159fa3903e5c">wallet::DescriptorScriptPubKeyMan::IsHDEnabled</a></div><div class="ttdeci">bool IsHDEnabled() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1163</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a519d9d727f33b44dae4c03905b7c73f0"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a519d9d727f33b44dae4c03905b7c73f0">wallet::DescriptorScriptPubKeyMan::GetReservedDestination</a></div><div class="ttdeci">util::Result&lt; CTxDestination &gt; GetReservedDestination(const OutputType type, bool internal, int64_t &amp;index) override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:925</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a5d31b95c8d0171b082f0bbe87be3c197"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a5d31b95c8d0171b082f0bbe87be3c197">wallet::DescriptorScriptPubKeyMan::GetDescriptorString</a></div><div class="ttdeci">bool GetDescriptorString(std::string &amp;out, const bool priv) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1524</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a62cf46cfdec9b1119a5d6780c6a1d462"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a62cf46cfdec9b1119a5d6780c6a1d462">wallet::DescriptorScriptPubKeyMan::SetupDescriptorGeneration</a></div><div class="ttdeci">bool SetupDescriptorGeneration(WalletBatch &amp;batch, const CExtKey &amp;master_key, OutputType addr_type, bool internal)</div><div class="ttdoc">Setup descriptors based on the given CExtkey.</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1136</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a6a4626bcf1eddc9dcd80c590368a5e33"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a6a4626bcf1eddc9dcd80c590368a5e33">wallet::DescriptorScriptPubKeyMan::GetKeyPoolSize</a></div><div class="ttdeci">unsigned int GetKeyPoolSize() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1191</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a6e637243839e104113b976c654d3ee62"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a6e637243839e104113b976c654d3ee62">wallet::DescriptorScriptPubKeyMan::GetMetadata</a></div><div class="ttdeci">std::unique_ptr&lt; CKeyMetadata &gt; GetMetadata(const CTxDestination &amp;dest) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1406</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a7e593f00fe614ca7aacff57503b13f3e"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a7e593f00fe614ca7aacff57503b13f3e">wallet::DescriptorScriptPubKeyMan::UpdateWalletDescriptor</a></div><div class="ttdeci">util::Result&lt; void &gt; UpdateWalletDescriptor(WalletDescriptor &amp;descriptor)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1570</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a7e92fbfdbf54c466921dea5d26fdcc1b"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a7e92fbfdbf54c466921dea5d26fdcc1b">wallet::DescriptorScriptPubKeyMan::LegacyDataSPKM</a></div><div class="ttdeci">friend class LegacyDataSPKM</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:277</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a97916a15b69fffd61a9ce775a79b4e1b"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a97916a15b69fffd61a9ce775a79b4e1b">wallet::DescriptorScriptPubKeyMan::HasWalletDescriptor</a></div><div class="ttdeci">bool HasWalletDescriptor(const WalletDescriptor &amp;desc) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1482</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a97f47858921bce30b15f99daf778e9d7"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a97f47858921bce30b15f99daf778e9d7">wallet::DescriptorScriptPubKeyMan::Encrypt</a></div><div class="ttdeci">bool Encrypt(const CKeyingMaterial &amp;master_key, WalletBatch *batch) override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:902</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a9acb2bdcd9c33be21fbde99eb195755e"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a9acb2bdcd9c33be21fbde99eb195755e">wallet::DescriptorScriptPubKeyMan::FillPSBT</a></div><div class="ttdeci">std::optional&lt; common::PSBTError &gt; FillPSBT(PartiallySignedTransaction &amp;psbt, const PrecomputedTransactionData &amp;txdata, std::optional&lt; int &gt; sighash_type=std::nullopt, bool sign=true, bool bip32derivs=false, int *n_signed=nullptr, bool finalize=true) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1310</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_a9bb89235acfb364af1ce6452d41b8dce"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#a9bb89235acfb364af1ce6452d41b8dce">wallet::DescriptorScriptPubKeyMan::GetID</a></div><div class="ttdeci">uint256 GetID() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1424</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_aa389a1038c0f76fb2ae91fa029e1cdcf"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#aa389a1038c0f76fb2ae91fa029e1cdcf">wallet::DescriptorScriptPubKeyMan::CanUpdateToWalletDescriptor</a></div><div class="ttdeci">bool CanUpdateToWalletDescriptor(const WalletDescriptor &amp;descriptor, std::string &amp;error)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1587</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_aac3ad9f0dd9e84ac3f61b24aa067b246"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#aac3ad9f0dd9e84ac3f61b24aa067b246">wallet::DescriptorScriptPubKeyMan::GetKey</a></div><div class="ttdeci">std::optional&lt; CKey &gt; GetKey(const CKeyID &amp;keyid) const EXCLUSIVE_LOCKS_REQUIRED(cs_desc_man)</div><div class="ttdoc">Retrieve the particular key if it is available. Returns nullopt if the key is not in the wallet,...</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:969</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_aaff5037a8a8d0eab15011b3b0121fed6"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#aaff5037a8a8d0eab15011b3b0121fed6">wallet::DescriptorScriptPubKeyMan::AddKey</a></div><div class="ttdeci">bool AddKey(const CKeyID &amp;key_id, const CKey &amp;key)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1464</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ab33f26945a28cc8eb92de11a09ba3913"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ab33f26945a28cc8eb92de11a09ba3913">wallet::DescriptorScriptPubKeyMan::MarkUnusedAddresses</a></div><div class="ttdeci">std::vector&lt; WalletDestination &gt; MarkUnusedAddresses(const CScript &amp;script) override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1067</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ab46d2ceaf696638645a68c9ef2eafa5b"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ab46d2ceaf696638645a68c9ef2eafa5b">wallet::DescriptorScriptPubKeyMan::DescriptorScriptPubKeyMan</a></div><div class="ttdeci">DescriptorScriptPubKeyMan(WalletStorage &amp;storage, int64_t keypool_size)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:333</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ab8d01d03335af702cb6256f67a713e8c"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ab8d01d03335af702cb6256f67a713e8c">wallet::DescriptorScriptPubKeyMan::SetCache</a></div><div class="ttdeci">void SetCache(const DescriptorCache &amp;cache)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1430</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ac6f1be4e404ae15058c834202d94c162"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ac6f1be4e404ae15058c834202d94c162">wallet::DescriptorScriptPubKeyMan::WriteDescriptor</a></div><div class="ttdeci">void WriteDescriptor()</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1488</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_acae3971be9f74320a4809532658ea30a"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#acae3971be9f74320a4809532658ea30a">wallet::DescriptorScriptPubKeyMan::GetScriptPubKeys</a></div><div class="ttdeci">std::unordered_set&lt; CScript, SaltedSipHasher &gt; GetScriptPubKeys() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1502</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_acba36819e3f59482abd9f2243e672e9e"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#acba36819e3f59482abd9f2243e672e9e">wallet::DescriptorScriptPubKeyMan::GetTimeFirstKey</a></div><div class="ttdeci">int64_t GetTimeFirstKey() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1197</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ad9c99f06638e62801616f7de3d48a64c"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ad9c99f06638e62801616f7de3d48a64c">wallet::DescriptorScriptPubKeyMan::cs_desc_man</a></div><div class="ttdeci">RecursiveMutex cs_desc_man</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:338</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ae341c513be603fa2e5a36258b2cfbdd0"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ae341c513be603fa2e5a36258b2cfbdd0">wallet::DescriptorScriptPubKeyMan::DescriptorScriptPubKeyMan</a></div><div class="ttdeci">DescriptorScriptPubKeyMan(WalletStorage &amp;storage, WalletDescriptor &amp;descriptor, int64_t keypool_size)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:328</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ae5d92b03295e3a2208d5733168308481"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ae5d92b03295e3a2208d5733168308481">wallet::DescriptorScriptPubKeyMan::UpgradeDescriptorCache</a></div><div class="ttdeci">void UpgradeDescriptorCache()</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1541</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ae83f39f0787c5ff7ac70d9f4aca63652"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ae83f39f0787c5ff7ac70d9f4aca63652">wallet::DescriptorScriptPubKeyMan::GetNewDestination</a></div><div class="ttdeci">util::Result&lt; CTxDestination &gt; GetNewDestination(const OutputType type) override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:825</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_ae942fc8344998297343ebae204e7f496"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#ae942fc8344998297343ebae204e7f496">wallet::DescriptorScriptPubKeyMan::GetSolvingProvider</a></div><div class="ttdeci">std::unique_ptr&lt; SigningProvider &gt; GetSolvingProvider(const CScript &amp;script) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1268</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_afc77be04e0aa0842b9033c3e2e23316f"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#afc77be04e0aa0842b9033c3e2e23316f">wallet::DescriptorScriptPubKeyMan::AddDescriptorKey</a></div><div class="ttdeci">void AddDescriptorKey(const CKey &amp;key, const CPubKey &amp;pubkey)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1095</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_afd49b62ac63f50d3ee3c6cac0a21c29b"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#afd49b62ac63f50d3ee3c6cac0a21c29b">wallet::DescriptorScriptPubKeyMan::ReturnDestination</a></div><div class="ttdeci">void ReturnDestination(int64_t index, bool internal, const CTxDestination &amp;addr) override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:933</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_afe3ef6e5f3a6d4262aecfe4c1d13c5fb"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#afe3ef6e5f3a6d4262aecfe4c1d13c5fb">wallet::DescriptorScriptPubKeyMan::CanGetAddresses</a></div><div class="ttdeci">bool CanGetAddresses(bool internal=false) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:1169</div></div>
<div class="ttc" id="aclasswallet_1_1_descriptor_script_pub_key_man_html_aff1ae69e02a3fb4746b7773ef7f6875a"><div class="ttname"><a href="classwallet_1_1_descriptor_script_pub_key_man.html#aff1ae69e02a3fb4746b7773ef7f6875a">wallet::DescriptorScriptPubKeyMan::CheckDecryptionKey</a></div><div class="ttdeci">bool CheckDecryptionKey(const CKeyingMaterial &amp;master_key) override</div><div class="ttdoc">Check that the given decryption key is valid for this ScriptPubKeyMan, i.e. it decrypts all of the ke...</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:870</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html">wallet::LegacyDataSPKM</a></div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:175</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a0a176577091edfd6984b3f1501eeed9d"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a0a176577091edfd6984b3f1501eeed9d">wallet::LegacyDataSPKM::GUARDED_BY</a></div><div class="ttdeci">std::map&lt; CScriptID, CKeyMetadata &gt; m_script_metadata GUARDED_BY(cs_KeyStore)</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a20fe5abbe92c5a7d12a1ec0bdcfaee7e"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a20fe5abbe92c5a7d12a1ec0bdcfaee7e">wallet::LegacyDataSPKM::LoadCryptedKey</a></div><div class="ttdeci">bool LoadCryptedKey(const CPubKey &amp;vchPubKey, const std::vector&lt; unsigned char &gt; &amp;vchCryptedSecret, bool checksum_valid)</div><div class="ttdoc">Adds an encrypted key to the store, without saving it to disk (used by LoadWallet).</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:319</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a255a187c6bac2bbed75fa7f9f605361b"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a255a187c6bac2bbed75fa7f9f605361b">wallet::LegacyDataSPKM::GetKey</a></div><div class="ttdeci">bool GetKey(const CKeyID &amp;address, CKey &amp;keyOut) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:391</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a25aee14df3601a0cae72852121cfa80a"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a25aee14df3601a0cae72852121cfa80a">wallet::LegacyDataSPKM::HaveKey</a></div><div class="ttdeci">bool HaveKey(const CKeyID &amp;address) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:382</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a2b5fc1f76ac9ca96789a31bdf22454cb"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a2b5fc1f76ac9ca96789a31bdf22454cb">wallet::LegacyDataSPKM::GetWatchPubKey</a></div><div class="ttdeci">bool GetWatchPubKey(const CKeyID &amp;address, CPubKey &amp;pubkey_out) const</div><div class="ttdoc">Fetches a pubkey from mapWatchKeys if it exists there.</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:430</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a2c1c303e31d4f0c8982ef45741274c48"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a2c1c303e31d4f0c8982ef45741274c48">wallet::LegacyDataSPKM::LoadScriptMetadata</a></div><div class="ttdeci">virtual void LoadScriptMetadata(const CScriptID &amp;script_id, const CKeyMetadata &amp;metadata)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:307</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a2e4b481012311c3aaf2953c355976a49"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a2e4b481012311c3aaf2953c355976a49">wallet::LegacyDataSPKM::LoadHDChain</a></div><div class="ttdeci">void LoadHDChain(const CHDChain &amp;chain)</div><div class="ttdoc">Load a HD chain model (used by LoadWallet).</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:369</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a3ee0805f81142cc75bbdf167a50f0ca5"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a3ee0805f81142cc75bbdf167a50f0ca5">wallet::LegacyDataSPKM::GetHDChain</a></div><div class="ttdeci">const CHDChain &amp; GetHDChain() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:241</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a443ac821ab7054c5f8652e3dc30b5f0f"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a443ac821ab7054c5f8652e3dc30b5f0f">wallet::LegacyDataSPKM::GetKeyOrigin</a></div><div class="ttdeci">bool GetKeyOrigin(const CKeyID &amp;keyid, KeyOriginInfo &amp;info) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:410</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a44d1df900e56c3ec97a7867905d88716"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a44d1df900e56c3ec97a7867905d88716">wallet::LegacyDataSPKM::LoadKey</a></div><div class="ttdeci">bool LoadKey(const CKey &amp;key, const CPubKey &amp;pubkey)</div><div class="ttdoc">Adds a key to the store, without saving it to disk (used by LoadWallet).</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:281</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a6c92b666312e1336653363250e66cbbf"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a6c92b666312e1336653363250e66cbbf">wallet::LegacyDataSPKM::LoadCScript</a></div><div class="ttdeci">bool LoadCScript(const CScript &amp;redeemScript)</div><div class="ttdoc">Adds a CScript to the store.</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:286</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a77919e347d96b63033779cca4af4d860"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a77919e347d96b63033779cca4af4d860">wallet::LegacyDataSPKM::AddInactiveHDChain</a></div><div class="ttdeci">void AddInactiveHDChain(const CHDChain &amp;chain)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:375</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a818c6d0e90561007e9f3f07a89bc2422"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a818c6d0e90561007e9f3f07a89bc2422">wallet::LegacyDataSPKM::LoadKeyMetadata</a></div><div class="ttdeci">virtual void LoadKeyMetadata(const CKeyID &amp;keyID, const CKeyMetadata &amp;metadata)</div><div class="ttdoc">Load metadata (used by LoadWallet).</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:301</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_a9bb89235acfb364af1ce6452d41b8dce"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#a9bb89235acfb364af1ce6452d41b8dce">wallet::LegacyDataSPKM::GetID</a></div><div class="ttdeci">uint256 GetID() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:216</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_aab372ddde1ef74fcc95ee85088be4764"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#aab372ddde1ef74fcc95ee85088be4764">wallet::LegacyDataSPKM::DeleteRecordsWithDB</a></div><div class="ttdeci">bool DeleteRecordsWithDB(WalletBatch &amp;batch)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:819</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_ab2c180db432f2552d90d838092541e42"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#ab2c180db432f2552d90d838092541e42">wallet::LegacyDataSPKM::GUARDED_BY</a></div><div class="ttdeci">std::map&lt; CKeyID, CKeyMetadata &gt; mapKeyMetadata GUARDED_BY(cs_KeyStore)</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_ac0baae1468399cc0d85d5ca777c15633"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#ac0baae1468399cc0d85d5ca777c15633">wallet::LegacyDataSPKM::GetPubKey</a></div><div class="ttdeci">bool GetPubKey(const CKeyID &amp;address, CPubKey &amp;vchPubKeyOut) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:441</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_ac5f6bbe7b3f979e34e8fa1b83dfcddf4"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#ac5f6bbe7b3f979e34e8fa1b83dfcddf4">wallet::LegacyDataSPKM::MigrateToDescriptor</a></div><div class="ttdeci">std::optional&lt; MigrationData &gt; MigrateToDescriptor()</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:532</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_acae3971be9f74320a4809532658ea30a"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#acae3971be9f74320a4809532658ea30a">wallet::LegacyDataSPKM::GetScriptPubKeys</a></div><div class="ttdeci">std::unordered_set&lt; CScript, SaltedSipHasher &gt; GetScriptPubKeys() const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:507</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_acb5d295a2d134a28e76d7a42abb8779d"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#acb5d295a2d134a28e76d7a42abb8779d">wallet::LegacyDataSPKM::HaveWatchOnly</a></div><div class="ttdeci">bool HaveWatchOnly(const CScript &amp;dest) const</div><div class="ttdoc">Returns whether the watch-only script is in the wallet.</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:339</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_ad65d18f7079b96c0746346333416a176"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#ad65d18f7079b96c0746346333416a176">wallet::LegacyDataSPKM::LoadWatchOnly</a></div><div class="ttdeci">bool LoadWatchOnly(const CScript &amp;dest)</div><div class="ttdoc">Adds a watch-only address to the store, without saving it to disk (used by LoadWallet).</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:345</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_ad9ee01d938ada8052527b37d891cdfcf"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#ad9ee01d938ada8052527b37d891cdfcf">wallet::LegacyDataSPKM::GetNotMineScriptPubKeys</a></div><div class="ttdeci">std::unordered_set&lt; CScript, SaltedSipHasher &gt; GetNotMineScriptPubKeys() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:522</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_ae942fc8344998297343ebae204e7f496"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#ae942fc8344998297343ebae204e7f496">wallet::LegacyDataSPKM::GetSolvingProvider</a></div><div class="ttdeci">std::unique_ptr&lt; SigningProvider &gt; GetSolvingProvider(const CScript &amp;script) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:253</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_afe01a622dff90547d2f9b0f11d74968f"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#afe01a622dff90547d2f9b0f11d74968f">wallet::LegacyDataSPKM::ScriptPubKeyMan</a></div><div class="ttdeci">ScriptPubKeyMan(WalletStorage &amp;storage)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:86</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_data_s_p_k_m_html_aff1ae69e02a3fb4746b7773ef7f6875a"><div class="ttname"><a href="classwallet_1_1_legacy_data_s_p_k_m.html#aff1ae69e02a3fb4746b7773ef7f6875a">wallet::LegacyDataSPKM::CheckDecryptionKey</a></div><div class="ttdeci">bool CheckDecryptionKey(const CKeyingMaterial &amp;master_key) override</div><div class="ttdoc">Check that the given decryption key is valid for this ScriptPubKeyMan, i.e. it decrypts all of the ke...</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.cpp:213</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_signing_provider_html_a0a8ae25cba768d006ed5f8bdf631b12f"><div class="ttname"><a href="classwallet_1_1_legacy_signing_provider.html#a0a8ae25cba768d006ed5f8bdf631b12f">wallet::LegacySigningProvider::GetKey</a></div><div class="ttdeci">bool GetKey(const CKeyID &amp;address, CKey &amp;key) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:270</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_signing_provider_html_a25aee14df3601a0cae72852121cfa80a"><div class="ttname"><a href="classwallet_1_1_legacy_signing_provider.html#a25aee14df3601a0cae72852121cfa80a">wallet::LegacySigningProvider::HaveKey</a></div><div class="ttdeci">bool HaveKey(const CKeyID &amp;address) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:271</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_signing_provider_html_a443ac821ab7054c5f8652e3dc30b5f0f"><div class="ttname"><a href="classwallet_1_1_legacy_signing_provider.html#a443ac821ab7054c5f8652e3dc30b5f0f">wallet::LegacySigningProvider::GetKeyOrigin</a></div><div class="ttdeci">bool GetKeyOrigin(const CKeyID &amp;keyid, KeyOriginInfo &amp;info) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:272</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_signing_provider_html_a8dded79fe6b083e9d86113aa568dedf4"><div class="ttname"><a href="classwallet_1_1_legacy_signing_provider.html#a8dded79fe6b083e9d86113aa568dedf4">wallet::LegacySigningProvider::GetPubKey</a></div><div class="ttdeci">bool GetPubKey(const CKeyID &amp;address, CPubKey &amp;pubkey) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:269</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_signing_provider_html_ab0fc47f2cf61a87d3ee6d118e9560dbb"><div class="ttname"><a href="classwallet_1_1_legacy_signing_provider.html#ab0fc47f2cf61a87d3ee6d118e9560dbb">wallet::LegacySigningProvider::GetCScript</a></div><div class="ttdeci">bool GetCScript(const CScriptID &amp;scriptid, CScript &amp;script) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:267</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_signing_provider_html_ab64749c93cb9c9a78edf4349ae39a041"><div class="ttname"><a href="classwallet_1_1_legacy_signing_provider.html#ab64749c93cb9c9a78edf4349ae39a041">wallet::LegacySigningProvider::LegacySigningProvider</a></div><div class="ttdeci">LegacySigningProvider(const LegacyDataSPKM &amp;spk_man)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:265</div></div>
<div class="ttc" id="aclasswallet_1_1_legacy_signing_provider_html_af34cf5bb47b9be224e2cef0e1fa8aba2"><div class="ttname"><a href="classwallet_1_1_legacy_signing_provider.html#af34cf5bb47b9be224e2cef0e1fa8aba2">wallet::LegacySigningProvider::HaveCScript</a></div><div class="ttdeci">bool HaveCScript(const CScriptID &amp;scriptid) const override</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:268</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html">wallet::ScriptPubKeyMan</a></div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:81</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a07b95fa1f835ea7a90382556f88daf71"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a07b95fa1f835ea7a90382556f88daf71">wallet::ScriptPubKeyMan::SignMessage</a></div><div class="ttdeci">virtual SigningResult SignMessage(const std::string &amp;message, const PKHash &amp;pkhash, std::string &amp;str_sig) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:142</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a0b0edfe43d923d766e90ffa613323a30"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a0b0edfe43d923d766e90ffa613323a30">wallet::ScriptPubKeyMan::ReturnDestination</a></div><div class="ttdeci">virtual void ReturnDestination(int64_t index, bool internal, const CTxDestination &amp;addr)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:97</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a1476ab960626063771df7cd43ea42585"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a1476ab960626063771df7cd43ea42585">wallet::ScriptPubKeyMan::HavePrivateKeys</a></div><div class="ttdeci">virtual bool HavePrivateKeys() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:120</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a171a49b06a5ad69d8e079fdf91013d08"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a171a49b06a5ad69d8e079fdf91013d08">wallet::ScriptPubKeyMan::GetScriptPubKeys</a></div><div class="ttdeci">virtual std::unordered_set&lt; CScript, SaltedSipHasher &gt; GetScriptPubKeys() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:149</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a192cce942a62d616153fbfb7eb32dc63"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a192cce942a62d616153fbfb7eb32dc63">wallet::ScriptPubKeyMan::IsHDEnabled</a></div><div class="ttdeci">virtual bool IsHDEnabled() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:115</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a2534aad5e3d342fd387b9a659d933ee0"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a2534aad5e3d342fd387b9a659d933ee0">wallet::ScriptPubKeyMan::GetSolvingProvider</a></div><div class="ttdeci">virtual std::unique_ptr&lt; SigningProvider &gt; GetSolvingProvider(const CScript &amp;script) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:132</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a2c6affb18523a8f3d9505585185bf045"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a2c6affb18523a8f3d9505585185bf045">wallet::ScriptPubKeyMan::KeepDestination</a></div><div class="ttdeci">virtual void KeepDestination(int64_t index, const OutputType &amp;type)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:96</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a3944f5f86ba673b484082fef35a75ddb"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a3944f5f86ba673b484082fef35a75ddb">wallet::ScriptPubKeyMan::CanProvide</a></div><div class="ttdeci">virtual bool CanProvide(const CScript &amp;script, SignatureData &amp;sigdata)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:137</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a430cbfac8428d10eb13806ff17118be9"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a430cbfac8428d10eb13806ff17118be9">wallet::ScriptPubKeyMan::GetReservedDestination</a></div><div class="ttdeci">virtual util::Result&lt; CTxDestination &gt; GetReservedDestination(const OutputType type, bool internal, int64_t &amp;index)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:95</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a4680a0f3fff2af8499ba1f100ff553b0"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a4680a0f3fff2af8499ba1f100ff553b0">wallet::ScriptPubKeyMan::GetTimeFirstKey</a></div><div class="ttdeci">virtual int64_t GetTimeFirstKey() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:128</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a4dc8c1c796df82845d0eba3b3fc85098"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a4dc8c1c796df82845d0eba3b3fc85098">wallet::ScriptPubKeyMan::~ScriptPubKeyMan</a></div><div class="ttdeci">virtual ~ScriptPubKeyMan()=default</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a5c5b052c7b616b7880dfa0fe1a2e6c86"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a5c5b052c7b616b7880dfa0fe1a2e6c86">wallet::ScriptPubKeyMan::MarkUnusedAddresses</a></div><div class="ttdeci">virtual std::vector&lt; WalletDestination &gt; MarkUnusedAddresses(const CScript &amp;script)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:112</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a65d657c387c39d56df83db10ae076f66"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a65d657c387c39d56df83db10ae076f66">wallet::ScriptPubKeyMan::SignTransaction</a></div><div class="ttdeci">virtual bool SignTransaction(CMutableTransaction &amp;tx, const std::map&lt; COutPoint, Coin &gt; &amp;coins, int sighash, std::map&lt; int, bilingual_str &gt; &amp;input_errors) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:140</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a73307c0f97415aaeeef89250f8abc380"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a73307c0f97415aaeeef89250f8abc380">wallet::ScriptPubKeyMan::GetMetadata</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CKeyMetadata &gt; GetMetadata(const CTxDestination &amp;dest) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:130</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a7d236f7e3f4752b8d179c7c6d777109e"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a7d236f7e3f4752b8d179c7c6d777109e">wallet::ScriptPubKeyMan::GetKeyPoolSize</a></div><div class="ttdeci">virtual unsigned int GetKeyPoolSize() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:126</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a909c982de74e0eb5c51f57b161ae6352"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a909c982de74e0eb5c51f57b161ae6352">wallet::ScriptPubKeyMan::NotifyCanGetAddressesChanged</a></div><div class="ttdeci">boost::signals2::signal&lt; void()&gt; NotifyCanGetAddressesChanged</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:159</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a97c792ee32f77465742ea92d64da08e7"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a97c792ee32f77465742ea92d64da08e7">wallet::ScriptPubKeyMan::CanGetAddresses</a></div><div class="ttdeci">virtual bool CanGetAddresses(bool internal=false) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:118</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_a9d82c74227d863f5df2aeba563bc1043"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#a9d82c74227d863f5df2aeba563bc1043">wallet::ScriptPubKeyMan::NotifyFirstKeyTimeChanged</a></div><div class="ttdeci">boost::signals2::signal&lt; void(const ScriptPubKeyMan *spkm, int64_t new_birth_time)&gt; NotifyFirstKeyTimeChanged</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:162</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ab231740b5fcabd8da3c6eda6cf1cfd06"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ab231740b5fcabd8da3c6eda6cf1cfd06">wallet::ScriptPubKeyMan::WalletLogPrintf</a></div><div class="ttdeci">void WalletLogPrintf(util::ConstevalFormatString&lt; sizeof...(Params)&gt; wallet_fmt, const Params &amp;... params) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:153</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ab31d9c2beb5760c4e7fe2b340565b167"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ab31d9c2beb5760c4e7fe2b340565b167">wallet::ScriptPubKeyMan::HaveCryptedKeys</a></div><div class="ttdeci">virtual bool HaveCryptedKeys() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:121</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ab437d7bea4222ff007dec29496e46e4a"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ab437d7bea4222ff007dec29496e46e4a">wallet::ScriptPubKeyMan::RewriteDB</a></div><div class="ttdeci">virtual void RewriteDB()</div><div class="ttdoc">The action to do when the DB needs rewrite.</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:124</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ac4a21736443c15ad56498832ce090e19"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ac4a21736443c15ad56498832ce090e19">wallet::ScriptPubKeyMan::m_storage</a></div><div class="ttdeci">WalletStorage &amp; m_storage</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:83</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ac52ee85751d421dc586831d35357c83e"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ac52ee85751d421dc586831d35357c83e">wallet::ScriptPubKeyMan::Encrypt</a></div><div class="ttdeci">virtual bool Encrypt(const CKeyingMaterial &amp;master_key, WalletBatch *batch)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:93</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ac5969a450182fb29387e06e0fa49dcd6"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ac5969a450182fb29387e06e0fa49dcd6">wallet::ScriptPubKeyMan::GetID</a></div><div class="ttdeci">virtual uint256 GetID() const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:146</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ac6d13c936a257d55f12a5560c1ae1987"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ac6d13c936a257d55f12a5560c1ae1987">wallet::ScriptPubKeyMan::CheckDecryptionKey</a></div><div class="ttdeci">virtual bool CheckDecryptionKey(const CKeyingMaterial &amp;master_key)</div><div class="ttdoc">Check that the given decryption key is valid for this ScriptPubKeyMan, i.e. it decrypts all of the ke...</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:92</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ac95b49c07214ecbe8101ba7229d3721b"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ac95b49c07214ecbe8101ba7229d3721b">wallet::ScriptPubKeyMan::FillPSBT</a></div><div class="ttdeci">virtual std::optional&lt; common::PSBTError &gt; FillPSBT(PartiallySignedTransaction &amp;psbt, const PrecomputedTransactionData &amp;txdata, std::optional&lt; int &gt; sighash_type=std::nullopt, bool sign=true, bool bip32derivs=false, int *n_signed=nullptr, bool finalize=true) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:144</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_ace31e444272c0add4bd94c44761f7ba0"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#ace31e444272c0add4bd94c44761f7ba0">wallet::ScriptPubKeyMan::IsMine</a></div><div class="ttdeci">virtual bool IsMine(const CScript &amp;script) const</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:89</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_aefacf9065a8a1bbedba70133a12c6e21"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#aefacf9065a8a1bbedba70133a12c6e21">wallet::ScriptPubKeyMan::TopUp</a></div><div class="ttdeci">virtual bool TopUp(unsigned int size=0)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:103</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_af8ac55386f75dd3d353757787e74c1ce"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#af8ac55386f75dd3d353757787e74c1ce">wallet::ScriptPubKeyMan::GetNewDestination</a></div><div class="ttdeci">virtual util::Result&lt; CTxDestination &gt; GetNewDestination(const OutputType type)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:88</div></div>
<div class="ttc" id="aclasswallet_1_1_script_pub_key_man_html_afe01a622dff90547d2f9b0f11d74968f"><div class="ttname"><a href="classwallet_1_1_script_pub_key_man.html#afe01a622dff90547d2f9b0f11d74968f">wallet::ScriptPubKeyMan::ScriptPubKeyMan</a></div><div class="ttdeci">ScriptPubKeyMan(WalletStorage &amp;storage)</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:86</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_batch_html"><div class="ttname"><a href="classwallet_1_1_wallet_batch.html">wallet::WalletBatch</a></div><div class="ttdef"><b>Definition</b> walletdb.h:193</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_database_html"><div class="ttname"><a href="classwallet_1_1_wallet_database.html">wallet::WalletDatabase</a></div><div class="ttdef"><b>Definition</b> db.h:130</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_descriptor_html"><div class="ttname"><a href="classwallet_1_1_wallet_descriptor.html">wallet::WalletDescriptor</a></div><div class="ttdef"><b>Definition</b> walletutil.h:64</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html">wallet::WalletStorage</a></div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:44</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_a2b13770749ea5b14609b668e9ad49003"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#a2b13770749ea5b14609b668e9ad49003">wallet::WalletStorage::HasEncryptionKeys</a></div><div class="ttdeci">virtual bool HasEncryptionKeys() const =0</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_a39f5a481a5eacb57ca38b546a07261c9"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#a39f5a481a5eacb57ca38b546a07261c9">wallet::WalletStorage::IsWalletFlagSet</a></div><div class="ttdeci">virtual bool IsWalletFlagSet(uint64_t) const =0</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_a3d5bf05a522cdd0dae38bf4b00368df3"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#a3d5bf05a522cdd0dae38bf4b00368df3">wallet::WalletStorage::UnsetBlankWalletFlag</a></div><div class="ttdeci">virtual void UnsetBlankWalletFlag(WalletBatch &amp;)=0</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_a3d655ffff7290e1454b42041b73595f2"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#a3d655ffff7290e1454b42041b73595f2">wallet::WalletStorage::GetDatabase</a></div><div class="ttdeci">virtual WalletDatabase &amp; GetDatabase() const =0</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_a66367c3f76bf794ccb5e1afd4562b4eb"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#a66367c3f76bf794ccb5e1afd4562b4eb">wallet::WalletStorage::TopUpCallback</a></div><div class="ttdeci">virtual void TopUpCallback(const std::set&lt; CScript &gt; &amp;, ScriptPubKeyMan *)=0</div><div class="ttdoc">Callback function for after TopUp completes containing any scripts that were added by a SPKMan.</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_a9b8c7098575cc9f46dd4659567da323c"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#a9b8c7098575cc9f46dd4659567da323c">wallet::WalletStorage::WithEncryptionKey</a></div><div class="ttdeci">virtual bool WithEncryptionKey(std::function&lt; bool(const CKeyingMaterial &amp;)&gt; cb) const =0</div><div class="ttdoc">Pass the encryption key to cb().</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_ac06f5246a9b3fac86cafda6ea9613bb0"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#ac06f5246a9b3fac86cafda6ea9613bb0">wallet::WalletStorage::~WalletStorage</a></div><div class="ttdeci">virtual ~WalletStorage()=default</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_ad324bcc4895a73c0076895674a0961d4"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#ad324bcc4895a73c0076895674a0961d4">wallet::WalletStorage::LogName</a></div><div class="ttdeci">virtual std::string LogName() const =0</div></div>
<div class="ttc" id="aclasswallet_1_1_wallet_storage_html_ae7bc78361f30bfda0286c8af11392f2d"><div class="ttname"><a href="classwallet_1_1_wallet_storage.html#ae7bc78361f30bfda0286c8af11392f2d">wallet::WalletStorage::IsLocked</a></div><div class="ttdeci">virtual bool IsLocked() const =0</div></div>
<div class="ttc" id="acommon_2types_8h_html"><div class="ttname"><a href="common_2types_8h.html">types.h</a></div></div>
<div class="ttc" id="acrypter_8h_html"><div class="ttname"><a href="crypter_8h.html">crypter.h</a></div></div>
<div class="ttc" id="alogging_8h_html_a57eb3ffc98e6ad1bdbed0a980a54c484"><div class="ttname"><a href="logging_8h.html#a57eb3ffc98e6ad1bdbed0a980a54c484">LogInfo</a></div><div class="ttdeci">#define LogInfo(...)</div><div class="ttdef"><b>Definition</b> logging.h:391</div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amusig_8h_html"><div class="ttname"><a href="musig_8h.html">musig.h</a></div></div>
<div class="ttc" id="anamespacecommon_html_a463d00d67d3e9d48d7a3dc0c6ee84d06a40aa75f8e8cfdf7b660c5620e953229f"><div class="ttname"><a href="namespacecommon.html#a463d00d67d3e9d48d7a3dc0c6ee84d06a40aa75f8e8cfdf7b660c5620e953229f">common::PSBTError::UNSUPPORTED</a></div><div class="ttdeci">@ UNSUPPORTED</div><div class="ttdef"><b>Definition</b> types.h:22</div></div>
<div class="ttc" id="anamespacescript_html"><div class="ttname"><a href="namespacescript.html">script</a></div><div class="ttdef"><b>Definition</b> parsing.cpp:13</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> setup_common.h:265</div></div>
<div class="ttc" id="anamespacetinyformat_html_a94e672659dfe070f7905299d1f170931"><div class="ttname"><a href="namespacetinyformat.html#a94e672659dfe070f7905299d1f170931">tinyformat::format</a></div><div class="ttdeci">void format(std::ostream &amp;out, FormatStringCheck&lt; sizeof...(Args)&gt; fmt, const Args &amp;... args)</div><div class="ttdoc">Format list of arguments to the stream according to given format string.</div><div class="ttdef"><b>Definition</b> tinyformat.h:1079</div></div>
<div class="ttc" id="anamespacewallet_html"><div class="ttname"><a href="namespacewallet.html">wallet</a></div><div class="ttdef"><b>Definition</b> wallet_balance.cpp:26</div></div>
<div class="ttc" id="anamespacewallet_html_a64709c9a3acc8f5694515789a183ad7b"><div class="ttname"><a href="namespacewallet.html#a64709c9a3acc8f5694515789a183ad7b">wallet::CKeyingMaterial</a></div><div class="ttdeci">std::vector&lt; unsigned char, secure_allocator&lt; unsigned char &gt; &gt; CKeyingMaterial</div><div class="ttdef"><b>Definition</b> crypter.h:63</div></div>
<div class="ttc" id="anamespacewallet_html_a6e6195e0225e313e82634fb730d2164d"><div class="ttname"><a href="namespacewallet.html#a6e6195e0225e313e82634fb730d2164d">wallet::GetAffectedKeys</a></div><div class="ttdeci">std::vector&lt; CKeyID &gt; GetAffectedKeys(const CScript &amp;spk, const SigningProvider &amp;provider)</div></div>
<div class="ttc" id="anode_2types_8h_html"><div class="ttname"><a href="node_2types_8h.html">types.h</a></div></div>
<div class="ttc" id="aoutputtype_8h_html_a4e0517338e6c4a31a2addafc06d4f3a3"><div class="ttname"><a href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3">OutputType</a></div><div class="ttdeci">OutputType</div><div class="ttdef"><b>Definition</b> outputtype.h:18</div></div>
<div class="ttc" id="aoutputtype_8h_html_a4e0517338e6c4a31a2addafc06d4f3a3a456d016bd133625e5036aa9a556f2730"><div class="ttname"><a href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3a456d016bd133625e5036aa9a556f2730">OutputType::LEGACY</a></div><div class="ttdeci">@ LEGACY</div><div class="ttdef"><b>Definition</b> outputtype.h:19</div></div>
<div class="ttc" id="aoutputtype_8h_html_a4e0517338e6c4a31a2addafc06d4f3a3ad4fd7223ebde09ed36b615658d29d7bc"><div class="ttname"><a href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3ad4fd7223ebde09ed36b615658d29d7bc">OutputType::BECH32</a></div><div class="ttdeci">@ BECH32</div><div class="ttdef"><b>Definition</b> outputtype.h:21</div></div>
<div class="ttc" id="aoutputtype_8h_html_a4e0517338e6c4a31a2addafc06d4f3a3adca4c7228b48e4a611d32dc21a0e341a"><div class="ttname"><a href="outputtype_8h.html#a4e0517338e6c4a31a2addafc06d4f3a3adca4c7228b48e4a611d32dc21a0e341a">OutputType::P2SH_SEGWIT</a></div><div class="ttdeci">@ P2SH_SEGWIT</div><div class="ttdef"><b>Definition</b> outputtype.h:20</div></div>
<div class="ttc" id="aresult_8h_html"><div class="ttname"><a href="result_8h.html">result.h</a></div></div>
<div class="ttc" id="ascript_2descriptor_8h_html"><div class="ttname"><a href="script_2descriptor_8h.html">descriptor.h</a></div></div>
<div class="ttc" id="ascript_2script_8h_html"><div class="ttname"><a href="script_2script_8h.html">script.h</a></div></div>
<div class="ttc" id="asigningprovider_8h_html"><div class="ttname"><a href="signingprovider_8h.html">signingprovider.h</a></div></div>
<div class="ttc" id="asignmessage_8h_html"><div class="ttname"><a href="signmessage_8h.html">signmessage.h</a></div></div>
<div class="ttc" id="asignmessage_8h_html_a5f6c064c16999f3c857affb9e4b99a1e"><div class="ttname"><a href="signmessage_8h.html#a5f6c064c16999f3c857affb9e4b99a1e">SigningResult</a></div><div class="ttdeci">SigningResult</div><div class="ttdef"><b>Definition</b> signmessage.h:43</div></div>
<div class="ttc" id="asignmessage_8h_html_a5f6c064c16999f3c857affb9e4b99a1ea5949069cd0ebd438f332cab590a1b073"><div class="ttname"><a href="signmessage_8h.html#a5f6c064c16999f3c857affb9e4b99a1ea5949069cd0ebd438f332cab590a1b073">SigningResult::SIGNING_FAILED</a></div><div class="ttdeci">@ SIGNING_FAILED</div><div class="ttdef"><b>Definition</b> signmessage.h:46</div></div>
<div class="ttc" id="astruct_c_ext_key_html"><div class="ttname"><a href="struct_c_ext_key.html">CExtKey</a></div><div class="ttdef"><b>Definition</b> key.h:231</div></div>
<div class="ttc" id="astruct_c_mutable_transaction_html"><div class="ttname"><a href="struct_c_mutable_transaction.html">CMutableTransaction</a></div><div class="ttdef"><b>Definition</b> transaction.h:358</div></div>
<div class="ttc" id="astruct_flat_signing_provider_html"><div class="ttname"><a href="struct_flat_signing_provider.html">FlatSigningProvider</a></div><div class="ttdef"><b>Definition</b> signingprovider.h:224</div></div>
<div class="ttc" id="astruct_key_origin_info_html"><div class="ttname"><a href="struct_key_origin_info.html">KeyOriginInfo</a></div><div class="ttdef"><b>Definition</b> keyorigin.h:12</div></div>
<div class="ttc" id="astruct_p_k_hash_html"><div class="ttname"><a href="struct_p_k_hash.html">PKHash</a></div><div class="ttdef"><b>Definition</b> addresstype.h:48</div></div>
<div class="ttc" id="astruct_partially_signed_transaction_html"><div class="ttname"><a href="struct_partially_signed_transaction.html">PartiallySignedTransaction</a></div><div class="ttdef"><b>Definition</b> psbt.h:1125</div></div>
<div class="ttc" id="astruct_precomputed_transaction_data_html"><div class="ttname"><a href="struct_precomputed_transaction_data.html">PrecomputedTransactionData</a></div><div class="ttdef"><b>Definition</b> interpreter.h:164</div></div>
<div class="ttc" id="astruct_signature_data_html"><div class="ttname"><a href="struct_signature_data.html">SignatureData</a></div><div class="ttdef"><b>Definition</b> sign.h:77</div></div>
<div class="ttc" id="astructutil_1_1_consteval_format_string_html"><div class="ttname"><a href="structutil_1_1_consteval_format_string.html">util::ConstevalFormatString</a></div><div class="ttdoc">A wrapper for a compile-time partially validated format string.</div><div class="ttdef"><b>Definition</b> string.h:92</div></div>
<div class="ttc" id="astructutil_1_1_error_html"><div class="ttname"><a href="structutil_1_1_error.html">util::Error</a></div><div class="ttdef"><b>Definition</b> result.h:15</div></div>
<div class="ttc" id="astructwallet_1_1_migration_data_html"><div class="ttname"><a href="structwallet_1_1_migration_data.html">wallet::MigrationData</a></div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:412</div></div>
<div class="ttc" id="astructwallet_1_1_migration_data_html_a0afd760c9181d4adc36db14841da739d"><div class="ttname"><a href="structwallet_1_1_migration_data.html#a0afd760c9181d4adc36db14841da739d">wallet::MigrationData::solvable_wallet</a></div><div class="ttdeci">std::shared_ptr&lt; CWallet &gt; solvable_wallet</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:418</div></div>
<div class="ttc" id="astructwallet_1_1_migration_data_html_a117439f1253ad547fcad16e73ab4c401"><div class="ttname"><a href="structwallet_1_1_migration_data.html#a117439f1253ad547fcad16e73ab4c401">wallet::MigrationData::watch_descs</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::string, int64_t &gt; &gt; watch_descs</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:414</div></div>
<div class="ttc" id="astructwallet_1_1_migration_data_html_a76282a2dd7cfda436b1886787e54e02e"><div class="ttname"><a href="structwallet_1_1_migration_data.html#a76282a2dd7cfda436b1886787e54e02e">wallet::MigrationData::solvable_descs</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::string, int64_t &gt; &gt; solvable_descs</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:415</div></div>
<div class="ttc" id="astructwallet_1_1_migration_data_html_a76cdce260a3faf14dece8fb9ec6ddd3e"><div class="ttname"><a href="structwallet_1_1_migration_data.html#a76cdce260a3faf14dece8fb9ec6ddd3e">wallet::MigrationData::watchonly_wallet</a></div><div class="ttdeci">std::shared_ptr&lt; CWallet &gt; watchonly_wallet</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:417</div></div>
<div class="ttc" id="astructwallet_1_1_migration_data_html_aa7920864f6d125e013e7ec08b3192553"><div class="ttname"><a href="structwallet_1_1_migration_data.html#aa7920864f6d125e013e7ec08b3192553">wallet::MigrationData::desc_spkms</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; DescriptorScriptPubKeyMan &gt; &gt; desc_spkms</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:416</div></div>
<div class="ttc" id="astructwallet_1_1_migration_data_html_ac064fed58fde64c3cfef849c64221e09"><div class="ttname"><a href="structwallet_1_1_migration_data.html#ac064fed58fde64c3cfef849c64221e09">wallet::MigrationData::master_key</a></div><div class="ttdeci">CExtKey master_key</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:413</div></div>
<div class="ttc" id="astructwallet_1_1_wallet_destination_html"><div class="ttname"><a href="structwallet_1_1_wallet_destination.html">wallet::WalletDestination</a></div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:68</div></div>
<div class="ttc" id="astructwallet_1_1_wallet_destination_html_a317ed8564204078183db6783baff8973"><div class="ttname"><a href="structwallet_1_1_wallet_destination.html#a317ed8564204078183db6783baff8973">wallet::WalletDestination::dest</a></div><div class="ttdeci">CTxDestination dest</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:69</div></div>
<div class="ttc" id="astructwallet_1_1_wallet_destination_html_ac83fc3379ca7265f3c20ffa9bcf5d4a3"><div class="ttname"><a href="structwallet_1_1_wallet_destination.html#ac83fc3379ca7265f3c20ffa9bcf5d4a3">wallet::WalletDestination::internal</a></div><div class="ttdeci">std::optional&lt; bool &gt; internal</div><div class="ttdef"><b>Definition</b> scriptpubkeyman.h:70</div></div>
<div class="ttc" id="async_8h_html_a5d71768bc9626b7482055d56d4e2c533"><div class="ttname"><a href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a></div><div class="ttdeci">AnnotatedMixin&lt; std::recursive_mutex &gt; RecursiveMutex</div><div class="ttdef"><b>Definition</b> sync.h:121</div></div>
<div class="ttc" id="athread__annotations_8h_html_a0e2e86b0f11d9778240b0a0b263047b1"><div class="ttname"><a href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a></div><div class="ttdeci">#define EXCLUSIVE_LOCKS_REQUIRED(...)</div><div class="ttdef"><b>Definition</b> thread_annotations.h:42</div></div>
<div class="ttc" id="athread__annotations_8h_html_a4bc26ad7e8bc853ad3f58a8a343c952e"><div class="ttname"><a href="thread__annotations_8h.html#a4bc26ad7e8bc853ad3f58a8a343c952e">GUARDED_BY</a></div><div class="ttdeci">#define GUARDED_BY(x)</div><div class="ttdef"><b>Definition</b> thread_annotations.h:24</div></div>
<div class="ttc" id="atranslation_8h_html_adff31aba0266455557bf721860f481b8"><div class="ttname"><a href="translation_8h.html#adff31aba0266455557bf721860f481b8">Untranslated</a></div><div class="ttdeci">bilingual_str Untranslated(std::string original)</div><div class="ttdef"><b>Definition</b> translation.h:82</div></div>
<div class="ttc" id="awallet_2types_8h_html"><div class="ttname"><a href="wallet_2types_8h.html">types.h</a></div></div>
<div class="ttc" id="awalletdb_8h_html"><div class="ttname"><a href="walletdb_8h.html">walletdb.h</a></div></div>
<div class="ttc" id="awalletutil_8h_html"><div class="ttname"><a href="walletutil_8h.html">walletutil.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="dir_e91c81f9be83f649fcd1d8691438a113.html">wallet</a></li><li class="navelem"><a href="scriptpubkeyman_8h.html">scriptpubkeyman.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
