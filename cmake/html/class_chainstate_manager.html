<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: ChainstateManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_chainstate_manager.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">ChainstateManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="validation_8h_source.html">validation.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ChainstateManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_chainstate_manager.png" usemap="#ChainstateManager_map" alt=""/>
  <map id="ChainstateManager_map" name="ChainstateManager_map">
<area href="struct_test_chainstate_manager.html" alt="TestChainstateManager" shape="rect" coords="0,56,145,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-types" class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a66bc0ee7102eaf1cbd62d3a9d7087e52" id="r_a66bc0ee7102eaf1cbd62d3a9d7087e52"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66bc0ee7102eaf1cbd62d3a9d7087e52">Options</a> = <a class="el" href="structkernel_1_1_chainstate_manager_opts.html">kernel::ChainstateManagerOpts</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abf64809b392636e77309f8ad9a1e633a" id="r_abf64809b392636e77309f8ad9a1e633a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf64809b392636e77309f8ad9a1e633a">ChainstateManager</a> (const <a class="el" href="classutil_1_1_signal_interrupt.html">util::SignalInterrupt</a> &amp;interrupt, <a class="el" href="#a66bc0ee7102eaf1cbd62d3a9d7087e52">Options</a><a class="el" href="struct_options.html">Options</a> options, <a class="el" href="classnode_1_1_block_manager.html#a9d388cded97cd9f86c06358bb29abfad">node::BlockManager::Options</a> blockman_options)</td></tr>
<tr class="memitem:a9fc4893dda46aba09dbcd01e3387ca6f" id="r_a9fc4893dda46aba09dbcd01e3387ca6f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9fc4893dda46aba09dbcd01e3387ca6f">GetParams</a> () const</td></tr>
<tr class="memitem:ae77f209722ff1370ed18dc073d3d373f" id="r_ae77f209722ff1370ed18dc073d3d373f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_consensus_1_1_params.html">Consensus::Params</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae77f209722ff1370ed18dc073d3d373f">GetConsensus</a> () const</td></tr>
<tr class="memitem:a7d9fee7d87790307d9de8daa34d0bb76" id="r_a7d9fee7d87790307d9de8daa34d0bb76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d9fee7d87790307d9de8daa34d0bb76">ShouldCheckBlockIndex</a> () const</td></tr>
<tr class="memitem:af6689b42eea6a15ba7e5409ea374cdb4" id="r_af6689b42eea6a15ba7e5409ea374cdb4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classarith__uint256.html">arith_uint256</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6689b42eea6a15ba7e5409ea374cdb4">MinimumChainWork</a> () const</td></tr>
<tr class="memitem:abce720b3a0e16a563e8f78ac92686646" id="r_abce720b3a0e16a563e8f78ac92686646"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classuint256.html">uint256</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abce720b3a0e16a563e8f78ac92686646">AssumedValidBlock</a> () const</td></tr>
<tr class="memitem:a30d910c43e6619c9596c077fd1e5518d" id="r_a30d910c43e6619c9596c077fd1e5518d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkernel_1_1_notifications.html">kernel::Notifications</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30d910c43e6619c9596c077fd1e5518d">GetNotifications</a> () const</td></tr>
<tr class="memitem:abcf4d55acb00543c3d57d5fb532bc8f6" id="r_abcf4d55acb00543c3d57d5fb532bc8f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abcf4d55acb00543c3d57d5fb532bc8f6">CheckBlockIndex</a> () const</td></tr>
<tr class="memitem:af99ab8783b483abe3fef8ab596a3e6b6" id="r_af99ab8783b483abe3fef8ab596a3e6b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a> () const <a class="el" href="thread__annotations_8h.html#ab355c21df501f97a4a5e63a868373c4f">LOCK_RETURNED</a>(</td></tr>
<tr class="memitem:aa035a00d9fc943b069c0a2c73c0c4c5f" id="r_aa035a00d9fc943b069c0a2c73c0c4c5f"><td class="memItemLeft" align="right" valign="top">int32_t nBlockSequenceId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa035a00d9fc943b069c0a2c73c0c4c5f">GUARDED_BY</a> (<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">::cs_main</a>)</td></tr>
<tr class="memitem:af18f65bf1a2c0d6ae376e70ba3bad7d3" id="r_af18f65bf1a2c0d6ae376e70ba3bad7d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af18f65bf1a2c0d6ae376e70ba3bad7d3">ResetBlockSequenceCounters</a> () <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(</td></tr>
<tr class="memitem:ae266294cbd8e70cc91fd28a77fd45625" id="r_ae266294cbd8e70cc91fd28a77fd45625"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *m_best_header&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae266294cbd8e70cc91fd28a77fd45625">GUARDED_BY</a> (<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">::cs_main</a>)</td></tr>
<tr class="memitem:a1140f6d8b807be5796827fc4f7be03d7" id="r_a1140f6d8b807be5796827fc4f7be03d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_chainstate.html">Chainstate</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1140f6d8b807be5796827fc4f7be03d7">HistoricalChainstate</a> () const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td></tr>
<tr class="memdesc:a1140f6d8b807be5796827fc4f7be03d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return historical chainstate targeting a specific block, if any.  <br /></td></tr>
<tr class="memitem:a91044f53af4185cf8bc3870bc2a3ea6a" id="r_a91044f53af4185cf8bc3870bc2a3ea6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_chainstate.html">Chainstate</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91044f53af4185cf8bc3870bc2a3ea6a">ValidatedChainstate</a> () const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td></tr>
<tr class="memitem:a3548c5d82213aaa9daaf0ac46482e8ce" id="r_a3548c5d82213aaa9daaf0ac46482e8ce"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_chainstate.html">Chainstate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3548c5d82213aaa9daaf0ac46482e8ce">RemoveChainstate</a> (<a class="el" href="class_chainstate.html">Chainstate</a> &amp;chainstate) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td></tr>
<tr class="memdesc:a3548c5d82213aaa9daaf0ac46482e8ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a chainstate.  <br /></td></tr>
<tr class="memitem:a1568d8e47259466ecafd9ed7b411873a" id="r_a1568d8e47259466ecafd9ed7b411873a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacenode.html#acee0086a0c833617dd1532caf93206a3">node::BlockMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1568d8e47259466ecafd9ed7b411873a">BlockIndex</a> () <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(</td></tr>
<tr class="memitem:a312bb1a2008bae3205f4699b90880d66" id="r_a312bb1a2008bae3205f4699b90880d66"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a312bb1a2008bae3205f4699b90880d66">IsInitialBlockDownload</a> () const</td></tr>
<tr class="memitem:ab95b248ecacf42357d9d4ea19e696ff7" id="r_ab95b248ecacf42357d9d4ea19e696ff7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab95b248ecacf42357d9d4ea19e696ff7">GuessVerificationProgress</a> (const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex) const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td></tr>
<tr class="memitem:a7fa295c24afe0ecd3e603b695fae303c" id="r_a7fa295c24afe0ecd3e603b695fae303c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fa295c24afe0ecd3e603b695fae303c">LoadExternalBlockFile</a> (<a class="el" href="class_auto_file.html">AutoFile</a> &amp;file_in, <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> *dbp=nullptr, std::multimap&lt; <a class="el" href="classuint256.html">uint256</a>, <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> &gt; *blocks_with_unknown_parent=nullptr)</td></tr>
<tr class="memitem:a1e0c145b7a823316fb026a73d305a049" id="r_a1e0c145b7a823316fb026a73d305a049"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e0c145b7a823316fb026a73d305a049">ProcessNewBlock</a> (const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;block, bool force_processing, bool min_pow_checked, bool *new_block) <a class="el" href="thread__annotations_8h.html#a6bb97382864d0bd2cd4dd5191bb03f6c">LOCKS_EXCLUDED</a>(<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memitem:ae76ff7fc56e3342ba5a97ca33ec5aa37" id="r_ae76ff7fc56e3342ba5a97ca33ec5aa37"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae76ff7fc56e3342ba5a97ca33ec5aa37">ProcessNewBlockHeaders</a> (std::span&lt; const <a class="el" href="class_c_block_header.html">CBlockHeader</a> &gt; headers, bool min_pow_checked, <a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> **ppindex=nullptr) <a class="el" href="thread__annotations_8h.html#a6bb97382864d0bd2cd4dd5191bb03f6c">LOCKS_EXCLUDED</a>(<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memitem:a27cda33d02b54068c879b5889f6557f3" id="r_a27cda33d02b54068c879b5889f6557f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27cda33d02b54068c879b5889f6557f3">AcceptBlock</a> (const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;pblock, <a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> **ppindex, bool fRequested, const <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> *dbp, bool *fNewBlock, bool min_pow_checked) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memitem:aacf45b730328d8aa968302758c45adf0" id="r_aacf45b730328d8aa968302758c45adf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aacf45b730328d8aa968302758c45adf0">ReceivedBlockTransactions</a> (const <a class="el" href="class_c_block.html">CBlock</a> &amp;block, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexNew, const <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> &amp;pos) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memitem:a9c7d6797a606a08696d722e7489b6d4d" id="r_a9c7d6797a606a08696d722e7489b6d4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_mempool_accept_result.html">MempoolAcceptResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c7d6797a606a08696d722e7489b6d4d">ProcessTransaction</a> (const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;tx, bool test_accept=false) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memitem:a665765220796597313f5ea2daa980354" id="r_a665765220796597313f5ea2daa980354"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a665765220796597313f5ea2daa980354">LoadBlockIndex</a> () <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>)</td></tr>
<tr class="memdesc:a665765220796597313f5ea2daa980354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the block tree and coins database from disk, initializing state if we're running with -reindex.  <br /></td></tr>
<tr class="memitem:ab221269ee84206666a6cf6d27a9c25fc" id="r_ab221269ee84206666a6cf6d27a9c25fc"><td class="memItemLeft" align="right" valign="top">void MaybeRebalanceCaches() <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab221269ee84206666a6cf6d27a9c25fc">UpdateUncommittedBlockStructures</a> (<a class="el" href="class_c_block.html">CBlock</a> &amp;block, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexPrev) const</td></tr>
<tr class="memitem:a4f87fc79002ca74320f13bcc7b709f3b" id="r_a4f87fc79002ca74320f13bcc7b709f3b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; unsigned char &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f87fc79002ca74320f13bcc7b709f3b">GenerateCoinbaseCommitment</a> (<a class="el" href="class_c_block.html">CBlock</a> &amp;block, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexPrev) const</td></tr>
<tr class="memitem:afbdf3e3590aa0d6082ea2105a70bd91e" id="r_afbdf3e3590aa0d6082ea2105a70bd91e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbdf3e3590aa0d6082ea2105a70bd91e">ReportHeadersPresync</a> (const <a class="el" href="classarith__uint256.html">arith_uint256</a> &amp;work, int64_t height, int64_t timestamp)</td></tr>
<tr class="memitem:a30c226700bb0b48363077aab63be6074" id="r_a30c226700bb0b48363077aab63be6074"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30c226700bb0b48363077aab63be6074">~ChainstateManager</a> ()</td></tr>
<tr class="memitem:a6331a57c72ec2af500332ada6568449c" id="r_a6331a57c72ec2af500332ada6568449c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr&lt; <a class="el" href="class_chainstate.html">Chainstate</a> &gt; &gt; m_chainstates&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6331a57c72ec2af500332ada6568449c">GUARDED_BY</a> (<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">::cs_main</a>)</td></tr>
<tr id="pub-methods-0" class="groupHeader"><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a0ed46908ea52e17d172f2fcc0ceb9964" id="r_a0ed46908ea52e17d172f2fcc0ceb9964"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_chainstate.html">Chainstate</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ed46908ea52e17d172f2fcc0ceb9964">ActiveChainstate</a> () const</td></tr>
<tr class="memitem:a8090a09f21aff3aa747263ae6b8268c1" id="r_a8090a09f21aff3aa747263ae6b8268c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_chain.html">CChain</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8090a09f21aff3aa747263ae6b8268c1">ActiveChain</a> () const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td></tr>
<tr class="memitem:a02754cb19c22c28f3092a18a70d9dec4" id="r_a02754cb19c22c28f3092a18a70d9dec4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02754cb19c22c28f3092a18a70d9dec4">ActiveHeight</a> () const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td></tr>
<tr class="memitem:ac8dc81d17ce18093b02ef600686870b3" id="r_ac8dc81d17ce18093b02ef600686870b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8dc81d17ce18093b02ef600686870b3">ActiveTip</a> () const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a36ac8c09fb965b0d78d5f12d1cac9f95" id="r_a36ac8c09fb965b0d78d5f12d1cac9f95"><td class="memItemLeft" align="right" valign="top">std::function&lt; void()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36ac8c09fb965b0d78d5f12d1cac9f95">snapshot_download_completed</a> = std::function&lt;void()&gt;()</td></tr>
<tr class="memitem:a2163d8ef789c585b196a3ec7f468244b" id="r_a2163d8ef789c585b196a3ec7f468244b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classutil_1_1_signal_interrupt.html">util::SignalInterrupt</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2163d8ef789c585b196a3ec7f468244b">m_interrupt</a></td></tr>
<tr class="memitem:a012c0463bd17a2be6045a0d62e8b0fd4" id="r_a012c0463bd17a2be6045a0d62e8b0fd4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="#a66bc0ee7102eaf1cbd62d3a9d7087e52">Options</a><a class="el" href="struct_options.html">Options</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a012c0463bd17a2be6045a0d62e8b0fd4">m_options</a></td></tr>
<tr class="memitem:a0ffb06ca51d81edfc4488da3aad6718e" id="r_a0ffb06ca51d81edfc4488da3aad6718e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnode_1_1_block_manager.html">node::BlockManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ffb06ca51d81edfc4488da3aad6718e">m_blockman</a></td></tr>
<tr class="memitem:a8b9f7384fea98b58e40ac219adbe246e" id="r_a8b9f7384fea98b58e40ac219adbe246e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_validation_cache.html">ValidationCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b9f7384fea98b58e40ac219adbe246e">m_validation_cache</a></td></tr>
<tr class="memitem:aeef634a7b2cca41e9465fb47ea4a4e5e" id="r_aeef634a7b2cca41e9465fb47ea4a4e5e"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeef634a7b2cca41e9465fb47ea4a4e5e">m_cached_finished_ibd</a> {false}</td></tr>
<tr class="memitem:a3a98f74d304164590a715c14320a7f34" id="r_a3a98f74d304164590a715c14320a7f34"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a98f74d304164590a715c14320a7f34">nBlockReverseSequenceId</a> = -1</td></tr>
<tr class="memitem:a13a75b7d6fb732fb84ea1ca75e5c3b4d" id="r_a13a75b7d6fb732fb84ea1ca75e5c3b4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarith__uint256.html">arith_uint256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13a75b7d6fb732fb84ea1ca75e5c3b4d">nLastPreciousChainwork</a> = 0</td></tr>
<tr class="memitem:a1193672873da4f09b48291890d0b523a" id="r_a1193672873da4f09b48291890d0b523a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1193672873da4f09b48291890d0b523a">m_total_coinstip_cache</a> {0}</td></tr>
<tr class="memitem:ab8e486d36525b789f3858281b2b142f7" id="r_ab8e486d36525b789f3858281b2b142f7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8e486d36525b789f3858281b2b142f7">m_total_coinsdb_cache</a> {0}</td></tr>
<tr class="memitem:ad1791e4f65d252d4163bca3d75e8e418" id="r_ad1791e4f65d252d4163bca3d75e8e418"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_chainstate.html">Chainstate</a> &amp;InitializeChainstate(<a class="el" href="class_c_tx_mem_pool.html">CTxMemPool</a> *mempool) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="classutil_1_1_result.html">util::Result</a>&lt; <a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1791e4f65d252d4163bca3d75e8e418">ActivateSnapshot</a> )(<a class="el" href="class_auto_file.html">AutoFile</a> &amp;coins_file, const <a class="el" href="classnode_1_1_snapshot_metadata.html">node::SnapshotMetadata</a> &amp;metadata, bool in_memory)</td></tr>
<tr class="memitem:a8d39d359e6ed774815dc8d31f326ff82" id="r_a8d39d359e6ed774815dc8d31f326ff82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="validation_8h.html#a64ee3ac35f0e5525364652f27fc0570e">SnapshotCompletionResult</a> MaybeValidateSnapshot(<a class="el" href="class_chainstate.html">Chainstate</a> &amp;validated_cs, <a class="el" href="class_chainstate.html">Chainstate</a> &amp;unvalidated_cs) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_chainstate.html">Chainstate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d39d359e6ed774815dc8d31f326ff82">CurrentChainstate</a> )() const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td></tr>
<tr class="memdesc:a8d39d359e6ed774815dc8d31f326ff82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return current chainstate targeting the most-work, network tip.  <br /></td></tr>
<tr class="memitem:ad854ac2aa6fccfd247fabfdbd1a0b89b" id="r_ad854ac2aa6fccfd247fabfdbd1a0b89b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_version_bits_cache.html">VersionBitsCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad854ac2aa6fccfd247fabfdbd1a0b89b">m_versionbitscache</a></td></tr>
<tr class="memitem:a950b9831cc7770fa5c00402406560433" id="r_a950b9831cc7770fa5c00402406560433"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_chainstate.html">Chainstate</a> *LoadAssumeutxoChainstate() <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_chainstate.html">Chainstate</a> &amp;AddChainstate(std::unique_ptr&lt; <a class="el" href="class_chainstate.html">Chainstate</a> &gt; chainstate) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(void ResetChainstates() <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(bool DeleteChainstate(<a class="el" href="class_chainstate.html">Chainstate</a> &amp;chainstate) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(bool ValidatedSnapshotCleanup(<a class="el" href="class_chainstate.html">Chainstate</a> &amp;validated_cs, <a class="el" href="class_chainstate.html">Chainstate</a> &amp;unvalidated_cs) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(std::optional&lt; std::pair&lt; const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> * &gt; &gt; GetHistoricalBlockRange() const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="classutil_1_1_result.html">util::Result</a>&lt; void &gt; ActivateBestChains() <a class="el" href="thread__annotations_8h.html#a6bb97382864d0bd2cd4dd5191bb03f6c">LOCKS_EXCLUDED</a>(void RecalculateBestHeader() <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_c_check_queue.html">CCheckQueue</a>&lt; <a class="el" href="class_c_script_check.html">CScriptCheck</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a950b9831cc7770fa5c00402406560433">GetCheckQueue</a> )()</td></tr>
<tr class="memdesc:a950b9831cc7770fa5c00402406560433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new chainstate.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-methods" class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a19574d54ea135906c021a7a5d537da5f" id="r_a19574d54ea135906c021a7a5d537da5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *m_best_invalid&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19574d54ea135906c021a7a5d537da5f">GUARDED_BY</a> (<a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">::cs_main</a>)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for managing multiple <a class="el" href="class_chainstate.html">Chainstate</a> objects, where each chainstate is associated with chainstate* subdirectory in the data directory and contains a database of UTXOs existing at a different point in history. (See <a class="el" href="class_chainstate.html">Chainstate</a> class for more information.)</p>
<p>Normally there is exactly one <a class="el" href="class_chainstate.html">Chainstate</a>, which contains the UTXO set of chain tip if syncing is completed, or the UTXO set the most recent validated block if the initial sync is still in progress.</p>
<p>However, if an assumeutxo snapshot is loaded before syncing is completed, there will be two chainstates. The original fully validated chainstate will continue to exist and download new blocks in the background. But the new snapshot which is loaded will become a second chainstate. The second chainstate will be used as the chain tip for the wallet and RPCs even though it is only assumed to be valid. When the initial chainstate catches up to the snapshot height and confirms that the assumeutxo snapshot is actually valid, the second chainstate will be marked validated and become the only chainstate again. </p>
</div><a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Member Typedef Documentation</h2>
<a id="a66bc0ee7102eaf1cbd62d3a9d7087e52" name="a66bc0ee7102eaf1cbd62d3a9d7087e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66bc0ee7102eaf1cbd62d3a9d7087e52">&#9670;&#160;</a></span>Options</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a66bc0ee7102eaf1cbd62d3a9d7087e52">Options</a><a class="el" href="struct_options.html">Options</a> = <a class="el" href="structkernel_1_1_chainstate_manager_opts.html">kernel::ChainstateManagerOpts</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abf64809b392636e77309f8ad9a1e633a" name="abf64809b392636e77309f8ad9a1e633a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf64809b392636e77309f8ad9a1e633a">&#9670;&#160;</a></span>ChainstateManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chainstate_manager.html">ChainstateManager</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classutil_1_1_signal_interrupt.html">util::SignalInterrupt</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>interrupt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a66bc0ee7102eaf1cbd62d3a9d7087e52">Options</a><a class="el" href="struct_options.html">Options</a></td>          <td class="paramname"><span class="paramname"><em>options</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnode_1_1_block_manager.html#a9d388cded97cd9f86c06358bb29abfad">node::BlockManager::Options</a></td>          <td class="paramname"><span class="paramname"><em>blockman_options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a30c226700bb0b48363077aab63be6074" name="a30c226700bb0b48363077aab63be6074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c226700bb0b48363077aab63be6074">&#9670;&#160;</a></span>~ChainstateManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="class_chainstate_manager.html">ChainstateManager</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a27cda33d02b54068c879b5889f6557f3" name="a27cda33d02b54068c879b5889f6557f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27cda33d02b54068c879b5889f6557f3">&#9670;&#160;</a></span>AcceptBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AcceptBlock </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>pblock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>ppindex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>fRequested</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> *</td>          <td class="paramname"><span class="paramname"><em>dbp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>fNewBlock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>min_pow_checked</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sufficiently validate a block for disk storage (and store on disk).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pblock</td><td>The block we want to process. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fRequested</td><td>Whether we requested this block from a peer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dbp</td><td>The location on disk, if we are importing this block from prior storage. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_pow_checked</td><td>True if proof-of-work anti-DoS checks have been done by caller for headers chain</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">state</td><td>The state of the block validation. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppindex</td><td>Optional return parameter to get the <a class="el" href="class_c_block_index.html">CBlockIndex</a> pointer for this block. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fNewBlock</td><td>Optional return parameter to indicate if the block is new to our storage.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>False if the block or header is invalid, or if saving to disk fails (likely a fatal error); true otherwise.</dd></dl>
<p>Store block on disk. If dbp is non-nullptr, the file is known to already reside on disk </p>

</div>
</div>
<a id="a8090a09f21aff3aa747263ae6b8268c1" name="a8090a09f21aff3aa747263ae6b8268c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8090a09f21aff3aa747263ae6b8268c1">&#9670;&#160;</a></span>ActiveChain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_chain.html">CChain</a> &amp; ActiveChain </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0ed46908ea52e17d172f2fcc0ceb9964" name="a0ed46908ea52e17d172f2fcc0ceb9964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ed46908ea52e17d172f2fcc0ceb9964">&#9670;&#160;</a></span>ActiveChainstate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chainstate.html">Chainstate</a> &amp; ActiveChainstate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Alternatives to <a class="el" href="#a8d39d359e6ed774815dc8d31f326ff82" title="Return current chainstate targeting the most-work, network tip.">CurrentChainstate()</a> used by older code to query latest chainstate information without locking cs_main. Newer code should avoid querying <a class="el" href="class_chainstate_manager.html">ChainstateManager</a> and use <a class="el" href="class_chainstate.html">Chainstate</a> objects directly, or should use <a class="el" href="#a8d39d359e6ed774815dc8d31f326ff82" title="Return current chainstate targeting the most-work, network tip.">CurrentChainstate()</a> instead. </p>

</div>
</div>
<a id="a02754cb19c22c28f3092a18a70d9dec4" name="a02754cb19c22c28f3092a18a70d9dec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02754cb19c22c28f3092a18a70d9dec4">&#9670;&#160;</a></span>ActiveHeight()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ActiveHeight </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac8dc81d17ce18093b02ef600686870b3" name="ac8dc81d17ce18093b02ef600686870b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8dc81d17ce18093b02ef600686870b3">&#9670;&#160;</a></span>ActiveTip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_block_index.html">CBlockIndex</a> * ActiveTip </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abce720b3a0e16a563e8f78ac92686646" name="abce720b3a0e16a563e8f78ac92686646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce720b3a0e16a563e8f78ac92686646">&#9670;&#160;</a></span>AssumedValidBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classuint256.html">uint256</a> &amp; AssumedValidBlock </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1568d8e47259466ecafd9ed7b411873a" name="a1568d8e47259466ecafd9ed7b411873a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1568d8e47259466ecafd9ed7b411873a">&#9670;&#160;</a></span>BlockIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacenode.html#acee0086a0c833617dd1532caf93206a3">node::BlockMap</a> &amp; BlockIndex </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abcf4d55acb00543c3d57d5fb532bc8f6" name="abcf4d55acb00543c3d57d5fb532bc8f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf4d55acb00543c3d57d5fb532bc8f6">&#9670;&#160;</a></span>CheckBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckBlockIndex </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make various assertions about the state of the block index.</p>
<p>By default this only executes fully when using the Regtest chain; see: m_options.check_block_index. </p>

</div>
</div>
<a id="a4f87fc79002ca74320f13bcc7b709f3b" name="a4f87fc79002ca74320f13bcc7b709f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f87fc79002ca74320f13bcc7b709f3b">&#9670;&#160;</a></span>GenerateCoinbaseCommitment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; unsigned char &gt; GenerateCoinbaseCommitment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_block.html">CBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *</td>          <td class="paramname"><span class="paramname"><em>pindexPrev</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Produce the necessary coinbase commitment for a block (modifies the hash, don't call for mined blocks). </p>

</div>
</div>
<a id="ae77f209722ff1370ed18dc073d3d373f" name="ae77f209722ff1370ed18dc073d3d373f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae77f209722ff1370ed18dc073d3d373f">&#9670;&#160;</a></span>GetConsensus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_consensus_1_1_params.html">Consensus::Params</a> &amp; GetConsensus </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af99ab8783b483abe3fef8ab596a3e6b6" name="af99ab8783b483abe3fef8ab596a3e6b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af99ab8783b483abe3fef8ab596a3e6b6">&#9670;&#160;</a></span>GetMutex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sync_8h.html#a5d71768bc9626b7482055d56d4e2c533">RecursiveMutex</a> &amp; GetMutex </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Alias for <a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a>. Should be used in new code to make it easier to make <a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">cs_main</a> a member of this class. Generally, methods of this class should be annotated to require this mutex. This will make calling code more verbose, but also help to:</p><ul>
<li>Clarify that the method will acquire a mutex that heavily affects overall performance.</li>
<li>Force call sites to think how long they need to acquire the mutex to get consistent results. </li>
</ul>

</div>
</div>
<a id="a30d910c43e6619c9596c077fd1e5518d" name="a30d910c43e6619c9596c077fd1e5518d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d910c43e6619c9596c077fd1e5518d">&#9670;&#160;</a></span>GetNotifications()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkernel_1_1_notifications.html">kernel::Notifications</a> &amp; GetNotifications </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9fc4893dda46aba09dbcd01e3387ca6f" name="a9fc4893dda46aba09dbcd01e3387ca6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fc4893dda46aba09dbcd01e3387ca6f">&#9670;&#160;</a></span>GetParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp; GetParams </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6331a57c72ec2af500332ada6568449c" name="a6331a57c72ec2af500332ada6568449c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6331a57c72ec2af500332ada6568449c">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::unique_ptr&lt; <a class="el" href="class_chainstate.html">Chainstate</a> &gt; &gt; m_chainstates GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">::cs_main</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of chainstates. Note: in general, it is not safe to delete <a class="el" href="class_chainstate.html">Chainstate</a> objects once they are added to this list because there is no mutex that can be locked to prevent <a class="el" href="class_chainstate.html">Chainstate</a> pointers from being used while they are deleted. (cs_main doesn't work because it is too narrow and is released in the middle of Chainstate::ActivateBestChain to let notifications be processed. m_chainstate_mutex doesn't work because it is not locked at other times when the chainstate is in use.) </p>

</div>
</div>
<a id="ae266294cbd8e70cc91fd28a77fd45625" name="ae266294cbd8e70cc91fd28a77fd45625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae266294cbd8e70cc91fd28a77fd45625">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *m_best_header GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">::cs_main</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Best header we've seen so far for which the block is not known to be invalid (used, among others, for getheaders queries' starting points). In case of multiple best headers with the same work, it could point to any because <a class="el" href="struct_c_block_index_work_comparator.html">CBlockIndexWorkComparator</a> tiebreaker rules are not applied. </p>

</div>
</div>
<a id="aa035a00d9fc943b069c0a2c73c0c4c5f" name="aa035a00d9fc943b069c0a2c73c0c4c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa035a00d9fc943b069c0a2c73c0c4c5f">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nBlockSequenceId GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">::cs_main</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Every received block is assigned a unique and increasing identifier, so we know which one to give priority in case of a fork. Blocks loaded from disk are assigned id SEQ_ID_INIT_FROM_DISK{1} (SEQ_ID_BEST_CHAIN_FROM_DISK{0} if they belong to the best chain loaded from disk), so start the counter after that. </p>

</div>
</div>
<a id="a19574d54ea135906c021a7a5d537da5f" name="a19574d54ea135906c021a7a5d537da5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19574d54ea135906c021a7a5d537da5f">&#9670;&#160;</a></span>GUARDED_BY() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *m_best_invalid GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cs__main_8cpp.html#ab88a4b9173207cf250ece7820db1f36d">::cs_main</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab95b248ecacf42357d9d4ea19e696ff7" name="ab95b248ecacf42357d9d4ea19e696ff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab95b248ecacf42357d9d4ea19e696ff7">&#9670;&#160;</a></span>GuessVerificationProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double GuessVerificationProgress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *</td>          <td class="paramname"><span class="paramname"><em>pindex</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Guess verification progress (as a fraction between 0.0=genesis and 1.0=current tip). </p>

</div>
</div>
<a id="a1140f6d8b807be5796827fc4f7be03d7" name="a1140f6d8b807be5796827fc4f7be03d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1140f6d8b807be5796827fc4f7be03d7">&#9670;&#160;</a></span>HistoricalChainstate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chainstate.html">Chainstate</a> * HistoricalChainstate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return historical chainstate targeting a specific block, if any. </p>

</div>
</div>
<a id="a312bb1a2008bae3205f4699b90880d66" name="a312bb1a2008bae3205f4699b90880d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a312bb1a2008bae3205f4699b90880d66">&#9670;&#160;</a></span>IsInitialBlockDownload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IsInitialBlockDownload </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether we are doing an initial block download (synchronizing from disk or network) </p>

</div>
</div>
<a id="a665765220796597313f5ea2daa980354" name="a665765220796597313f5ea2daa980354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a665765220796597313f5ea2daa980354">&#9670;&#160;</a></span>LoadBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LoadBlockIndex </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the block tree and coins database from disk, initializing state if we're running with -reindex. </p>

</div>
</div>
<a id="a7fa295c24afe0ecd3e603b695fae303c" name="a7fa295c24afe0ecd3e603b695fae303c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fa295c24afe0ecd3e603b695fae303c">&#9670;&#160;</a></span>LoadExternalBlockFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadExternalBlockFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_auto_file.html">AutoFile</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>file_in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> *</td>          <td class="paramname"><span class="paramname"><em>dbp</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::multimap&lt; <a class="el" href="classuint256.html">uint256</a>, <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>blocks_with_unknown_parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Import blocks from an external file</p>
<p>During reindexing, this function is called for each block file (datadir/blocks/blk?????.dat). It reads all blocks contained in the given file and attempts to process them (add them to the block index). The blocks may be out of order within each file and across files. Often this function reads a block but finds that its parent hasn't been read yet, so the block can't be processed yet. The function will add an entry to the blocks_with_unknown_parent map (which is passed as an argument), so that when the block's parent is later read and processed, this function can re-read the child block from disk and process it.</p>
<p>Because a block's parent may be in a later file, not just later in the same file, the blocks_with_unknown_parent map must be passed in and out with each call. It's a multimap, rather than just a map, because multiple blocks may have the same parent (when chain splits or stale blocks exist). It maps from parent-hash to child-disk-position.</p>
<p>This function can also be used to read blocks from user-specified block files using the -loadblock= option. There's no unknown-parent tracking, so the last two arguments are omitted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_in</td><td>File containing blocks to read </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dbp</td><td>(optional) Disk block position (only for reindex) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">blocks_with_unknown_parent</td><td>(optional) Map of disk positions for blocks with unknown parent, key is parent block hash (only used for reindex) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6689b42eea6a15ba7e5409ea374cdb4" name="af6689b42eea6a15ba7e5409ea374cdb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6689b42eea6a15ba7e5409ea374cdb4">&#9670;&#160;</a></span>MinimumChainWork()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classarith__uint256.html">arith_uint256</a> &amp; MinimumChainWork </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1e0c145b7a823316fb026a73d305a049" name="a1e0c145b7a823316fb026a73d305a049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e0c145b7a823316fb026a73d305a049">&#9670;&#160;</a></span>ProcessNewBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ProcessNewBlock </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>force_processing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>min_pow_checked</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>new_block</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process an incoming block. This only returns after the best known valid block is made active. Note that it does not, however, guarantee that the specific block passed to it has been checked for validity!</p>
<p>If you want to <em>possibly</em> get feedback on whether block is valid, you must install a <a class="el" href="class_c_validation_interface.html">CValidationInterface</a> (see <a class="el" href="validationinterface_8h.html">validationinterface.h</a>) - this will have its BlockChecked method called whenever <em>any</em> block completes validation.</p>
<p>Note that we guarantee that either the proof-of-work is valid on block, or (and possibly also) BlockChecked will have been called.</p>
<p>May not be called in a validationinterface callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>The block we want to process. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">force_processing</td><td>Process this block even if unrequested; used for non-network block sources. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_pow_checked</td><td>True if proof-of-work anti-DoS checks have been done by caller for headers chain (note: only affects headers acceptance; if block header is already present in block index then this parameter has no effect) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">new_block</td><td>A boolean which is set to indicate if the block was first received via this call </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the block was processed, independently of block validity </dd></dl>

</div>
</div>
<a id="ae76ff7fc56e3342ba5a97ca33ec5aa37" name="ae76ff7fc56e3342ba5a97ca33ec5aa37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76ff7fc56e3342ba5a97ca33ec5aa37">&#9670;&#160;</a></span>ProcessNewBlockHeaders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ProcessNewBlockHeaders </td>
          <td>(</td>
          <td class="paramtype">std::span&lt; const <a class="el" href="class_c_block_header.html">CBlockHeader</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>headers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>min_pow_checked</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_block_validation_state.html">BlockValidationState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>ppindex</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process incoming block headers.</p>
<p>May not be called in a validationinterface callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">headers</td><td>The block headers themselves </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_pow_checked</td><td>True if proof-of-work anti-DoS checks have been done by caller for headers chain </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">state</td><td>This may be set to an Error state if any error occurred processing them </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppindex</td><td>If set, the pointer will be set to point to the last new block index object for the given headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if AcceptBlockHeader fails on any of the headers, true otherwise (including if headers were already known) </dd></dl>

</div>
</div>
<a id="a9c7d6797a606a08696d722e7489b6d4d" name="a9c7d6797a606a08696d722e7489b6d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c7d6797a606a08696d722e7489b6d4d">&#9670;&#160;</a></span>ProcessTransaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_mempool_accept_result.html">MempoolAcceptResult</a> ProcessTransaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>test_accept</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Try to add a transaction to the memory pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>The transaction to submit for mempool acceptance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">test_accept</td><td>When true, run validation checks but don't submit to mempool. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aacf45b730328d8aa968302758c45adf0" name="aacf45b730328d8aa968302758c45adf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacf45b730328d8aa968302758c45adf0">&#9670;&#160;</a></span>ReceivedBlockTransactions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReceivedBlockTransactions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *</td>          <td class="paramname"><span class="paramname"><em>pindexNew</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_flat_file_pos.html">FlatFilePos</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark a block as having its data received and checked (up to BLOCK_VALID_TRANSACTIONS). </p>

</div>
</div>
<a id="a3548c5d82213aaa9daaf0ac46482e8ce" name="a3548c5d82213aaa9daaf0ac46482e8ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3548c5d82213aaa9daaf0ac46482e8ce">&#9670;&#160;</a></span>RemoveChainstate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="class_chainstate.html">Chainstate</a> &gt; RemoveChainstate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_chainstate.html">Chainstate</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>chainstate</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a chainstate. </p>

</div>
</div>
<a id="afbdf3e3590aa0d6082ea2105a70bd91e" name="afbdf3e3590aa0d6082ea2105a70bd91e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbdf3e3590aa0d6082ea2105a70bd91e">&#9670;&#160;</a></span>ReportHeadersPresync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReportHeadersPresync </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classarith__uint256.html">arith_uint256</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>work</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is used by net_processing to report pre-synchronization progress of headers, as headers are not yet fed to validation during that time, but validation is (for now) responsible for logging and signalling through NotifyHeaderTip, so it needs this information. </p>

</div>
</div>
<a id="af18f65bf1a2c0d6ae376e70ba3bad7d3" name="af18f65bf1a2c0d6ae376e70ba3bad7d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af18f65bf1a2c0d6ae376e70ba3bad7d3">&#9670;&#160;</a></span>ResetBlockSequenceCounters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ResetBlockSequenceCounters </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d9fee7d87790307d9de8daa34d0bb76" name="a7d9fee7d87790307d9de8daa34d0bb76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9fee7d87790307d9de8daa34d0bb76">&#9670;&#160;</a></span>ShouldCheckBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ShouldCheckBlockIndex </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab221269ee84206666a6cf6d27a9c25fc" name="ab221269ee84206666a6cf6d27a9c25fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab221269ee84206666a6cf6d27a9c25fc">&#9670;&#160;</a></span>UpdateUncommittedBlockStructures()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdateUncommittedBlockStructures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_block.html">CBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *</td>          <td class="paramname"><span class="paramname"><em>pindexPrev</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check to see if caches are out of balance and if so, call ResizeCoinsCaches() as needed. Update uncommitted block structures (currently: only the witness reserved value). This is safe for submitted blocks as long as they honor default_witness_commitment from the template. </p>

</div>
</div>
<a id="a91044f53af4185cf8bc3870bc2a3ea6a" name="a91044f53af4185cf8bc3870bc2a3ea6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91044f53af4185cf8bc3870bc2a3ea6a">&#9670;&#160;</a></span>ValidatedChainstate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chainstate.html">Chainstate</a> &amp; ValidatedChainstate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return fully validated chainstate that should be used for indexing, to support indexes that need to index blocks in order and can't start from the snapshot block. </p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Field Documentation</h2>
<a id="ad1791e4f65d252d4163bca3d75e8e418" name="ad1791e4f65d252d4163bca3d75e8e418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1791e4f65d252d4163bca3d75e8e418">&#9670;&#160;</a></span>ActivateSnapshot</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classutil_1_1_result.html">util::Result</a>&lt; <a class="el" href="class_c_block_index.html">CBlockIndex</a> * &gt; ActivateSnapshot</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Instantiate a new chainstate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mempool</td><td>The mempool to pass to the chainstate</td></tr>
  </table>
  </dd>
</dl>
<p>Construct and activate a <a class="el" href="class_chainstate.html">Chainstate</a> on the basis of UTXO snapshot data.</p>
<p>Steps:</p>
<ul>
<li>Initialize an unused <a class="el" href="class_chainstate.html">Chainstate</a>.</li>
<li>Load its <span class="tt"><a class="el" href="class_coins_views.html">CoinsViews</a></span> contents from <span class="tt">coins_file</span>.</li>
<li>Verify that the hash of the resulting coinsdb matches the expected hash per assumeutxo chain parameters.</li>
<li>Wait for our headers chain to include the base block of the snapshot.</li>
<li>"Fast forward" the tip of the new chainstate to the base of the snapshot.</li>
<li>Construct the new <a class="el" href="class_chainstate.html">Chainstate</a> and add it to m_chainstates. </li>
</ul>

</div>
</div>
<a id="a8d39d359e6ed774815dc8d31f326ff82" name="a8d39d359e6ed774815dc8d31f326ff82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d39d359e6ed774815dc8d31f326ff82">&#9670;&#160;</a></span>CurrentChainstate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="validation_8h.html#a64ee3ac35f0e5525364652f27fc0570e">SnapshotCompletionResult</a> MaybeValidateSnapshot(<a class="el" href="class_chainstate.html">Chainstate</a> &amp;validated_cs, <a class="el" href="class_chainstate.html">Chainstate</a> &amp;unvalidated_cs) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_chainstate.html">Chainstate</a> CurrentChainstate) () const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="#af99ab8783b483abe3fef8ab596a3e6b6">GetMutex</a>())</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return current chainstate targeting the most-work, network tip. </p>
<p>Try to validate an assumeutxo snapshot by using a validated historical chainstate targeted at the snapshot block. When the target block is reached, the UTXO hash is computed and saved to <span class="tt">validated_cs.m_target_utxohash</span>, and <span class="tt">unvalidated_cs.m_assumeutxo</span> will be updated from UNVALIDATED to either VALIDATED or INVALID depending on whether the hash matches. The INVALID case should not happen in practice because the software should refuse to load unrecognized snapshots, but if it does happen, it is a fatal error. </p>

</div>
</div>
<a id="a950b9831cc7770fa5c00402406560433" name="a950b9831cc7770fa5c00402406560433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950b9831cc7770fa5c00402406560433">&#9670;&#160;</a></span>GetCheckQueue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chainstate.html">Chainstate</a> *LoadAssumeutxoChainstate() <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_chainstate.html">Chainstate</a> &amp;AddChainstate(std::unique_ptr&lt; <a class="el" href="class_chainstate.html">Chainstate</a> &gt; chainstate) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(void ResetChainstates() <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(bool DeleteChainstate(<a class="el" href="class_chainstate.html">Chainstate</a> &amp;chainstate) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(bool ValidatedSnapshotCleanup(<a class="el" href="class_chainstate.html">Chainstate</a> &amp;validated_cs, <a class="el" href="class_chainstate.html">Chainstate</a> &amp;unvalidated_cs) <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(std::optional&lt; std::pair&lt; const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> * &gt; &gt; GetHistoricalBlockRange() const <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="classutil_1_1_result.html">util::Result</a>&lt; void &gt; ActivateBestChains() <a class="el" href="thread__annotations_8h.html#a6bb97382864d0bd2cd4dd5191bb03f6c">LOCKS_EXCLUDED</a>(void RecalculateBestHeader() <a class="el" href="thread__annotations_8h.html#a0e2e86b0f11d9778240b0a0b263047b1">EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="el" href="class_c_check_queue.html">CCheckQueue</a>&lt; <a class="el" href="class_c_script_check.html">CScriptCheck</a> &gt; GetCheckQueue) ()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add new chainstate. </p>
<p>When starting up, search the datadir for a chainstate based on a UTXO snapshot that is in the process of being validated and load it if found. Return pointer to the <a class="el" href="class_chainstate.html">Chainstate</a> if it is loaded.</p>
<p>Remove the chainstate and all on-disk artifacts. Used when reindex{-chainstate} is called during snapshot use.</p>
<p>If we have validated a snapshot chain during this runtime, copy its chainstate directory over to the main <span class="tt">chainstate</span> location, completing validation of the snapshot.</p>
<p>If the cleanup succeeds, the caller will need to ensure chainstates are reinitialized, since ResetChainstates() will be called before leveldb directories are moved or deleted.</p>
<dl class="section see"><dt>See also</dt><dd>node/chainstate:<a class="el" href="init_8cpp.html#a2d650cf978844ae65f6667c85fc53ede">LoadChainstate()</a> Get range of historical blocks to download. Call ActivateBestChain() on every chainstate.</dd></dl>
<p>If, due to invalidation / reconsideration of blocks, the previous best header is no longer valid / guaranteed to be the most-work header in our block-index not known to be invalid, recalculate it. </p>

</div>
</div>
<a id="a0ffb06ca51d81edfc4488da3aad6718e" name="a0ffb06ca51d81edfc4488da3aad6718e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ffb06ca51d81edfc4488da3aad6718e">&#9670;&#160;</a></span>m_blockman</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnode_1_1_block_manager.html">node::BlockManager</a> m_blockman</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A single <a class="el" href="class_block_manager.html">BlockManager</a> instance is shared across each constructed chainstate to avoid duplicating block metadata. </p>

</div>
</div>
<a id="aeef634a7b2cca41e9465fb47ea4a4e5e" name="aeef634a7b2cca41e9465fb47ea4a4e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeef634a7b2cca41e9465fb47ea4a4e5e">&#9670;&#160;</a></span>m_cached_finished_ibd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; m_cached_finished_ibd {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel mutable">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Whether initial block download has ended and IsInitialBlockDownload should return false from now on.</p>
<p>Mutable because we need to be able to mark <a class="el" href="#a312bb1a2008bae3205f4699b90880d66">IsInitialBlockDownload()</a> const, which latches this for caching purposes. </p>

</div>
</div>
<a id="a2163d8ef789c585b196a3ec7f468244b" name="a2163d8ef789c585b196a3ec7f468244b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2163d8ef789c585b196a3ec7f468244b">&#9670;&#160;</a></span>m_interrupt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classutil_1_1_signal_interrupt.html">util::SignalInterrupt</a>&amp; m_interrupt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a012c0463bd17a2be6045a0d62e8b0fd4" name="a012c0463bd17a2be6045a0d62e8b0fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012c0463bd17a2be6045a0d62e8b0fd4">&#9670;&#160;</a></span>m_options</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="#a66bc0ee7102eaf1cbd62d3a9d7087e52">Options</a><a class="el" href="struct_options.html">Options</a> m_options</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8e486d36525b789f3858281b2b142f7" name="ab8e486d36525b789f3858281b2b142f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8e486d36525b789f3858281b2b142f7">&#9670;&#160;</a></span>m_total_coinsdb_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t m_total_coinsdb_cache {0}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The total number of bytes available for us to use across all leveldb coins databases. This will be split somehow across chainstates. </p>

</div>
</div>
<a id="a1193672873da4f09b48291890d0b523a" name="a1193672873da4f09b48291890d0b523a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1193672873da4f09b48291890d0b523a">&#9670;&#160;</a></span>m_total_coinstip_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t m_total_coinstip_cache {0}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The total number of bytes available for us to use across all in-memory coins caches. This will be split somehow across chainstates. </p>

</div>
</div>
<a id="a8b9f7384fea98b58e40ac219adbe246e" name="a8b9f7384fea98b58e40ac219adbe246e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b9f7384fea98b58e40ac219adbe246e">&#9670;&#160;</a></span>m_validation_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_validation_cache.html">ValidationCache</a> m_validation_cache</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad854ac2aa6fccfd247fabfdbd1a0b89b" name="ad854ac2aa6fccfd247fabfdbd1a0b89b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad854ac2aa6fccfd247fabfdbd1a0b89b">&#9670;&#160;</a></span>m_versionbitscache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_version_bits_cache.html">VersionBitsCache</a> m_versionbitscache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel mutable">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Track versionbit status </p>

</div>
</div>
<a id="a3a98f74d304164590a715c14320a7f34" name="a3a98f74d304164590a715c14320a7f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a98f74d304164590a715c14320a7f34">&#9670;&#160;</a></span>nBlockReverseSequenceId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nBlockReverseSequenceId = -1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decreasing counter (used by subsequent preciousblock calls). </p>

</div>
</div>
<a id="a13a75b7d6fb732fb84ea1ca75e5c3b4d" name="a13a75b7d6fb732fb84ea1ca75e5c3b4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a75b7d6fb732fb84ea1ca75e5c3b4d">&#9670;&#160;</a></span>nLastPreciousChainwork</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarith__uint256.html">arith_uint256</a> nLastPreciousChainwork = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>chainwork for the last block that preciousblock has been applied to. </p>

</div>
</div>
<a id="a36ac8c09fb965b0d78d5f12d1cac9f95" name="a36ac8c09fb965b0d78d5f12d1cac9f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36ac8c09fb965b0d78d5f12d1cac9f95">&#9670;&#160;</a></span>snapshot_download_completed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt;void()&gt; snapshot_download_completed = std::function&lt;void()&gt;()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to restart active indexes; set dynamically to avoid a circular dependency on <span class="tt">base/index.cpp</span>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="validation_8h_source.html">validation.h</a></li>
<li>src/<a class="el" href="validation_8cpp.html">validation.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_chainstate_manager.html">ChainstateManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
