<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bitcoind: TxDownloadManagerImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="bitcoin.ico"/></td>
  <td id="projectalign">
   <div id="projectname">bitcoind<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classnode_1_1_tx_download_manager_impl.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">TxDownloadManagerImpl Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="txdownloadman__impl_8h_source.html">txdownloadman_impl.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:PeerInfo" id="r_PeerInfo"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnode_1_1_tx_download_manager_impl_1_1_peer_info.html">PeerInfo</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1c3b7f5ea069908431408f80dda1266e" id="r_a1c3b7f5ea069908431408f80dda1266e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c3b7f5ea069908431408f80dda1266e">RecentRejectsFilter</a> ()</td></tr>
<tr class="memitem:a7d78f16e131478e38d834b5178bd04ba" id="r_a7d78f16e131478e38d834b5178bd04ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d78f16e131478e38d834b5178bd04ba">RecentRejectsReconsiderableFilter</a> ()</td></tr>
<tr class="memitem:adb5cc5fac71287d8729f708e155d8f28" id="r_adb5cc5fac71287d8729f708e155d8f28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb5cc5fac71287d8729f708e155d8f28">RecentConfirmedTransactionsFilter</a> ()</td></tr>
<tr class="memitem:a740819eb030c9929319a1dac25756fc2" id="r_a740819eb030c9929319a1dac25756fc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a740819eb030c9929319a1dac25756fc2">TxDownloadManagerImpl</a> (const <a class="el" href="structnode_1_1_tx_download_options.html">TxDownloadOptions</a> &amp;options)</td></tr>
<tr class="memitem:aa5883445f27deba93c352358f9e290c1" id="r_aa5883445f27deba93c352358f9e290c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5883445f27deba93c352358f9e290c1">ActiveTipChange</a> ()</td></tr>
<tr class="memitem:a53d97beb21a0a0eab363e22fc04fa3d9" id="r_a53d97beb21a0a0eab363e22fc04fa3d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53d97beb21a0a0eab363e22fc04fa3d9">BlockConnected</a> (const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;pblock)</td></tr>
<tr class="memitem:aa9c6b85e663bc605cdef5ea311b1565a" id="r_aa9c6b85e663bc605cdef5ea311b1565a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9c6b85e663bc605cdef5ea311b1565a">BlockDisconnected</a> ()</td></tr>
<tr class="memitem:a8fb0f78dbf93fd6b09b794458c11b091" id="r_a8fb0f78dbf93fd6b09b794458c11b091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8fb0f78dbf93fd6b09b794458c11b091">AlreadyHaveTx</a> (const <a class="el" href="class_gen_txid.html">GenTxid</a> &amp;gtxid, bool include_reconsiderable)</td></tr>
<tr class="memitem:a44008c3f833e83f33a382c81a842ab7e" id="r_a44008c3f833e83f33a382c81a842ab7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44008c3f833e83f33a382c81a842ab7e">ConnectedPeer</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, const <a class="el" href="structnode_1_1_tx_download_connection_info.html">TxDownloadConnectionInfo</a> &amp;info)</td></tr>
<tr class="memitem:a2ddb15d822dd91ef55c56326adf50e4f" id="r_a2ddb15d822dd91ef55c56326adf50e4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ddb15d822dd91ef55c56326adf50e4f">DisconnectedPeer</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid)</td></tr>
<tr class="memitem:a9ce1df5e1f2436871991def3e2a99198" id="r_a9ce1df5e1f2436871991def3e2a99198"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ce1df5e1f2436871991def3e2a99198">AddTxAnnouncement</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> peer, const <a class="el" href="class_gen_txid.html">GenTxid</a> &amp;gtxid, std::chrono::microseconds now)</td></tr>
<tr class="memitem:a9657de34ab5c603f7a719005801f44ea" id="r_a9657de34ab5c603f7a719005801f44ea"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_gen_txid.html">GenTxid</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9657de34ab5c603f7a719005801f44ea">GetRequestsToSend</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, std::chrono::microseconds current_time)</td></tr>
<tr class="memitem:ac3697b6766b4729e5e405ec352a6b9d7" id="r_ac3697b6766b4729e5e405ec352a6b9d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3697b6766b4729e5e405ec352a6b9d7">ReceivedNotFound</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, const std::vector&lt; <a class="el" href="class_gen_txid.html">GenTxid</a> &gt; &amp;gtxids)</td></tr>
<tr class="memitem:a6a9e5a25ac8428a4387aaac5fefdd153" id="r_a6a9e5a25ac8428a4387aaac5fefdd153"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structnode_1_1_package_to_validate.html">PackageToValidate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a9e5a25ac8428a4387aaac5fefdd153">Find1P1CPackage</a> (const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;ptx, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid)</td></tr>
<tr class="memitem:ad066c94643d88d8e76932d19ccecb448" id="r_ad066c94643d88d8e76932d19ccecb448"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad066c94643d88d8e76932d19ccecb448">MempoolAcceptedTx</a> (const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;tx)</td></tr>
<tr class="memitem:a78d4d8f410f01158cce4f39ae1951d98" id="r_a78d4d8f410f01158cce4f39ae1951d98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnode_1_1_rejected_tx_todo.html">RejectedTxTodo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78d4d8f410f01158cce4f39ae1951d98">MempoolRejectedTx</a> (const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;ptx, const <a class="el" href="class_tx_validation_state.html">TxValidationState</a> &amp;state, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, bool first_time_failure)</td></tr>
<tr class="memitem:a358fdee6fa1c7c99776f1f301baaeafc" id="r_a358fdee6fa1c7c99776f1f301baaeafc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a358fdee6fa1c7c99776f1f301baaeafc">MempoolRejectedPackage</a> (const <a class="el" href="packages_8h.html#a138b5dbe56c4869308e2bc7a28b51d9c">Package</a> &amp;package)</td></tr>
<tr class="memitem:a46fe23e66164805fc7f8a3a7f4e29136" id="r_a46fe23e66164805fc7f8a3a7f4e29136"><td class="memItemLeft" align="right" valign="top">std::pair&lt; bool, std::optional&lt; <a class="el" href="structnode_1_1_package_to_validate.html">PackageToValidate</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46fe23e66164805fc7f8a3a7f4e29136">ReceivedTx</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;ptx)</td></tr>
<tr class="memitem:a3e04e84648c35eae14be651290d993a3" id="r_a3e04e84648c35eae14be651290d993a3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e04e84648c35eae14be651290d993a3">HaveMoreWork</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid)</td></tr>
<tr class="memitem:a3069348e7801e72ca8ae455538ba0ee8" id="r_a3069348e7801e72ca8ae455538ba0ee8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3069348e7801e72ca8ae455538ba0ee8">GetTxToReconsider</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid)</td></tr>
<tr class="memitem:aade988d15fe1d9963d4f6a9f868a4c8c" id="r_aade988d15fe1d9963d4f6a9f868a4c8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aade988d15fe1d9963d4f6a9f868a4c8c">CheckIsEmpty</a> ()</td></tr>
<tr class="memitem:aa31150b5c163649b0bedf9aa05cd43e3" id="r_aa31150b5c163649b0bedf9aa05cd43e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa31150b5c163649b0bedf9aa05cd43e3">CheckIsEmpty</a> (<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid)</td></tr>
<tr class="memitem:ad103bb6f849e8140f39f4aef19109b9c" id="r_ad103bb6f849e8140f39f4aef19109b9c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structnode_1_1_tx_orphanage_1_1_orphan_info.html">TxOrphanage::OrphanInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad103bb6f849e8140f39f4aef19109b9c">GetOrphanTransactions</a> () const</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:afe061902d96917707c3ec8b4b2116123" id="r_afe061902d96917707c3ec8b4b2116123"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnode_1_1_tx_download_options.html">TxDownloadOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe061902d96917707c3ec8b4b2116123">m_opts</a></td></tr>
<tr class="memitem:a4552695318440d48aa4b06886c22a450" id="r_a4552695318440d48aa4b06886c22a450"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classnode_1_1_tx_orphanage.html">TxOrphanage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4552695318440d48aa4b06886c22a450">m_orphanage</a></td></tr>
<tr class="memitem:af9270b96ba974173889698796fc09aee" id="r_af9270b96ba974173889698796fc09aee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tx_request_tracker.html">TxRequestTracker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9270b96ba974173889698796fc09aee">m_txrequest</a></td></tr>
<tr class="memitem:a532482f80942aaf4558723a5e4f68c93" id="r_a532482f80942aaf4558723a5e4f68c93"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a532482f80942aaf4558723a5e4f68c93">m_lazy_recent_rejects</a> {nullptr}</td></tr>
<tr class="memitem:aaf6506a7c8f18bc67c2bdab1ce146d6f" id="r_aaf6506a7c8f18bc67c2bdab1ce146d6f"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf6506a7c8f18bc67c2bdab1ce146d6f">m_lazy_recent_rejects_reconsiderable</a> {nullptr}</td></tr>
<tr class="memitem:af67e291420c6d126c3be685414cb16b1" id="r_af67e291420c6d126c3be685414cb16b1"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af67e291420c6d126c3be685414cb16b1">m_lazy_recent_confirmed_transactions</a> {nullptr}</td></tr>
<tr class="memitem:aa8b83773c77d370f7c0e3ce20d4419bb" id="r_aa8b83773c77d370f7c0e3ce20d4419bb"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a>, <a class="el" href="structnode_1_1_tx_download_manager_impl_1_1_peer_info.html">PeerInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8b83773c77d370f7c0e3ce20d4419bb">m_peer_info</a></td></tr>
<tr class="memitem:a7ad5f7775d07e077c412cc8307fcb075" id="r_a7ad5f7775d07e077c412cc8307fcb075"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ad5f7775d07e077c412cc8307fcb075">m_num_wtxid_peers</a> {0}</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-methods" class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad41038196b6d15e7a7aaf8d5daebac13" id="r_ad41038196b6d15e7a7aaf8d5daebac13"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="transaction__identifier_8h.html#ac4bb3c35b94889843d632be4de4b223c">Txid</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad41038196b6d15e7a7aaf8d5daebac13">GetUniqueParents</a> (const <a class="el" href="class_c_transaction.html">CTransaction</a> &amp;tx)</td></tr>
<tr class="memitem:adbc437e354218c52b3dcec82e139af5a" id="r_adbc437e354218c52b3dcec82e139af5a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adbc437e354218c52b3dcec82e139af5a">MaybeAddOrphanResolutionCandidate</a> (const std::vector&lt; <a class="el" href="transaction__identifier_8h.html#ac4bb3c35b94889843d632be4de4b223c">Txid</a> &gt; &amp;unique_parents, const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;wtxid, <a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a> nodeid, std::chrono::microseconds now)</td></tr>
</table>
<a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a740819eb030c9929319a1dac25756fc2" name="a740819eb030c9929319a1dac25756fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740819eb030c9929319a1dac25756fc2">&#9670;&#160;</a></span>TxDownloadManagerImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TxDownloadManagerImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode_1_1_tx_download_options.html">TxDownloadOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="aa5883445f27deba93c352358f9e290c1" name="aa5883445f27deba93c352358f9e290c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5883445f27deba93c352358f9e290c1">&#9670;&#160;</a></span>ActiveTipChange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveTipChange </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ce1df5e1f2436871991def3e2a99198" name="a9ce1df5e1f2436871991def3e2a99198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce1df5e1f2436871991def3e2a99198">&#9670;&#160;</a></span>AddTxAnnouncement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AddTxAnnouncement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>peer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_gen_txid.html">GenTxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>gtxid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::microseconds</td>          <td class="paramname"><span class="paramname"><em>now</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Consider adding this tx hash to txrequest. Should be called whenever a new inv has been received. Also called internally when a transaction is missing parents so that we can request them. </p>

</div>
</div>
<a id="a8fb0f78dbf93fd6b09b794458c11b091" name="a8fb0f78dbf93fd6b09b794458c11b091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb0f78dbf93fd6b09b794458c11b091">&#9670;&#160;</a></span>AlreadyHaveTx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AlreadyHaveTx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gen_txid.html">GenTxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>gtxid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>include_reconsiderable</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether we already have this gtxid in:</p><ul>
<li>mempool</li>
<li>orphanage</li>
<li>m_recent_rejects</li>
<li>m_recent_rejects_reconsiderable (if include_reconsiderable = true)</li>
<li>m_recent_confirmed_transactions </li>
</ul>

</div>
</div>
<a id="a53d97beb21a0a0eab363e22fc04fa3d9" name="a53d97beb21a0a0eab363e22fc04fa3d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53d97beb21a0a0eab363e22fc04fa3d9">&#9670;&#160;</a></span>BlockConnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BlockConnected </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>pblock</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa9c6b85e663bc605cdef5ea311b1565a" name="aa9c6b85e663bc605cdef5ea311b1565a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c6b85e663bc605cdef5ea311b1565a">&#9670;&#160;</a></span>BlockDisconnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BlockDisconnected </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aade988d15fe1d9963d4f6a9f868a4c8c" name="aade988d15fe1d9963d4f6a9f868a4c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade988d15fe1d9963d4f6a9f868a4c8c">&#9670;&#160;</a></span>CheckIsEmpty() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckIsEmpty </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa31150b5c163649b0bedf9aa05cd43e3" name="aa31150b5c163649b0bedf9aa05cd43e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa31150b5c163649b0bedf9aa05cd43e3">&#9670;&#160;</a></span>CheckIsEmpty() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckIsEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a44008c3f833e83f33a382c81a842ab7e" name="a44008c3f833e83f33a382c81a842ab7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44008c3f833e83f33a382c81a842ab7e">&#9670;&#160;</a></span>ConnectedPeer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectedPeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnode_1_1_tx_download_connection_info.html">TxDownloadConnectionInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2ddb15d822dd91ef55c56326adf50e4f" name="a2ddb15d822dd91ef55c56326adf50e4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ddb15d822dd91ef55c56326adf50e4f">&#9670;&#160;</a></span>DisconnectedPeer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DisconnectedPeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a9e5a25ac8428a4387aaac5fefdd153" name="a6a9e5a25ac8428a4387aaac5fefdd153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a9e5a25ac8428a4387aaac5fefdd153">&#9670;&#160;</a></span>Find1P1CPackage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="structnode_1_1_package_to_validate.html">PackageToValidate</a> &gt; Find1P1CPackage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ptx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Look for a child of this transaction in the orphanage to form a 1-parent-1-child package, skipping any combinations that have already been tried. Return the resulting package along with the senders of its respective transactions, or std::nullopt if no package is found. </p>

</div>
</div>
<a id="ad103bb6f849e8140f39f4aef19109b9c" name="ad103bb6f849e8140f39f4aef19109b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad103bb6f849e8140f39f4aef19109b9c">&#9670;&#160;</a></span>GetOrphanTransactions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structnode_1_1_tx_orphanage_1_1_orphan_info.html">TxOrphanage::OrphanInfo</a> &gt; GetOrphanTransactions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9657de34ab5c603f7a719005801f44ea" name="a9657de34ab5c603f7a719005801f44ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9657de34ab5c603f7a719005801f44ea">&#9670;&#160;</a></span>GetRequestsToSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_gen_txid.html">GenTxid</a> &gt; GetRequestsToSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::microseconds</td>          <td class="paramname"><span class="paramname"><em>current_time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get getdata requests to send. </p>

</div>
</div>
<a id="a3069348e7801e72ca8ae455538ba0ee8" name="a3069348e7801e72ca8ae455538ba0ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3069348e7801e72ca8ae455538ba0ee8">&#9670;&#160;</a></span>GetTxToReconsider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> GetTxToReconsider </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad41038196b6d15e7a7aaf8d5daebac13" name="ad41038196b6d15e7a7aaf8d5daebac13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad41038196b6d15e7a7aaf8d5daebac13">&#9670;&#160;</a></span>GetUniqueParents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="transaction__identifier_8h.html#ac4bb3c35b94889843d632be4de4b223c">Txid</a> &gt; GetUniqueParents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_transaction.html">CTransaction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper for getting deduplicated vector of Txids in vin. </p>

</div>
</div>
<a id="a3e04e84648c35eae14be651290d993a3" name="a3e04e84648c35eae14be651290d993a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e04e84648c35eae14be651290d993a3">&#9670;&#160;</a></span>HaveMoreWork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HaveMoreWork </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adbc437e354218c52b3dcec82e139af5a" name="adbc437e354218c52b3dcec82e139af5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbc437e354218c52b3dcec82e139af5a">&#9670;&#160;</a></span>MaybeAddOrphanResolutionCandidate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MaybeAddOrphanResolutionCandidate </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="transaction__identifier_8h.html#ac4bb3c35b94889843d632be4de4b223c">Txid</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>unique_parents</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="transaction__identifier_8h.html#a23364c1312d4dffbbf549b4440333fd9">Wtxid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>wtxid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::microseconds</td>          <td class="paramname"><span class="paramname"><em>now</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If this peer is an orphan resolution candidate for this transaction, treat the unique_parents as announced by this peer; add them as new invs to m_txrequest. </p><dl class="section return"><dt>Returns</dt><dd>whether this transaction was a valid orphan resolution candidate. </dd></dl>

</div>
</div>
<a id="ad066c94643d88d8e76932d19ccecb448" name="ad066c94643d88d8e76932d19ccecb448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad066c94643d88d8e76932d19ccecb448">&#9670;&#160;</a></span>MempoolAcceptedTx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MempoolAcceptedTx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a358fdee6fa1c7c99776f1f301baaeafc" name="a358fdee6fa1c7c99776f1f301baaeafc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358fdee6fa1c7c99776f1f301baaeafc">&#9670;&#160;</a></span>MempoolRejectedPackage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MempoolRejectedPackage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="packages_8h.html#a138b5dbe56c4869308e2bc7a28b51d9c">Package</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>package</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a78d4d8f410f01158cce4f39ae1951d98" name="a78d4d8f410f01158cce4f39ae1951d98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78d4d8f410f01158cce4f39ae1951d98">&#9670;&#160;</a></span>MempoolRejectedTx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnode_1_1_rejected_tx_todo.html">node::RejectedTxTodo</a> MempoolRejectedTx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ptx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_tx_validation_state.html">TxValidationState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>first_time_failure</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac3697b6766b4729e5e405ec352a6b9d7" name="ac3697b6766b4729e5e405ec352a6b9d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3697b6766b4729e5e405ec352a6b9d7">&#9670;&#160;</a></span>ReceivedNotFound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReceivedNotFound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_gen_txid.html">GenTxid</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>gtxids</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Marks a tx as ReceivedResponse in txrequest. </p>

</div>
</div>
<a id="a46fe23e66164805fc7f8a3a7f4e29136" name="a46fe23e66164805fc7f8a3a7f4e29136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46fe23e66164805fc7f8a3a7f4e29136">&#9670;&#160;</a></span>ReceivedTx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; bool, std::optional&lt; <a class="el" href="structnode_1_1_package_to_validate.html">PackageToValidate</a> &gt; &gt; ReceivedTx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a></td>          <td class="paramname"><span class="paramname"><em>nodeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="primitives_2transaction_8h.html#ae462b4b8f07705a82bf11cf361959b97">CTransactionRef</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ptx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adb5cc5fac71287d8729f708e155d8f28" name="adb5cc5fac71287d8729f708e155d8f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5cc5fac71287d8729f708e155d8f28">&#9670;&#160;</a></span>RecentConfirmedTransactionsFilter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &amp; RecentConfirmedTransactionsFilter </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c3b7f5ea069908431408f80dda1266e" name="a1c3b7f5ea069908431408f80dda1266e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3b7f5ea069908431408f80dda1266e">&#9670;&#160;</a></span>RecentRejectsFilter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &amp; RecentRejectsFilter </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d78f16e131478e38d834b5178bd04ba" name="a7d78f16e131478e38d834b5178bd04ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d78f16e131478e38d834b5178bd04ba">&#9670;&#160;</a></span>RecentRejectsReconsiderableFilter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a> &amp; RecentRejectsReconsiderableFilter </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Field Documentation</h2>
<a id="af67e291420c6d126c3be685414cb16b1" name="af67e291420c6d126c3be685414cb16b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67e291420c6d126c3be685414cb16b1">&#9670;&#160;</a></span>m_lazy_recent_confirmed_transactions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a>&gt; m_lazy_recent_confirmed_transactions {nullptr}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a532482f80942aaf4558723a5e4f68c93" name="a532482f80942aaf4558723a5e4f68c93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a532482f80942aaf4558723a5e4f68c93">&#9670;&#160;</a></span>m_lazy_recent_rejects</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a>&gt; m_lazy_recent_rejects {nullptr}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Filter for transactions that were recently rejected by the mempool. These are not rerequested until the chain tip changes, at which point the entire filter is reset.</p>
<p>Without this filter we'd be re-requesting txs from each of our peers, increasing bandwidth consumption considerably. For instance, with 100 peers, half of which relay a tx we don't accept, that might be a 50x bandwidth increase. A flooding attacker attempting to roll-over the filter using minimum-sized, 60byte, transactions might manage to send 1000/sec if we have fast peers, so we pick 120,000 to give our peers a two minute window to send invs to us.</p>
<p>Decreasing the false positive rate is fairly cheap, so we pick one in a million to make it highly unlikely for users to have issues with this filter.</p>
<p>We typically only add wtxids to this filter. For non-segwit transactions, the txid == wtxid, so this only prevents us from re-downloading non-segwit transactions when communicating with non-wtxidrelay peers &ndash; which is important for avoiding malleation attacks that could otherwise interfere with transaction relay from non-wtxidrelay peers. For communicating with wtxidrelay peers, having the reject filter store wtxids is exactly what we want to avoid redownload of a rejected transaction.</p>
<p>In cases where we can tell that a segwit transaction will fail validation no matter the witness, we may add the txid of such transaction to the filter as well. This can be helpful when communicating with txid-relay peers or if we were to otherwise fetch a transaction via txid (eg in our orphan handling).</p>
<p>Memory used: 1.3 MB </p>

</div>
</div>
<a id="aaf6506a7c8f18bc67c2bdab1ce146d6f" name="aaf6506a7c8f18bc67c2bdab1ce146d6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf6506a7c8f18bc67c2bdab1ce146d6f">&#9670;&#160;</a></span>m_lazy_recent_rejects_reconsiderable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_c_rolling_bloom_filter.html">CRollingBloomFilter</a>&gt; m_lazy_recent_rejects_reconsiderable {nullptr}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Filter for: (1) wtxids of transactions that were recently rejected by the mempool but are eligible for reconsideration if submitted with other transactions. (2) packages (see GetPackageHash) we have already rejected before and should not retry.</p>
<p>Similar to m_lazy_recent_rejects, this filter is used to save bandwidth when e.g. all of our peers have larger mempools and thus lower minimum feerates than us.</p>
<p>When a transaction's error is <a class="el" href="consensus_2validation_8h.html#af79c18cdf56a2455d281427abb70f89fada14c3503154c47fa98ac835983a5581" title="fails some policy, but might be acceptable if submitted in a (different) package">TxValidationResult::TX_RECONSIDERABLE</a> (in a package or by itself), add its wtxid to this filter. When a package fails for any reason, add the combined hash to this filter.</p>
<p>Upon receiving an announcement for a transaction, if it exists in this filter, do not download the txdata. When considering packages, if it exists in this filter, drop it.</p>
<p>Reset this filter when the chain tip changes.</p>
<p>Parameters are picked to be the same as m_lazy_recent_rejects, with the same rationale. </p>

</div>
</div>
<a id="a7ad5f7775d07e077c412cc8307fcb075" name="a7ad5f7775d07e077c412cc8307fcb075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad5f7775d07e077c412cc8307fcb075">&#9670;&#160;</a></span>m_num_wtxid_peers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t m_num_wtxid_peers {0}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of wtxid relay peers we have in m_peer_info. </p>

</div>
</div>
<a id="afe061902d96917707c3ec8b4b2116123" name="afe061902d96917707c3ec8b4b2116123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe061902d96917707c3ec8b4b2116123">&#9670;&#160;</a></span>m_opts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnode_1_1_tx_download_options.html">TxDownloadOptions</a> m_opts</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4552695318440d48aa4b06886c22a450" name="a4552695318440d48aa4b06886c22a450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4552695318440d48aa4b06886c22a450">&#9670;&#160;</a></span>m_orphanage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classnode_1_1_tx_orphanage.html">TxOrphanage</a>&gt; m_orphanage</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Manages unvalidated tx data (orphan transactions for which we are downloading ancestors). </p>

</div>
</div>
<a id="aa8b83773c77d370f7c0e3ce20d4419bb" name="aa8b83773c77d370f7c0e3ce20d4419bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8b83773c77d370f7c0e3ce20d4419bb">&#9670;&#160;</a></span>m_peer_info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="net_8h.html#aa637b11e18b77724b35db2229cd12788">NodeId</a>, <a class="el" href="structnode_1_1_tx_download_manager_impl_1_1_peer_info.html">PeerInfo</a>&gt; m_peer_info</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Information for all of the peers we may download transactions from. This is not necessarily all peers we are connected to (no block-relay-only and temporary connections). </p>

</div>
</div>
<a id="af9270b96ba974173889698796fc09aee" name="af9270b96ba974173889698796fc09aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9270b96ba974173889698796fc09aee">&#9670;&#160;</a></span>m_txrequest</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tx_request_tracker.html">TxRequestTracker</a> m_txrequest</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tracks candidates for requesting and downloading transaction data. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/node/<a class="el" href="txdownloadman__impl_8h_source.html">txdownloadman_impl.h</a></li>
<li>src/node/<a class="el" href="txdownloadman__impl_8cpp.html">txdownloadman_impl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacenode.html">node</a></li><li class="navelem"><a href="classnode_1_1_tx_download_manager_impl.html">TxDownloadManagerImpl</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
