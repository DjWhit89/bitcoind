.TH "VersionSet" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
VersionSet
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <version_set\&.h>\fP
.SS "Data Structures"

.in +1c
.ti -1c
.RI "struct \fBLevelSummaryStorage\fP"
.br
.ti -1c
.RI "class \fBBuilder\fP"
.br
.in -1c
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBVersionSet\fP (const std::string &dbname, const \fBOptions\fP *options, \fBTableCache\fP *table_cache, const \fBInternalKeyComparator\fP *)"
.br
.ti -1c
.RI "\fBVersionSet\fP (const VersionSet &)=delete"
.br
.ti -1c
.RI "\fBVersionSet\fP & \fBoperator=\fP (const \fBVersionSet\fP &)=delete"
.br
.ti -1c
.RI "\fB~VersionSet\fP ()"
.br
.ti -1c
.RI "\fBStatus\fP \fBLogAndApply\fP (\fBVersionEdit\fP *edit, \fBport::Mutex\fP *mu) \fBEXCLUSIVE_LOCKS_REQUIRED\fP(mu)"
.br
.ti -1c
.RI "\fBStatus\fP \fBRecover\fP (bool *save_manifest)"
.br
.ti -1c
.RI "\fBVersion\fP * \fBcurrent\fP () const"
.br
.ti -1c
.RI "uint64_t \fBManifestFileNumber\fP () const"
.br
.ti -1c
.RI "uint64_t \fBNewFileNumber\fP ()"
.br
.ti -1c
.RI "void \fBReuseFileNumber\fP (uint64_t file_number)"
.br
.ti -1c
.RI "int \fBNumLevelFiles\fP (int level) const"
.br
.ti -1c
.RI "int64_t \fBNumLevelBytes\fP (int level) const"
.br
.ti -1c
.RI "uint64_t \fBLastSequence\fP () const"
.br
.ti -1c
.RI "void \fBSetLastSequence\fP (uint64_t s)"
.br
.ti -1c
.RI "void \fBMarkFileNumberUsed\fP (uint64_t number)"
.br
.ti -1c
.RI "uint64_t \fBLogNumber\fP () const"
.br
.ti -1c
.RI "uint64_t \fBPrevLogNumber\fP () const"
.br
.ti -1c
.RI "\fBCompaction\fP * \fBPickCompaction\fP ()"
.br
.ti -1c
.RI "\fBCompaction\fP * \fBCompactRange\fP (int level, const \fBInternalKey\fP *begin, const \fBInternalKey\fP *end)"
.br
.ti -1c
.RI "int64_t \fBMaxNextLevelOverlappingBytes\fP ()"
.br
.ti -1c
.RI "\fBIterator\fP * \fBMakeInputIterator\fP (\fBCompaction\fP *c)"
.br
.ti -1c
.RI "bool \fBNeedsCompaction\fP () const"
.br
.ti -1c
.RI "void \fBAddLiveFiles\fP (std::set< uint64_t > *live)"
.br
.ti -1c
.RI "uint64_t \fBApproximateOffsetOf\fP (\fBVersion\fP *v, const \fBInternalKey\fP &key)"
.br
.ti -1c
.RI "const char * \fBLevelSummary\fP (\fBLevelSummaryStorage\fP *scratch) const"
.br
.in -1c
.SS "Friends"

.in +1c
.ti -1c
.RI "class \fBCompaction\fP"
.br
.ti -1c
.RI "class \fBVersion\fP"
.br
.in -1c
.SH "Constructor & Destructor Documentation"
.PP 
.SS "VersionSet (const std::string & dbname, const \fBOptions\fP * options, \fBTableCache\fP * table_cache, const \fBInternalKeyComparator\fP * cmp)"

.SS "VersionSet (const VersionSet & )\fR [delete]\fP"

.SS "~\fBVersionSet\fP ()"

.SH "Member Function Documentation"
.PP 
.SS "void AddLiveFiles (std::set< uint64_t > * live)"

.SS "uint64_t ApproximateOffsetOf (\fBVersion\fP * v, const \fBInternalKey\fP & key)"

.SS "\fBCompaction\fP * CompactRange (int level, const \fBInternalKey\fP * begin, const \fBInternalKey\fP * end)"

.SS "\fBVersion\fP * current () const\fR [inline]\fP"

.SS "uint64_t LastSequence () const\fR [inline]\fP"

.SS "const char * LevelSummary (\fBLevelSummaryStorage\fP * scratch) const"

.SS "\fBStatus\fP LogAndApply (\fBVersionEdit\fP * edit, \fBport::Mutex\fP * mu)"

.SS "uint64_t LogNumber () const\fR [inline]\fP"

.SS "\fBIterator\fP * MakeInputIterator (\fBCompaction\fP * c)"

.SS "uint64_t ManifestFileNumber () const\fR [inline]\fP"

.SS "void MarkFileNumberUsed (uint64_t number)"

.SS "int64_t MaxNextLevelOverlappingBytes ()"

.SS "bool NeedsCompaction () const\fR [inline]\fP"

.SS "uint64_t NewFileNumber ()\fR [inline]\fP"

.SS "int64_t NumLevelBytes (int level) const"

.SS "int NumLevelFiles (int level) const"

.SS "\fBVersionSet\fP & operator= (const \fBVersionSet\fP & )\fR [delete]\fP"

.SS "\fBCompaction\fP * PickCompaction ()"

.SS "uint64_t PrevLogNumber () const\fR [inline]\fP"

.SS "\fBStatus\fP Recover (bool * save_manifest)"

.SS "void ReuseFileNumber (uint64_t file_number)\fR [inline]\fP"

.SS "void SetLastSequence (uint64_t s)\fR [inline]\fP"

.SH "Friends And Related Symbol Documentation"
.PP 
.SS "friend class Compaction\fR [friend]\fP"

.SS "friend class Version\fR [friend]\fP"


.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
