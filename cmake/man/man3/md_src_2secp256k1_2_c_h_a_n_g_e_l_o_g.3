.TH "md_src_2secp256k1_2_c_h_a_n_g_e_l_o_g" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
md_src_2secp256k1_2_c_h_a_n_g_e_l_o_g \- Changelog 
.PP


.PP
All notable changes to this project will be documented in this file\&.

.PP
The format is based on \fRKeep a Changelog\fP, and this project adheres to \fRSemantic Versioning\fP\&.
.SH "\fRUnreleased\fP"
.PP
.SH "\fR0\&.7\&.0\fP - 2025-07-21"
.PP
.SS "Added"
.IP "\(bu" 2
CMake: Added \fRsecp256k1_objs\fP interface library to allow parent projects to embed libsecp256k1 object files into their own static libraries\&.
.IP "\(bu" 2
build: Added \fRSECP256K1_NO_API_VISIBILITY_ATTRIBUTES\fP preprocessor flag (CMake option: \fRSECP256K1_ENABLE_API_VISIBILITY_ATTRIBUTES\fP) that disables explicit "visibility" attributes for API symbols\&. Defining this macro enables the user to control the visibility of the API symbols via \fR-fvisibility=<value>\fP when building libsecp256k1\&. (All non-API declarations will always have hidden visibility, even with \fRSECP256K1_ENABLE_API_VISIBILITY_ATTRIBUTES\fP defined\&.) For instance, \fR-fvisibility=hidden\fP can be useful even for the API symbols, e\&.g\&., when building a static libsecp256k1 which is linked into a shared library, and the latter should not re-export the libsecp256k1 API\&.
.PP
.SS "Changed"
.IP "\(bu" 2
The pointers \fR\fBsecp256k1_context_static\fP\fP and \fR\fBsecp256k1_context_no_precomp\fP\fP to the constant context objects are now \fRconst\fP\&.
.IP "\(bu" 2
Removed \fR\fBSECP256K1_WARN_UNUSED_RESULT\fP\fP attribute (defined as \fR__attribute__ ((__warn_unused_result__))\fP) from several API functions that always return 1\&. Compilers will no longer warn if the return value is unused\&.
.IP "\(bu" 2
CMake: Building with CMake is no longer considered experimental\&.
.IP "\(bu" 2
CMake: The minimum required CMake version was increased to 3\&.22\&.
.IP "\(bu" 2
CMake: Shared libraries built with CMake on FreeBSD now create the full versioned filename and symlink chain, matching the behavior of autotools builds\&.
.PP
.SS "Removed"
.IP "\(bu" 2
Removed previously deprecated function aliases \fRsecp256k1_ec_privkey_negate\fP, \fRsecp256k1_ec_privkey_tweak_add\fP and \fRsecp256k1_ec_privkey_tweak_mul\fP\&. Use \fR\fBsecp256k1_ec_seckey_negate\fP\fP, \fR\fBsecp256k1_ec_seckey_tweak_add\fP\fP and \fR\fBsecp256k1_ec_seckey_tweak_mul\fP\fP instead\&.
.PP
.SS "ABI Compatibility"
The symbols \fRsecp256k1_ec_privkey_negate\fP, \fRsecp256k1_ec_privkey_tweak_add\fP, and \fRsecp256k1_ec_privkey_tweak_mul\fP were removed\&. The pointers \fR\fBsecp256k1_context_static\fP\fP and \fR\fBsecp256k1_context_no_precomp\fP\fP have been made \fRconst\fP\&. Otherwise, the library maintains backward compatibility with version 0\&.6\&.0\&.
.SH "\fR0\&.6\&.0\fP - 2024-11-04"
.PP
.SS "Added"
.IP "\(bu" 2
New module \fRmusig\fP implements the MuSig2 multisignature scheme according to the \fRBIP 327 specification\fP\&. See:
.IP "  \(bu" 4
Header file \fR\fBinclude/secp256k1_musig\&.h\fP\fP which defines the new API\&.
.IP "  \(bu" 4
Document \fR\fBdoc/musig\&.md\fP\fP for further notes on API usage\&.
.IP "  \(bu" 4
Usage example \fR\fBexamples/musig\&.c\fP\fP\&.
.PP

.IP "\(bu" 2
New CMake variable \fRSECP256K1_APPEND_LDFLAGS\fP for appending linker flags to the build command\&.
.PP
.SS "Changed"
.IP "\(bu" 2
API functions now use a significantly more robust method to clear secrets from the stack before returning\&. However, secret clearing remains a best-effort security measure and cannot guarantee complete removal\&.
.IP "\(bu" 2
Any type \fRsecp256k1_foo\fP can now be forward-declared using \fRtypedef struct secp256k1_foo secp256k1_foo;\fP (or also \fRstruct secp256k1_foo;\fP in C++)\&.
.IP "\(bu" 2
Organized CMake build artifacts into dedicated directories (\fRbin/\fP for executables, \fRlib/\fP for libraries) to improve build output structure and Windows shared library compatibility\&.
.PP
.SS "Removed"
.IP "\(bu" 2
Removed the \fR\fBsecp256k1_scratch_space\fP\fP struct and its associated functions \fRsecp256k1_scratch_space_create\fP and \fRsecp256k1_scratch_space_destroy\fP because the scratch space was unused in the API\&.
.PP
.SS "ABI Compatibility"
The symbols \fRsecp256k1_scratch_space_create\fP and \fRsecp256k1_scratch_space_destroy\fP were removed\&. Otherwise, the library maintains backward compatibility with versions 0\&.3\&.x through 0\&.5\&.x\&.
.SH "\fR0\&.5\&.1\fP - 2024-08-01"
.PP
.SS "Added"
.IP "\(bu" 2
Added usage example for an ElligatorSwift key exchange\&.
.PP
.SS "Changed"
.IP "\(bu" 2
The default size of the precomputed table for signing was changed from 22 KiB to 86 KiB\&. The size can be changed with the configure option \fR--ecmult-gen-kb\fP (\fRSECP256K1_ECMULT_GEN_KB\fP for CMake)\&.
.IP "\(bu" 2
"auto" is no longer an accepted value for the \fR--with-ecmult-window\fP and \fR--with-ecmult-gen-kb\fP configure options (this also applies to \fRSECP256K1_ECMULT_WINDOW_SIZE\fP and \fRSECP256K1_ECMULT_GEN_KB\fP in CMake)\&. To achieve the same configuration as previously provided by the "auto" value, omit setting the configure option explicitly\&.
.PP
.SS "Fixed"
.IP "\(bu" 2
Fixed compilation when the extrakeys module is disabled\&.
.PP
.SS "ABI Compatibility"
The ABI is backward compatible with versions 0\&.5\&.0, 0\&.4\&.x and 0\&.3\&.x\&.
.SH "\fR0\&.5\&.0\fP - 2024-05-06"
.PP
.SS "Added"
.IP "\(bu" 2
New function \fR\fBsecp256k1_ec_pubkey_sort\fP\fP that sorts public keys using lexicographic (of compressed serialization) order\&.
.PP
.SS "Changed"
.IP "\(bu" 2
The implementation of the point multiplication algorithm used for signing and public key generation was changed, resulting in improved performance for those operations\&.
.IP "  \(bu" 4
The related configure option \fR--ecmult-gen-precision\fP was replaced with \fR--ecmult-gen-kb\fP (\fRSECP256K1_ECMULT_GEN_KB\fP for CMake)\&.
.IP "  \(bu" 4
This changes the supported precomputed table sizes for these operations\&. The new supported sizes are 2 KiB, 22 KiB, or 86 KiB (while the old supported sizes were 32 KiB, 64 KiB, or 512 KiB)\&.
.PP

.PP
.SS "ABI Compatibility"
The ABI is backward compatible with versions 0\&.4\&.x and 0\&.3\&.x\&.
.SH "\fR0\&.4\&.1\fP - 2023-12-21"
.PP
.SS "Changed"
.IP "\(bu" 2
The point multiplication algorithm used for ECDH operations (module \fRecdh\fP) was replaced with a slightly faster one\&.
.IP "\(bu" 2
Optional handwritten x86_64 assembly for field operations was removed because modern C compilers are able to output more efficient assembly\&. This change results in a significant speedup of some library functions when handwritten x86_64 assembly is enabled (\fR--with-asm=x86_64\fP in GNU Autotools, \fR-DSECP256K1_ASM=x86_64\fP in CMake), which is the default on x86_64\&. Benchmarks with GCC 10\&.5\&.0 show a 10% speedup for \fR\fBsecp256k1_ecdsa_verify\fP\fP and \fR\fBsecp256k1_schnorrsig_verify\fP\fP\&.
.PP
.SS "ABI Compatibility"
The ABI is backward compatible with versions 0\&.4\&.0 and 0\&.3\&.x\&.
.SH "\fR0\&.4\&.0\fP - 2023-09-04"
.PP
.SS "Added"
.IP "\(bu" 2
New module \fRellswift\fP implements ElligatorSwift encoding for public keys and x-only Diffie-Hellman key exchange for them\&. ElligatorSwift permits representing secp256k1 public keys as 64-byte arrays which cannot be distinguished from uniformly random\&. See:
.IP "  \(bu" 4
Header file \fR\fBinclude/secp256k1_ellswift\&.h\fP\fP which defines the new API\&.
.IP "  \(bu" 4
Document \fR\fBdoc/ellswift\&.md\fP\fP which explains the mathematical background of the scheme\&.
.IP "  \(bu" 4
The \fRpaper\fP on which the scheme is based\&.
.PP

.IP "\(bu" 2
We now test the library with unreleased development snapshots of GCC and Clang\&. This gives us an early chance to catch miscompilations and constant-time issues introduced by the compiler (such as those that led to the previous two releases)\&.
.PP
.SS "Fixed"
.IP "\(bu" 2
Fixed symbol visibility in Windows DLL builds, where three internal library symbols were wrongly exported\&.
.PP
.SS "Changed"
.IP "\(bu" 2
When consuming libsecp256k1 as a static library on Windows, the user must now define the \fRSECP256K1_STATIC\fP macro before including \fR\fBsecp256k1\&.h\fP\fP\&.
.PP
.SS "ABI Compatibility"
This release is backward compatible with the ABI of 0\&.3\&.0, 0\&.3\&.1, and 0\&.3\&.2\&. Symbol visibility is now believed to be handled properly on supported platforms and is now considered to be part of the ABI\&. Please report any improperly exported symbols as a bug\&.
.SH "\fR0\&.3\&.2\fP - 2023-05-13"
.PP
We strongly recommend updating to 0\&.3\&.2 if you use or plan to use GCC >=13 to compile libsecp256k1\&. When in doubt, check the GCC version using \fRgcc -v\fP\&.
.SS "Security"
.IP "\(bu" 2
Module \fRecdh\fP: Fix "constant-timeness" issue with GCC 13\&.1 (and potentially future versions of GCC) that could leave applications using libsecp256k1's ECDH module vulnerable to a timing side-channel attack\&. The fix avoids secret-dependent control flow during ECDH computations when libsecp256k1 is compiled with GCC 13\&.1\&.
.PP
.SS "Fixed"
.IP "\(bu" 2
Fixed an old bug that permitted compilers to potentially output bad assembly code on x86_64\&. In theory, it could lead to a crash or a read of unrelated memory, but this has never been observed on any compilers so far\&.
.PP
.SS "Changed"
.IP "\(bu" 2
Various improvements and changes to CMake builds\&. CMake builds remain experimental\&.
.IP "  \(bu" 4
Made API versioning consistent with GNU Autotools builds\&.
.IP "  \(bu" 4
Switched to \fRBUILD_SHARED_LIBS\fP variable for controlling whether to build a static or a shared library\&.
.IP "  \(bu" 4
Added \fRSECP256K1_INSTALL\fP variable for the controlling whether to install the build artefacts\&.
.PP

.IP "\(bu" 2
Renamed asm build option \fRarm\fP to \fRarm32\fP\&. Use \fR--with-asm=arm32\fP instead of \fR--with-asm=arm\fP (GNU Autotools), and \fR-DSECP256K1_ASM=arm32\fP instead of \fR-DSECP256K1_ASM=arm\fP (CMake)\&.
.PP
.SS "ABI Compatibility"
The ABI is compatible with versions 0\&.3\&.0 and 0\&.3\&.1\&.
.SH "\fR0\&.3\&.1\fP - 2023-04-10"
.PP
We strongly recommend updating to 0\&.3\&.1 if you use or plan to use Clang >=14 to compile libsecp256k1, e\&.g\&., Xcode >=14 on macOS has Clang >=14\&. When in doubt, check the Clang version using \fRclang -v\fP\&.
.SS "Security"
.IP "\(bu" 2
Fix "constant-timeness" issue with Clang >=14 that could leave applications using libsecp256k1 vulnerable to a timing side-channel attack\&. The fix avoids secret-dependent control flow and secret-dependent memory accesses in conditional moves of memory objects when libsecp256k1 is compiled with Clang >=14\&.
.PP
.SS "Added"
.IP "\(bu" 2
Added tests against \fRProject Wycheproof's\fP set of ECDSA test vectors (Bitcoin "low-S" variant), a fixed set of test cases designed to trigger various edge cases\&.
.PP
.SS "Changed"
.IP "\(bu" 2
Increased minimum required CMake version to 3\&.13\&. CMake builds remain experimental\&.
.PP
.SS "ABI Compatibility"
The ABI is compatible with version 0\&.3\&.0\&.
.SH "\fR0\&.3\&.0\fP - 2023-03-08"
.PP
.SS "Added"
.IP "\(bu" 2
Added experimental support for CMake builds\&. Traditional GNU Autotools builds (\fR\&./configure\fP and \fRmake\fP) remain fully supported\&.
.IP "\(bu" 2
Usage examples: Added a recommended method for securely clearing sensitive data, e\&.g\&., secret keys, from memory\&.
.IP "\(bu" 2
Tests: Added a new test binary \fRnoverify_tests\fP\&. This binary runs the tests without some additional checks present in the ordinary \fR\fBtests\fP\fP binary and is thereby closer to production binaries\&. The \fRnoverify_tests\fP binary is automatically run as part of the \fRmake check\fP target\&.
.PP
.SS "Fixed"
.IP "\(bu" 2
Fixed declarations of API variables for MSVC (\fR__declspec(dllimport)\fP)\&. This fixes MSVC builds of programs which link against a libsecp256k1 DLL dynamically and use API variables (and not only API functions)\&. Unfortunately, the MSVC linker now will emit warning \fRLNK4217\fP when trying to link against libsecp256k1 statically\&. Pass \fR/ignore:4217\fP to the linker to suppress this warning\&.
.PP
.SS "Changed"
.IP "\(bu" 2
Forbade cloning or destroying \fR\fBsecp256k1_context_static\fP\fP\&. Create a new context instead of cloning the static context\&. (If this change breaks your code, your code is probably wrong\&.)
.IP "\(bu" 2
Forbade randomizing (copies of) \fR\fBsecp256k1_context_static\fP\fP\&. Randomizing a copy of \fR\fBsecp256k1_context_static\fP\fP did not have any effect and did not provide defense-in-depth protection against side-channel attacks\&. Create a new context if you want to benefit from randomization\&.
.PP
.SS "Removed"
.IP "\(bu" 2
Removed the configuration header \fRsrc/libsecp256k1-config\&.h\fP\&. We recommend passing flags to \fR\&./configure\fP or \fRcmake\fP to set configuration options (see \fR\&./configure --help\fP or \fRcmake -LH\fP)\&. If you cannot or do not want to use one of the supported build systems, pass configuration flags such as \fR-DSECP256K1_ENABLE_MODULE_SCHNORRSIG\fP manually to the compiler (see the file \fRconfigure\&.ac\fP for supported flags)\&.
.PP
.SS "ABI Compatibility"
Due to changes in the API regarding \fR\fBsecp256k1_context_static\fP\fP described above, the ABI is \fInot\fP compatible with previous versions\&.
.SH "\fR0\&.2\&.0\fP - 2022-12-12"
.PP
.SS "Added"
.IP "\(bu" 2
Added usage examples for common use cases in a new \fRexamples/\fP directory\&.
.IP "\(bu" 2
Added \fR\fBsecp256k1_selftest\fP\fP, to be used in conjunction with \fR\fBsecp256k1_context_static\fP\fP\&.
.IP "\(bu" 2
Added support for 128-bit wide multiplication on MSVC for x86_64 and arm64, giving roughly a 20% speedup on those platforms\&.
.PP
.SS "Changed"
.IP "\(bu" 2
Enabled modules \fRschnorrsig\fP, \fRextrakeys\fP and \fRecdh\fP by default in \fR\&./configure\fP\&.
.IP "\(bu" 2
The \fR\fBsecp256k1_nonce_function_rfc6979\fP\fP nonce function, used by default by \fR\fBsecp256k1_ecdsa_sign\fP\fP, now reduces the message hash modulo the group order to match the specification\&. This only affects improper use of ECDSA signing API\&.
.PP
.SS "Deprecated"
.IP "\(bu" 2
Deprecated context flags \fR\fBSECP256K1_CONTEXT_VERIFY\fP\fP and \fR\fBSECP256K1_CONTEXT_SIGN\fP\fP\&. Use \fR\fBSECP256K1_CONTEXT_NONE\fP\fP instead\&.
.IP "\(bu" 2
Renamed \fR\fBsecp256k1_context_no_precomp\fP\fP to \fR\fBsecp256k1_context_static\fP\fP\&.
.IP "\(bu" 2
Module \fRschnorrsig\fP: renamed \fR\fBsecp256k1_schnorrsig_sign\fP\fP to \fR\fBsecp256k1_schnorrsig_sign32\fP\fP\&.
.PP
.SS "ABI Compatibility"
Since this is the first release, we do not compare application binary interfaces\&. However, there are earlier unreleased versions of libsecp256k1 that are \fInot\fP ABI compatible with this version\&.
.SH "\fR0\&.1\&.0\fP - 2013-03-05 to 2021-12-25"
.PP
This version was in fact never released\&. The number was given by the build system since the introduction of autotools in Jan 2014 (ea0fe5a5bf0c04f9cc955b2966b614f5f378c6f6)\&. Therefore, this version number does not uniquely identify a set of source files\&. 
