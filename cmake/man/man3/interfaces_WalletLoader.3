.TH "WalletLoader" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
WalletLoader
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <wallet\&.h>\fP
.PP
Inherits \fBChainClient\fP\&.
.SS "Public Types"

.in +1c
.ti -1c
.RI "using \fBLoadWalletFn\fP = std::function<void(std::unique_ptr<\fBWallet\fP> \fBwallet\fP)>"
.br
.in -1c
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "virtual \fButil::Result\fP< std::unique_ptr< \fBWallet\fP > > \fBcreateWallet\fP (const std::string &\fBname\fP, const \fBSecureString\fP &passphrase, uint64_t wallet_creation_flags, std::vector< \fBbilingual_str\fP > &warnings)=0"
.br
.RI "Create new wallet\&. "
.ti -1c
.RI "virtual \fButil::Result\fP< std::unique_ptr< \fBWallet\fP > > \fBloadWallet\fP (const std::string &\fBname\fP, std::vector< \fBbilingual_str\fP > &warnings)=0"
.br
.RI "Load existing wallet\&. "
.ti -1c
.RI "virtual std::string \fBgetWalletDir\fP ()=0"
.br
.RI "Return default wallet directory\&. "
.ti -1c
.RI "virtual \fButil::Result\fP< std::unique_ptr< \fBWallet\fP > > \fBrestoreWallet\fP (const \fBfs::path\fP &backup_file, const std::string &wallet_name, std::vector< \fBbilingual_str\fP > &warnings, bool load_after_restore)=0"
.br
.RI "Restore backup wallet\&. "
.ti -1c
.RI "virtual \fButil::Result\fP< \fBWalletMigrationResult\fP > \fBmigrateWallet\fP (const std::string &\fBname\fP, const \fBSecureString\fP &passphrase)=0"
.br
.RI "Migrate a wallet\&. "
.ti -1c
.RI "virtual bool \fBisEncrypted\fP (const std::string &wallet_name)=0"
.br
.RI "Returns true if wallet stores encryption keys\&. "
.ti -1c
.RI "virtual std::vector< std::pair< std::string, std::string > > \fBlistWalletDir\fP ()=0"
.br
.RI "Return available wallets in wallet directory\&. "
.ti -1c
.RI "virtual std::vector< std::unique_ptr< \fBWallet\fP > > \fBgetWallets\fP ()=0"
.br
.RI "Return interfaces for accessing wallets (if any)\&. "
.ti -1c
.RI "virtual std::unique_ptr< \fBHandler\fP > \fBhandleLoadWallet\fP (\fBLoadWalletFn\fP fn)=0"
.br
.ti -1c
.RI "virtual \fBwallet::WalletContext\fP * \fBcontext\fP ()"
.br
.RI "Return pointer to internal context, useful for testing\&. "
.in -1c

Public Member Functions inherited from \fBChainClient\fP
.in +1c
.ti -1c
.RI "virtual \fB~ChainClient\fP ()=default"
.br
.ti -1c
.RI "virtual void \fBregisterRpcs\fP ()=0"
.br
.RI "Register rpcs\&. "
.ti -1c
.RI "virtual bool \fBverify\fP ()=0"
.br
.RI "Check for errors before loading\&. "
.ti -1c
.RI "virtual bool \fBload\fP ()=0"
.br
.RI "Load saved state\&. "
.ti -1c
.RI "virtual void \fBstart\fP (\fBCScheduler\fP &scheduler)=0"
.br
.RI "Start client execution and provide a scheduler\&. "
.ti -1c
.RI "virtual void \fBstop\fP ()=0"
.br
.RI "Shut down client\&. "
.ti -1c
.RI "virtual void \fBsetMockTime\fP (int64_t time)=0"
.br
.RI "Set mock time\&. "
.ti -1c
.RI "virtual void \fBschedulerMockForward\fP (std::chrono::seconds delta_seconds)=0"
.br
.RI "Mock the scheduler to fast forward in time\&. "
.in -1c
.SH "Detailed Description"
.PP 
\fBWallet\fP chain client that in addition to having chain client methods for starting up, shutting down, and registering RPCs, also has additional methods (called by the GUI) to load and create wallets\&. 
.SH "Member Typedef Documentation"
.PP 
.SS "using \fBLoadWalletFn\fP = std::function<void(std::unique_ptr<\fBWallet\fP> \fBwallet\fP)>"
Register handler for load wallet messages\&. This callback is triggered by createWallet and loadWallet above, and also triggered when wallets are loaded at startup or by RPC\&. 
.SH "Member Function Documentation"
.PP 
.SS "virtual \fBwallet::WalletContext\fP * context ()\fR [inline]\fP, \fR [virtual]\fP"

.PP
Return pointer to internal context, useful for testing\&. 
.SS "virtual \fButil::Result\fP< std::unique_ptr< \fBWallet\fP > > createWallet (const std::string & name, const \fBSecureString\fP & passphrase, uint64_t wallet_creation_flags, std::vector< \fBbilingual_str\fP > & warnings)\fR [pure virtual]\fP"

.PP
Create new wallet\&. 
.SS "virtual std::string getWalletDir ()\fR [pure virtual]\fP"

.PP
Return default wallet directory\&. 
.SS "virtual std::vector< std::unique_ptr< \fBWallet\fP > > getWallets ()\fR [pure virtual]\fP"

.PP
Return interfaces for accessing wallets (if any)\&. 
.SS "virtual std::unique_ptr< \fBHandler\fP > handleLoadWallet (\fBLoadWalletFn\fP fn)\fR [pure virtual]\fP"

.SS "virtual bool isEncrypted (const std::string & wallet_name)\fR [pure virtual]\fP"

.PP
Returns true if wallet stores encryption keys\&. 
.SS "virtual std::vector< std::pair< std::string, std::string > > listWalletDir ()\fR [pure virtual]\fP"

.PP
Return available wallets in wallet directory\&. 
.SS "virtual \fButil::Result\fP< std::unique_ptr< \fBWallet\fP > > loadWallet (const std::string & name, std::vector< \fBbilingual_str\fP > & warnings)\fR [pure virtual]\fP"

.PP
Load existing wallet\&. 
.SS "virtual \fButil::Result\fP< \fBWalletMigrationResult\fP > migrateWallet (const std::string & name, const \fBSecureString\fP & passphrase)\fR [pure virtual]\fP"

.PP
Migrate a wallet\&. 
.SS "virtual \fButil::Result\fP< std::unique_ptr< \fBWallet\fP > > restoreWallet (const \fBfs::path\fP & backup_file, const std::string & wallet_name, std::vector< \fBbilingual_str\fP > & warnings, bool load_after_restore)\fR [pure virtual]\fP"

.PP
Restore backup wallet\&. 

.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
