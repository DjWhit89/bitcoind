.TH "KernelNotifications" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
KernelNotifications
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <kernel_notifications\&.h>\fP
.PP
Inherits \fBNotifications\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBKernelNotifications\fP (const std::function< bool()> &shutdown_request, std::atomic< int > &\fBexit_status\fP, \fBnode::Warnings\fP &warnings)"
.br
.ti -1c
.RI "\fBkernel::InterruptResult\fP \fBblockTip\fP (\fBSynchronizationState\fP state, const \fBCBlockIndex\fP &index, double verification_progress) override \fBEXCLUSIVE_LOCKS_REQUIRED\fP(!\fBm_tip_block_mutex\fP)"
.br
.ti -1c
.RI "void \fBheaderTip\fP (\fBSynchronizationState\fP state, int64_t height, int64_t timestamp, bool presync) override"
.br
.ti -1c
.RI "void \fBprogress\fP (const \fBbilingual_str\fP &title, int progress_percent, bool resume_possible) override"
.br
.ti -1c
.RI "void \fBwarningSet\fP (\fBkernel::Warning\fP id, const \fBbilingual_str\fP &message) override"
.br
.ti -1c
.RI "void \fBwarningUnset\fP (\fBkernel::Warning\fP id) override"
.br
.ti -1c
.RI "void \fBflushError\fP (const \fBbilingual_str\fP &message) override"
.br
.ti -1c
.RI "void \fBfatalError\fP (const \fBbilingual_str\fP &message) override"
.br
.ti -1c
.RI "std::condition_variable m_tip_block_cv \fBGUARDED_BY\fP (\fBm_tip_block_mutex\fP)"
.br
.ti -1c
.RI "std::optional< \fBuint256\fP > \fBTipBlock\fP () \fBEXCLUSIVE_LOCKS_REQUIRED\fP(\fBm_tip_block_mutex\fP)"
.br
.in -1c

Public Member Functions inherited from \fBNotifications\fP
.in +1c
.ti -1c
.RI "virtual \fB~Notifications\fP ()=default"
.br
.in -1c
.SS "Data Fields"

.in +1c
.ti -1c
.RI "int \fBm_stop_at_height\fP {DEFAULT_STOPATHEIGHT}"
.br
.RI "Block height after which blockTip notification will return Interrupted{}, if >0\&. "
.ti -1c
.RI "bool \fBm_shutdown_on_fatal_error\fP {true}"
.br
.RI "Useful for tests, can be set to false to avoid shutdown on fatal error\&. "
.ti -1c
.RI "\fBMutex\fP \fBm_tip_block_mutex\fP"
.br
.in -1c
.SH "Constructor & Destructor Documentation"
.PP 
.SS "\fBKernelNotifications\fP (const std::function< bool()> & shutdown_request, std::atomic< int > & exit_status, \fBnode::Warnings\fP & warnings)\fR [inline]\fP"

.SH "Member Function Documentation"
.PP 
.SS "\fBkernel::InterruptResult\fP blockTip (\fBSynchronizationState\fP state, const \fBCBlockIndex\fP & index, double verification_progress)\fR [nodiscard]\fP, \fR [override]\fP, \fR [virtual]\fP"

.PP
Reimplemented from \fBNotifications\fP\&.
.SS "void fatalError (const \fBbilingual_str\fP & message)\fR [override]\fP, \fR [virtual]\fP"
The fatal error notification is sent to notify the user when an error occurs in kernel code that can't be recovered from\&. After this notification is sent, whatever function triggered the error should also return an error code or raise an exception\&. Applications can choose to handle the fatal error notification by logging the error, or notifying the user, or triggering an early shutdown as a precaution against causing more errors\&. 
.PP
Reimplemented from \fBNotifications\fP\&.
.SS "void flushError (const \fBbilingual_str\fP & message)\fR [override]\fP, \fR [virtual]\fP"
The flush error notification is sent to notify the user that an error occurred while flushing block data to disk\&. Kernel code may ignore flush errors that don't affect the immediate operation it is trying to perform\&. Applications can choose to handle the flush error notification by logging the error, or notifying the user, or triggering an early shutdown as a precaution against causing more errors\&. 
.PP
Reimplemented from \fBNotifications\fP\&.
.SS "std::condition_variable m_tip_block_cv GUARDED_BY (\fBm_tip_block_mutex\fP )"

.SS "void headerTip (\fBSynchronizationState\fP state, int64_t height, int64_t timestamp, bool presync)\fR [override]\fP, \fR [virtual]\fP"

.PP
Reimplemented from \fBNotifications\fP\&.
.SS "void progress (const \fBbilingual_str\fP & title, int progress_percent, bool resume_possible)\fR [override]\fP, \fR [virtual]\fP"

.PP
Reimplemented from \fBNotifications\fP\&.
.SS "std::optional< \fBuint256\fP > \fBTipBlock\fP ()"
The block for which the last blockTip notification was received\&. It's first set when the tip is connected during node initialization\&. Might be unset during an early shutdown\&. 
.SS "void warningSet (\fBkernel::Warning\fP id, const \fBbilingual_str\fP & message)\fR [override]\fP, \fR [virtual]\fP"

.PP
Reimplemented from \fBNotifications\fP\&.
.SS "void warningUnset (\fBkernel::Warning\fP id)\fR [override]\fP, \fR [virtual]\fP"

.PP
Reimplemented from \fBNotifications\fP\&.
.SH "Field Documentation"
.PP 
.SS "bool m_shutdown_on_fatal_error {true}"

.PP
Useful for tests, can be set to false to avoid shutdown on fatal error\&. 
.SS "int m_stop_at_height {DEFAULT_STOPATHEIGHT}"

.PP
Block height after which blockTip notification will return Interrupted{}, if >0\&. 
.SS "\fBMutex\fP m_tip_block_mutex"


.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
