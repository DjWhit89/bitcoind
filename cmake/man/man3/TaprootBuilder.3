.TH "TaprootBuilder" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
TaprootBuilder
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <signingprovider\&.h>\fP
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBTaprootBuilder\fP & \fBAdd\fP (int depth, std::span< const unsigned char > \fBscript\fP, int leaf_version, bool track=true)"
.br
.ti -1c
.RI "\fBTaprootBuilder\fP & \fBAddOmitted\fP (int depth, const \fBuint256\fP &hash)"
.br
.ti -1c
.RI "\fBTaprootBuilder\fP & \fBFinalize\fP (const \fBXOnlyPubKey\fP &internal_key)"
.br
.ti -1c
.RI "bool \fBIsValid\fP () const"
.br
.ti -1c
.RI "bool \fBIsComplete\fP () const"
.br
.ti -1c
.RI "\fBWitnessV1Taproot\fP \fBGetOutput\fP ()"
.br
.ti -1c
.RI "\fBTaprootSpendData\fP \fBGetSpendData\fP () const"
.br
.ti -1c
.RI "std::vector< std::tuple< uint8_t, uint8_t, std::vector< unsigned char > > > \fBGetTreeTuples\fP () const"
.br
.ti -1c
.RI "bool \fBHasScripts\fP () const"
.br
.ti -1c
.RI "bool \fBoperator==\fP (const \fBTaprootBuilder\fP &other) const"
.br
.in -1c
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static bool \fBValidDepths\fP (const std::vector< int > &depths)"
.br
.in -1c
.SH "Detailed Description"
.PP 
Utility class to construct Taproot outputs from internal key and script tree\&. 
.SH "Member Function Documentation"
.PP 
.SS "\fBTaprootBuilder\fP & Add (int depth, std::span< const unsigned char > script, int leaf_version, bool track = \fRtrue\fP)"
Add a new script at a certain depth in the tree\&. \fBAdd()\fP operations must be called in depth-first traversal order of binary tree\&. If track is true, it will be included in the \fBGetSpendData()\fP output\&. 
.SS "\fBTaprootBuilder\fP & AddOmitted (int depth, const \fBuint256\fP & hash)"
Like \fBAdd()\fP, but for a Merkle node with a given hash to the tree\&. 
.SS "\fBTaprootBuilder\fP & Finalize (const \fBXOnlyPubKey\fP & internal_key)"
Finalize the construction\&. Can only be called when \fBIsComplete()\fP is true\&. internal_key\&.IsFullyValid() must be true\&. 
.SS "\fBWitnessV1Taproot\fP GetOutput ()"
Compute scriptPubKey (after \fBFinalize()\fP)\&. 
.SS "\fBTaprootSpendData\fP GetSpendData () const"
Compute spending data (after \fBFinalize()\fP)\&. 
.SS "std::vector< std::tuple< uint8_t, uint8_t, std::vector< unsigned char > > > GetTreeTuples () const"
Returns a vector of tuples representing the depth, leaf version, and script 
.SS "bool HasScripts () const\fR [inline]\fP"
Returns true if there are any tapscripts 
.SS "bool IsComplete () const\fR [inline]\fP"
Return whether there were either no leaves, or the leaves form a Huffman tree\&. 
.SS "bool IsValid () const\fR [inline]\fP"
Return true if so far all input was valid\&. 
.SS "bool operator== (const \fBTaprootBuilder\fP & other) const\fR [inline]\fP"

.SS "bool ValidDepths (const std::vector< int > & depths)\fR [static]\fP"
Check if a list of depths is legal (will lead to \fBIsComplete()\fP)\&. 

.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
