.TH "Streams" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
Streams
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <subprocess\&.h>\fP
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBStreams\fP ()"
.br
.ti -1c
.RI "\fBStreams\fP (const Streams &)=delete"
.br
.ti -1c
.RI "\fBStreams\fP & \fBoperator=\fP (const \fBStreams\fP &)=delete"
.br
.ti -1c
.RI "\fBStreams\fP (Streams &&)=default"
.br
.ti -1c
.RI "\fBStreams\fP & \fBoperator=\fP (\fBStreams\fP &&)=default"
.br
.ti -1c
.RI "void \fBsetup_comm_channels\fP ()"
.br
.ti -1c
.RI "void \fBcleanup_fds\fP ()"
.br
.ti -1c
.RI "void \fBclose_parent_fds\fP ()"
.br
.ti -1c
.RI "void \fBclose_child_fds\fP ()"
.br
.ti -1c
.RI "FILE * \fBinput\fP ()"
.br
.ti -1c
.RI "FILE * \fBoutput\fP ()"
.br
.ti -1c
.RI "FILE * \fBerror\fP ()"
.br
.ti -1c
.RI "void \fBinput\fP (FILE *fp)"
.br
.ti -1c
.RI "void \fBoutput\fP (FILE *fp)"
.br
.ti -1c
.RI "void \fBerror\fP (FILE *fp)"
.br
.ti -1c
.RI "void \fBset_out_buf_cap\fP (size_t cap)"
.br
.ti -1c
.RI "void \fBset_err_buf_cap\fP (size_t cap)"
.br
.ti -1c
.RI "int \fBsend\fP (const char *msg, size_t length)"
.br
.ti -1c
.RI "int \fBsend\fP (const std::vector< char > &msg)"
.br
.ti -1c
.RI "std::pair< \fBOutBuffer\fP, \fBErrBuffer\fP > \fBcommunicate\fP (const char *msg, size_t length)"
.br
.ti -1c
.RI "std::pair< \fBOutBuffer\fP, \fBErrBuffer\fP > \fBcommunicate\fP (const std::vector< char > &msg)"
.br
.in -1c
.SS "Data Fields"

.in +1c
.ti -1c
.RI "std::shared_ptr< FILE > \fBinput_\fP = nullptr"
.br
.ti -1c
.RI "std::shared_ptr< FILE > \fBoutput_\fP = nullptr"
.br
.ti -1c
.RI "std::shared_ptr< FILE > \fBerror_\fP = nullptr"
.br
.ti -1c
.RI "int \fBwrite_to_child_\fP = \-1"
.br
.ti -1c
.RI "int \fBread_from_parent_\fP = \-1"
.br
.ti -1c
.RI "int \fBwrite_to_parent_\fP = \-1"
.br
.ti -1c
.RI "int \fBread_from_child_\fP = \-1"
.br
.ti -1c
.RI "int \fBerr_write_\fP = \-1"
.br
.ti -1c
.RI "int \fBerr_read_\fP = \-1"
.br
.in -1c
.SH "Detailed Description"
.PP 
This is a helper class to \fBPopen\fP\&. It takes care of management of all the file descriptors and file pointers\&. It dispatches of the communication aspects to the \fBCommunication\fP class\&. Read through the data members to understand about the various file descriptors used\&. 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "Streams ()\fR [inline]\fP"

.SS "Streams (const Streams & )\fR [delete]\fP"

.SS "Streams (Streams && )\fR [default]\fP"

.SH "Member Function Documentation"
.PP 
.SS "void cleanup_fds ()\fR [inline]\fP"

.SS "void close_child_fds ()\fR [inline]\fP"

.SS "void close_parent_fds ()\fR [inline]\fP"

.SS "std::pair< \fBOutBuffer\fP, \fBErrBuffer\fP > communicate (const char * msg, size_t length)\fR [inline]\fP"

.SS "std::pair< \fBOutBuffer\fP, \fBErrBuffer\fP > communicate (const std::vector< char > & msg)\fR [inline]\fP"

.SS "FILE * error ()\fR [inline]\fP"

.SS "void error (FILE * fp)\fR [inline]\fP"

.SS "FILE * input ()\fR [inline]\fP"

.SS "void input (FILE * fp)\fR [inline]\fP"

.SS "\fBStreams\fP & operator= (const \fBStreams\fP & )\fR [delete]\fP"

.SS "\fBStreams\fP & operator= (\fBStreams\fP && )\fR [default]\fP"

.SS "FILE * output ()\fR [inline]\fP"

.SS "void output (FILE * fp)\fR [inline]\fP"

.SS "int send (const char * msg, size_t length)\fR [inline]\fP"

.SS "int send (const std::vector< char > & msg)\fR [inline]\fP"

.SS "void set_err_buf_cap (size_t cap)\fR [inline]\fP"

.SS "void set_out_buf_cap (size_t cap)\fR [inline]\fP"

.SS "void setup_comm_channels ()\fR [inline]\fP"

.SH "Field Documentation"
.PP 
.SS "int err_read_ = \-1"

.SS "int err_write_ = \-1"

.SS "std::shared_ptr<FILE> error_ = nullptr"

.SS "std::shared_ptr<FILE> input_ = nullptr"

.SS "std::shared_ptr<FILE> output_ = nullptr"

.SS "int read_from_child_ = \-1"

.SS "int read_from_parent_ = \-1"

.SS "int write_to_child_ = \-1"

.SS "int write_to_parent_ = \-1"


.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
