.TH "src/test/util/setup_common.h" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
src/test/util/setup_common.h
.SH SYNOPSIS
.br
.PP
\fR#include <common/args\&.h>\fP
.br
\fR#include <kernel/caches\&.h>\fP
.br
\fR#include <kernel/context\&.h>\fP
.br
\fR#include <key\&.h>\fP
.br
\fR#include <node/caches\&.h>\fP
.br
\fR#include <node/context\&.h>\fP
.br
\fR#include <optional>\fP
.br
\fR#include <ostream>\fP
.br
\fR#include <primitives/transaction\&.h>\fP
.br
\fR#include <pubkey\&.h>\fP
.br
\fR#include <stdexcept>\fP
.br
\fR#include <test/util/random\&.h>\fP
.br
\fR#include <util/chaintype\&.h>\fP
.br
\fR#include <util/check\&.h>\fP
.br
\fR#include <util/fs\&.h>\fP
.br
\fR#include <util/signalinterrupt\&.h>\fP
.br
\fR#include <util/string\&.h>\fP
.br
\fR#include <util/vector\&.h>\fP
.br
\fR#include <functional>\fP
.br
\fR#include <type_traits>\fP
.br
\fR#include <vector>\fP
.br

.SS "Data Structures"

.in +1c
.ti -1c
.RI "struct \fBTestOpts\fP"
.br
.ti -1c
.RI "struct \fBBasicTestingSetup\fP"
.br
.ti -1c
.RI "struct \fBChainTestingSetup\fP"
.br
.ti -1c
.RI "struct \fBTestingSetup\fP"
.br
.ti -1c
.RI "struct \fBRegTestingSetup\fP"
.br
.ti -1c
.RI "struct \fBTestnet4Setup\fP"
.br
.ti -1c
.RI "struct \fBTestChain100Setup\fP"
.br
.ti -1c
.RI "class \fBHasReason\fP"
.br
.in -1c
.SS "Namespaces"

.in +1c
.ti -1c
.RI "namespace \fBstd\fP"
.br
.in -1c
.SS "Functions"

.in +1c
.ti -1c
.RI "void \fBSetupCommonTestArgs\fP (\fBArgsManager\fP &argsman)"
.br
.ti -1c
.RI "template<class \fBT\fP = const BasicTestingSetup> std::unique_ptr< \fBT\fP > \fBMakeNoLogFileContext\fP (const \fBChainType\fP chain_type=\fBChainType::REGTEST\fP, \fBTestOpts\fP opts={})"
.br
.ti -1c
.RI "\fBCBlock\fP \fBgetBlock13b8a\fP ()"
.br
.ti -1c
.RI "template<typename \fBT\fP> 
.br
requires std::is_enum_v<\fBT\fP>std::ostream & \fBoperator<<\fP (std::ostream &os, const \fBT\fP &e)"
.br
.ti -1c
.RI "template<typename \fBT\fP> std::ostream & \fBoperator<<\fP (std::ostream &os, const std::optional< \fBT\fP > &v)"
.br
.ti -1c
.RI "std::ostream & \fBoperator<<\fP (std::ostream &os, const \fBarith_uint256\fP &num)"
.br
.ti -1c
.RI "std::ostream & \fBoperator<<\fP (std::ostream &os, const \fBuint160\fP &num)"
.br
.ti -1c
.RI "std::ostream & \fBoperator<<\fP (std::ostream &os, const \fBuint256\fP &num)"
.br
.ti -1c
.RI "std::ostream & \fBoperator<<\fP (std::ostream &os, const \fBTxid\fP &txid)"
.br
.ti -1c
.RI "std::ostream & \fBoperator<<\fP (std::ostream &os, const \fBWtxid\fP &wtxid)"
.br
.in -1c
.SS "Variables"

.in +1c
.ti -1c
.RI "const std::function< void(const std::string &)> \fBG_TEST_LOG_FUN\fP"
.br
.ti -1c
.RI "const std::function< std::vector< const char * >()> \fBG_TEST_COMMAND_LINE_ARGUMENTS\fP"
.br
.ti -1c
.RI "const std::function< std::string()> \fBG_TEST_GET_FULL_NAME\fP"
.br
.in -1c
.SH "Function Documentation"
.PP 
.SS "\fBCBlock\fP getBlock13b8a ()"

.PP
\fBReturns\fP
.RS 4
a real block (0000000000013b8ab2cd513b0261a14096412195a72a0c4827d229dcc7e0f7af) with 9 txs\&. 
.RE
.PP

.SS "template<class \fBT\fP = const BasicTestingSetup> std::unique_ptr< \fBT\fP > MakeNoLogFileContext (const \fBChainType\fP chain_type = \fR\fBChainType::REGTEST\fP\fP, \fBTestOpts\fP opts = \fR{}\fP)"
Make a test setup that has disk access to the debug\&.log file disabled\&. Can be used in "hot loops", for example fuzzing or benchmarking\&. 
.SS "std::ostream & operator<< (std::ostream & os, const \fBarith_uint256\fP & num)"

.SS "std::ostream & operator<< (std::ostream & os, const \fBTxid\fP & txid)"

.SS "std::ostream & operator<< (std::ostream & os, const \fBuint160\fP & num)"

.SS "std::ostream & operator<< (std::ostream & os, const \fBuint256\fP & num)"

.SS "std::ostream & operator<< (std::ostream & os, const \fBWtxid\fP & wtxid)"

.SS "void SetupCommonTestArgs (\fBArgsManager\fP & argsman)"
Register common test args\&. Shared across binaries that rely on the test framework\&. 
.SH "Variable Documentation"
.PP 
.SS "const std::function<std::vector<const char*>()> G_TEST_COMMAND_LINE_ARGUMENTS\fR [extern]\fP"
Retrieve the command line arguments\&.

.PP
Retrieve the command line arguments from boost\&. Allows usage like: \fRtest_bitcoin --run_test="net_tests/cnode_listen_port" -- -checkaddrman=1 -printtoconsole=1\fP which would return \fR["-checkaddrman=1", "-printtoconsole=1"]\fP\&. 
.SS "const std::function<std::string()> G_TEST_GET_FULL_NAME\fR [extern]\fP"
Retrieve the unit test name\&.

.PP
Retrieve the boost unit test name\&. 
.SS "const std::function<void(const std::string&)> G_TEST_LOG_FUN\fR [extern]\fP"
This is connected to the logger\&. Can be used to redirect logs to any other log

.PP
Redirect debug log to unit_test\&.log files 
.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
