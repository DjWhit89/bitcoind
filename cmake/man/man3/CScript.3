.TH "CScript" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
CScript
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <script\&.h>\fP
.PP
Inherits \fBprevector< 36, uint8_t >\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBCScript\fP ()=default"
.br
.ti -1c
.RI "template<std::input_iterator InputIterator> \fBCScript\fP (InputIterator first, InputIterator last)"
.br
.ti -1c
.RI "\fBSERIALIZE_METHODS\fP (\fBCScript\fP, obj)"
.br
.ti -1c
.RI "\fBCScript\fP (int64_t b)"
.br
.ti -1c
.RI "\fBCScript\fP (\fBopcodetype\fP b)"
.br
.ti -1c
.RI "\fBCScript\fP (const \fBCScriptNum\fP &b)"
.br
.ti -1c
.RI "\fBCScript\fP (const std::vector< unsigned char > &b)=delete"
.br
.ti -1c
.RI "\fBCScript\fP & \fBoperator<<\fP (const \fBCScript\fP &b)=delete"
.br
.ti -1c
.RI "\fBCScript\fP & \fBoperator<<\fP (int64_t b) \fBLIFETIMEBOUND\fP"
.br
.ti -1c
.RI "\fBCScript\fP & \fBoperator<<\fP (\fBopcodetype\fP opcode) \fBLIFETIMEBOUND\fP"
.br
.ti -1c
.RI "\fBCScript\fP & \fBoperator<<\fP (const \fBCScriptNum\fP &b) \fBLIFETIMEBOUND\fP"
.br
.ti -1c
.RI "\fBCScript\fP & \fBoperator<<\fP (std::span< const std::byte > b) \fBLIFETIMEBOUND\fP"
.br
.ti -1c
.RI "\fBCScript\fP & \fBoperator<<\fP (std::span< const \fBvalue_type\fP > b) \fBLIFETIMEBOUND\fP"
.br
.ti -1c
.RI "bool \fBGetOp\fP (const_iterator &pc, \fBopcodetype\fP &opcodeRet, std::vector< unsigned char > &vchRet) const"
.br
.ti -1c
.RI "bool \fBGetOp\fP (const_iterator &pc, \fBopcodetype\fP &opcodeRet) const"
.br
.ti -1c
.RI "unsigned int \fBGetSigOpCount\fP (bool fAccurate) const"
.br
.ti -1c
.RI "unsigned int \fBGetSigOpCount\fP (const \fBCScript\fP &scriptSig) const"
.br
.ti -1c
.RI "bool \fBIsPayToAnchor\fP () const"
.br
.ti -1c
.RI "bool \fBIsPayToScriptHash\fP () const"
.br
.ti -1c
.RI "bool \fBIsPayToWitnessScriptHash\fP () const"
.br
.ti -1c
.RI "bool \fBIsWitnessProgram\fP (int &version, std::vector< unsigned char > &program) const"
.br
.ti -1c
.RI "bool \fBIsPayToTaproot\fP () const"
.br
.ti -1c
.RI "bool \fBIsPushOnly\fP (const_iterator pc) const"
.br
.ti -1c
.RI "bool \fBIsPushOnly\fP () const"
.br
.ti -1c
.RI "bool \fBHasValidOps\fP () const"
.br
.ti -1c
.RI "bool \fBIsUnspendable\fP () const"
.br
.ti -1c
.RI "void \fBclear\fP ()"
.br
.in -1c

Public Member Functions inherited from \fBprevector< 36, uint8_t >\fP
.in +1c
.ti -1c
.RI "void \fBassign\fP (\fBsize_type\fP n, const uint8_t &val)"
.br
.ti -1c
.RI "void \fBassign\fP (InputIterator first, InputIterator last)"
.br
.ti -1c
.RI "\fBprevector\fP ()=default"
.br
.ti -1c
.RI "\fBprevector\fP (\fBsize_type\fP n)"
.br
.ti -1c
.RI "\fBprevector\fP (\fBsize_type\fP n, const uint8_t &val)"
.br
.ti -1c
.RI "\fBprevector\fP (InputIterator first, InputIterator last)"
.br
.ti -1c
.RI "\fBprevector\fP (const \fBprevector\fP< N, uint8_t, uint32_t, int32_t > &other)"
.br
.ti -1c
.RI "\fBprevector\fP (\fBprevector\fP< N, uint8_t, uint32_t, int32_t > &&other) noexcept"
.br
.ti -1c
.RI "\fBprevector\fP & \fBoperator=\fP (const \fBprevector\fP< N, uint8_t, uint32_t, int32_t > &other)"
.br
.ti -1c
.RI "\fBprevector\fP & \fBoperator=\fP (\fBprevector\fP< N, uint8_t, uint32_t, int32_t > &&other) noexcept"
.br
.ti -1c
.RI "\fBsize_type\fP \fBsize\fP () const"
.br
.ti -1c
.RI "bool \fBempty\fP () const"
.br
.ti -1c
.RI "iterator \fBbegin\fP ()"
.br
.ti -1c
.RI "const_iterator \fBbegin\fP () const"
.br
.ti -1c
.RI "iterator \fBend\fP ()"
.br
.ti -1c
.RI "const_iterator \fBend\fP () const"
.br
.ti -1c
.RI "size_t \fBcapacity\fP () const"
.br
.ti -1c
.RI "uint8_t & \fBoperator[]\fP (\fBsize_type\fP pos)"
.br
.ti -1c
.RI "const uint8_t & \fBoperator[]\fP (\fBsize_type\fP pos) const"
.br
.ti -1c
.RI "void \fBresize\fP (\fBsize_type\fP new_size)"
.br
.ti -1c
.RI "void \fBreserve\fP (\fBsize_type\fP new_capacity)"
.br
.ti -1c
.RI "void \fBshrink_to_fit\fP ()"
.br
.ti -1c
.RI "void \fBclear\fP ()"
.br
.ti -1c
.RI "iterator \fBinsert\fP (iterator pos, const uint8_t &value)"
.br
.ti -1c
.RI "void \fBinsert\fP (iterator pos, \fBsize_type\fP count, const uint8_t &value)"
.br
.ti -1c
.RI "void \fBinsert\fP (iterator pos, InputIterator first, InputIterator last)"
.br
.ti -1c
.RI "void \fBresize_uninitialized\fP (\fBsize_type\fP new_size)"
.br
.ti -1c
.RI "iterator \fBerase\fP (iterator pos)"
.br
.ti -1c
.RI "iterator \fBerase\fP (iterator first, iterator last)"
.br
.ti -1c
.RI "void \fBemplace_back\fP (Args &&\&.\&.\&. \fBargs\fP)"
.br
.ti -1c
.RI "void \fBpush_back\fP (const uint8_t &value)"
.br
.ti -1c
.RI "void \fBpop_back\fP ()"
.br
.ti -1c
.RI "uint8_t & \fBfront\fP ()"
.br
.ti -1c
.RI "const uint8_t & \fBfront\fP () const"
.br
.ti -1c
.RI "uint8_t & \fBback\fP ()"
.br
.ti -1c
.RI "const uint8_t & \fBback\fP () const"
.br
.ti -1c
.RI "void \fBswap\fP (\fBprevector\fP< N, uint8_t, uint32_t, int32_t > &other) noexcept"
.br
.ti -1c
.RI "\fB~prevector\fP ()"
.br
.ti -1c
.RI "bool \fBoperator==\fP (const \fBprevector\fP< N, uint8_t, uint32_t, int32_t > &other) const"
.br
.ti -1c
.RI "bool \fBoperator<\fP (const \fBprevector\fP< N, uint8_t, uint32_t, int32_t > &other) const"
.br
.ti -1c
.RI "size_t \fBallocated_memory\fP () const"
.br
.ti -1c
.RI "\fBvalue_type\fP * \fBdata\fP ()"
.br
.ti -1c
.RI "const \fBvalue_type\fP * \fBdata\fP () const"
.br
.in -1c
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static int \fBDecodeOP_N\fP (\fBopcodetype\fP opcode)"
.br
.ti -1c
.RI "static \fBopcodetype\fP \fBEncodeOP_N\fP (int n)"
.br
.ti -1c
.RI "static bool \fBIsPayToAnchor\fP (int version, const std::vector< unsigned char > &program)"
.br
.in -1c
.SS "Protected Member Functions"

.in +1c
.ti -1c
.RI "\fBCScript\fP & \fBpush_int64\fP (int64_t n)"
.br
.in -1c
.SS "Additional Inherited Members"


Public Types inherited from \fBprevector< 36, uint8_t >\fP
.in +1c
.ti -1c
.RI "typedef uint32_t \fBsize_type\fP"
.br
.ti -1c
.RI "typedef int32_t \fBdifference_type\fP"
.br
.ti -1c
.RI "typedef uint8_t \fBvalue_type\fP"
.br
.ti -1c
.RI "typedef \fBvalue_type\fP & \fBreference\fP"
.br
.ti -1c
.RI "typedef const \fBvalue_type\fP & \fBconst_reference\fP"
.br
.ti -1c
.RI "typedef \fBvalue_type\fP * \fBpointer\fP"
.br
.ti -1c
.RI "typedef const \fBvalue_type\fP * \fBconst_pointer\fP"
.br
.in -1c

Static Public Attributes inherited from \fBprevector< 36, uint8_t >\fP
.in +1c
.ti -1c
.RI "static constexpr unsigned int \fBSTATIC_SIZE\fP"
.br
.in -1c
.SH "Detailed Description"
.PP 
Serialized script, used inside transaction inputs and outputs 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "\fBCScript\fP ()\fR [default]\fP"

.SS "template<std::input_iterator InputIterator> \fBCScript\fP (InputIterator first, InputIterator last)\fR [inline]\fP"

.SS "\fBCScript\fP (int64_t b)\fR [inline]\fP, \fR [explicit]\fP"

.SS "\fBCScript\fP (\fBopcodetype\fP b)\fR [inline]\fP, \fR [explicit]\fP"

.SS "\fBCScript\fP (const \fBCScriptNum\fP & b)\fR [inline]\fP, \fR [explicit]\fP"

.SS "\fBCScript\fP (const std::vector< unsigned char > & b)\fR [explicit]\fP, \fR [delete]\fP"

.SH "Member Function Documentation"
.PP 
.SS "void clear ()\fR [inline]\fP"

.SS "int DecodeOP_N (\fBopcodetype\fP opcode)\fR [inline]\fP, \fR [static]\fP"
Encode/decode small integers: 
.SS "\fBopcodetype\fP EncodeOP_N (int n)\fR [inline]\fP, \fR [static]\fP"

.SS "bool GetOp (const_iterator & pc, \fBopcodetype\fP & opcodeRet) const\fR [inline]\fP"

.SS "bool GetOp (const_iterator & pc, \fBopcodetype\fP & opcodeRet, std::vector< unsigned char > & vchRet) const\fR [inline]\fP"

.SS "unsigned int GetSigOpCount (bool fAccurate) const"
Pre-version-0\&.6, Bitcoin always counted CHECKMULTISIGs as 20 sigops\&. With pay-to-script-hash, that changed: CHECKMULTISIGs serialized in scriptSigs are counted more accurately, assuming they are of the form \&.\&.\&. OP_N CHECKMULTISIG \&.\&.\&. 
.SS "unsigned int GetSigOpCount (const \fBCScript\fP & scriptSig) const"
Accurately count sigOps, including sigOps in pay-to-script-hash transactions: \&.\&.\&. and return its opcount:
.SS "bool HasValidOps () const"
Check if the script contains valid OP_CODES 
.SS "bool IsPayToAnchor () const"

.SS "bool IsPayToAnchor (int version, const std::vector< unsigned char > & program)\fR [static]\fP"
Checks if output of IsWitnessProgram comes from a P2A output script 
.SS "bool IsPayToScriptHash () const"

.SS "bool IsPayToTaproot () const"

.SS "bool IsPayToWitnessScriptHash () const"

.SS "bool IsPushOnly () const"

.SS "bool IsPushOnly (const_iterator pc) const"
Called by IsStandardTx and P2SH/BIP62 VerifyScript (which makes it consensus-critical)\&. 
.SS "bool IsUnspendable () const\fR [inline]\fP"
Returns whether the script is guaranteed to fail at execution, regardless of the initial stack\&. This allows outputs to be pruned instantly when entering the UTXO set\&. 
.SS "bool IsWitnessProgram (int & version, std::vector< unsigned char > & program) const"

.SS "\fBCScript\fP & operator<< (const \fBCScript\fP & b)\fR [delete]\fP"
Delete non-existent operator to defend against future introduction 
.SS "\fBCScript\fP & operator<< (const \fBCScriptNum\fP & b)\fR [inline]\fP"

.SS "\fBCScript\fP & operator<< (int64_t b)\fR [inline]\fP"

.SS "\fBCScript\fP & operator<< (\fBopcodetype\fP opcode)\fR [inline]\fP"

.SS "\fBCScript\fP & operator<< (std::span< const std::byte > b)\fR [inline]\fP"

.SS "\fBCScript\fP & operator<< (std::span< const \fBvalue_type\fP > b)\fR [inline]\fP"

.SS "\fBCScript\fP & push_int64 (int64_t n)\fR [inline]\fP, \fR [protected]\fP"

.SS "SERIALIZE_METHODS (\fBCScript\fP , obj )\fR [inline]\fP"


.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
