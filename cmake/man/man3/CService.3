.TH "CService" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
CService
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <netaddress\&.h>\fP
.PP
Inherits \fBCNetAddr\fP\&.
.PP
Inherited by \fBCAddress\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBCService\fP ()"
.br
.ti -1c
.RI "\fBCService\fP (const \fBCNetAddr\fP &ip, uint16_t \fBport\fP)"
.br
.ti -1c
.RI "\fBCService\fP (const struct in_addr &ipv4Addr, uint16_t \fBport\fP)"
.br
.ti -1c
.RI "\fBCService\fP (const struct sockaddr_in &addr)"
.br
.ti -1c
.RI "uint16_t \fBGetPort\fP () const"
.br
.ti -1c
.RI "bool \fBGetSockAddr\fP (struct sockaddr *paddr, socklen_t *addrlen) const"
.br
.ti -1c
.RI "bool \fBSetSockAddr\fP (const struct sockaddr *paddr, socklen_t addrlen)"
.br
.ti -1c
.RI "sa_family_t \fBGetSAFamily\fP () const"
.br
.ti -1c
.RI "std::vector< unsigned char > \fBGetKey\fP () const"
.br
.ti -1c
.RI "std::string \fBToStringAddrPort\fP () const"
.br
.ti -1c
.RI "\fBCService\fP (const struct in6_addr &ipv6Addr, uint16_t \fBport\fP)"
.br
.ti -1c
.RI "\fBCService\fP (const struct sockaddr_in6 &addr)"
.br
.ti -1c
.RI "\fBSERIALIZE_METHODS\fP (\fBCService\fP, obj)"
.br
.in -1c

Public Member Functions inherited from \fBCNetAddr\fP
.in +1c
.ti -1c
.RI "\fBCNetAddr\fP ()"
.br
.ti -1c
.RI "\fBCNetAddr\fP (const struct in_addr &ipv4Addr)"
.br
.ti -1c
.RI "void \fBSetIP\fP (const \fBCNetAddr\fP &ip)"
.br
.ti -1c
.RI "void \fBSetLegacyIPv6\fP (std::span< const uint8_t > ipv6)"
.br
.ti -1c
.RI "bool \fBSetInternal\fP (const std::string &\fBname\fP)"
.br
.ti -1c
.RI "bool \fBSetSpecial\fP (std::string_view addr)"
.br
.ti -1c
.RI "bool \fBIsBindAny\fP () const"
.br
.ti -1c
.RI "bool \fBIsIPv4\fP () const"
.br
.ti -1c
.RI "bool \fBIsIPv6\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC1918\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC2544\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC6598\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC5737\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC3849\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC3927\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC3964\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC4193\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC4380\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC4843\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC7343\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC4862\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC6052\fP () const"
.br
.ti -1c
.RI "bool \fBIsRFC6145\fP () const"
.br
.ti -1c
.RI "bool \fBIsHeNet\fP () const"
.br
.ti -1c
.RI "bool \fBIsTor\fP () const"
.br
.ti -1c
.RI "bool \fBIsI2P\fP () const"
.br
.ti -1c
.RI "bool \fBIsCJDNS\fP () const"
.br
.ti -1c
.RI "bool \fBHasCJDNSPrefix\fP () const"
.br
.ti -1c
.RI "bool \fBIsLocal\fP () const"
.br
.ti -1c
.RI "bool \fBIsRoutable\fP () const"
.br
.ti -1c
.RI "bool \fBIsInternal\fP () const"
.br
.ti -1c
.RI "bool \fBIsValid\fP () const"
.br
.ti -1c
.RI "bool \fBIsPrivacyNet\fP () const"
.br
.ti -1c
.RI "bool \fBIsAddrV1Compatible\fP () const"
.br
.ti -1c
.RI "enum \fBNetwork\fP \fBGetNetwork\fP () const"
.br
.ti -1c
.RI "std::string \fBToStringAddr\fP () const"
.br
.ti -1c
.RI "bool \fBGetInAddr\fP (struct in_addr *pipv4Addr) const"
.br
.ti -1c
.RI "\fBNetwork\fP \fBGetNetClass\fP () const"
.br
.ti -1c
.RI "uint32_t \fBGetLinkedIPv4\fP () const"
.br
.RI "For IPv4, mapped IPv4, SIIT translated IPv4, Teredo, 6to4 tunneled addresses, return the relevant IPv4 address as a uint32\&. "
.ti -1c
.RI "bool \fBHasLinkedIPv4\fP () const"
.br
.RI "Whether this address has a linked IPv4 address (see \fBGetLinkedIPv4()\fP)\&. "
.ti -1c
.RI "std::vector< unsigned char > \fBGetAddrBytes\fP () const"
.br
.ti -1c
.RI "int \fBGetReachabilityFrom\fP (const \fBCNetAddr\fP &paddrPartner) const"
.br
.ti -1c
.RI "\fBCNetAddr\fP (const struct in6_addr &pipv6Addr, const uint32_t scope=0)"
.br
.ti -1c
.RI "bool \fBGetIn6Addr\fP (struct in6_addr *pipv6Addr) const"
.br
.ti -1c
.RI "bool \fBIsRelayable\fP () const"
.br
.ti -1c
.RI "template<typename Stream> void \fBSerialize\fP (Stream &s) const"
.br
.ti -1c
.RI "template<typename Stream> void \fBUnserialize\fP (Stream &s)"
.br
.in -1c
.SS "Protected Attributes"

.in +1c
.ti -1c
.RI "uint16_t \fBport\fP"
.br
.in -1c

Protected Attributes inherited from \fBCNetAddr\fP
.in +1c
.ti -1c
.RI "\fBprevector\fP< ADDR_IPV6_SIZE, uint8_t > \fBm_addr\fP {ADDR_IPV6_SIZE, 0x0}"
.br
.ti -1c
.RI "\fBNetwork\fP \fBm_net\fP {\fBNET_IPV6\fP}"
.br
.ti -1c
.RI "uint32_t \fBm_scope_id\fP {0}"
.br
.in -1c
.SS "Friends"

.in +1c
.ti -1c
.RI "class \fBCServiceHash\fP"
.br
.ti -1c
.RI "bool \fBoperator==\fP (const \fBCService\fP &a, const \fBCService\fP &b)"
.br
.ti -1c
.RI "bool \fBoperator<\fP (const \fBCService\fP &a, const \fBCService\fP &b)"
.br
.ti -1c
.RI "\fBCService\fP \fBMaybeFlipIPv6toCJDNS\fP (const \fBCService\fP &service)"
.br
.in -1c
.SS "Additional Inherited Members"


Public Types inherited from \fBCNetAddr\fP
.in +1c
.ti -1c
.RI "enum class \fBEncoding\fP { \fBV1\fP, \fBV2\fP }"
.br
.ti -1c
.RI "enum \fBBIP155Network\fP : uint8_t { \fBIPV4\fP = 1, \fBIPV6\fP = 2, \fBTORV2\fP = 3, \fBTORV3\fP = 4, \fBI2P\fP = 5, \fBCJDNS\fP = 6 }"
.br
.in -1c

Static Public Attributes inherited from \fBCNetAddr\fP
.in +1c
.ti -1c
.RI "static constexpr \fBSerParams\fP \fBV1\fP {\fBEncoding::V1\fP}"
.br
.ti -1c
.RI "static constexpr \fBSerParams\fP \fBV2\fP {\fBEncoding::V2\fP}"
.br
.in -1c
.SH "Detailed Description"
.PP 
A combination of a network address (\fBCNetAddr\fP) and a (TCP) port 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "\fBCService\fP ()"

.SS "\fBCService\fP (const \fBCNetAddr\fP & ip, uint16_t port)"

.SS "\fBCService\fP (const struct in_addr & ipv4Addr, uint16_t port)"

.SS "\fBCService\fP (const struct sockaddr_in & addr)\fR [explicit]\fP"

.SS "\fBCService\fP (const struct in6_addr & ipv6Addr, uint16_t port)"

.SS "\fBCService\fP (const struct sockaddr_in6 & addr)\fR [explicit]\fP"

.SH "Member Function Documentation"
.PP 
.SS "std::vector< unsigned char > GetKey () const"

.PP
\fBReturns\fP
.RS 4
An identifier unique to this service's address and port number\&. 
.RE
.PP

.SS "uint16_t GetPort () const"

.SS "sa_family_t GetSAFamily () const\fR [nodiscard]\fP"
Get the address family 
.PP
\fBReturns\fP
.RS 4
AF_UNSPEC if unspecified 
.RE
.PP

.SS "bool GetSockAddr (struct sockaddr * paddr, socklen_t * addrlen) const"
Obtain the IPv4/6 socket address this represents\&.

.PP
\fBParameters\fP
.RS 4
\fIpaddr\fP The obtained socket address\&. 
.br
\fIaddrlen\fP The size, in bytes, of the address structure pointed to by paddr\&. The value that's pointed to by this parameter might change after calling this function if the size of the corresponding address structure changed\&.
.RE
.PP
\fBReturns\fP
.RS 4
Whether or not the operation was successful\&. 
.RE
.PP

.SS "SERIALIZE_METHODS (\fBCService\fP , obj )\fR [inline]\fP"

.SS "bool SetSockAddr (const struct sockaddr * paddr, socklen_t addrlen)"
Set \fBCService\fP from a network sockaddr\&. 
.PP
\fBParameters\fP
.RS 4
\fIpaddr\fP Pointer to sockaddr structure 
.br
\fIaddrlen\fP Length of sockaddr structure in bytes\&. This will be checked to exactly match the length of a socket address of the provided family, unless std::nullopt is passed 
.RE
.PP
\fBReturns\fP
.RS 4
true on success 
.RE
.PP

.SS "std::string ToStringAddrPort () const"

.SH "Friends And Related Symbol Documentation"
.PP 
.SS "friend class \fBCServiceHash\fP\fR [friend]\fP"

.SS "\fBCService\fP MaybeFlipIPv6toCJDNS (const \fBCService\fP & service)\fR [friend]\fP"
If an IPv6 address belongs to the address range used by the CJDNS network and the CJDNS network is reachable (-cjdnsreachable config is set), then change the type from NET_IPV6 to NET_CJDNS\&. 
.PP
\fBParameters\fP
.RS 4
\fIservice\fP Address to potentially convert\&. 
.RE
.PP
\fBReturns\fP
.RS 4
a copy of \fRservice\fP either unmodified or changed to CJDNS\&. 
.RE
.PP

.SS "bool operator< (const \fBCService\fP & a, const \fBCService\fP & b)\fR [friend]\fP"

.SS "bool operator== (const \fBCService\fP & a, const \fBCService\fP & b)\fR [friend]\fP"

.SH "Field Documentation"
.PP 
.SS "uint16_t port\fR [protected]\fP"


.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
