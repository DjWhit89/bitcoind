.TH "src/httpserver.h" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
src/httpserver.h
.SH SYNOPSIS
.br
.PP
\fR#include <functional>\fP
.br
\fR#include <optional>\fP
.br
\fR#include <span>\fP
.br
\fR#include <string>\fP
.br

.SS "Data Structures"

.in +1c
.ti -1c
.RI "class \fBHTTPRequest\fP"
.br
.ti -1c
.RI "class \fBHTTPClosure\fP"
.br
.ti -1c
.RI "class \fBHTTPEvent\fP"
.br
.in -1c
.SS "Namespaces"

.in +1c
.ti -1c
.RI "namespace \fButil\fP"
.br
.in -1c
.SS "Typedefs"

.in +1c
.ti -1c
.RI "typedef std::function< bool(\fBHTTPRequest\fP *req, const std::string &)> \fBHTTPRequestHandler\fP"
.br
.in -1c
.SS "Functions"

.in +1c
.ti -1c
.RI "bool \fBInitHTTPServer\fP (const \fButil::SignalInterrupt\fP &interrupt)"
.br
.ti -1c
.RI "void \fBStartHTTPServer\fP ()"
.br
.ti -1c
.RI "void \fBInterruptHTTPServer\fP ()"
.br
.ti -1c
.RI "void \fBStopHTTPServer\fP ()"
.br
.ti -1c
.RI "void \fBUpdateHTTPServerLogging\fP (bool enable)"
.br
.ti -1c
.RI "void \fBRegisterHTTPHandler\fP (const std::string &\fBprefix\fP, bool exactMatch, const \fBHTTPRequestHandler\fP &\fBhandler\fP)"
.br
.ti -1c
.RI "void \fBUnregisterHTTPHandler\fP (const std::string &\fBprefix\fP, bool exactMatch)"
.br
.ti -1c
.RI "struct event_base * \fBEventBase\fP ()"
.br
.ti -1c
.RI "std::optional< std::string > \fBGetQueryParameterFromUri\fP (const char *uri, const std::string &key)"
.br
.in -1c
.SH "Typedef Documentation"
.PP 
.SS "typedef std::function<bool(\fBHTTPRequest\fP* req, const std::string &)> \fBHTTPRequestHandler\fP"
\fBHandler\fP for requests to a certain HTTP path 
.SH "Function Documentation"
.PP 
.SS "struct event_base * EventBase ()"
Return evhttp event base\&. This can be used by submodules to queue timers or custom events\&. 
.SS "std::optional< std::string > GetQueryParameterFromUri (const char * uri, const std::string & key)"
Get the query parameter value from request uri for a specified key, or std::nullopt if the key is not found\&.

.PP
If the query string contains duplicate keys, the first value is returned\&. Many web frameworks would instead parse this as an array of values, but this is not (yet) implemented as it is currently not needed in any of the endpoints\&.

.PP
Helper function for \fBHTTPRequest::GetQueryParameter\fP\&.

.PP
\fBParameters\fP
.RS 4
\fIuri\fP is the entire request uri 
.br
\fIkey\fP represents the query parameter of which the value is returned 
.RE
.PP

.SS "bool InitHTTPServer (const \fButil::SignalInterrupt\fP & interrupt)"
Initialize HTTP server\&. Call this before RegisterHTTPHandler or \fBEventBase()\fP\&. 
.SS "void InterruptHTTPServer ()"
Interrupt HTTP server threads 
.SS "void RegisterHTTPHandler (const std::string & prefix, bool exactMatch, const \fBHTTPRequestHandler\fP & handler)"
Register handler for prefix\&. If multiple handlers match a prefix, the first-registered one will be invoked\&. 
.SS "void StartHTTPServer ()"
Start HTTP server\&. This is separate from InitHTTPServer to give users race-condition-free time to register their handlers between InitHTTPServer and StartHTTPServer\&. 
.SS "void StopHTTPServer ()"
Stop HTTP server 
.SS "void UnregisterHTTPHandler (const std::string & prefix, bool exactMatch)"
Unregister handler for prefix 
.SS "void UpdateHTTPServerLogging (bool enable)"
Change logging level for libevent\&. 
.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
