.TH "WalletBatch" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
WalletBatch
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <walletdb\&.h>\fP
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBWalletBatch\fP (\fBWalletDatabase\fP &database)"
.br
.ti -1c
.RI "\fBWalletBatch\fP (const WalletBatch &)=delete"
.br
.ti -1c
.RI "\fBWalletBatch\fP & \fBoperator=\fP (const \fBWalletBatch\fP &)=delete"
.br
.ti -1c
.RI "bool \fBWriteName\fP (const std::string &strAddress, const std::string &strName)"
.br
.ti -1c
.RI "bool \fBEraseName\fP (const std::string &strAddress)"
.br
.ti -1c
.RI "bool \fBWritePurpose\fP (const std::string &strAddress, const std::string &purpose)"
.br
.ti -1c
.RI "bool \fBErasePurpose\fP (const std::string &strAddress)"
.br
.ti -1c
.RI "bool \fBWriteTx\fP (const \fBCWalletTx\fP &wtx)"
.br
.ti -1c
.RI "bool \fBEraseTx\fP (\fBTxid\fP hash)"
.br
.ti -1c
.RI "bool \fBWriteKeyMetadata\fP (const \fBCKeyMetadata\fP &meta, const \fBCPubKey\fP &pubkey, const bool overwrite)"
.br
.ti -1c
.RI "bool \fBWriteKey\fP (const \fBCPubKey\fP &vchPubKey, const \fBCPrivKey\fP &vchPrivKey, const \fBCKeyMetadata\fP &keyMeta)"
.br
.ti -1c
.RI "bool \fBWriteCryptedKey\fP (const \fBCPubKey\fP &vchPubKey, const std::vector< unsigned char > &vchCryptedSecret, const \fBCKeyMetadata\fP &keyMeta)"
.br
.ti -1c
.RI "bool \fBWriteMasterKey\fP (unsigned int nID, const \fBCMasterKey\fP &kMasterKey)"
.br
.ti -1c
.RI "bool \fBEraseMasterKey\fP (unsigned int id)"
.br
.ti -1c
.RI "bool \fBWriteWatchOnly\fP (const \fBCScript\fP &\fBscript\fP, const \fBCKeyMetadata\fP &keymeta)"
.br
.ti -1c
.RI "bool \fBEraseWatchOnly\fP (const \fBCScript\fP &\fBscript\fP)"
.br
.ti -1c
.RI "bool \fBWriteBestBlock\fP (const \fBCBlockLocator\fP &locator)"
.br
.ti -1c
.RI "bool \fBReadBestBlock\fP (\fBCBlockLocator\fP &locator)"
.br
.ti -1c
.RI "bool \fBIsEncrypted\fP ()"
.br
.ti -1c
.RI "bool \fBWriteOrderPosNext\fP (int64_t nOrderPosNext)"
.br
.ti -1c
.RI "bool \fBWriteDescriptorKey\fP (const \fBuint256\fP &desc_id, const \fBCPubKey\fP &pubkey, const \fBCPrivKey\fP &privkey)"
.br
.ti -1c
.RI "bool \fBWriteCryptedDescriptorKey\fP (const \fBuint256\fP &desc_id, const \fBCPubKey\fP &pubkey, const std::vector< unsigned char > &secret)"
.br
.ti -1c
.RI "bool \fBWriteDescriptor\fP (const \fBuint256\fP &desc_id, const \fBWalletDescriptor\fP &descriptor)"
.br
.ti -1c
.RI "bool \fBWriteDescriptorDerivedCache\fP (const \fBCExtPubKey\fP &xpub, const \fBuint256\fP &desc_id, uint32_t key_exp_index, uint32_t der_index)"
.br
.ti -1c
.RI "bool \fBWriteDescriptorParentCache\fP (const \fBCExtPubKey\fP &xpub, const \fBuint256\fP &desc_id, uint32_t key_exp_index)"
.br
.ti -1c
.RI "bool \fBWriteDescriptorLastHardenedCache\fP (const \fBCExtPubKey\fP &xpub, const \fBuint256\fP &desc_id, uint32_t key_exp_index)"
.br
.ti -1c
.RI "bool \fBWriteDescriptorCacheItems\fP (const \fBuint256\fP &desc_id, const \fBDescriptorCache\fP &cache)"
.br
.ti -1c
.RI "bool \fBWriteLockedUTXO\fP (const \fBCOutPoint\fP &output)"
.br
.ti -1c
.RI "bool \fBEraseLockedUTXO\fP (const \fBCOutPoint\fP &output)"
.br
.ti -1c
.RI "bool \fBWriteAddressPreviouslySpent\fP (const \fBCTxDestination\fP &dest, bool previously_spent)"
.br
.ti -1c
.RI "bool \fBWriteAddressReceiveRequest\fP (const \fBCTxDestination\fP &dest, const std::string &id, const std::string &receive_request)"
.br
.ti -1c
.RI "bool \fBEraseAddressReceiveRequest\fP (const \fBCTxDestination\fP &dest, const std::string &id)"
.br
.ti -1c
.RI "bool \fBEraseAddressData\fP (const \fBCTxDestination\fP &dest)"
.br
.ti -1c
.RI "bool \fBWriteActiveScriptPubKeyMan\fP (uint8_t type, const \fBuint256\fP &id, bool internal)"
.br
.ti -1c
.RI "bool \fBEraseActiveScriptPubKeyMan\fP (uint8_t type, bool internal)"
.br
.ti -1c
.RI "\fBDBErrors\fP \fBLoadWallet\fP (\fBCWallet\fP *pwallet)"
.br
.ti -1c
.RI "bool \fBEraseRecords\fP (const std::unordered_set< std::string > &types)"
.br
.RI "Delete records of the given types\&. "
.ti -1c
.RI "bool \fBWriteWalletFlags\fP (const uint64_t \fBflags\fP)"
.br
.ti -1c
.RI "bool \fBTxnBegin\fP ()"
.br
.RI "Begin a new transaction\&. "
.ti -1c
.RI "bool \fBTxnCommit\fP ()"
.br
.RI "Commit current transaction\&. "
.ti -1c
.RI "bool \fBTxnAbort\fP ()"
.br
.RI "Abort current transaction\&. "
.ti -1c
.RI "bool \fBHasActiveTxn\fP ()"
.br
.ti -1c
.RI "void \fBRegisterTxnListener\fP (const \fBDbTxnListener\fP &l)"
.br
.RI "Registers db txn callback functions\&. "
.in -1c
.SH "Detailed Description"
.PP 
Access to the wallet database\&. Opens the database and provides read and write access to it\&. Each read and write is its own transaction\&. Multiple operation transactions can be started using \fBTxnBegin()\fP and committed using \fBTxnCommit()\fP Otherwise the transaction will be committed when the object goes out of scope\&. Optionally (on by default) it will flush to disk on close\&. Every 1000 writes will automatically trigger a flush to disk\&. 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "WalletBatch (\fBWalletDatabase\fP & database)\fR [inline]\fP, \fR [explicit]\fP"

.SS "WalletBatch (const WalletBatch & )\fR [delete]\fP"

.SH "Member Function Documentation"
.PP 
.SS "bool EraseActiveScriptPubKeyMan (uint8_t type, bool internal)"

.SS "bool EraseAddressData (const \fBCTxDestination\fP & dest)"

.SS "bool EraseAddressReceiveRequest (const \fBCTxDestination\fP & dest, const std::string & id)"

.SS "bool EraseLockedUTXO (const \fBCOutPoint\fP & output)"

.SS "bool EraseMasterKey (unsigned int id)"

.SS "bool EraseName (const std::string & strAddress)"

.SS "bool ErasePurpose (const std::string & strAddress)"

.SS "bool EraseRecords (const std::unordered_set< std::string > & types)"

.PP
Delete records of the given types\&. 
.SS "bool EraseTx (\fBTxid\fP hash)"

.SS "bool EraseWatchOnly (const \fBCScript\fP & script)"

.SS "bool HasActiveTxn ()\fR [inline]\fP"

.SS "bool IsEncrypted ()"

.SS "\fBDBErrors\fP LoadWallet (\fBCWallet\fP * pwallet)"

.SS "\fBWalletBatch\fP & operator= (const \fBWalletBatch\fP & )\fR [delete]\fP"

.SS "bool ReadBestBlock (\fBCBlockLocator\fP & locator)"

.SS "void RegisterTxnListener (const \fBDbTxnListener\fP & l)"

.PP
Registers db txn callback functions\&. 
.SS "bool TxnAbort ()"

.PP
Abort current transaction\&. 
.SS "bool TxnBegin ()"

.PP
Begin a new transaction\&. 
.SS "bool TxnCommit ()"

.PP
Commit current transaction\&. 
.SS "bool WriteActiveScriptPubKeyMan (uint8_t type, const \fBuint256\fP & id, bool internal)"

.SS "bool WriteAddressPreviouslySpent (const \fBCTxDestination\fP & dest, bool previously_spent)"

.SS "bool WriteAddressReceiveRequest (const \fBCTxDestination\fP & dest, const std::string & id, const std::string & receive_request)"

.SS "bool WriteBestBlock (const \fBCBlockLocator\fP & locator)"

.SS "bool WriteCryptedDescriptorKey (const \fBuint256\fP & desc_id, const \fBCPubKey\fP & pubkey, const std::vector< unsigned char > & secret)"

.SS "bool WriteCryptedKey (const \fBCPubKey\fP & vchPubKey, const std::vector< unsigned char > & vchCryptedSecret, const \fBCKeyMetadata\fP & keyMeta)"

.SS "bool WriteDescriptor (const \fBuint256\fP & desc_id, const \fBWalletDescriptor\fP & descriptor)"

.SS "bool WriteDescriptorCacheItems (const \fBuint256\fP & desc_id, const \fBDescriptorCache\fP & cache)"

.SS "bool WriteDescriptorDerivedCache (const \fBCExtPubKey\fP & xpub, const \fBuint256\fP & desc_id, uint32_t key_exp_index, uint32_t der_index)"

.SS "bool WriteDescriptorKey (const \fBuint256\fP & desc_id, const \fBCPubKey\fP & pubkey, const \fBCPrivKey\fP & privkey)"

.SS "bool WriteDescriptorLastHardenedCache (const \fBCExtPubKey\fP & xpub, const \fBuint256\fP & desc_id, uint32_t key_exp_index)"

.SS "bool WriteDescriptorParentCache (const \fBCExtPubKey\fP & xpub, const \fBuint256\fP & desc_id, uint32_t key_exp_index)"

.SS "bool WriteKey (const \fBCPubKey\fP & vchPubKey, const \fBCPrivKey\fP & vchPrivKey, const \fBCKeyMetadata\fP & keyMeta)"

.SS "bool WriteKeyMetadata (const \fBCKeyMetadata\fP & meta, const \fBCPubKey\fP & pubkey, const bool overwrite)"

.SS "bool WriteLockedUTXO (const \fBCOutPoint\fP & output)"

.SS "bool WriteMasterKey (unsigned int nID, const \fBCMasterKey\fP & kMasterKey)"

.SS "bool WriteName (const std::string & strAddress, const std::string & strName)"

.SS "bool WriteOrderPosNext (int64_t nOrderPosNext)"

.SS "bool WritePurpose (const std::string & strAddress, const std::string & purpose)"

.SS "bool WriteTx (const \fBCWalletTx\fP & wtx)"

.SS "bool WriteWalletFlags (const uint64_t flags)"

.SS "bool WriteWatchOnly (const \fBCScript\fP & script, const \fBCKeyMetadata\fP & keymeta)"


.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
