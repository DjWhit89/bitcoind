.TH "TorControlConnection" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
TorControlConnection
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <torcontrol\&.h>\fP
.PP
Inherited by \fBDummyTorControlConnection\fP\&.
.SS "Public Types"

.in +1c
.ti -1c
.RI "typedef std::function< void(\fBTorControlConnection\fP &)> \fBConnectionCB\fP"
.br
.ti -1c
.RI "typedef std::function< void(\fBTorControlConnection\fP &, const \fBTorControlReply\fP &)> \fBReplyHandlerCB\fP"
.br
.in -1c
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBTorControlConnection\fP (struct event_base *base)"
.br
.ti -1c
.RI "\fB~TorControlConnection\fP ()"
.br
.ti -1c
.RI "bool \fBConnect\fP (const std::string &tor_control_center, const \fBConnectionCB\fP &connected, const \fBConnectionCB\fP &disconnected)"
.br
.ti -1c
.RI "void \fBDisconnect\fP ()"
.br
.ti -1c
.RI "bool \fBCommand\fP (const std::string &\fBcmd\fP, const \fBReplyHandlerCB\fP &reply_handler)"
.br
.in -1c
.SH "Detailed Description"
.PP 
Low-level handling for Tor control connection\&. Speaks the SMTP-like protocol as defined in torspec/control-spec\&.txt 
.SH "Member Typedef Documentation"
.PP 
.SS "typedef std::function<void(\fBTorControlConnection\fP&)> \fBConnectionCB\fP"

.SS "typedef std::function<void(\fBTorControlConnection\fP &,const \fBTorControlReply\fP &)> \fBReplyHandlerCB\fP"

.SH "Constructor & Destructor Documentation"
.PP 
.SS "\fBTorControlConnection\fP (struct event_base * base)\fR [explicit]\fP"
Create a new \fBTorControlConnection\fP\&. 
.SS "~\fBTorControlConnection\fP ()"

.SH "Member Function Documentation"
.PP 
.SS "bool Command (const std::string & cmd, const \fBReplyHandlerCB\fP & reply_handler)"
Send a command, register a handler for the reply\&. A trailing CRLF is automatically added\&. Return true on success\&. 
.SS "bool Connect (const std::string & tor_control_center, const \fBConnectionCB\fP & connected, const \fBConnectionCB\fP & disconnected)"
Connect to a Tor control port\&. tor_control_center is address of the form host:port\&. connected is the handler that is called when connection is successfully established\&. disconnected is a handler that is called when the connection is broken\&. Return true on success\&. 
.SS "void Disconnect ()"
Disconnect from Tor control port\&. 

.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
