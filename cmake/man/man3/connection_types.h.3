.TH "src/node/connection_types.h" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
src/node/connection_types.h
.SH SYNOPSIS
.br
.PP
\fR#include <cstdint>\fP
.br
\fR#include <string>\fP
.br

.SS "Enumerations"

.in +1c
.ti -1c
.RI "enum class \fBConnectionType\fP { \fBINBOUND\fP, \fBOUTBOUND_FULL_RELAY\fP, \fBMANUAL\fP, \fBFEELER\fP, \fBBLOCK_RELAY\fP, \fBADDR_FETCH\fP }"
.br
.ti -1c
.RI "enum class \fBTransportProtocolType\fP : uint8_t { \fBDETECTING\fP, \fBV1\fP, \fBV2\fP }"
.br
.in -1c
.SS "Functions"

.in +1c
.ti -1c
.RI "std::string \fBConnectionTypeAsString\fP (\fBConnectionType\fP conn_type)"
.br
.ti -1c
.RI "std::string \fBTransportTypeAsString\fP (\fBTransportProtocolType\fP transport_type)"
.br
.in -1c
.SH "Enumeration Type Documentation"
.PP 
.SS "enum class \fBConnectionType\fP\fR [strong]\fP"
Different types of connections to a peer\&. This enum encapsulates the information we have available at the time of opening or accepting the connection\&. Aside from INBOUND, all types are initiated by us\&.

.PP
If adding or removing types, please update CONNECTION_TYPE_DOC in \fBsrc/rpc/net\&.cpp\fP and \fBsrc/qt/rpcconsole\&.cpp\fP, as well as the descriptions in \fBsrc/qt/guiutil\&.cpp\fP and \fBsrc/bitcoin-cli\&.cpp\fP\fBNetinfoRequestHandler\fP\&. 
.PP
\fBEnumerator\fP
.in +1c
.TP
\f(BIINBOUND \fP
Inbound connections are those initiated by a peer\&. This is the only property we know at the time of connection, until P2P messages are exchanged\&. 
.TP
\f(BIOUTBOUND_FULL_RELAY \fP
These are the default connections that we use to connect with the network\&. There is no restriction on what is relayed; by default we relay blocks, addresses & transactions\&. We automatically attempt to open MAX_OUTBOUND_FULL_RELAY_CONNECTIONS using addresses from our \fBAddrMan\fP\&. 
.TP
\f(BIMANUAL \fP
We open manual connections to addresses that users explicitly requested via the addnode RPC or the -addnode/-connect configuration options\&. Even if a manual connection is misbehaving, we do not automatically disconnect or add it to our discouragement filter\&. 
.TP
\f(BIFEELER \fP
Feeler connections are short-lived connections made to check that a node is alive\&. They can be useful for:
.IP "\(bu" 2
test-before-evict: if one of the peers is considered for eviction from our \fBAddrMan\fP because another peer is mapped to the same slot in the tried table, evict only if this longer-known peer is offline\&.
.IP "\(bu" 2
move node addresses from New to Tried table, so that we have more connectable addresses in our \fBAddrMan\fP\&. Note that in the literature ("Eclipse Attacks on Bitcoinâ€™s Peer-to-Peer Network") only the latter feature is referred to as "feeler connections", although in our codebase feeler connections encompass test-before-evict as well\&. We make these connections approximately every FEELER_INTERVAL: first we resolve previously found collisions if they exist (test-before-evict), otherwise we connect to a node from the new table\&. 
.PP

.TP
\f(BIBLOCK_RELAY \fP
We use block-relay-only connections to help prevent against partition attacks\&. By not relaying transactions or addresses, these connections are harder to detect by a third party, thus helping obfuscate the network topology\&. We automatically attempt to open MAX_BLOCK_RELAY_ONLY_ANCHORS using addresses from our anchors\&.dat\&. Then addresses from our \fBAddrMan\fP if MAX_BLOCK_RELAY_ONLY_CONNECTIONS isn't reached yet\&. 
.TP
\f(BIADDR_FETCH \fP
AddrFetch connections are short lived connections used to solicit addresses from peers\&. These are initiated to addresses submitted via the -seednode command line argument, or under certain conditions when the \fBAddrMan\fP is empty\&. 
.SS "enum class \fBTransportProtocolType\fP : uint8_t\fR [strong]\fP"
\fBTransport\fP layer version 
.PP
\fBEnumerator\fP
.in +1c
.TP
\f(BIDETECTING \fP
Peer could be v1 or v2\&. 
.TP
\f(BIV1 \fP
Unencrypted, plaintext protocol\&. 
.TP
\f(BIV2 \fP
BIP324 protocol\&. 
.SH "Function Documentation"
.PP 
.SS "std::string ConnectionTypeAsString (\fBConnectionType\fP conn_type)"
Convert \fBConnectionType\fP enum to a string value 
.SS "std::string TransportTypeAsString (\fBTransportProtocolType\fP transport_type)"
Convert \fBTransportProtocolType\fP enum to a string value 
.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
