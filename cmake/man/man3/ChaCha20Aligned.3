.TH "ChaCha20Aligned" 3 "Version 2.8" "bitcoind" \" -*- nroff -*-
.ad l
.nh
.SH NAME
ChaCha20Aligned
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <chacha20\&.h>\fP
.SS "Public Types"

.in +1c
.ti -1c
.RI "using \fBNonce96\fP = std::pair<uint32_t, uint64_t>"
.br
.in -1c
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBChaCha20Aligned\fP () noexcept=delete"
.br
.ti -1c
.RI "\fBChaCha20Aligned\fP (std::span< const std::byte > key) noexcept"
.br
.ti -1c
.RI "\fB~ChaCha20Aligned\fP ()"
.br
.ti -1c
.RI "void \fBSetKey\fP (std::span< const std::byte > key) noexcept"
.br
.ti -1c
.RI "void \fBSeek\fP (\fBNonce96\fP \fBnonce\fP, uint32_t block_counter) noexcept"
.br
.ti -1c
.RI "void \fBKeystream\fP (std::span< std::byte > out) noexcept"
.br
.ti -1c
.RI "void \fBCrypt\fP (std::span< const std::byte > input, std::span< std::byte > output) noexcept"
.br
.in -1c
.SS "Static Public Attributes"

.in +1c
.ti -1c
.RI "static constexpr unsigned \fBKEYLEN\fP {32}"
.br
.ti -1c
.RI "static constexpr unsigned \fBBLOCKLEN\fP {64}"
.br
.in -1c
.SH "Detailed Description"
.PP 
\fBChaCha20\fP cipher that only operates on multiples of 64 bytes\&. 
.SH "Member Typedef Documentation"
.PP 
.SS "using \fBNonce96\fP = std::pair<uint32_t, uint64_t>"
Type for 96-bit nonces used by the Set function below\&.

.PP
The first field corresponds to the LE32-encoded first 4 bytes of the nonce, also referred to as the '32-bit fixed-common part' in Example 2\&.8\&.2 of RFC8439\&.

.PP
The second field corresponds to the LE64-encoded last 8 bytes of the nonce\&. 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "\fBChaCha20Aligned\fP ()\fR [delete]\fP, \fR [noexcept]\fP"
For safety, disallow initialization without key\&. 
.SS "\fBChaCha20Aligned\fP (std::span< const std::byte > key)\fR [noexcept]\fP"
Initialize a cipher with specified 32-byte key\&. 
.SS "~\fBChaCha20Aligned\fP ()"
Destructor to clean up private memory\&. 
.SH "Member Function Documentation"
.PP 
.SS "void Crypt (std::span< const std::byte > input, std::span< std::byte > output)\fR [inline]\fP, \fR [noexcept]\fP"
en/deciphers the message <input> and write the result into <output>

.PP
The size of input and output must be equal, and be a multiple of BLOCKLEN\&. 
.SS "void Keystream (std::span< std::byte > out)\fR [inline]\fP, \fR [noexcept]\fP"
outputs the keystream into out, whose length must be a multiple of BLOCKLEN\&. 
.SS "void Seek (\fBNonce96\fP nonce, uint32_t block_counter)\fR [noexcept]\fP"
Set the 96-bit nonce and 32-bit block counter\&.

.PP
Block_counter selects a position to seek to (to byte BLOCKLEN*block_counter)\&. After 256 GiB, the block counter overflows, and nonce\&.first is incremented\&. 
.SS "void SetKey (std::span< const std::byte > key)\fR [noexcept]\fP"
Set 32-byte key, and seek to nonce 0 and block position 0\&. 
.SH "Field Documentation"
.PP 
.SS "unsigned BLOCKLEN {64}\fR [static]\fP, \fR [constexpr]\fP"
Block size (inputs/outputs to Keystream / Crypt should be multiples of this)\&. 
.SS "unsigned KEYLEN {32}\fR [static]\fP, \fR [constexpr]\fP"
Expected key length in constructor and SetKey\&. 

.SH "Author"
.PP 
Generated automatically by Doxygen for bitcoind from the source code\&.
