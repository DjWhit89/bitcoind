<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="httpserver_8h" kind="file" language="C++">
    <compoundname>httpserver.h</compoundname>
    <includes local="no">functional</includes>
    <includes local="no">optional</includes>
    <includes local="no">span</includes>
    <includes local="no">string</includes>
    <includedby refid="httprpc_8cpp" local="no">src/httprpc.cpp</includedby>
    <includedby refid="httpserver_8cpp" local="no">src/httpserver.cpp</includedby>
    <includedby refid="init_8cpp" local="no">src/init.cpp</includedby>
    <includedby refid="rest_8cpp" local="no">src/rest.cpp</includedby>
    <includedby refid="node_8cpp" local="no">src/rpc/node.cpp</includedby>
    <includedby refid="http__request_8cpp" local="no">src/test/fuzz/http_request.cpp</includedby>
    <includedby refid="httpserver__tests_8cpp" local="no">src/test/httpserver_tests.cpp</includedby>
    <incdepgraph>
      <node id="1">
        <label>src/httpserver.h</label>
        <link refid="httpserver_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>functional</label>
      </node>
      <node id="3">
        <label>optional</label>
      </node>
      <node id="4">
        <label>span</label>
      </node>
      <node id="5">
        <label>string</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="2">
        <label>src/httprpc.cpp</label>
        <link refid="httprpc_8cpp"/>
      </node>
      <node id="3">
        <label>src/httpserver.cpp</label>
        <link refid="httpserver_8cpp"/>
      </node>
      <node id="1">
        <label>src/httpserver.h</label>
        <link refid="httpserver_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>src/init.cpp</label>
        <link refid="init_8cpp"/>
      </node>
      <node id="5">
        <label>src/rest.cpp</label>
        <link refid="rest_8cpp"/>
      </node>
      <node id="6">
        <label>src/rpc/node.cpp</label>
        <link refid="node_8cpp"/>
      </node>
      <node id="7">
        <label>src/test/fuzz/http_request.cpp</label>
        <link refid="http__request_8cpp"/>
      </node>
      <node id="8">
        <label>src/test/httpserver_tests.cpp</label>
        <link refid="httpserver__tests_8cpp"/>
      </node>
    </invincdepgraph>
    <innerclass refid="class_h_t_t_p_request" prot="public">HTTPRequest</innerclass>
    <innerclass refid="class_h_t_t_p_closure" prot="public">HTTPClosure</innerclass>
    <innerclass refid="class_h_t_t_p_event" prot="public">HTTPEvent</innerclass>
    <innernamespace refid="namespaceutil">util</innernamespace>
    <sectiondef kind="typedef">
      <memberdef kind="typedef" id="httpserver_8h_1ac21c51cfc9edce52ebe847dee0571a0a" prot="public" static="no">
        <type>std::function&lt; bool(<ref refid="class_h_t_t_p_request" kindref="compound">HTTPRequest</ref> *req, const std::string &amp;)&gt;</type>
        <definition>typedef std::function&lt;bool(HTTPRequest* req, const std::string &amp;)&gt; HTTPRequestHandler</definition>
        <argsstring></argsstring>
        <name>HTTPRequestHandler</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><ref refid="class_handler" kindref="compound">Handler</ref> for requests to a certain HTTP path </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="53" column="23" bodyfile="src/httpserver.h" bodystart="53" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="var">
      <memberdef kind="variable" id="httpserver_8h_1a96eaf769bd6c4c928f200745a0ce39c5" prot="public" static="yes" mutable="no">
        <type>const int</type>
        <definition>const int DEFAULT_HTTP_THREADS</definition>
        <argsstring></argsstring>
        <name>DEFAULT_HTTP_THREADS</name>
        <initializer>=16</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The default value for <computeroutput>-rpcthreads</computeroutput>. This number of threads will be created at startup. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="20" column="18" bodyfile="src/httpserver.h" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="httpserver_8h_1a4d5c0ccae28985ddc5dcba9926977edd" prot="public" static="yes" mutable="no">
        <type>const int</type>
        <definition>const int DEFAULT_HTTP_WORKQUEUE</definition>
        <argsstring></argsstring>
        <name>DEFAULT_HTTP_WORKQUEUE</name>
        <initializer>=64</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The default value for <computeroutput>-rpcworkqueue</computeroutput>. This is the maximum depth of the work queue, we don&apos;t allocate this number of work queue items upfront. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="26" column="18" bodyfile="src/httpserver.h" bodystart="26" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="httpserver_8h_1a0d78d7c970f78c61032b6a5b25e91fe3" prot="public" static="yes" mutable="no">
        <type>const int</type>
        <definition>const int DEFAULT_HTTP_SERVER_TIMEOUT</definition>
        <argsstring></argsstring>
        <name>DEFAULT_HTTP_SERVER_TIMEOUT</name>
        <initializer>=30</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="28" column="18" bodyfile="src/httpserver.h" bodystart="28" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="httpserver_8h_1aa5183260b12c1ce706dad5b454a44cec" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool InitHTTPServer</definition>
        <argsstring>(const util::SignalInterrupt &amp;interrupt)</argsstring>
        <name>InitHTTPServer</name>
        <param>
          <type>const <ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref> &amp;</type>
          <declname>interrupt</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Initialize HTTP server. Call this before RegisterHTTPHandler or <ref refid="httpserver_8h_1a678938523347079b4dd5fabc47efdbbc" kindref="member">EventBase()</ref>. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="38" column="6" bodyfile="src/httpserver.cpp" bodystart="441" bodyend="486" declfile="src/httpserver.h" declline="38" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="httpserver_8h_1a4fd74612426e28d4678557f401066d96" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void StartHTTPServer</definition>
        <argsstring>()</argsstring>
        <name>StartHTTPServer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Start HTTP server. This is separate from InitHTTPServer to give users race-condition-free time to register their handlers between InitHTTPServer and StartHTTPServer. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="43" column="6" bodyfile="src/httpserver.cpp" bodystart="499" bodyend="508" declfile="src/httpserver.h" declline="43" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="httpserver_8h_1a0a02b6576090c9fde2eed21b9aa7dc0c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void InterruptHTTPServer</definition>
        <argsstring>()</argsstring>
        <name>InterruptHTTPServer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Interrupt HTTP server threads </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="45" column="6" bodyfile="src/httpserver.cpp" bodystart="510" bodyend="520" declfile="src/httpserver.h" declline="45" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="httpserver_8h_1ad95d08d62c15b43d52fdba7b7ecaa0aa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void StopHTTPServer</definition>
        <argsstring>()</argsstring>
        <name>StopHTTPServer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Stop HTTP server </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="47" column="6" bodyfile="src/httpserver.cpp" bodystart="522" bodyend="561" declfile="src/httpserver.h" declline="47" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="httpserver_8h_1a5d061de02f52817cc3e5957046dbf766" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void UpdateHTTPServerLogging</definition>
        <argsstring>(bool enable)</argsstring>
        <name>UpdateHTTPServerLogging</name>
        <param>
          <type>bool</type>
          <declname>enable</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Change logging level for libevent. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="50" column="6" bodyfile="src/httpserver.cpp" bodystart="488" bodyend="494" declfile="src/httpserver.h" declline="50" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="httpserver_8h_1a43a4c24762a6af819e364b55820323ed" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void RegisterHTTPHandler</definition>
        <argsstring>(const std::string &amp;prefix, bool exactMatch, const HTTPRequestHandler &amp;handler)</argsstring>
        <name>RegisterHTTPHandler</name>
        <param>
          <type>const std::string &amp;</type>
          <declname>prefix</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>exactMatch</declname>
        </param>
        <param>
          <type>const <ref refid="httpserver_8h_1ac21c51cfc9edce52ebe847dee0571a0a" kindref="member">HTTPRequestHandler</ref> &amp;</type>
          <declname>handler</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Register handler for prefix. If multiple handlers match a prefix, the first-registered one will be invoked. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="58" column="6" bodyfile="src/httpserver.cpp" bodystart="757" bodyend="762" declfile="src/httpserver.h" declline="58" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="httpserver_8h_1a42d2567faa003c410a310a9c4e36ebdc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void UnregisterHTTPHandler</definition>
        <argsstring>(const std::string &amp;prefix, bool exactMatch)</argsstring>
        <name>UnregisterHTTPHandler</name>
        <param>
          <type>const std::string &amp;</type>
          <declname>prefix</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>exactMatch</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Unregister handler for prefix </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="60" column="6" bodyfile="src/httpserver.cpp" bodystart="764" bodyend="777" declfile="src/httpserver.h" declline="60" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="httpserver_8h_1a678938523347079b4dd5fabc47efdbbc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>struct event_base *</type>
        <definition>struct event_base * EventBase</definition>
        <argsstring>()</argsstring>
        <name>EventBase</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return evhttp event base. This can be used by submodules to queue timers or custom events. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="65" column="18" bodyfile="src/httpserver.cpp" bodystart="563" bodyend="566" declfile="src/httpserver.h" declline="65" declcolumn="18"/>
      </memberdef>
      <memberdef kind="function" id="httpserver_8h_1a4b96025548083ad61a3b0847621c7a74" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::optional&lt; std::string &gt;</type>
        <definition>std::optional&lt; std::string &gt; GetQueryParameterFromUri</definition>
        <argsstring>(const char *uri, const std::string &amp;key)</argsstring>
        <name>GetQueryParameterFromUri</name>
        <param>
          <type>const char *</type>
          <declname>uri</declname>
        </param>
        <param>
          <type>const std::string &amp;</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the query parameter value from request uri for a specified key, or std::nullopt if the key is not found.</para>
<para>If the query string contains duplicate keys, the first value is returned. Many web frameworks would instead parse this as an array of values, but this is not (yet) implemented as it is currently not needed in any of the endpoints.</para>
<para>Helper function for <ref refid="class_h_t_t_p_request_1a4c8d3ca82089f916e360d1d06cf09dbf" kindref="member">HTTPRequest::GetQueryParameter</ref>.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">uri</parametername>
</parameternamelist>
<parameterdescription>
<para>is the entire request uri </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">key</parametername>
</parameternamelist>
<parameterdescription>
<para>represents the query parameter of which the value is returned </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.h" line="160" column="15" bodyfile="src/httpserver.cpp" bodystart="730" bodyend="755" declfile="src/httpserver.h" declline="160" declcolumn="15"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2015-present<sp/>The<sp/>Bitcoin<sp/>Core<sp/>developers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Distributed<sp/>under<sp/>the<sp/>MIT<sp/>software<sp/>license,<sp/>see<sp/>the<sp/>accompanying</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>file<sp/>COPYING<sp/>or<sp/>http://www.opensource.org/licenses/mit-license.php.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>BITCOIN_HTTPSERVER_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BITCOIN_HTTPSERVER_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;functional&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;optional&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;span&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="namespaceutil" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceutil" kindref="compound">util</ref><sp/>{</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classutil_1_1_signal_interrupt" kindref="compound">SignalInterrupt</ref>;</highlight></codeline>
<codeline lineno="15"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>util</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>DEFAULT_HTTP_THREADS=16;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>DEFAULT_HTTP_WORKQUEUE=64;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>DEFAULT_HTTP_SERVER_TIMEOUT=30;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">evhttp_request;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">event_base;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_service" kindref="compound">CService</ref>;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_h_t_t_p_request" kindref="compound">HTTPRequest</ref>;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="httpserver_8h_1aa5183260b12c1ce706dad5b454a44cec" kindref="member">InitHTTPServer</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref>&amp;<sp/>interrupt);</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="httpserver_8h_1a4fd74612426e28d4678557f401066d96" kindref="member">StartHTTPServer</ref>();</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="httpserver_8h_1a0a02b6576090c9fde2eed21b9aa7dc0c" kindref="member">InterruptHTTPServer</ref>();</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="httpserver_8h_1ad95d08d62c15b43d52fdba7b7ecaa0aa" kindref="member">StopHTTPServer</ref>();</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="httpserver_8h_1a5d061de02f52817cc3e5957046dbf766" kindref="member">UpdateHTTPServerLogging</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>enable);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="53" refid="httpserver_8h_1ac21c51cfc9edce52ebe847dee0571a0a" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>std::function&lt;bool(<ref refid="class_h_t_t_p_request" kindref="compound">HTTPRequest</ref>*<sp/>req,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>&amp;)&gt;<sp/><ref refid="httpserver_8h_1ac21c51cfc9edce52ebe847dee0571a0a" kindref="member">HTTPRequestHandler</ref>;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="httpserver_8h_1a43a4c24762a6af819e364b55820323ed" kindref="member">RegisterHTTPHandler</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>&amp;<ref refid="rest_8cpp_1a5b41c5ae4505891e6c53e26df197e02b" kindref="member">prefix</ref>,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>exactMatch,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="httpserver_8h_1ac21c51cfc9edce52ebe847dee0571a0a" kindref="member">HTTPRequestHandler</ref><sp/>&amp;<ref refid="rest_8cpp_1a69e29ff93cc45cfc17d3be13aa2e2182" kindref="member">handler</ref>);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="httpserver_8h_1a42d2567faa003c410a310a9c4e36ebdc" kindref="member">UnregisterHTTPHandler</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>&amp;<ref refid="rest_8cpp_1a5b41c5ae4505891e6c53e26df197e02b" kindref="member">prefix</ref>,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>exactMatch);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">event_base*<sp/><ref refid="httpserver_8h_1a678938523347079b4dd5fabc47efdbbc" kindref="member">EventBase</ref>();</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="class_h_t_t_p_request" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_h_t_t_p_request_1a695d4e0bd48770aed385799a1d3a43b0" kindref="member">HTTPRequest</ref></highlight></codeline>
<codeline lineno="71"><highlight class="normal">{</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">evhttp_request*<sp/>req;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref>&amp;<sp/>m_interrupt;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>replySent;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_request_1a695d4e0bd48770aed385799a1d3a43b0" kindref="member">HTTPRequest</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>evhttp_request*<sp/>req,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref>&amp;<sp/>interrupt,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>replySent<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_request_1a2267d5cb0d2d7249ec706fab1039f515" kindref="member">~HTTPRequest</ref>();</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81" refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1" kindref="member">RequestMethod</ref><sp/>{</highlight></codeline>
<codeline lineno="82" refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1a6ce26a62afab55d7606ad4e92428b30c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1a6ce26a62afab55d7606ad4e92428b30c" kindref="member">UNKNOWN</ref>,</highlight></codeline>
<codeline lineno="83" refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1a12a8dcf59c16b5aadfda3a08ba67d529" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1a12a8dcf59c16b5aadfda3a08ba67d529" kindref="member">GET</ref>,</highlight></codeline>
<codeline lineno="84" refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1a368c5bc07109370b819193871352b926" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1a368c5bc07109370b819193871352b926" kindref="member">POST</ref>,</highlight></codeline>
<codeline lineno="85" refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1a0b0955668575b21eb0ab2272aef49f76" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1a0b0955668575b21eb0ab2272aef49f76" kindref="member">HEAD</ref>,</highlight></codeline>
<codeline lineno="86" refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1afec39d40e8bc9e12afa614df5ddb9fa9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1afec39d40e8bc9e12afa614df5ddb9fa9" kindref="member">PUT</ref></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="class_h_t_t_p_request_1a0e9ec0f515c6ada8362483c99ffccc50" kindref="member">GetURI</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_service" kindref="compound">CService</ref><sp/><ref refid="class_h_t_t_p_request_1a53e93f86754005bcf0b38aab4705cf33" kindref="member">GetPeer</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_request_1a667255974fbff6d39bc2e840d46f47e1" kindref="member">RequestMethod</ref><sp/><ref refid="class_h_t_t_p_request_1a4fd1a07ea7c4b01bf9f36ff4fef3a013" kindref="member">GetRequestMethod</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;std::string&gt;<sp/><ref refid="class_h_t_t_p_request_1a4c8d3ca82089f916e360d1d06cf09dbf" kindref="member">GetQueryParameter</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>key)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>std::pair&lt;bool,<sp/>std::string&gt;<sp/><ref refid="class_h_t_t_p_request_1a9e1943c284613b342fb3e95d8f6358f9" kindref="member">GetHeader</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>hdr)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="class_h_t_t_p_request_1a9af24083ca63a8466df045fef1450fd4" kindref="member">ReadBody</ref>();</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_request_1a5b0ce9b581c5594a105dc778d7e0d12e" kindref="member">WriteHeader</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>hdr,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>value);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="141" refid="class_h_t_t_p_request_1a4f1b66cf11060b823e7a3efa913ea89c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_request_1a4f1b66cf11060b823e7a3efa913ea89c" kindref="member">WriteReply</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nStatus,<sp/>std::string_view<sp/>reply<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_request_1a4f1b66cf11060b823e7a3efa913ea89c" kindref="member">WriteReply</ref>(nStatus,<sp/>std::as_bytes(std::span{reply}));</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_request_1a4f1b66cf11060b823e7a3efa913ea89c" kindref="member">WriteReply</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nStatus,<sp/>std::span&lt;const<sp/>std::byte&gt;<sp/>reply);</highlight></codeline>
<codeline lineno="146"><highlight class="normal">};</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal">std::optional&lt;std::string&gt;<sp/><ref refid="httpserver_8h_1a4b96025548083ad61a3b0847621c7a74" kindref="member">GetQueryParameterFromUri</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>uri,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>key);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="164" refid="class_h_t_t_p_closure" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_h_t_t_p_closure" kindref="compound">HTTPClosure</ref></highlight></codeline>
<codeline lineno="165"><highlight class="normal">{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="167" refid="class_h_t_t_p_closure_1a324459cde4e05e4de96adba1787c5240" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_closure_1a324459cde4e05e4de96adba1787c5240" kindref="member">operator()</ref>()<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="168" refid="class_h_t_t_p_closure_1ad251ffac6731653da94db224c2c3029c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_closure_1ad251ffac6731653da94db224c2c3029c" kindref="member">~HTTPClosure</ref>()<sp/>=<sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="169"><highlight class="normal">};</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="173" refid="class_h_t_t_p_event" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_h_t_t_p_event_1ae48c3a1b22e03e14ecf1a03f6f3e915b" kindref="member">HTTPEvent</ref></highlight></codeline>
<codeline lineno="174"><highlight class="normal">{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_event_1ae48c3a1b22e03e14ecf1a03f6f3e915b" kindref="member">HTTPEvent</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>event_base*<sp/>base,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_event_1a299c642950b2e625a94f220ba8b8fbe5" kindref="member">deleteWhenTriggered</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::function&lt;</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">()&gt;&amp;<sp/><ref refid="class_h_t_t_p_event_1a1c8ae68ed35607285ff0ad335e122df7" kindref="member">handler</ref>);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_h_t_t_p_event_1a8dd4fe1ae9499f5e8274415417d52b8f" kindref="member">~HTTPEvent</ref>();</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_event_1a8396615b042f37d591ff2fd8d2470c68" kindref="member">trigger</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>timeval*<sp/>tv);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="class_h_t_t_p_event_1a299c642950b2e625a94f220ba8b8fbe5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_h_t_t_p_event_1a299c642950b2e625a94f220ba8b8fbe5" kindref="member">deleteWhenTriggered</ref>;</highlight></codeline>
<codeline lineno="189" refid="class_h_t_t_p_event_1a1c8ae68ed35607285ff0ad335e122df7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::function&lt;void()&gt;<sp/><ref refid="class_h_t_t_p_event_1a1c8ae68ed35607285ff0ad335e122df7" kindref="member">handler</ref>;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">event*<sp/>ev;</highlight></codeline>
<codeline lineno="192"><highlight class="normal">};</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">//<sp/>BITCOIN_HTTPSERVER_H</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="src/httpserver.h"/>
  </compounddef>
</doxygen>
