<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="classnode_1_1_tx_orphanage" kind="class" language="C++" prot="public" abstract="yes">
    <compoundname>node::TxOrphanage</compoundname>
    <derivedcompoundref refid="classnode_1_1_tx_orphanage_impl" prot="public" virt="non-virtual">TxOrphanageImpl</derivedcompoundref>
    <includes refid="txorphanage_8h" local="no">txorphanage.h</includes>
    <innerclass refid="structnode_1_1_tx_orphanage_1_1_orphan_info" prot="public">node::TxOrphanage::OrphanInfo</innerclass>
    <sectiondef kind="public-type">
      <memberdef kind="typedef" id="classnode_1_1_tx_orphanage_1a9ecb794ec69428768c604c35c07d363c" prot="public" static="no">
        <type>int64_t</type>
        <definition>using Usage =  int64_t</definition>
        <argsstring></argsstring>
        <name>Usage</name>
        <qualifiedname>node::TxOrphanage::Usage</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="40" column="5" bodyfile="src/node/txorphanage.h" bodystart="40" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" prot="public" static="no">
        <type>unsigned int</type>
        <definition>using Count =  unsigned int</definition>
        <argsstring></argsstring>
        <name>Count</name>
        <qualifiedname>node::TxOrphanage::Count</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="41" column="5" bodyfile="src/node/txorphanage.h" bodystart="41" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a99fde298ba8065eae1392128a966cf20" prot="public" static="no" const="no" explicit="no" inline="no" virt="virtual">
        <type></type>
        <definition>virtual ~TxOrphanage</definition>
        <argsstring>()=default</argsstring>
        <name>~TxOrphanage</name>
        <qualifiedname>node::TxOrphanage::~TxOrphanage</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="56" column="13"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1aa531657413f08782ad44b53a78e3c8da" prot="public" static="no" const="no" explicit="no" inline="no" virt="pure-virtual">
        <type>bool</type>
        <definition>virtual bool AddTx</definition>
        <argsstring>(const CTransactionRef &amp;tx, NodeId peer)=0</argsstring>
        <name>AddTx</name>
        <qualifiedname>node::TxOrphanage::AddTx</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a6311d1194e412f0b309230a3114861d2">AddTx</reimplementedby>
        <param>
          <type>const <ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref> &amp;</type>
          <declname>tx</declname>
        </param>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Add a new orphan transaction </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="59" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1ae3eac48ab71e7cefb180d768f7bb5cc1" prot="public" static="no" const="no" explicit="no" inline="no" virt="pure-virtual">
        <type>bool</type>
        <definition>virtual bool AddAnnouncer</definition>
        <argsstring>(const Wtxid &amp;wtxid, NodeId peer)=0</argsstring>
        <name>AddAnnouncer</name>
        <qualifiedname>node::TxOrphanage::AddAnnouncer</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1ab3a6d2ce43a18dc83f7c5fc70008751f">AddAnnouncer</reimplementedby>
        <param>
          <type>const <ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref> &amp;</type>
          <declname>wtxid</declname>
        </param>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Add an additional announcer to an orphan if it exists. Otherwise, do nothing. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="62" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1af83b81a4f5c6eaccc68d75d81ed40e23" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref></type>
        <definition>virtual CTransactionRef GetTx</definition>
        <argsstring>(const Wtxid &amp;wtxid) const =0</argsstring>
        <name>GetTx</name>
        <qualifiedname>node::TxOrphanage::GetTx</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1ab9b403f36450a721644e04345a2f51e5">GetTx</reimplementedby>
        <param>
          <type>const <ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref> &amp;</type>
          <declname>wtxid</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get a transaction by its witness txid </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="65" column="29"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a4516ed2d83873aa37d9b55a51d13f4eb" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type>bool</type>
        <definition>virtual bool HaveTx</definition>
        <argsstring>(const Wtxid &amp;wtxid) const =0</argsstring>
        <name>HaveTx</name>
        <qualifiedname>node::TxOrphanage::HaveTx</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a4f45559a614ff40b1d31b6b86d85abfb">HaveTx</reimplementedby>
        <param>
          <type>const <ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref> &amp;</type>
          <declname>wtxid</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check if we already have an orphan transaction (by wtxid only) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="68" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1af6c15a01e9ebce4318f7b146a2814953" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type>bool</type>
        <definition>virtual bool HaveTxFromPeer</definition>
        <argsstring>(const Wtxid &amp;wtxid, NodeId peer) const =0</argsstring>
        <name>HaveTxFromPeer</name>
        <qualifiedname>node::TxOrphanage::HaveTxFromPeer</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a112727cb216a48442a91ce9128e8fcc3">HaveTxFromPeer</reimplementedby>
        <param>
          <type>const <ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref> &amp;</type>
          <declname>wtxid</declname>
        </param>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check if a {tx, peer} exists in the orphanage. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="71" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a165764ad1929c61b28ea4912700332d7" prot="public" static="no" const="no" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref></type>
        <definition>virtual CTransactionRef GetTxToReconsider</definition>
        <argsstring>(NodeId peer)=0</argsstring>
        <name>GetTxToReconsider</name>
        <qualifiedname>node::TxOrphanage::GetTxToReconsider</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1acf3de1e0a8dfebdaa3daf409b140a35e">GetTxToReconsider</reimplementedby>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Extract a transaction from a peer&apos;s work set, and flip it back to non-reconsiderable. Returns nullptr if there are no transactions to work on. Otherwise returns the transaction reference, and removes it from the work set. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="78" column="29"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a9a5587e663e5254ceff00d332d09762e" prot="public" static="no" const="no" explicit="no" inline="no" virt="pure-virtual">
        <type>bool</type>
        <definition>virtual bool EraseTx</definition>
        <argsstring>(const Wtxid &amp;wtxid)=0</argsstring>
        <name>EraseTx</name>
        <qualifiedname>node::TxOrphanage::EraseTx</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1ad77fb6e86f3273e6a043e1234a44edf7">EraseTx</reimplementedby>
        <param>
          <type>const <ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref> &amp;</type>
          <declname>wtxid</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Erase an orphan by wtxid, including all announcements if there are multiple. Returns true if an orphan was erased, false if no tx with this wtxid exists. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="82" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1ab26a7d7efe1a139251bd61cb15a83844" prot="public" static="no" const="no" explicit="no" inline="no" virt="pure-virtual">
        <type>void</type>
        <definition>virtual void EraseForPeer</definition>
        <argsstring>(NodeId peer)=0</argsstring>
        <name>EraseForPeer</name>
        <qualifiedname>node::TxOrphanage::EraseForPeer</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a63c9f300a9a83739990adeaea107ed53">EraseForPeer</reimplementedby>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Maybe erase all orphans announced by a peer (eg, after that peer disconnects). If an orphan has been announced by another peer, don&apos;t erase, just remove this peer from the list of announcers. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="86" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1abad7ee1d0e86f38cd0073ee488ba9683" prot="public" static="no" const="no" explicit="no" inline="no" virt="pure-virtual">
        <type>void</type>
        <definition>virtual void EraseForBlock</definition>
        <argsstring>(const CBlock &amp;block)=0</argsstring>
        <name>EraseForBlock</name>
        <qualifiedname>node::TxOrphanage::EraseForBlock</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1aba844ec93c8720893170ef3841c31993">EraseForBlock</reimplementedby>
        <param>
          <type>const <ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Erase all orphans included in or invalidated by a new block </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="89" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a76f9c7940a33f29181b8df2ed682a68f" prot="public" static="no" const="no" explicit="no" inline="no" virt="pure-virtual">
        <type>std::vector&lt; std::pair&lt; <ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref>, <ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref> &gt; &gt;</type>
        <definition>virtual std::vector&lt; std::pair&lt; Wtxid, NodeId &gt; &gt; AddChildrenToWorkSet</definition>
        <argsstring>(const CTransaction &amp;tx, FastRandomContext &amp;rng)=0</argsstring>
        <name>AddChildrenToWorkSet</name>
        <qualifiedname>node::TxOrphanage::AddChildrenToWorkSet</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1ac7035b4774c2522ffbb2647e678b56f5">AddChildrenToWorkSet</reimplementedby>
        <param>
          <type>const <ref refid="class_c_transaction" kindref="compound">CTransaction</ref> &amp;</type>
          <declname>tx</declname>
        </param>
        <param>
          <type><ref refid="class_fast_random_context" kindref="compound">FastRandomContext</ref> &amp;</type>
          <declname>rng</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Add any orphans that list a particular tx as a parent into the from peer&apos;s work set </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="92" column="25"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a2f7c4f3514fdecd6bb089d2d2f69fc41" prot="public" static="no" const="no" explicit="no" inline="no" virt="pure-virtual">
        <type>bool</type>
        <definition>virtual bool HaveTxToReconsider</definition>
        <argsstring>(NodeId peer)=0</argsstring>
        <name>HaveTxToReconsider</name>
        <qualifiedname>node::TxOrphanage::HaveTxToReconsider</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1ae2e9ddbc5f40025f7674e4ae7e7741f4">HaveTxToReconsider</reimplementedby>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Does this peer have any work to do? </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="95" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a996808ef7fe314f06050e1830dfb91a8" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type>std::vector&lt; <ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref> &gt;</type>
        <definition>virtual std::vector&lt; CTransactionRef &gt; GetChildrenFromSamePeer</definition>
        <argsstring>(const CTransactionRef &amp;parent, NodeId nodeid) const =0</argsstring>
        <name>GetChildrenFromSamePeer</name>
        <qualifiedname>node::TxOrphanage::GetChildrenFromSamePeer</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a9a3e662b5788d500ee081c1e31ea225a">GetChildrenFromSamePeer</reimplementedby>
        <param>
          <type>const <ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref> &amp;</type>
          <declname>parent</declname>
        </param>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>nodeid</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get all children that spend from this tx and were received from nodeid. Sorted reconsiderable before non-reconsiderable, then from most recent to least recent. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="99" column="25"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1af76a7ae7bb57b16ce8866fb918563fcc" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type>std::vector&lt; <ref refid="structnode_1_1_tx_orphanage_1_1_orphan_info" kindref="compound">OrphanInfo</ref> &gt;</type>
        <definition>virtual std::vector&lt; OrphanInfo &gt; GetOrphanTransactions</definition>
        <argsstring>() const =0</argsstring>
        <name>GetOrphanTransactions</name>
        <qualifiedname>node::TxOrphanage::GetOrphanTransactions</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a4c1120cab86aec07749a1688768c0913">GetOrphanTransactions</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get all orphan transactions </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="102" column="25"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a8edacb81bb219e9c6dd9777481ca96f4" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1a9ecb794ec69428768c604c35c07d363c" kindref="member">Usage</ref></type>
        <definition>virtual Usage TotalOrphanUsage</definition>
        <argsstring>() const =0</argsstring>
        <name>TotalOrphanUsage</name>
        <qualifiedname>node::TxOrphanage::TotalOrphanUsage</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a56e11520626b622d295b572d8006cc3c">TotalOrphanUsage</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the total usage (weight) of all orphans. If an orphan has multiple announcers, its usage is only counted once within this total. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="106" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a3fe86e221ae868af1263201a324b5cf1" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1a9ecb794ec69428768c604c35c07d363c" kindref="member">Usage</ref></type>
        <definition>virtual Usage UsageByPeer</definition>
        <argsstring>(NodeId peer) const =0</argsstring>
        <name>UsageByPeer</name>
        <qualifiedname>node::TxOrphanage::UsageByPeer</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a69f99d5762c844c699211e5553b7b14d">UsageByPeer</reimplementedby>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Total usage (weight) of orphans for which this peer is an announcer. If an orphan has multiple announcers, its weight will be accounted for in each PeerOrphanInfo, so the total of all peers&apos; <ref refid="classnode_1_1_tx_orphanage_1a3fe86e221ae868af1263201a324b5cf1" kindref="member">UsageByPeer()</ref> may be larger than <ref refid="classnode_1_1_tx_orphanage_1a8edacb81bb219e9c6dd9777481ca96f4" kindref="member">TotalOrphanUsage()</ref>. Similarly, <ref refid="classnode_1_1_tx_orphanage_1a3fe86e221ae868af1263201a324b5cf1" kindref="member">UsageByPeer()</ref> may be far higher than <ref refid="classnode_1_1_tx_orphanage_1a8b268d8ad483f3bda376d81ab09f12a3" kindref="member">ReservedPeerUsage()</ref>, particularly if many peers have provided the same orphans. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="112" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a1578c00743d364ac7613ec06533c3abe" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type>void</type>
        <definition>virtual void SanityCheck</definition>
        <argsstring>() const =0</argsstring>
        <name>SanityCheck</name>
        <qualifiedname>node::TxOrphanage::SanityCheck</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a7cfa79e5dde0137b76d1741b2f2e01b3">SanityCheck</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check consistency between PeerOrphanInfo and m_orphans. Recalculate counters and ensure they match what is cached. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="116" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1ac53a36cf19fc6acc0b73fc976cb3e218" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">Count</ref></type>
        <definition>virtual Count CountAnnouncements</definition>
        <argsstring>() const =0</argsstring>
        <name>CountAnnouncements</name>
        <qualifiedname>node::TxOrphanage::CountAnnouncements</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a6a70a93655917625994eac1ced83dea6">CountAnnouncements</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Number of announcements, i.e. total size of m_orphans. Ones for the same wtxid are not de-duplicated. Not the same as <ref refid="classnode_1_1_tx_orphanage_1a8a5bf58a85a372e75424bce8b15ecf6b" kindref="member">TotalLatencyScore()</ref>. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="120" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a75c5c956dccb034646e2829beec1659f" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">Count</ref></type>
        <definition>virtual Count CountUniqueOrphans</definition>
        <argsstring>() const =0</argsstring>
        <name>CountUniqueOrphans</name>
        <qualifiedname>node::TxOrphanage::CountUniqueOrphans</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a5b7e314fd88b3c5e9c0275b17595fa25">CountUniqueOrphans</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Number of unique orphans (by wtxid). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="123" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a6f996bbda476e87e49520c74353e7406" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">Count</ref></type>
        <definition>virtual Count AnnouncementsFromPeer</definition>
        <argsstring>(NodeId peer) const =0</argsstring>
        <name>AnnouncementsFromPeer</name>
        <qualifiedname>node::TxOrphanage::AnnouncementsFromPeer</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a5b13c903511e599de8d79521a1d53924">AnnouncementsFromPeer</reimplementedby>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Number of orphans stored from this peer. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="126" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1aff2ad97a2e114b87c24284f1f2ef8f90" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">Count</ref></type>
        <definition>virtual Count LatencyScoreFromPeer</definition>
        <argsstring>(NodeId peer) const =0</argsstring>
        <name>LatencyScoreFromPeer</name>
        <qualifiedname>node::TxOrphanage::LatencyScoreFromPeer</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a2c2d4675760152df769173a4ecf90408">LatencyScoreFromPeer</reimplementedby>
        <param>
          <type><ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>peer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Latency score of transactions announced by this peer. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="129" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1ada1ad3e5b3ebc38a71edd1febb2e9e04" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">Count</ref></type>
        <definition>virtual Count MaxGlobalLatencyScore</definition>
        <argsstring>() const =0</argsstring>
        <name>MaxGlobalLatencyScore</name>
        <qualifiedname>node::TxOrphanage::MaxGlobalLatencyScore</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a503cd86bd86ad37812d0fec65e283e58">MaxGlobalLatencyScore</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the maximum global latency score allowed </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="132" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a8a5bf58a85a372e75424bce8b15ecf6b" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">Count</ref></type>
        <definition>virtual Count TotalLatencyScore</definition>
        <argsstring>() const =0</argsstring>
        <name>TotalLatencyScore</name>
        <qualifiedname>node::TxOrphanage::TotalLatencyScore</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a8be44c83a1c8b0773976d1f8fadf80e9">TotalLatencyScore</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the total latency score of all orphans </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="135" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1a8b268d8ad483f3bda376d81ab09f12a3" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1a9ecb794ec69428768c604c35c07d363c" kindref="member">Usage</ref></type>
        <definition>virtual Usage ReservedPeerUsage</definition>
        <argsstring>() const =0</argsstring>
        <name>ReservedPeerUsage</name>
        <qualifiedname>node::TxOrphanage::ReservedPeerUsage</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a58091790f282f4764cd64eb3c5a3f390">ReservedPeerUsage</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the reserved usage per peer </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="138" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1ab9190a80136a26be949e6ae168966bcf" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">Count</ref></type>
        <definition>virtual Count MaxPeerLatencyScore</definition>
        <argsstring>() const =0</argsstring>
        <name>MaxPeerLatencyScore</name>
        <qualifiedname>node::TxOrphanage::MaxPeerLatencyScore</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1ac5414c7e5fb36ac91ffae05d7b028014">MaxPeerLatencyScore</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the maximum latency score allowed per peer </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="141" column="19"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_tx_orphanage_1ae600e63b5d0f9356d11ecfc5132663db" prot="public" static="no" const="yes" explicit="no" inline="no" virt="pure-virtual">
        <type><ref refid="classnode_1_1_tx_orphanage_1a9ecb794ec69428768c604c35c07d363c" kindref="member">Usage</ref></type>
        <definition>virtual Usage MaxGlobalUsage</definition>
        <argsstring>() const =0</argsstring>
        <name>MaxGlobalUsage</name>
        <qualifiedname>node::TxOrphanage::MaxGlobalUsage</qualifiedname>
        <reimplementedby refid="classnode_1_1_tx_orphanage_impl_1a21b70c9610e62a78775200bcdaf13896">MaxGlobalUsage</reimplementedby>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the maximum global usage allowed </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.h" line="144" column="19"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>A class to track orphan transactions (failed on TX_MISSING_INPUTS) Since we cannot distinguish orphans from bad transactions with non-existent inputs, we heavily limit the amount of announcements (unique (<ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref>, wtxid) pairs), the number of inputs, and size of the orphans stored (both individual and summed). We also try to prevent adversaries from churning this data structure: once global limits are reached, we continuously evict the oldest announcement (sorting non-reconsiderable orphans before reconsiderable ones) from the most resource-intensive peer until we are back within limits.<itemizedlist>
<listitem><para>Peers can exceed their individual limits (e.g. because they are very useful transaction relay peers) as long as the global limits are not exceeded.</para>
</listitem><listitem><para>As long as the orphan has 1 announcer, it remains in the orphanage.</para>
</listitem><listitem><para>No peer can trigger the eviction of another peer&apos;s orphans.</para>
</listitem><listitem><para>Peers&apos; orphans are effectively protected from eviction as long as they don&apos;t exceed their limits. Not thread-safe. Requires external synchronization. </para>
</listitem></itemizedlist>
</para>
    </detaileddescription>
    <inheritancegraph>
      <node id="1">
        <label>TxOrphanage</label>
        <link refid="classnode_1_1_tx_orphanage"/>
      </node>
      <node id="2">
        <label>TxOrphanageImpl</label>
        <link refid="classnode_1_1_tx_orphanage_impl"/>
        <childnode refid="1" relation="public-inheritance">
        </childnode>
      </node>
    </inheritancegraph>
    <location file="src/node/txorphanage.h" line="38" column="1" bodyfile="src/node/txorphanage.h" bodystart="38" bodyend="145"/>
    <listofallmembers>
      <member refid="classnode_1_1_tx_orphanage_1ae3eac48ab71e7cefb180d768f7bb5cc1" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>AddAnnouncer</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a76f9c7940a33f29181b8df2ed682a68f" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>AddChildrenToWorkSet</name></member>
      <member refid="classnode_1_1_tx_orphanage_1aa531657413f08782ad44b53a78e3c8da" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>AddTx</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a6f996bbda476e87e49520c74353e7406" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>AnnouncementsFromPeer</name></member>
      <member refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" prot="public" virt="non-virtual"><scope>node::TxOrphanage</scope><name>Count</name></member>
      <member refid="classnode_1_1_tx_orphanage_1ac53a36cf19fc6acc0b73fc976cb3e218" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>CountAnnouncements</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a75c5c956dccb034646e2829beec1659f" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>CountUniqueOrphans</name></member>
      <member refid="classnode_1_1_tx_orphanage_1abad7ee1d0e86f38cd0073ee488ba9683" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>EraseForBlock</name></member>
      <member refid="classnode_1_1_tx_orphanage_1ab26a7d7efe1a139251bd61cb15a83844" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>EraseForPeer</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a9a5587e663e5254ceff00d332d09762e" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>EraseTx</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a996808ef7fe314f06050e1830dfb91a8" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>GetChildrenFromSamePeer</name></member>
      <member refid="classnode_1_1_tx_orphanage_1af76a7ae7bb57b16ce8866fb918563fcc" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>GetOrphanTransactions</name></member>
      <member refid="classnode_1_1_tx_orphanage_1af83b81a4f5c6eaccc68d75d81ed40e23" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>GetTx</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a165764ad1929c61b28ea4912700332d7" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>GetTxToReconsider</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a4516ed2d83873aa37d9b55a51d13f4eb" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>HaveTx</name></member>
      <member refid="classnode_1_1_tx_orphanage_1af6c15a01e9ebce4318f7b146a2814953" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>HaveTxFromPeer</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a2f7c4f3514fdecd6bb089d2d2f69fc41" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>HaveTxToReconsider</name></member>
      <member refid="classnode_1_1_tx_orphanage_1aff2ad97a2e114b87c24284f1f2ef8f90" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>LatencyScoreFromPeer</name></member>
      <member refid="classnode_1_1_tx_orphanage_1ada1ad3e5b3ebc38a71edd1febb2e9e04" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>MaxGlobalLatencyScore</name></member>
      <member refid="classnode_1_1_tx_orphanage_1ae600e63b5d0f9356d11ecfc5132663db" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>MaxGlobalUsage</name></member>
      <member refid="classnode_1_1_tx_orphanage_1ab9190a80136a26be949e6ae168966bcf" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>MaxPeerLatencyScore</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a8b268d8ad483f3bda376d81ab09f12a3" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>ReservedPeerUsage</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a1578c00743d364ac7613ec06533c3abe" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>SanityCheck</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a8a5bf58a85a372e75424bce8b15ecf6b" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>TotalLatencyScore</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a8edacb81bb219e9c6dd9777481ca96f4" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>TotalOrphanUsage</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a9ecb794ec69428768c604c35c07d363c" prot="public" virt="non-virtual"><scope>node::TxOrphanage</scope><name>Usage</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a3fe86e221ae868af1263201a324b5cf1" prot="public" virt="pure-virtual"><scope>node::TxOrphanage</scope><name>UsageByPeer</name></member>
      <member refid="classnode_1_1_tx_orphanage_1a99fde298ba8065eae1392128a966cf20" prot="public" virt="virtual"><scope>node::TxOrphanage</scope><name>~TxOrphanage</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
