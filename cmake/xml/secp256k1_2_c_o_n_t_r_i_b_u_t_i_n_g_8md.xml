<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="secp256k1_2_c_o_n_t_r_i_b_u_t_i_n_g_8md" kind="file" language="Markdown">
    <compoundname>CONTRIBUTING.md</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline><highlight class="normal">#<sp/>Contributing<sp/>to<sp/>libsecp256k1</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Scope</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">libsecp256k1<sp/>is<sp/>a<sp/>library<sp/>for<sp/>elliptic<sp/>curve<sp/>cryptography<sp/>on<sp/>the<sp/>curve<sp/>secp256k1,<sp/>not<sp/>a<sp/>general-purpose<sp/>cryptography<sp/>library.</highlight></codeline>
<codeline><highlight class="normal">The<sp/>library<sp/>primarily<sp/>serves<sp/>the<sp/>needs<sp/>of<sp/>the<sp/>Bitcoin<sp/>Core<sp/>project<sp/>but<sp/>provides<sp/>additional<sp/>functionality<sp/>for<sp/>the<sp/>benefit<sp/>of<sp/>the<sp/>wider<sp/>Bitcoin<sp/>ecosystem.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Adding<sp/>new<sp/>functionality<sp/>or<sp/>modules</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>libsecp256k1<sp/>project<sp/>welcomes<sp/>contributions<sp/>in<sp/>the<sp/>form<sp/>of<sp/>new<sp/>functionality<sp/>or<sp/>modules,<sp/>provided<sp/>they<sp/>are<sp/>within<sp/>the<sp/>project&apos;s<sp/>scope.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">It<sp/>is<sp/>the<sp/>responsibility<sp/>of<sp/>the<sp/>contributors<sp/>to<sp/>convince<sp/>the<sp/>maintainers<sp/>that<sp/>the<sp/>proposed<sp/>functionality<sp/>is<sp/>within<sp/>the<sp/>project&apos;s<sp/>scope,<sp/>high-quality<sp/>and<sp/>maintainable.</highlight></codeline>
<codeline><highlight class="normal">Contributors<sp/>are<sp/>recommended<sp/>to<sp/>provide<sp/>the<sp/>following<sp/>in<sp/>addition<sp/>to<sp/>the<sp/>new<sp/>code:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>**Specification:**</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>A<sp/>specification<sp/>can<sp/>help<sp/>significantly<sp/>in<sp/>reviewing<sp/>the<sp/>new<sp/>code<sp/>as<sp/>it<sp/>provides<sp/>documentation<sp/>and<sp/>context.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>It<sp/>may<sp/>justify<sp/>various<sp/>design<sp/>decisions,<sp/>give<sp/>a<sp/>motivation<sp/>and<sp/>outline<sp/>security<sp/>goals.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>specification<sp/>contains<sp/>pseudocode,<sp/>a<sp/>reference<sp/>implementation<sp/>or<sp/>test<sp/>vectors,<sp/>these<sp/>can<sp/>be<sp/>used<sp/>to<sp/>compare<sp/>with<sp/>the<sp/>proposed<sp/>libsecp256k1<sp/>code.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>**Security<sp/>Arguments:**</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>In<sp/>addition<sp/>to<sp/>a<sp/>defining<sp/>the<sp/>security<sp/>goals,<sp/>it<sp/>should<sp/>be<sp/>argued<sp/>that<sp/>the<sp/>new<sp/>functionality<sp/>meets<sp/>these<sp/>goals.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Depending<sp/>on<sp/>the<sp/>nature<sp/>of<sp/>the<sp/>new<sp/>functionality,<sp/>a<sp/>wide<sp/>range<sp/>of<sp/>security<sp/>arguments<sp/>are<sp/>acceptable,<sp/>ranging<sp/>from<sp/>being<sp/>&quot;obviously<sp/>secure&quot;<sp/>to<sp/>rigorous<sp/>proofs<sp/>of<sp/>security.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>**Relevance<sp/>Arguments:**</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>The<sp/>relevance<sp/>of<sp/>the<sp/>new<sp/>functionality<sp/>for<sp/>the<sp/>Bitcoin<sp/>ecosystem<sp/>should<sp/>be<sp/>argued<sp/>by<sp/>outlining<sp/>clear<sp/>use<sp/>cases.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">These<sp/>are<sp/>not<sp/>the<sp/>only<sp/>factors<sp/>taken<sp/>into<sp/>account<sp/>when<sp/>considering<sp/>to<sp/>add<sp/>new<sp/>functionality.</highlight></codeline>
<codeline><highlight class="normal">The<sp/>proposed<sp/>new<sp/>libsecp256k1<sp/>code<sp/>must<sp/>be<sp/>of<sp/>high<sp/>quality,<sp/>including<sp/>API<sp/>documentation<sp/>and<sp/>tests,<sp/>as<sp/>well<sp/>as<sp/>featuring<sp/>a<sp/>misuse-resistant<sp/>API<sp/>design.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">We<sp/>recommend<sp/>reaching<sp/>out<sp/>to<sp/>other<sp/>contributors<sp/>(see<sp/>[Communication<sp/>Channels](#communication-channels))<sp/>and<sp/>get<sp/>feedback<sp/>before<sp/>implementing<sp/>new<sp/>functionality.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Communication<sp/>channels</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Most<sp/>communication<sp/>about<sp/>libsecp256k1<sp/>occurs<sp/>on<sp/>the<sp/>GitHub<sp/>repository:<sp/>in<sp/>issues,<sp/>pull<sp/>request<sp/>or<sp/>on<sp/>the<sp/>discussion<sp/>board.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Additionally,<sp/>there<sp/>is<sp/>an<sp/>IRC<sp/>channel<sp/>dedicated<sp/>to<sp/>libsecp256k1,<sp/>with<sp/>biweekly<sp/>meetings<sp/>(see<sp/>channel<sp/>topic).</highlight></codeline>
<codeline><highlight class="normal">The<sp/>channel<sp/>is<sp/>`#secp256k1`<sp/>on<sp/>Libera<sp/>Chat.</highlight></codeline>
<codeline><highlight class="normal">The<sp/>easiest<sp/>way<sp/>to<sp/>participate<sp/>on<sp/>IRC<sp/>is<sp/>with<sp/>the<sp/>web<sp/>client,<sp/>[web.libera.chat](https://web.libera.chat/#secp256k1).</highlight></codeline>
<codeline><highlight class="normal">Chat<sp/>history<sp/>logs<sp/>can<sp/>be<sp/>found<sp/>at<sp/>https://gnusha.org/secp256k1/.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Contributor<sp/>workflow<sp/>&amp;<sp/>peer<sp/>review</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>Contributor<sp/>Workflow<sp/>&amp;<sp/>Peer<sp/>Review<sp/>in<sp/>libsecp256k1<sp/>are<sp/>similar<sp/>to<sp/>Bitcoin<sp/>Core&apos;s<sp/>workflow<sp/>and<sp/>review<sp/>processes<sp/>described<sp/>in<sp/>its<sp/>[CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md).</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Coding<sp/>conventions</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">In<sp/>addition,<sp/>libsecp256k1<sp/>tries<sp/>to<sp/>maintain<sp/>the<sp/>following<sp/>coding<sp/>conventions:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>No<sp/>runtime<sp/>heap<sp/>allocation<sp/>(e.g.,<sp/>no<sp/>`malloc`)<sp/>unless<sp/>explicitly<sp/>requested<sp/>by<sp/>the<sp/>caller<sp/>(via<sp/>`secp256k1_context_create`<sp/>or<sp/>`secp256k1_scratch_space_create`,<sp/>for<sp/>example).<sp/>Moreover,<sp/>it<sp/>should<sp/>be<sp/>possible<sp/>to<sp/>use<sp/>the<sp/>library<sp/>without<sp/>any<sp/>heap<sp/>allocations.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>The<sp/>tests<sp/>should<sp/>cover<sp/>all<sp/>lines<sp/>and<sp/>branches<sp/>of<sp/>the<sp/>library<sp/>(see<sp/>[Test<sp/>coverage](#coverage)).</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Operations<sp/>involving<sp/>secret<sp/>data<sp/>should<sp/>be<sp/>tested<sp/>for<sp/>being<sp/>constant<sp/>time<sp/>with<sp/>respect<sp/>to<sp/>the<sp/>secrets<sp/>(see<sp/>[src/ctime_tests.c](src/ctime_tests.c)).</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Local<sp/>variables<sp/>containing<sp/>secret<sp/>data<sp/>should<sp/>be<sp/>cleared<sp/>explicitly<sp/>to<sp/>try<sp/>to<sp/>delete<sp/>secrets<sp/>from<sp/>memory.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Use<sp/>`secp256k1_memcmp_var`<sp/>instead<sp/>of<sp/>`memcmp`<sp/>(see<sp/>[#823](https://github.com/bitcoin-core/secp256k1/issues/823)).</highlight></codeline>
<codeline><highlight class="normal">*<sp/>As<sp/>a<sp/>rule<sp/>of<sp/>thumb,<sp/>the<sp/>default<sp/>values<sp/>for<sp/>configuration<sp/>options<sp/>should<sp/>target<sp/>standard<sp/>desktop<sp/>machines<sp/>and<sp/>align<sp/>with<sp/>Bitcoin<sp/>Core&apos;s<sp/>defaults,<sp/>and<sp/>the<sp/>tests<sp/>should<sp/>mostly<sp/>exercise<sp/>the<sp/>default<sp/>configuration<sp/>(see<sp/>[#1549](https://github.com/bitcoin-core/secp256k1/issues/1549#issuecomment-2200559257)).</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">####<sp/>Style<sp/>conventions</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>Commits<sp/>should<sp/>be<sp/>atomic<sp/>and<sp/>diffs<sp/>should<sp/>be<sp/>easy<sp/>to<sp/>read.<sp/>For<sp/>this<sp/>reason,<sp/>do<sp/>not<sp/>mix<sp/>any<sp/>formatting<sp/>fixes<sp/>or<sp/>code<sp/>moves<sp/>with<sp/>actual<sp/>code<sp/>changes.<sp/>Make<sp/>sure<sp/>each<sp/>individual<sp/>commit<sp/>is<sp/>hygienic:<sp/>that<sp/>it<sp/>builds<sp/>successfully<sp/>on<sp/>its<sp/>own<sp/>without<sp/>warnings,<sp/>errors,<sp/>regressions,<sp/>or<sp/>test<sp/>failures.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>New<sp/>code<sp/>should<sp/>adhere<sp/>to<sp/>the<sp/>style<sp/>of<sp/>existing,<sp/>in<sp/>particular<sp/>surrounding,<sp/>code.<sp/>Other<sp/>than<sp/>that,<sp/>we<sp/>do<sp/>not<sp/>enforce<sp/>strict<sp/>rules<sp/>for<sp/>code<sp/>formatting.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>The<sp/>code<sp/>conforms<sp/>to<sp/>C89.<sp/>Most<sp/>notably,<sp/>that<sp/>means<sp/>that<sp/>only<sp/>`/*<sp/>...<sp/>*/`<sp/>comments<sp/>are<sp/>allowed<sp/>(no<sp/>`//`<sp/>line<sp/>comments).<sp/>Moreover,<sp/>any<sp/>declarations<sp/>in<sp/>a<sp/>`{<sp/>...<sp/>}`<sp/>block<sp/>(e.g.,<sp/>a<sp/>function)<sp/>must<sp/>appear<sp/>at<sp/>the<sp/>beginning<sp/>of<sp/>the<sp/>block<sp/>before<sp/>any<sp/>statements.<sp/>When<sp/>you<sp/>would<sp/>like<sp/>to<sp/>declare<sp/>a<sp/>variable<sp/>in<sp/>the<sp/>middle<sp/>of<sp/>a<sp/>block,<sp/>you<sp/>can<sp/>open<sp/>a<sp/>new<sp/>block:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>```C</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>void<sp/>secp256k_foo(void)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>unsigned<sp/>int<sp/>x;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>/*<sp/>declaration<sp/>*/</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int<sp/>y<sp/>=<sp/>2*x;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>/*<sp/>declaration<sp/>*/</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>17;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>/*<sp/>statement<sp/>*/</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int<sp/>a,<sp/>b;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>/*<sp/>declaration<sp/>*/</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>=<sp/>x<sp/>+<sp/>y;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>/*<sp/>statement<sp/>*/</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>secp256k_bar(x,<sp/>&amp;b);<sp/><sp/><sp/><sp/><sp/>/*<sp/>statement<sp/>*/</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>```</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Use<sp/>`unsigned<sp/>int`<sp/>instead<sp/>of<sp/>just<sp/>`unsigned`.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Use<sp/>`void<sp/>*ptr`<sp/>instead<sp/>of<sp/>`void*<sp/>ptr`.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Arguments<sp/>of<sp/>the<sp/>publicly-facing<sp/>API<sp/>must<sp/>have<sp/>a<sp/>specific<sp/>order<sp/>defined<sp/>in<sp/>[include/secp256k1.h](include/secp256k1.h).</highlight></codeline>
<codeline><highlight class="normal">*<sp/>User-facing<sp/>comment<sp/>lines<sp/>in<sp/>headers<sp/>should<sp/>be<sp/>limited<sp/>to<sp/>80<sp/>chars<sp/>if<sp/>possible.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>All<sp/>identifiers<sp/>in<sp/>file<sp/>scope<sp/>should<sp/>start<sp/>with<sp/>`secp256k1_`.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Avoid<sp/>trailing<sp/>whitespace.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Use<sp/>the<sp/>constants<sp/>`EXIT_SUCCESS`/`EXIT_FAILURE`<sp/>(defined<sp/>in<sp/>`stdlib.h`)<sp/>to<sp/>indicate<sp/>program<sp/>execution<sp/>status<sp/>for<sp/>examples<sp/>and<sp/>other<sp/>binaries.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Tests</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">####<sp/>Coverage</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">This<sp/>library<sp/>aims<sp/>to<sp/>have<sp/>full<sp/>coverage<sp/>of<sp/>reachable<sp/>lines<sp/>and<sp/>branches.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>create<sp/>a<sp/>test<sp/>coverage<sp/>report,<sp/>configure<sp/>with<sp/>`--enable-coverage`<sp/>(use<sp/>of<sp/>GCC<sp/>is<sp/>necessary):</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$<sp/>./configure<sp/>--enable-coverage</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Run<sp/>the<sp/>tests:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$<sp/>make<sp/>check</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>create<sp/>a<sp/>report,<sp/>`gcovr`<sp/>is<sp/>recommended,<sp/>as<sp/>it<sp/>includes<sp/>branch<sp/>coverage<sp/>reporting:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$<sp/>gcovr<sp/>--gcov-ignore-parse-errors=all<sp/>--merge-mode-functions=separate<sp/>--exclude<sp/>&apos;src/bench*&apos;<sp/>--exclude<sp/>&apos;src/modules/.*/bench_impl.h&apos;<sp/>--print-summary</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>create<sp/>a<sp/>HTML<sp/>report<sp/>with<sp/>coloured<sp/>and<sp/>annotated<sp/>source<sp/>code:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$<sp/>mkdir<sp/>-p<sp/>coverage</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$<sp/>gcovr<sp/>--gcov-ignore-parse-errors=all<sp/>--merge-mode-functions=separate<sp/>--exclude<sp/>&apos;src/bench*&apos;<sp/>--exclude<sp/>&apos;src/modules/.*/bench_impl.h&apos;<sp/>--html<sp/>--html-details<sp/>-o<sp/>coverage/coverage.html</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">On<sp/>`gcovr`<sp/>&gt;=8.3,<sp/>`--gcov-ignore-parse-errors=all`<sp/>can<sp/>be<sp/>replaced<sp/>with<sp/>`--gcov-suspicious-hits-threshold=140737488355330`.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">####<sp/>Exhaustive<sp/>tests</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">There<sp/>are<sp/>tests<sp/>of<sp/>several<sp/>functions<sp/>in<sp/>which<sp/>a<sp/>small<sp/>group<sp/>replaces<sp/>secp256k1.</highlight></codeline>
<codeline><highlight class="normal">These<sp/>tests<sp/>are<sp/>*exhaustive*<sp/>since<sp/>they<sp/>provide<sp/>all<sp/>elements<sp/>and<sp/>scalars<sp/>of<sp/>the<sp/>small<sp/>group<sp/>as<sp/>input<sp/>arguments<sp/>(see<sp/>[src/tests_exhaustive.c](src/tests_exhaustive.c)).</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Benchmarks</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">See<sp/>`src/bench*.c`<sp/>for<sp/>examples<sp/>of<sp/>benchmarks.</highlight></codeline>
    </programlisting>
    <location file="src/secp256k1/CONTRIBUTING.md"/>
  </compounddef>
</doxygen>
