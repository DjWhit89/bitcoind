<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="struct_coins_view_cache_cursor" kind="struct" language="C++" prot="public">
    <compoundname>CoinsViewCacheCursor</compoundname>
    <includes refid="coins_8h" local="no">coins.h</includes>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="struct_coins_view_cache_cursor_1a21740c1a92b2502988444eeca6b603b7" prot="private" static="no" mutable="no">
        <type><ref refid="coins_8h_1a4f73235f01457f00d91f656dffdb6235" kindref="member">CoinsCachePair</ref> &amp;</type>
        <definition>CoinsCachePair&amp; m_sentinel</definition>
        <argsstring></argsstring>
        <name>m_sentinel</name>
        <qualifiedname>CoinsViewCacheCursor::m_sentinel</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/coins.h" line="301" column="20" bodyfile="src/coins.h" bodystart="301" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="struct_coins_view_cache_cursor_1af537335e8c32316aaa092738cdf7c7a7" prot="private" static="no" mutable="no">
        <type><ref refid="coins_8h_1abb6c00f4f94a3084a430d1848fed7697" kindref="member">CCoinsMap</ref> &amp;</type>
        <definition>CCoinsMap&amp; m_map</definition>
        <argsstring></argsstring>
        <name>m_map</name>
        <qualifiedname>CoinsViewCacheCursor::m_map</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/coins.h" line="302" column="15" bodyfile="src/coins.h" bodystart="302" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="struct_coins_view_cache_cursor_1a1f61ab7f442d196fcfffda15ac7a44a0" prot="private" static="no" mutable="no">
        <type>bool</type>
        <definition>bool m_will_erase</definition>
        <argsstring></argsstring>
        <name>m_will_erase</name>
        <qualifiedname>CoinsViewCacheCursor::m_will_erase</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/coins.h" line="303" column="10" bodyfile="src/coins.h" bodystart="303" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="struct_coins_view_cache_cursor_1a567c0cfee2acda924e520264c573f44b" prot="public" static="no" const="no" explicit="no" inline="yes" noexcept="yes" virt="non-virtual">
        <type></type>
        <definition>CoinsViewCacheCursor</definition>
        <argsstring>(CoinsCachePair &amp;sentinel LIFETIMEBOUND, CCoinsMap &amp;map LIFETIMEBOUND, bool will_erase) noexcept</argsstring>
        <name>CoinsViewCacheCursor</name>
        <qualifiedname>CoinsViewCacheCursor::CoinsViewCacheCursor</qualifiedname>
        <param>
          <type><ref refid="coins_8h_1a4f73235f01457f00d91f656dffdb6235" kindref="member">CoinsCachePair</ref> &amp;sentinel</type>
          <declname>LIFETIMEBOUND</declname>
        </param>
        <param>
          <type><ref refid="coins_8h_1abb6c00f4f94a3084a430d1848fed7697" kindref="member">CCoinsMap</ref> &amp;map</type>
          <declname>LIFETIMEBOUND</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>will_erase</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>If will_erase is not set, iterating through the cursor will erase spent coins from the map, and other coins will be unflagged (removing them from the linked list). If will_erase is set, the underlying map and linked list will not be modified, as the caller is expected to wipe the entire map anyway. This is an optimization compared to erasing all entries as the cursor iterates them when will_erase is set. Calling CCoinsMap::clear() afterwards is faster because a <ref refid="coins_8h_1a4f73235f01457f00d91f656dffdb6235" kindref="member">CoinsCachePair</ref> cannot be coerced back into a CCoinsMap::iterator to be erased, and must therefore be looked up again by key in the <ref refid="coins_8h_1abb6c00f4f94a3084a430d1848fed7697" kindref="member">CCoinsMap</ref> before being erased. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/coins.h" line="274" column="5" bodyfile="src/coins.h" bodystart="274" bodyend="277"/>
      </memberdef>
      <memberdef kind="function" id="struct_coins_view_cache_cursor_1a15f48f1acfbaa01d37624b124f2a1380" prot="public" static="no" const="yes" explicit="no" inline="yes" noexcept="yes" virt="non-virtual">
        <type><ref refid="coins_8h_1a4f73235f01457f00d91f656dffdb6235" kindref="member">CoinsCachePair</ref> *</type>
        <definition>CoinsCachePair * Begin</definition>
        <argsstring>() const noexcept</argsstring>
        <name>Begin</name>
        <qualifiedname>CoinsViewCacheCursor::Begin</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/coins.h" line="279" column="27" bodyfile="src/coins.h" bodystart="279" bodyend="279"/>
      </memberdef>
      <memberdef kind="function" id="struct_coins_view_cache_cursor_1ac8dec2d9ae50424e274b9ead7f918394" prot="public" static="no" const="yes" explicit="no" inline="yes" noexcept="yes" virt="non-virtual">
        <type><ref refid="coins_8h_1a4f73235f01457f00d91f656dffdb6235" kindref="member">CoinsCachePair</ref> *</type>
        <definition>CoinsCachePair * End</definition>
        <argsstring>() const noexcept</argsstring>
        <name>End</name>
        <qualifiedname>CoinsViewCacheCursor::End</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/coins.h" line="280" column="27" bodyfile="src/coins.h" bodystart="280" bodyend="280"/>
      </memberdef>
      <memberdef kind="function" id="struct_coins_view_cache_cursor_1a45f955f98a96c700415c265067fb36ce" prot="public" static="no" const="no" explicit="no" inline="yes" noexcept="yes" virt="non-virtual">
        <type><ref refid="coins_8h_1a4f73235f01457f00d91f656dffdb6235" kindref="member">CoinsCachePair</ref> *</type>
        <definition>CoinsCachePair * NextAndMaybeErase</definition>
        <argsstring>(CoinsCachePair &amp;current) noexcept</argsstring>
        <name>NextAndMaybeErase</name>
        <qualifiedname>CoinsViewCacheCursor::NextAndMaybeErase</qualifiedname>
        <param>
          <type><ref refid="coins_8h_1a4f73235f01457f00d91f656dffdb6235" kindref="member">CoinsCachePair</ref> &amp;</type>
          <declname>current</declname>
        </param>
        <briefdescription>
<para>Return the next entry after current, possibly erasing current. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/coins.h" line="283" column="27" bodyfile="src/coins.h" bodystart="283" bodyend="297"/>
      </memberdef>
      <memberdef kind="function" id="struct_coins_view_cache_cursor_1aa0202b2599a0d8d029f5a8f277d7dd31" prot="public" static="no" const="yes" explicit="no" inline="yes" noexcept="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool WillErase</definition>
        <argsstring>(CoinsCachePair &amp;current) const noexcept</argsstring>
        <name>WillErase</name>
        <qualifiedname>CoinsViewCacheCursor::WillErase</qualifiedname>
        <param>
          <type><ref refid="coins_8h_1a4f73235f01457f00d91f656dffdb6235" kindref="member">CoinsCachePair</ref> &amp;</type>
          <declname>current</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/coins.h" line="299" column="17" bodyfile="src/coins.h" bodystart="299" bodyend="299"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>Cursor for iterating over the linked list of flagged entries in <ref refid="class_c_coins_view_cache" kindref="compound">CCoinsViewCache</ref>.</para>
<para>This is a helper struct to encapsulate the diverging logic between a non-erasing <ref refid="class_c_coins_view_cache_1a071d010e76ac762ffab420fcf90656a4" kindref="member">CCoinsViewCache::Sync</ref> and an erasing <ref refid="class_c_coins_view_cache_1a166e3b1951caaaf582e7b67c5be762ce" kindref="member">CCoinsViewCache::Flush</ref>. This allows the receiver of <ref refid="class_c_coins_view_1a433922bb29053e30cb00224aa60351e7" kindref="member">CCoinsView::BatchWrite</ref> to iterate through the flagged entries without knowing the caller&apos;s intent.</para>
<para>However, the receiver can still call <ref refid="struct_coins_view_cache_cursor_1aa0202b2599a0d8d029f5a8f277d7dd31" kindref="member">CoinsViewCacheCursor::WillErase</ref> to see if the caller will erase the entry after BatchWrite returns. If so, the receiver can perform optimizations such as moving the coin out of the CCoinsCachEntry instead of copying it. </para>
    </detaileddescription>
    <location file="src/coins.h" line="265" column="1" bodyfile="src/coins.h" bodystart="266" bodyend="304"/>
    <listofallmembers>
      <member refid="struct_coins_view_cache_cursor_1a15f48f1acfbaa01d37624b124f2a1380" prot="public" virt="non-virtual"><scope>CoinsViewCacheCursor</scope><name>Begin</name></member>
      <member refid="struct_coins_view_cache_cursor_1a567c0cfee2acda924e520264c573f44b" prot="public" virt="non-virtual"><scope>CoinsViewCacheCursor</scope><name>CoinsViewCacheCursor</name></member>
      <member refid="struct_coins_view_cache_cursor_1ac8dec2d9ae50424e274b9ead7f918394" prot="public" virt="non-virtual"><scope>CoinsViewCacheCursor</scope><name>End</name></member>
      <member refid="struct_coins_view_cache_cursor_1af537335e8c32316aaa092738cdf7c7a7" prot="private" virt="non-virtual"><scope>CoinsViewCacheCursor</scope><name>m_map</name></member>
      <member refid="struct_coins_view_cache_cursor_1a21740c1a92b2502988444eeca6b603b7" prot="private" virt="non-virtual"><scope>CoinsViewCacheCursor</scope><name>m_sentinel</name></member>
      <member refid="struct_coins_view_cache_cursor_1a1f61ab7f442d196fcfffda15ac7a44a0" prot="private" virt="non-virtual"><scope>CoinsViewCacheCursor</scope><name>m_will_erase</name></member>
      <member refid="struct_coins_view_cache_cursor_1a45f955f98a96c700415c265067fb36ce" prot="public" virt="non-virtual"><scope>CoinsViewCacheCursor</scope><name>NextAndMaybeErase</name></member>
      <member refid="struct_coins_view_cache_cursor_1aa0202b2599a0d8d029f5a8f277d7dd31" prot="public" virt="non-virtual"><scope>CoinsViewCacheCursor</scope><name>WillErase</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
