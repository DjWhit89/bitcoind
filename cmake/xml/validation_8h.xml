<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="validation_8h" kind="file" language="C++">
    <compoundname>validation.h</compoundname>
    <includes refid="arith__uint256_8h" local="no">arith_uint256.h</includes>
    <includes refid="attributes_8h" local="no">attributes.h</includes>
    <includes refid="chain_8h" local="no">chain.h</includes>
    <includes refid="checkqueue_8h" local="no">checkqueue.h</includes>
    <includes refid="amount_8h" local="no">consensus/amount.h</includes>
    <includes refid="cuckoocache_8h" local="no">cuckoocache.h</includes>
    <includes refid="deploymentstatus_8h" local="no">deploymentstatus.h</includes>
    <includes refid="kernel_2chain_8h" local="no">kernel/chain.h</includes>
    <includes refid="kernel_2chainparams_8h" local="no">kernel/chainparams.h</includes>
    <includes refid="chainstatemanager__opts_8h" local="no">kernel/chainstatemanager_opts.h</includes>
    <includes refid="cs__main_8h" local="no">kernel/cs_main.h</includes>
    <includes refid="blockstorage_8h" local="no">node/blockstorage.h</includes>
    <includes refid="feerate_8h" local="no">policy/feerate.h</includes>
    <includes refid="packages_8h" local="no">policy/packages.h</includes>
    <includes refid="policy_8h" local="no">policy/policy.h</includes>
    <includes refid="script__error_8h" local="no">script/script_error.h</includes>
    <includes refid="sigcache_8h" local="no">script/sigcache.h</includes>
    <includes refid="verify__flags_8h" local="no">script/verify_flags.h</includes>
    <includes refid="sync_8h" local="no">sync.h</includes>
    <includes refid="txdb_8h" local="no">txdb.h</includes>
    <includes refid="txmempool_8h" local="no">txmempool.h</includes>
    <includes refid="uint256_8h" local="no">uint256.h</includes>
    <includes refid="byte__units_8h" local="no">util/byte_units.h</includes>
    <includes refid="check_8h" local="no">util/check.h</includes>
    <includes refid="fs_8h" local="no">util/fs.h</includes>
    <includes refid="hasher_8h" local="no">util/hasher.h</includes>
    <includes refid="result_8h" local="no">util/result.h</includes>
    <includes refid="util_2time_8h" local="no">util/time.h</includes>
    <includes refid="translation_8h" local="no">util/translation.h</includes>
    <includes refid="versionbits_8h" local="no">versionbits.h</includes>
    <includes local="no">algorithm</includes>
    <includes local="no">atomic</includes>
    <includes local="no">cstdint</includes>
    <includes local="no">map</includes>
    <includes local="no">memory</includes>
    <includes local="no">optional</includes>
    <includes local="no">set</includes>
    <includes local="no">span</includes>
    <includes local="no">string</includes>
    <includes local="no">type_traits</includes>
    <includes local="no">utility</includes>
    <includes local="no">vector</includes>
    <includedby refid="blockencodings_8cpp" local="no">src/blockencodings.cpp</includedby>
    <includedby refid="init_8cpp" local="no">src/init.cpp</includedby>
    <includedby refid="net__processing_8cpp" local="no">src/net_processing.cpp</includedby>
    <includedby refid="rest_8cpp" local="no">src/rest.cpp</includedby>
    <includedby refid="validation_8cpp" local="no">src/validation.cpp</includedby>
    <incdepgraph>
      <node id="2">
        <label>arith_uint256.h</label>
        <link refid="arith__uint256_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>attributes.h</label>
        <link refid="attributes_8h"/>
      </node>
      <node id="10">
        <label>chain.h</label>
        <link refid="chain_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="75">
        <label>checkqueue.h</label>
        <link refid="checkqueue_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="115">
        <label>coins.h</label>
        <link refid="coins_8h"/>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
      </node>
      <node id="41">
        <label>compat/assumptions.h</label>
        <link refid="compat_2assumptions_8h"/>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="16">
        <label>compat/byteswap.h</label>
        <link refid="byteswap_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="15">
        <label>compat/endian.h</label>
        <link refid="endian_8h"/>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="116">
        <label>compressor.h</label>
        <link refid="compressor_8h"/>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="65">
        <label>consensus/amount.h</label>
        <link refid="amount_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="132">
        <label>consensus/consensus.h</label>
        <link refid="consensus_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>consensus/params.h</label>
        <link refid="params_8h"/>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="133">
        <label>consensus/validation.h</label>
        <link refid="consensus_2validation_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="132" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
      </node>
      <node id="117">
        <label>core_memusage.h</label>
        <link refid="core__memusage_8h"/>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>crypto/common.h</label>
        <link refid="crypto_2common_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="26">
        <label>crypto/hex_base.h</label>
        <link refid="hex__base_8h"/>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="108">
        <label>crypto/sha256.h</label>
        <link refid="sha256_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="77">
        <label>crypto/siphash.h</label>
        <link refid="siphash_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="85">
        <label>cuckoocache.h</label>
        <link refid="cuckoocache_8h"/>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="98">
        <label>dbwrapper.h</label>
        <link refid="dbwrapper_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="106" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="88">
        <label>deploymentstatus.h</label>
        <link refid="deploymentstatus_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="39">
        <label>flatfile.h</label>
        <link refid="flatfile_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
      </node>
      <node id="119">
        <label>indirectmap.h</label>
        <link refid="indirectmap_8h"/>
        <childnode refid="38" relation="include">
        </childnode>
      </node>
      <node id="126">
        <label>kernel/blockmanager_opts.h</label>
        <link refid="blockmanager__opts_8h"/>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="122">
        <label>kernel/caches.h</label>
        <link refid="kernel_2caches_8h"/>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="90">
        <label>kernel/chain.h</label>
        <link refid="kernel_2chain_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
      </node>
      <node id="91">
        <label>kernel/chainparams.h</label>
        <link refid="kernel_2chainparams_8h"/>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="92" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="96">
        <label>kernel/chainstatemanager_opts.h</label>
        <link refid="chainstatemanager__opts_8h"/>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="56">
        <label>kernel/cs_main.h</label>
        <link refid="cs__main_8h"/>
        <childnode refid="57" relation="include">
        </childnode>
      </node>
      <node id="137">
        <label>kernel/mempool_entry.h</label>
        <link refid="mempool__entry_8h"/>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="133" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="134" relation="include">
        </childnode>
        <childnode refid="138" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="139" relation="include">
        </childnode>
        <childnode refid="140" relation="include">
        </childnode>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="141">
        <label>kernel/mempool_limits.h</label>
        <link refid="mempool__limits_8h"/>
        <childnode refid="134" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="142">
        <label>kernel/mempool_options.h</label>
        <link refid="mempool__options_8h"/>
        <childnode refid="141" relation="include">
        </childnode>
        <childnode refid="129" relation="include">
        </childnode>
        <childnode refid="134" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="143">
        <label>kernel/mempool_removal_reason.h</label>
        <link refid="mempool__removal__reason_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="92">
        <label>kernel/messagestartchars.h</label>
        <link refid="messagestartchars_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="97">
        <label>kernel/notifications_interface.h</label>
        <link refid="notifications__interface_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
      </node>
      <node id="76">
        <label>logging.h</label>
        <link refid="logging_8h"/>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="118">
        <label>memusage.h</label>
        <link refid="memusage_8h"/>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
      </node>
      <node id="124">
        <label>node/blockstorage.h</label>
        <link refid="blockstorage_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="125" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="126" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="92" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="127" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="128" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="129">
        <label>policy/feerate.h</label>
        <link refid="feerate_8h"/>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="131">
        <label>policy/packages.h</label>
        <link refid="packages_8h"/>
        <childnode refid="132" relation="include">
        </childnode>
        <childnode refid="133" relation="include">
        </childnode>
        <childnode refid="134" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="134">
        <label>policy/policy.h</label>
        <link refid="policy_8h"/>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="132" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="135" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="138">
        <label>policy/settings.h</label>
        <link refid="policy_2settings_8h"/>
      </node>
      <node id="42">
        <label>prevector.h</label>
        <link refid="prevector_8h"/>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="63">
        <label>primitives/block.h</label>
        <link refid="primitives_2block_8h"/>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
      </node>
      <node id="64">
        <label>primitives/transaction.h</label>
        <link refid="primitives_2transaction_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="66">
        <label>primitives/transaction_identifier.h</label>
        <link refid="transaction__identifier_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
      </node>
      <node id="109">
        <label>script/interpreter.h</label>
        <link refid="interpreter_8h"/>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="111" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="70">
        <label>script/script.h</label>
        <link refid="script_2script_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="111">
        <label>script/script_error.h</label>
        <link refid="script__error_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="107">
        <label>script/sigcache.h</label>
        <link refid="sigcache_8h"/>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="108" relation="include">
        </childnode>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="135">
        <label>script/solver.h</label>
        <link refid="solver_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="12">
        <label>script/verify_flags.h</label>
        <link refid="verify__flags_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="40">
        <label>serialize.h</label>
        <link refid="serialize_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="20">
        <label>span.h</label>
        <link refid="span_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="99">
        <label>streams.h</label>
        <link refid="streams_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="100" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="120">
        <label>support/allocators/pool.h</label>
        <link refid="pool_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="121" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
      </node>
      <node id="100">
        <label>support/allocators/zeroafterfree.h</label>
        <link refid="zeroafterfree_8h"/>
        <childnode refid="101" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="101">
        <label>support/cleanse.h</label>
        <link refid="cleanse_8h"/>
        <childnode refid="43" relation="include">
        </childnode>
      </node>
      <node id="57">
        <label>sync.h</label>
        <link refid="sync_8h"/>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
      </node>
      <node id="58">
        <label>threadsafety.h</label>
        <link refid="threadsafety_8h"/>
        <childnode refid="59" relation="include">
        </childnode>
      </node>
      <node id="49">
        <label>tinyformat.h</label>
        <link refid="tinyformat_8h"/>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="114">
        <label>txdb.h</label>
        <link refid="txdb_8h"/>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="122" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="139">
        <label>txgraph.h</label>
        <link refid="txgraph_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
      </node>
      <node id="136">
        <label>txmempool.h</label>
        <link refid="txmempool_8h"/>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="137" relation="include">
        </childnode>
        <childnode refid="141" relation="include">
        </childnode>
        <childnode refid="142" relation="include">
        </childnode>
        <childnode refid="143" relation="include">
        </childnode>
        <childnode refid="129" relation="include">
        </childnode>
        <childnode refid="131" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="139" relation="include">
        </childnode>
        <childnode refid="140" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="144" relation="include">
        </childnode>
        <childnode refid="146" relation="include">
        </childnode>
        <childnode refid="147" relation="include">
        </childnode>
        <childnode refid="148" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="151" relation="include">
        </childnode>
        <childnode refid="152" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>uint256.h</label>
        <link refid="uint256_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
      </node>
      <node id="123">
        <label>util/byte_units.h</label>
        <link refid="byte__units_8h"/>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="93">
        <label>util/chaintype.h</label>
        <link refid="chaintype_8h"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="78">
        <label>util/check.h</label>
        <link refid="check_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="140">
        <label>util/epochguard.h</label>
        <link refid="epochguard_8h"/>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="127">
        <label>util/expected.h</label>
        <link refid="expected_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
      </node>
      <node id="86">
        <label>util/fastrange.h</label>
        <link refid="fastrange_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="130">
        <label>util/feefrac.h</label>
        <link refid="feefrac_8h"/>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="48">
        <label>util/fs.h</label>
        <link refid="fs_8h"/>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="71">
        <label>util/hash_type.h</label>
        <link refid="hash__type_8h"/>
      </node>
      <node id="112">
        <label>util/hasher.h</label>
        <link refid="hasher_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="60">
        <label>util/macros.h</label>
        <link refid="macros_8h"/>
      </node>
      <node id="102">
        <label>util/obfuscation.h</label>
        <link refid="obfuscation_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="104">
        <label>util/overflow.h</label>
        <link refid="overflow_8h"/>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="144">
        <label>util/result.h</label>
        <link refid="result_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
      </node>
      <node id="25">
        <label>util/strencodings.h</label>
        <link refid="strencodings_8h"/>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="27">
        <label>util/string.h</label>
        <link refid="string_8h"/>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="105">
        <label>util/syserror.h</label>
        <link refid="syserror_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="84">
        <label>util/threadnames.h</label>
        <link refid="threadnames_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="74">
        <label>util/time.h</label>
        <link refid="util_2time_8h"/>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
      </node>
      <node id="145">
        <label>util/translation.h</label>
        <link refid="translation_8h"/>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="67">
        <label>util/types.h</label>
        <link refid="util_2types_8h"/>
      </node>
      <node id="94">
        <label>util/vector.h</label>
        <link refid="vector_8h"/>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>src/validation.h</label>
        <link refid="validation_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="124" relation="include">
        </childnode>
        <childnode refid="129" relation="include">
        </childnode>
        <childnode refid="131" relation="include">
        </childnode>
        <childnode refid="134" relation="include">
        </childnode>
        <childnode refid="111" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="136" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="144" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="89">
        <label>versionbits.h</label>
        <link refid="versionbits_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="36">
        <label>algorithm</label>
      </node>
      <node id="28">
        <label>array</label>
      </node>
      <node id="79">
        <label>atomic</label>
      </node>
      <node id="17">
        <label>bit</label>
      </node>
      <node id="146">
        <label>boost/multi_index/hashed_index.hpp</label>
      </node>
      <node id="147">
        <label>boost/multi_index/identity.hpp</label>
      </node>
      <node id="148">
        <label>boost/multi_index/indexed_by.hpp</label>
      </node>
      <node id="149">
        <label>boost/multi_index/ordered_index.hpp</label>
      </node>
      <node id="150">
        <label>boost/multi_index/sequenced_index.hpp</label>
      </node>
      <node id="151">
        <label>boost/multi_index/tag.hpp</label>
      </node>
      <node id="152">
        <label>boost/multi_index_container.hpp</label>
      </node>
      <node id="21">
        <label>cassert</label>
      </node>
      <node id="125">
        <label>chain.h</label>
      </node>
      <node id="33">
        <label>charconv</label>
      </node>
      <node id="37">
        <label>chrono</label>
      </node>
      <node id="103">
        <label>climits</label>
      </node>
      <node id="87">
        <label>cmath</label>
      </node>
      <node id="3">
        <label>compare</label>
      </node>
      <node id="18">
        <label>concepts</label>
      </node>
      <node id="61">
        <label>condition_variable</label>
      </node>
      <node id="19">
        <label>cstddef</label>
      </node>
      <node id="4">
        <label>cstdint</label>
      </node>
      <node id="51">
        <label>cstdio</label>
      </node>
      <node id="43">
        <label>cstdlib</label>
      </node>
      <node id="5">
        <label>cstring</label>
      </node>
      <node id="106">
        <label>exception</label>
      </node>
      <node id="52">
        <label>filesystem</label>
      </node>
      <node id="53">
        <label>functional</label>
      </node>
      <node id="110">
        <label>hash.h</label>
      </node>
      <node id="95">
        <label>initializer_list</label>
      </node>
      <node id="54">
        <label>iomanip</label>
      </node>
      <node id="45">
        <label>ios</label>
      </node>
      <node id="128">
        <label>iosfwd</label>
      </node>
      <node id="50">
        <label>iostream</label>
      </node>
      <node id="44">
        <label>iterator</label>
      </node>
      <node id="6">
        <label>limits</label>
      </node>
      <node id="81">
        <label>list</label>
      </node>
      <node id="29">
        <label>locale</label>
      </node>
      <node id="38">
        <label>map</label>
      </node>
      <node id="46">
        <label>memory</label>
      </node>
      <node id="59">
        <label>mutex</label>
      </node>
      <node id="121">
        <label>new</label>
      </node>
      <node id="72">
        <label>numeric</label>
      </node>
      <node id="34">
        <label>optional</label>
      </node>
      <node id="55">
        <label>ostream</label>
      </node>
      <node id="47">
        <label>set</label>
      </node>
      <node id="113">
        <label>shared_mutex</label>
      </node>
      <node id="80">
        <label>source_location</label>
      </node>
      <node id="22">
        <label>span</label>
      </node>
      <node id="30">
        <label>sstream</label>
      </node>
      <node id="7">
        <label>stdexcept</label>
      </node>
      <node id="8">
        <label>string</label>
      </node>
      <node id="31">
        <label>string_view</label>
      </node>
      <node id="35">
        <label>system_error</label>
      </node>
      <node id="62">
        <label>thread</label>
      </node>
      <node id="68">
        <label>tuple</label>
      </node>
      <node id="23">
        <label>type_traits</label>
      </node>
      <node id="82">
        <label>unordered_map</label>
      </node>
      <node id="83">
        <label>unordered_set</label>
      </node>
      <node id="73">
        <label>util/time.h</label>
      </node>
      <node id="24">
        <label>utility</label>
      </node>
      <node id="69">
        <label>variant</label>
      </node>
      <node id="32">
        <label>vector</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="2">
        <label>src/blockencodings.cpp</label>
        <link refid="blockencodings_8cpp"/>
      </node>
      <node id="3">
        <label>src/init.cpp</label>
        <link refid="init_8cpp"/>
      </node>
      <node id="4">
        <label>src/net_processing.cpp</label>
        <link refid="net__processing_8cpp"/>
      </node>
      <node id="5">
        <label>src/rest.cpp</label>
        <link refid="rest_8cpp"/>
      </node>
      <node id="6">
        <label>src/validation.cpp</label>
        <link refid="validation_8cpp"/>
      </node>
      <node id="1">
        <label>src/validation.h</label>
        <link refid="validation_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="struct_mempool_accept_result" prot="public">MempoolAcceptResult</innerclass>
    <innerclass refid="struct_package_mempool_accept_result" prot="public">PackageMempoolAcceptResult</innerclass>
    <innerclass refid="class_c_script_check" prot="public">CScriptCheck</innerclass>
    <innerclass refid="class_validation_cache" prot="public">ValidationCache</innerclass>
    <innerclass refid="class_c_verify_d_b" prot="public">CVerifyDB</innerclass>
    <innerclass refid="class_coins_views" prot="public">CoinsViews</innerclass>
    <innerclass refid="class_chainstate" prot="public">Chainstate</innerclass>
    <innerclass refid="class_chainstate_manager" prot="public">ChainstateManager</innerclass>
    <innernamespace refid="namespacekernel">kernel</innernamespace>
    <innernamespace refid="namespacenode">node</innernamespace>
    <innernamespace refid="namespace_consensus">Consensus</innernamespace>
    <innernamespace refid="namespaceutil">util</innernamespace>
    <sectiondef kind="enum">
      <memberdef kind="enum" id="validation_8h_1a6c3c8e6370214538a00a221a568b5219" prot="public" static="no" strong="yes">
        <type></type>
        <name>SynchronizationState</name>
        <enumvalue id="validation_8h_1a6c3c8e6370214538a00a221a568b5219aed5f7c41f40d80cfb4805fc2a823aaa5" prot="public">
          <name>INIT_REINDEX</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a6c3c8e6370214538a00a221a568b5219a8ad7ae4642d6220dcc79dfe93a5a3b25" prot="public">
          <name>INIT_DOWNLOAD</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a6c3c8e6370214538a00a221a568b5219a90420c85ac74ebe4793694a7c4680b12" prot="public">
          <name>POST_INIT</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Current sync state passed to tip changed callbacks. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="92" column="1" bodyfile="src/validation.h" bodystart="92" bodyend="96"/>
      </memberdef>
      <memberdef kind="enum" id="validation_8h_1a9a734f0900dfff66f62decfddec72a0d" prot="public" static="no" strong="yes">
        <type></type>
        <name>VerifyDBResult</name>
        <enumvalue id="validation_8h_1a9a734f0900dfff66f62decfddec72a0dad0749aaba8b833466dfcbb0428e4f89c" prot="public">
          <name>SUCCESS</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a9a734f0900dfff66f62decfddec72a0da0a5072778adedc1e60a44588f737b854" prot="public">
          <name>CORRUPTED_BLOCK_DB</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a9a734f0900dfff66f62decfddec72a0da658f2cadfdf09b6046246e9314f7cd43" prot="public">
          <name>INTERRUPTED</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a9a734f0900dfff66f62decfddec72a0da9a7bd0f9f21b72949998b0fe80703361" prot="public">
          <name>SKIPPED_L3_CHECKS</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a9a734f0900dfff66f62decfddec72a0da4d3c4b7041036a310df02b7d4ca6568d" prot="public">
          <name>SKIPPED_MISSING_BLOCKS</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="425" column="1" bodyfile="src/validation.h" bodystart="425" bodyend="431"/>
      </memberdef>
      <memberdef kind="enum" id="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50" prot="public" static="no" strong="no">
        <type></type>
        <name>DisconnectResult</name>
        <enumvalue id="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50af732a362dae37684d825e000781628c4" prot="public">
          <name>DISCONNECT_OK</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50a538a133d18fdc8786c4b0f0e6662f6c5" prot="public">
          <name>DISCONNECT_UNCLEAN</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50a4b6c24922aff8a510f83333397b4c9b3" prot="public">
          <name>DISCONNECT_FAILED</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="450" column="1" bodyfile="src/validation.h" bodystart="451" bodyend="455"/>
      </memberdef>
      <memberdef kind="enum" id="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0" prot="public" static="no" strong="yes">
        <type>uint8_t</type>
        <name>FlushStateMode</name>
        <enumvalue id="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0ab50339a10e1de285ac99d4c3990b8693" prot="public">
          <name>NONE</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0a2382c561ef224fb0ab277eca39c90654" prot="public">
          <name>IF_NEEDED</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0ad9d83fc826ae0d42075af007a477e2c9" prot="public">
          <name>PERIODIC</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0af3fc827ade4b968e50406496907ef962" prot="public">
          <name>ALWAYS</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="461" column="1" bodyfile="src/validation.h" bodystart="461" bodyend="466"/>
      </memberdef>
      <memberdef kind="enum" id="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3def" prot="public" static="no" strong="yes">
        <type></type>
        <name>CoinsCacheSizeState</name>
        <enumvalue id="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defa99cd1c61610c76a57cb8d10d6df6b870" prot="public">
          <name>CRITICAL</name>
          <initializer>= 2</initializer>
          <briefdescription>
<para>The coins cache is in immediate need of a flush. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defa71726adf0ff60cd03eaf3c515883eeb8" prot="public">
          <name>LARGE</name>
          <initializer>= 1</initializer>
          <briefdescription>
<para>The cache is at &gt;= 90% capacity. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defae0aa021e21dddbd6d8cecec71e9cf564" prot="public">
          <name>OK</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="503" column="1" bodyfile="src/validation.h" bodystart="504" bodyend="510"/>
      </memberdef>
      <memberdef kind="enum" id="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152d" prot="public" static="no" strong="yes">
        <type></type>
        <name>Assumeutxo</name>
        <enumvalue id="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152da4d6154fe02ac9bf42fd2aacfa49310b0" prot="public">
          <name>VALIDATED</name>
          <briefdescription>
<para>Every block in the chain has been validated. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152daa7e559db9fd6ffeed9432ba2987a830d" prot="public">
          <name>UNVALIDATED</name>
          <briefdescription>
<para>Blocks after an assumeutxo snapshot have been validated but the snapshot itself has not been validated. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152daccc0377a8afbf50e7094f5c23a8af223" prot="public">
          <name>INVALID</name>
          <briefdescription>
<para>The assumeutxo snapshot failed validation. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
<para><ref refid="class_chainstate" kindref="compound">Chainstate</ref> assumeutxo validity. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="521" column="1" bodyfile="src/validation.h" bodystart="521" bodyend="528"/>
      </memberdef>
      <memberdef kind="enum" id="validation_8h_1a64ee3ac35f0e5525364652f27fc0570e" prot="public" static="no" strong="yes">
        <type></type>
        <name>SnapshotCompletionResult</name>
        <enumvalue id="validation_8h_1a64ee3ac35f0e5525364652f27fc0570ead0749aaba8b833466dfcbb0428e4f89c" prot="public">
          <name>SUCCESS</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a64ee3ac35f0e5525364652f27fc0570ea203ec08f57cb105eeb2b121ba6503b52" prot="public">
          <name>SKIPPED</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a64ee3ac35f0e5525364652f27fc0570ea1c396fecf97f85e5a30f259d93759327" prot="public">
          <name>MISSING_CHAINPARAMS</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a64ee3ac35f0e5525364652f27fc0570eadefcaed57306356967a486cb93215554" prot="public">
          <name>STATS_FAILED</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="validation_8h_1a64ee3ac35f0e5525364652f27fc0570eac93ebf8fbedbcb375e9368dcfde5e59d" prot="public">
          <name>HASH_MISMATCH</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="892" column="1" bodyfile="src/validation.h" bodystart="892" bodyend="907"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="var">
      <memberdef kind="variable" id="validation_8h_1a5caf4122a735df55a443242fa5ccb5cf" prot="public" static="yes" mutable="no">
        <type>const unsigned int</type>
        <definition>const unsigned int MIN_BLOCKS_TO_KEEP</definition>
        <argsstring></argsstring>
        <name>MIN_BLOCKS_TO_KEEP</name>
        <initializer>= 288</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Block files containing a block-height within MIN_BLOCKS_TO_KEEP of ActiveChain().Tip() will not be pruned. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="75" column="27" bodyfile="src/validation.h" bodystart="75" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="validation_8h_1ada8aee85537e2ecec5aaf34af8d56e67" prot="public" static="yes" mutable="no">
        <type>const signed int</type>
        <definition>const signed int DEFAULT_CHECKBLOCKS</definition>
        <argsstring></argsstring>
        <name>DEFAULT_CHECKBLOCKS</name>
        <initializer>= 6</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="76" column="25" bodyfile="src/validation.h" bodystart="76" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="validation_8h_1a24b21249a8ff5823a7bb092abebdec30" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>int</type>
        <definition>int DEFAULT_CHECKLEVEL</definition>
        <argsstring></argsstring>
        <name>DEFAULT_CHECKLEVEL</name>
        <initializer>{3}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="77" column="22" bodyfile="src/validation.h" bodystart="77" bodyend="77"/>
      </memberdef>
      <memberdef kind="variable" id="validation_8h_1a3e3422927e48f363a50a343329e69bf4" prot="public" static="yes" mutable="no">
        <type>const uint64_t</type>
        <definition>const uint64_t MIN_DISK_SPACE_FOR_BLOCK_FILES</definition>
        <argsstring></argsstring>
        <name>MIN_DISK_SPACE_FOR_BLOCK_FILES</name>
        <initializer>= 550 * 1024 * 1024</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="86" column="23" bodyfile="src/validation.h" bodystart="86" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="validation_8h_1a205fe309ba30391ce57b4266e26e0b41" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>int</type>
        <definition>int MAX_SCRIPTCHECK_THREADS</definition>
        <argsstring></argsstring>
        <name>MAX_SCRIPTCHECK_THREADS</name>
        <initializer>{15}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Maximum number of dedicated script-checking threads allowed </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="89" column="22" bodyfile="src/validation.h" bodystart="89" bodyend="89"/>
      </memberdef>
      <memberdef kind="variable" id="validation_8h_1aa6bf79aa2e37d5ce26771d5af135cf51" prot="public" static="no" extern="yes" mutable="no">
        <type>const std::vector&lt; std::string &gt;</type>
        <definition>const std::vector&lt;std::string&gt; CHECKLEVEL_DOC</definition>
        <argsstring></argsstring>
        <name>CHECKLEVEL_DOC</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Documentation for argument &apos;checklevel&apos;. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="99" column="26" bodyfile="src/validation.cpp" bodystart="102" bodyend="109" declfile="src/validation.h" declline="99" declcolumn="26"/>
      </memberdef>
      <memberdef kind="variable" id="validation_8h_1a32144d8c77b444fd1bacffc7de991a8a" prot="public" static="no" mutable="no">
        <type>bool <ref refid="validation_8cpp_1a3b90ca0d639cfea2208c7c0aa5118aaa" kindref="member">CheckFinalTxAtTip</ref>(const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;active_chain_tip, const <ref refid="class_c_transaction" kindref="compound">CTransaction</ref> &amp;tx) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(std::optional&lt; <ref refid="struct_lock_points" kindref="compound">LockPoints</ref></type>
        <definition>bool CheckFinalTxAtTip(const CBlockIndex &amp;active_chain_tip, const CTransaction &amp;tx) EXCLUSIVE_LOCKS_REQUIRED(std::optional&lt; LockPoints CalculateLockPointsAtTip) (CBlockIndex *tip, const CCoinsView &amp;coins_view, const CTransaction &amp;tx)</definition>
        <argsstring>)(CBlockIndex *tip, const CCoinsView &amp;coins_view, const CTransaction &amp;tx)</argsstring>
        <name>CalculateLockPointsAtTip</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check if transaction will be final in the next block to be created. Calculate <ref refid="struct_lock_points" kindref="compound">LockPoints</ref> required to check if transaction will be BIP68 final in the next block to be created on top of tip.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">tip</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="class_chain" kindref="compound">Chain</ref> tip for which tx sequence locks are calculated. For example, the tip of the current active chain. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">coins_view</parametername>
</parameternamelist>
<parameterdescription>
<para>Any <ref refid="class_c_coins_view" kindref="compound">CCoinsView</ref> that provides access to the relevant coins for checking sequence locks. For example, it can be a <ref refid="class_c_coins_view_cache" kindref="compound">CCoinsViewCache</ref> that isn&apos;t connected to anything but contains all the relevant coins, or a <ref refid="class_c_coins_view_mem_pool" kindref="compound">CCoinsViewMemPool</ref> that is connected to the mempool and chainstate UTXO set. In the latter case, the caller is responsible for holding the appropriate locks to ensure that calls to GetCoin() return correct coins. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">tx</parametername>
</parameternamelist>
<parameterdescription>
<para>The transaction being evaluated.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The resulting height and time calculated and the hash of the block needed for calculation, or std::nullopt if there is an error. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="316" column="15" bodyfile="src/validation.h" bodystart="316" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="validation_8h_1a6d7628b24cf7e6a13bcdafa178560e58" prot="public" static="no" constexpr="yes" mutable="no">
        <type>std::array</type>
        <definition>std::array FlushStateModeNames</definition>
        <argsstring></argsstring>
        <name>FlushStateModeNames</name>
        <initializer>{&quot;NONE&quot;, &quot;IF_NEEDED&quot;, &quot;PERIODIC&quot;, &quot;ALWAYS&quot;}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="see"><para><ref refid="class_chainstate_1a0f9f0cdb703638cb9818a9b41158ac6a" kindref="member">Chainstate::FlushStateToDisk</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="460" column="29" bodyfile="src/validation.h" bodystart="460" bodyend="460"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="validation_8h_1a3e7cb06e156ad8400b9214479e946187" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="amount_8h_1a4eaf3a5239714d8c45b851527f7cb564" kindref="member">CAmount</ref></type>
        <definition>CAmount GetBlockSubsidy</definition>
        <argsstring>(int nHeight, const Consensus::Params &amp;consensusParams)</argsstring>
        <name>GetBlockSubsidy</name>
        <param>
          <type>int</type>
          <declname>nHeight</declname>
        </param>
        <param>
          <type>const <ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref> &amp;</type>
          <declname>consensusParams</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="101" column="9" bodyfile="src/validation.cpp" bodystart="1855" bodyend="1866" declfile="src/validation.h" declline="101" declcolumn="9"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a5a516dcd32726994512c2dfe67439ba2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool FatalError</definition>
        <argsstring>(kernel::Notifications &amp;notifications, BlockValidationState &amp;state, const bilingual_str &amp;message)</argsstring>
        <name>FatalError</name>
        <param>
          <type><ref refid="classkernel_1_1_notifications" kindref="compound">kernel::Notifications</ref> &amp;</type>
          <declname>notifications</declname>
        </param>
        <param>
          <type><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref> &amp;</type>
          <declname>state</declname>
        </param>
        <param>
          <type>const <ref refid="structbilingual__str" kindref="compound">bilingual_str</ref> &amp;</type>
          <declname>message</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="103" column="6" bodyfile="src/validation.cpp" bodystart="2177" bodyend="2181" declfile="src/validation.h" declline="103" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1ab256293c94a9e05d6d9a9ccb5d6b2c58" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void PruneBlockFilesManual</definition>
        <argsstring>(Chainstate &amp;active_chainstate, int nManualPruneHeight)</argsstring>
        <name>PruneBlockFilesManual</name>
        <param>
          <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>active_chainstate</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nManualPruneHeight</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Prune block files up to a given height </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="106" column="6" bodyfile="src/validation.cpp" bodystart="4620" bodyend="4627" declfile="src/validation.h" declline="106" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a5f178a2bb141cae949283673ad12ca6b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="struct_mempool_accept_result" kindref="compound">MempoolAcceptResult</ref></type>
        <definition>MempoolAcceptResult AcceptToMemoryPool</definition>
        <argsstring>(Chainstate &amp;active_chainstate, const CTransactionRef &amp;tx, int64_t accept_time, bool bypass_limits, bool test_accept) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>AcceptToMemoryPool</name>
        <param>
          <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>active_chainstate</declname>
        </param>
        <param>
          <type>const <ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref> &amp;</type>
          <declname>tx</declname>
        </param>
        <param>
          <type>int64_t</type>
          <declname>accept_time</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>bypass_limits</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>test_accept</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Try to add a transaction to the mempool. This is an internal function and is exposed only for testing. Client code should use <ref refid="class_chainstate_manager_1a9c7d6797a606a08696d722e7489b6d4d" kindref="member">ChainstateManager::ProcessTransaction()</ref></para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">active_chainstate</parametername>
</parameternamelist>
<parameterdescription>
<para>Reference to the active chainstate. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">tx</parametername>
</parameternamelist>
<parameterdescription>
<para>The transaction to submit for mempool acceptance. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">accept_time</parametername>
</parameternamelist>
<parameterdescription>
<para>The timestamp for adding the transaction to the mempool. It is also used to determine when the entry expires. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">bypass_limits</parametername>
</parameternamelist>
<parameterdescription>
<para>When true, don&apos;t enforce mempool fee and capacity limits, and set entry_sequence to zero. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">test_accept</parametername>
</parameternamelist>
<parameterdescription>
<para>When true, run validation checks but don&apos;t submit to mempool.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>a <ref refid="struct_mempool_accept_result" kindref="compound">MempoolAcceptResult</ref> indicating whether the transaction was accepted/rejected with reason. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="273" column="21" bodyfile="src/validation.cpp" bodystart="1791" bodyend="1821" declfile="src/validation.h" declline="273" declcolumn="21"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a76df4ca4505ff8d4e622d06a5a2daeed" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="struct_package_mempool_accept_result" kindref="compound">PackageMempoolAcceptResult</ref></type>
        <definition>PackageMempoolAcceptResult ProcessNewPackage</definition>
        <argsstring>(Chainstate &amp;active_chainstate, CTxMemPool &amp;pool, const Package &amp;txns, bool test_accept, const std::optional&lt; CFeeRate &gt; &amp;client_maxfeerate) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>ProcessNewPackage</name>
        <param>
          <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>active_chainstate</declname>
        </param>
        <param>
          <type><ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref> &amp;</type>
          <declname>pool</declname>
        </param>
        <param>
          <type>const <ref refid="packages_8h_1a138b5dbe56c4869308e2bc7a28b51d9c" kindref="member">Package</ref> &amp;</type>
          <declname>txns</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>test_accept</declname>
        </param>
        <param>
          <type>const std::optional&lt; <ref refid="class_c_fee_rate" kindref="compound">CFeeRate</ref> &gt; &amp;</type>
          <declname>client_maxfeerate</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Validate (and maybe submit) a package to the mempool. See doc/policy/packages.md for full details on package validation rules. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">test_accept</parametername>
</parameternamelist>
<parameterdescription>
<para>When true, run validation checks but don&apos;t submit to mempool. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">client_maxfeerate</parametername>
</parameternamelist>
<parameterdescription>
<para>If exceeded by an individual transaction, rest of (sub)package evaluation is aborted. Only for sanity checks against local submission of transactions. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>a <ref refid="struct_package_mempool_accept_result" kindref="compound">PackageMempoolAcceptResult</ref> which includes a <ref refid="struct_mempool_accept_result" kindref="compound">MempoolAcceptResult</ref> for each transaction. If a transaction fails, validation will exit early and some results may be missing. It is also possible for the package to be partially submitted. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="287" column="28" bodyfile="src/validation.cpp" bodystart="1823" bodyend="1853" declfile="src/validation.h" declline="287" declcolumn="28"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a4bb60528a48d01c047a4b004e13136ff" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool CheckSequenceLocksAtTip</definition>
        <argsstring>(CBlockIndex *tip, const LockPoints &amp;lock_points)</argsstring>
        <name>CheckSequenceLocksAtTip</name>
        <param>
          <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
          <declname>tip</declname>
        </param>
        <param>
          <type>const <ref refid="struct_lock_points" kindref="compound">LockPoints</ref> &amp;</type>
          <declname>lock_points</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check if transaction will be BIP68 final in the next block to be created on top of tip. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">tip</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="class_chain" kindref="compound">Chain</ref> tip to check tx sequence locks against. For example, the tip of the current active chain. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">lock_points</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="struct_lock_points" kindref="compound">LockPoints</ref> containing the height and time at which this transaction is final. Simulates calling <ref refid="tx__verify_8cpp_1ad5b7bf644ada0a55c6aac8cfa89ed14a" kindref="member">SequenceLocks()</ref> with data from the tip passed in. The <ref refid="struct_lock_points" kindref="compound">LockPoints</ref> should not be considered valid if CheckSequenceLocksAtTip returns false. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="330" column="6" bodyfile="src/validation.cpp" bodystart="248" bodyend="264" declfile="src/validation.h" declline="330" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a9d72a901e6237b2e81465a7425f4112c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool CheckBlock</definition>
        <argsstring>(const CBlock &amp;block, BlockValidationState &amp;state, const Consensus::Params &amp;consensusParams, bool fCheckPOW=true, bool fCheckMerkleRoot=true)</argsstring>
        <name>CheckBlock</name>
        <param>
          <type>const <ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref> &amp;</type>
          <declname>state</declname>
        </param>
        <param>
          <type>const <ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref> &amp;</type>
          <declname>consensusParams</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fCheckPOW</declname>
          <defval>true</defval>
        </param>
        <param>
          <type>bool</type>
          <declname>fCheckMerkleRoot</declname>
          <defval>true</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Functions for validating blocks and updating the block tree Context-independent validity checks </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="391" column="6" bodyfile="src/validation.cpp" bodystart="3997" bodyend="4062" declfile="src/validation.h" declline="391" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a63a4d1f365e4d98c9f95685650c6e010" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref></type>
        <definition>BlockValidationState TestBlockValidity</definition>
        <argsstring>(Chainstate &amp;chainstate, const CBlock &amp;block, bool check_pow, bool check_merkle_root) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>TestBlockValidity</name>
        <param>
          <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>chainstate</declname>
        </param>
        <param>
          <type>const <ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>check_pow</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>check_merkle_root</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Verify a block, including transactions.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block</parametername>
</parameternamelist>
<parameterdescription>
<para>The block we want to process. Must connect to the current tip. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">chainstate</parametername>
</parameternamelist>
<parameterdescription>
<para>The chainstate to connect to. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">check_pow</parametername>
</parameternamelist>
<parameterdescription>
<para>perform proof-of-work check, nBits in the header is always checked </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">check_merkle_root</parametername>
</parameternamelist>
<parameterdescription>
<para>check the merkle root</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Valid or Invalid state. This doesn&apos;t currently return an Error state, and shouldn&apos;t unless there is something wrong with the existing chainstate. (This is different from functions like AcceptBlock which can fail trying to save new data.)</para>
</simplesect>
For signets the challenge verification is skipped when check_pow is false. </para>
        </detaileddescription>
        <inbodydescription>
<para>At this point ProcessNewBlock would call AcceptBlock(), but we don&apos;t want to store the block or its header. Run individual checks instead:<itemizedlist>
<listitem><para>skip AcceptBlockHeader() because:<itemizedlist>
<listitem><para>we don&apos;t want to update the block index</para>
</listitem><listitem><para>we do not care about duplicates</para>
</listitem><listitem><para>we already ran CheckBlockHeader() via <ref refid="validation_8h_1a9d72a901e6237b2e81465a7425f4112c" kindref="member">CheckBlock()</ref></para>
</listitem><listitem><para>we already checked for prev-blk-not-found</para>
</listitem><listitem><para>we know the tip is valid, so no need to check bad-prevblk</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para>we already ran <ref refid="validation_8h_1a9d72a901e6237b2e81465a7425f4112c" kindref="member">CheckBlock()</ref></para>
</listitem><listitem><para>do run ContextualCheckBlockHeader()</para>
</listitem><listitem><para>do run ContextualCheckBlock()</para>
</listitem></itemizedlist>
</para>
        </inbodydescription>
        <location file="src/validation.h" line="410" column="22" bodyfile="src/validation.cpp" bodystart="4546" bodyend="4617" declfile="src/validation.h" declline="410" declcolumn="22"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a600cde3b7d04dc488eec00d290931db7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool HasValidProofOfWork</definition>
        <argsstring>(const std::vector&lt; CBlockHeader &gt; &amp;headers, const Consensus::Params &amp;consensusParams)</argsstring>
        <name>HasValidProofOfWork</name>
        <param>
          <type>const std::vector&lt; <ref refid="class_c_block_header" kindref="compound">CBlockHeader</ref> &gt; &amp;</type>
          <declname>headers</declname>
        </param>
        <param>
          <type>const <ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref> &amp;</type>
          <declname>consensusParams</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check with the proof of work on each blockheader matches the value in nBits </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="417" column="6" bodyfile="src/validation.cpp" bodystart="4103" bodyend="4107" declfile="src/validation.h" declline="417" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a10bb051c7f669d2bea4c37e6b6d3ed5c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool IsBlockMutated</definition>
        <argsstring>(const CBlock &amp;block, bool check_witness_root)</argsstring>
        <name>IsBlockMutated</name>
        <param>
          <type>const <ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>check_witness_root</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check if a block has been mutated (with respect to its merkle root and witness commitments). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="420" column="6" bodyfile="src/validation.cpp" bodystart="4109" bodyend="4138" declfile="src/validation.h" declline="420" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a805faf00f329288736b407376d6edb7a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classarith__uint256" kindref="compound">arith_uint256</ref></type>
        <definition>arith_uint256 CalculateClaimedHeadersWork</definition>
        <argsstring>(std::span&lt; const CBlockHeader &gt; headers)</argsstring>
        <name>CalculateClaimedHeadersWork</name>
        <param>
          <type>std::span&lt; const <ref refid="class_c_block_header" kindref="compound">CBlockHeader</ref> &gt;</type>
          <declname>headers</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return the sum of the claimed work on a given set of headers. No verification of PoW is done. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="423" column="15" bodyfile="src/validation.cpp" bodystart="4140" bodyend="4148" declfile="src/validation.h" declline="423" declcolumn="15"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a801a358b935aafb7dcb4d94e292a23c1" prot="public" static="no" constexpr="yes" const="no" explicit="no" inline="no" noexcept="yes" virt="non-virtual">
        <type>int64_t</type>
        <definition>int64_t LargeCoinsCacheThreshold</definition>
        <argsstring>(int64_t total_space) noexcept</argsstring>
        <name>LargeCoinsCacheThreshold</name>
        <param>
          <type>int64_t</type>
          <declname>total_space</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="512" column="19" bodyfile="src/validation.h" bodystart="512" bodyend="518"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a617ed441b6101875308a8fb4e0806877" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename DEP</type>
          </param>
        </templateparamlist>
        <type>bool</type>
        <definition>bool DeploymentActiveAfter</definition>
        <argsstring>(const CBlockIndex *pindexPrev, const ChainstateManager &amp;chainman, DEP dep)</argsstring>
        <name>DeploymentActiveAfter</name>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
          <declname>pindexPrev</declname>
        </param>
        <param>
          <type>const <ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> &amp;</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>DEP</type>
          <declname>dep</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Deployment* info via <ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1355" column="6" bodyfile="src/validation.h" bodystart="1355" bodyend="1358"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1ac799f78d8f44b330f7990a7eeb3071d2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename DEP</type>
          </param>
        </templateparamlist>
        <type>bool</type>
        <definition>bool DeploymentActiveAt</definition>
        <argsstring>(const CBlockIndex &amp;index, const ChainstateManager &amp;chainman, DEP dep)</argsstring>
        <name>DeploymentActiveAt</name>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;</type>
          <declname>index</declname>
        </param>
        <param>
          <type>const <ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> &amp;</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>DEP</type>
          <declname>dep</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1361" column="6" bodyfile="src/validation.h" bodystart="1361" bodyend="1364"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a682495cf4f04b79458a57b29ac4f8951" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename DEP</type>
          </param>
        </templateparamlist>
        <type>bool</type>
        <definition>bool DeploymentEnabled</definition>
        <argsstring>(const ChainstateManager &amp;chainman, DEP dep)</argsstring>
        <name>DeploymentEnabled</name>
        <param>
          <type>const <ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> &amp;</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>DEP</type>
          <declname>dep</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1367" column="6" bodyfile="src/validation.h" bodystart="1367" bodyend="1370"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1ad2cf17561482ed386ab70ddaa9b6b7a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool IsBIP30Repeat</definition>
        <argsstring>(const CBlockIndex &amp;block_index)</argsstring>
        <name>IsBIP30Repeat</name>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;</type>
          <declname>block_index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Identifies blocks that overwrote an existing coinbase output in the UTXO set (see BIP30) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1373" column="6" bodyfile="src/validation.cpp" bodystart="6257" bodyend="6261" declfile="src/validation.h" declline="1373" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1af3fd9113ad463595ffeac4bf813ceea4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool IsBIP30Unspendable</definition>
        <argsstring>(const uint256 &amp;block_hash, int block_height)</argsstring>
        <name>IsBIP30Unspendable</name>
        <param>
          <type>const <ref refid="classuint256" kindref="compound">uint256</ref> &amp;</type>
          <declname>block_hash</declname>
        </param>
        <param>
          <type>int</type>
          <declname>block_height</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Identifies blocks which coinbase output was subsequently overwritten in the UTXO set (see BIP30) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1376" column="6" bodyfile="src/validation.cpp" bodystart="6263" bodyend="6267" declfile="src/validation.h" declline="1376" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="validation_8h_1a1c5c1cc0abaf193cde025de8c0827b50" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classscript__verify__flags" kindref="compound">script_verify_flags</ref></type>
        <definition>script_verify_flags GetBlockScriptFlags</definition>
        <argsstring>(const CBlockIndex &amp;block_index, const ChainstateManager &amp;chainman)</argsstring>
        <name>GetBlockScriptFlags</name>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;</type>
          <declname>block_index</declname>
        </param>
        <param>
          <type>const <ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> &amp;</type>
          <declname>chainman</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1379" column="21" bodyfile="src/validation.cpp" bodystart="2291" bodyend="2330" declfile="src/validation.h" declline="1379" declcolumn="21"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2009-2010<sp/>Satoshi<sp/>Nakamoto</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2009-present<sp/>The<sp/>Bitcoin<sp/>Core<sp/>developers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Distributed<sp/>under<sp/>the<sp/>MIT<sp/>software<sp/>license,<sp/>see<sp/>the<sp/>accompanying</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>file<sp/>COPYING<sp/>or<sp/>http://www.opensource.org/licenses/mit-license.php.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>BITCOIN_VALIDATION_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BITCOIN_VALIDATION_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="arith__uint256_8h" kindref="compound">arith_uint256.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="attributes_8h" kindref="compound">attributes.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="chain_8h" kindref="compound">chain.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="checkqueue_8h" kindref="compound">checkqueue.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="amount_8h" kindref="compound">consensus/amount.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="cuckoocache_8h" kindref="compound">cuckoocache.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="deploymentstatus_8h" kindref="compound">deploymentstatus.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel_2chain_8h" kindref="compound">kernel/chain.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel_2chainparams_8h" kindref="compound">kernel/chainparams.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="chainstatemanager__opts_8h" kindref="compound">kernel/chainstatemanager_opts.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="cs__main_8h" kindref="compound">kernel/cs_main.h</ref>&gt;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>IWYU<sp/>pragma:<sp/>export</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="blockstorage_8h" kindref="compound">node/blockstorage.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="feerate_8h" kindref="compound">policy/feerate.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="packages_8h" kindref="compound">policy/packages.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="policy_8h" kindref="compound">policy/policy.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="script__error_8h" kindref="compound">script/script_error.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="sigcache_8h" kindref="compound">script/sigcache.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="verify__flags_8h" kindref="compound">script/verify_flags.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="sync_8h" kindref="compound">sync.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="txdb_8h" kindref="compound">txdb.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="txmempool_8h" kindref="compound">txmempool.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="uint256_8h" kindref="compound">uint256.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="byte__units_8h" kindref="compound">util/byte_units.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="check_8h" kindref="compound">util/check.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="fs_8h" kindref="compound">util/fs.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="hasher_8h" kindref="compound">util/hasher.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="result_8h" kindref="compound">util/result.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="util_2time_8h" kindref="compound">util/time.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="translation_8h" kindref="compound">util/translation.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="versionbits_8h" kindref="compound">versionbits.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;algorithm&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;atomic&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cstdint&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;map&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;memory&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;optional&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;set&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;span&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;type_traits&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;utility&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_chainstate" kindref="compound">Chainstate</ref>;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref>;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref>;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_chain_tx_data" kindref="compound">ChainTxData</ref>;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_disconnected_block_transactions" kindref="compound">DisconnectedBlockTransactions</ref>;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_precomputed_transaction_data" kindref="compound">PrecomputedTransactionData</ref>;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_lock_points" kindref="compound">LockPoints</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_assumeutxo_data" kindref="compound">AssumeutxoData</ref>;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacekernel" kindref="compound">kernel</ref><sp/>{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structkernel_1_1_chainstate_role" kindref="compound">ChainstateRole</ref>;</highlight></codeline>
<codeline lineno="63"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>kernel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacenode" kindref="compound">node</ref><sp/>{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classnode_1_1_snapshot_metadata" kindref="compound">SnapshotMetadata</ref>;</highlight></codeline>
<codeline lineno="66"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespace_consensus" kindref="compound">Consensus</ref><sp/>{</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_consensus_1_1_params" kindref="compound">Params</ref>;</highlight></codeline>
<codeline lineno="69"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>Consensus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceutil" kindref="compound">util</ref><sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classutil_1_1_signal_interrupt" kindref="compound">SignalInterrupt</ref>;</highlight></codeline>
<codeline lineno="72"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>util</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>MIN_BLOCKS_TO_KEEP<sp/>=<sp/>288;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">signed</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>DEFAULT_CHECKBLOCKS<sp/>=<sp/>6;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>DEFAULT_CHECKLEVEL{3};</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Require<sp/>that<sp/>user<sp/>allocate<sp/>at<sp/>least<sp/>550<sp/>MiB<sp/>for<sp/>block<sp/>&amp;<sp/>undo<sp/>files<sp/>(blk???.dat<sp/>and<sp/>rev???.dat)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="comment">//<sp/>At<sp/>1MB<sp/>per<sp/>block,<sp/>288<sp/>blocks<sp/>=<sp/>288MB.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Add<sp/>15%<sp/>for<sp/>Undo<sp/>data<sp/>=<sp/>331MB</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Add<sp/>20%<sp/>for<sp/>Orphan<sp/>block<sp/>rate<sp/>=<sp/>397MB</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>want<sp/>the<sp/>low<sp/>water<sp/>mark<sp/>after<sp/>pruning<sp/>to<sp/>be<sp/>at<sp/>least<sp/>397<sp/>MB<sp/>and<sp/>since<sp/>we<sp/>prune<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="comment">//<sp/>full<sp/>block<sp/>file<sp/>chunks,<sp/>we<sp/>need<sp/>the<sp/>high<sp/>water<sp/>mark<sp/>which<sp/>triggers<sp/>the<sp/>prune<sp/>to<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="comment">//<sp/>one<sp/>128MB<sp/>block<sp/>file<sp/>+<sp/>added<sp/>15%<sp/>undo<sp/>data<sp/>=<sp/>147MB<sp/>greater<sp/>for<sp/>a<sp/>total<sp/>of<sp/>545MB</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Setting<sp/>the<sp/>target<sp/>to<sp/>&gt;=<sp/>550<sp/>MiB<sp/>will<sp/>make<sp/>it<sp/>likely<sp/>we<sp/>can<sp/>respect<sp/>the<sp/>target.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint64_t<sp/>MIN_DISK_SPACE_FOR_BLOCK_FILES<sp/>=<sp/>550<sp/>*<sp/>1024<sp/>*<sp/>1024;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>MAX_SCRIPTCHECK_THREADS{15};</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="92" refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">enum<sp/>class</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219" kindref="member">SynchronizationState</ref><sp/>{</highlight></codeline>
<codeline lineno="93" refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219aed5f7c41f40d80cfb4805fc2a823aaa5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219aed5f7c41f40d80cfb4805fc2a823aaa5" kindref="member">INIT_REINDEX</ref>,</highlight></codeline>
<codeline lineno="94" refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219a8ad7ae4642d6220dcc79dfe93a5a3b25" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219a8ad7ae4642d6220dcc79dfe93a5a3b25" kindref="member">INIT_DOWNLOAD</ref>,</highlight></codeline>
<codeline lineno="95" refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219a90420c85ac74ebe4793694a7c4680b12" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219a90420c85ac74ebe4793694a7c4680b12" kindref="member">POST_INIT</ref></highlight></codeline>
<codeline lineno="96"><highlight class="normal">};</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;std::string&gt;<sp/><ref refid="validation_8cpp_1aa6bf79aa2e37d5ce26771d5af135cf51" kindref="member">CHECKLEVEL_DOC</ref>;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><ref refid="amount_8h_1a4eaf3a5239714d8c45b851527f7cb564" kindref="member">CAmount</ref><sp/><ref refid="validation_8h_1a3e7cb06e156ad8400b9214479e946187" kindref="member">GetBlockSubsidy</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="mempool__ephemeral__spends_8cpp_1a2e4c6b811457a16b7033af6741cfb1db" kindref="member">nHeight</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref>&amp;<sp/>consensusParams);</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a5a516dcd32726994512c2dfe67439ba2" kindref="member">FatalError</ref>(<ref refid="classkernel_1_1_notifications" kindref="compound">kernel::Notifications</ref>&amp;<sp/>notifications,<sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref>&amp;<sp/>message);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1ab256293c94a9e05d6d9a9ccb5d6b2c58" kindref="member">PruneBlockFilesManual</ref>(<ref refid="class_chainstate" kindref="compound">Chainstate</ref>&amp;<sp/>active_chainstate,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nManualPruneHeight);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="130" refid="struct_mempool_accept_result" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">MempoolAcceptResult<sp/>{</highlight></codeline>
<codeline lineno="132" refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">enum<sp/>class</highlight><highlight class="normal"><sp/><ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49" kindref="member">ResultType</ref><sp/>{</highlight></codeline>
<codeline lineno="133" refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49ac9f1a6384b1c466d4612f513bd8e13ea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49ac9f1a6384b1c466d4612f513bd8e13ea" kindref="member">VALID</ref>,<sp/></highlight></codeline>
<codeline lineno="134" refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49accc0377a8afbf50e7094f5c23a8af223" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49accc0377a8afbf50e7094f5c23a8af223" kindref="member">INVALID</ref>,<sp/></highlight></codeline>
<codeline lineno="135" refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49a7293a7b88fa11eadb03e7f9e3111d0b8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49a7293a7b88fa11eadb03e7f9e3111d0b8" kindref="member">MEMPOOL_ENTRY</ref>,<sp/></highlight></codeline>
<codeline lineno="136" refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49a2d29ec62347aac067b052563d894edc1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49a2d29ec62347aac067b052563d894edc1" kindref="member">DIFFERENT_WITNESS</ref>,<sp/></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="139" refid="struct_mempool_accept_result_1af8017e4319a28c0cac9c61662b1d7565" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49" kindref="member">ResultType</ref><sp/><ref refid="struct_mempool_accept_result_1af8017e4319a28c0cac9c61662b1d7565" kindref="member">m_result_type</ref>;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="142" refid="struct_mempool_accept_result_1a5d8238ae23efa4592916ffc81d18cd4d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_tx_validation_state" kindref="compound">TxValidationState</ref><sp/><ref refid="struct_mempool_accept_result_1a5d8238ae23efa4592916ffc81d18cd4d" kindref="member">m_state</ref>;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="145" refid="struct_mempool_accept_result_1a4c4c805f30f282cc10c2cdad8346644c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::list&lt;CTransactionRef&gt;<sp/><ref refid="struct_mempool_accept_result_1a4c4c805f30f282cc10c2cdad8346644c" kindref="member">m_replaced_transactions</ref>;</highlight></codeline>
<codeline lineno="147" refid="struct_mempool_accept_result_1a59c504dbd08644222c38d847f9ee5774" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;int64_t&gt;<sp/><ref refid="struct_mempool_accept_result_1a59c504dbd08644222c38d847f9ee5774" kindref="member">m_vsize</ref>;</highlight></codeline>
<codeline lineno="149" refid="struct_mempool_accept_result_1adcc76132ea26fa4729e182f26fbda916" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;CAmount&gt;<sp/><ref refid="struct_mempool_accept_result_1adcc76132ea26fa4729e182f26fbda916" kindref="member">m_base_fees</ref>;</highlight></codeline>
<codeline lineno="155" refid="struct_mempool_accept_result_1a62412e1da8aea090b678dae063382145" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;CFeeRate&gt;<sp/><ref refid="struct_mempool_accept_result_1a62412e1da8aea090b678dae063382145" kindref="member">m_effective_feerate</ref>;</highlight></codeline>
<codeline lineno="161" refid="struct_mempool_accept_result_1a19722acfa6e2e4d0d24406febb89e27c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;std::vector&lt;Wtxid&gt;&gt;<sp/><ref refid="struct_mempool_accept_result_1a19722acfa6e2e4d0d24406febb89e27c" kindref="member">m_wtxids_fee_calculations</ref>;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="164" refid="struct_mempool_accept_result_1a674073929b1a096e47782e43c240ff91" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;Wtxid&gt;<sp/><ref refid="struct_mempool_accept_result_1a674073929b1a096e47782e43c240ff91" kindref="member">m_other_wtxid</ref>;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166" refid="struct_mempool_accept_result_1af068e8d0ef73ea6eb79c045cc100558c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>MempoolAcceptResult<sp/><ref refid="struct_mempool_accept_result_1af068e8d0ef73ea6eb79c045cc100558c" kindref="member">Failure</ref>(<ref refid="class_tx_validation_state" kindref="compound">TxValidationState</ref><sp/>state)<sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>MempoolAcceptResult(state);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170" refid="struct_mempool_accept_result_1a6fbe5db652a0290ae352d7c03964e6de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>MempoolAcceptResult<sp/><ref refid="struct_mempool_accept_result_1a6fbe5db652a0290ae352d7c03964e6de" kindref="member">FeeFailure</ref>(<ref refid="class_tx_validation_state" kindref="compound">TxValidationState</ref><sp/>state,</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_fee_rate" kindref="compound">CFeeRate</ref><sp/>effective_feerate,</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;Wtxid&gt;&amp;<sp/>wtxids_fee_calculations)<sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>MempoolAcceptResult(state,<sp/>effective_feerate,<sp/>wtxids_fee_calculations);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176" refid="struct_mempool_accept_result_1ae8bd22448958950d717420133c2074f4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>MempoolAcceptResult<sp/><ref refid="struct_mempool_accept_result_1ae8bd22448958950d717420133c2074f4" kindref="member">Success</ref>(std::list&lt;CTransactionRef&gt;&amp;&amp;<sp/>replaced_txns,</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int64_t<sp/>vsize,</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="amount_8h_1a4eaf3a5239714d8c45b851527f7cb564" kindref="member">CAmount</ref><sp/>fees,</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_fee_rate" kindref="compound">CFeeRate</ref><sp/>effective_feerate,</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;Wtxid&gt;&amp;<sp/>wtxids_fee_calculations)<sp/>{</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>MempoolAcceptResult(std::move(replaced_txns),<sp/>vsize,<sp/>fees,</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>effective_feerate,<sp/>wtxids_fee_calculations);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185" refid="struct_mempool_accept_result_1ab628f26518da6c78aa755a1afaa417ef" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>MempoolAcceptResult<sp/><ref refid="struct_mempool_accept_result_1ab628f26518da6c78aa755a1afaa417ef" kindref="member">MempoolTx</ref>(int64_t<sp/>vsize,<sp/><ref refid="amount_8h_1a4eaf3a5239714d8c45b851527f7cb564" kindref="member">CAmount</ref><sp/>fees)<sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>MempoolAcceptResult(vsize,<sp/>fees);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189" refid="struct_mempool_accept_result_1aaf92f247b94bd5a8914b2c927efc30f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>MempoolAcceptResult<sp/><ref refid="struct_mempool_accept_result_1aaf92f247b94bd5a8914b2c927efc30f5" kindref="member">MempoolTxDifferentWitness</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref>&amp;<sp/>other_wtxid)<sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>MempoolAcceptResult(other_wtxid);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Private<sp/>constructors.<sp/>Use<sp/>static<sp/>methods<sp/>MempoolAcceptResult::Success,<sp/>etc.<sp/>to<sp/>construct.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="struct_mempool_accept_result" kindref="compound">MempoolAcceptResult</ref>(<ref refid="class_tx_validation_state" kindref="compound">TxValidationState</ref><sp/>state)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="struct_mempool_accept_result_1af8017e4319a28c0cac9c61662b1d7565" kindref="member">m_result_type</ref>(<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49" kindref="member">ResultType</ref>::<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49accc0377a8afbf50e7094f5c23a8af223" kindref="member">INVALID</ref>),<sp/><ref refid="struct_mempool_accept_result_1a5d8238ae23efa4592916ffc81d18cd4d" kindref="member">m_state</ref>(state)<sp/>{</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="check_8h_1adf63e17d34d997e5218a73ef20960ca9" kindref="member">Assume</ref>(!state.<ref refid="class_validation_state_1ac532c4b500b1a85ea22217f2c65a70ed" kindref="member">IsValid</ref>());<sp/></highlight><highlight class="comment">//<sp/>Can<sp/>be<sp/>invalid<sp/>or<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/>MempoolAcceptResult(std::list&lt;CTransactionRef&gt;&amp;&amp;<sp/>replaced_txns,</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int64_t<sp/>vsize,</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="amount_8h_1a4eaf3a5239714d8c45b851527f7cb564" kindref="member">CAmount</ref><sp/>fees,</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFeeRate<sp/>effective_feerate,</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;Wtxid&gt;&amp;<sp/>wtxids_fee_calculations)</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="struct_mempool_accept_result_1af8017e4319a28c0cac9c61662b1d7565" kindref="member">m_result_type</ref>(<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49" kindref="member">ResultType</ref>::<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49ac9f1a6384b1c466d4612f513bd8e13ea" kindref="member">VALID</ref>),</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1a4c4c805f30f282cc10c2cdad8346644c" kindref="member">m_replaced_transactions</ref>(std::move(replaced_txns)),</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1a59c504dbd08644222c38d847f9ee5774" kindref="member">m_vsize</ref>{vsize},</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1adcc76132ea26fa4729e182f26fbda916" kindref="member">m_base_fees</ref>(fees),</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1a62412e1da8aea090b678dae063382145" kindref="member">m_effective_feerate</ref>(effective_feerate),</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1a19722acfa6e2e4d0d24406febb89e27c" kindref="member">m_wtxids_fee_calculations</ref>(wtxids_fee_calculations)<sp/>{}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/>MempoolAcceptResult(TxValidationState<sp/>state,</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFeeRate<sp/>effective_feerate,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;Wtxid&gt;&amp;<sp/>wtxids_fee_calculations)</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="struct_mempool_accept_result_1af8017e4319a28c0cac9c61662b1d7565" kindref="member">m_result_type</ref>(<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49" kindref="member">ResultType</ref>::<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49accc0377a8afbf50e7094f5c23a8af223" kindref="member">INVALID</ref>),</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1a5d8238ae23efa4592916ffc81d18cd4d" kindref="member">m_state</ref>(state),</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1a62412e1da8aea090b678dae063382145" kindref="member">m_effective_feerate</ref>(effective_feerate),</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_mempool_accept_result_1a19722acfa6e2e4d0d24406febb89e27c" kindref="member">m_wtxids_fee_calculations</ref>(wtxids_fee_calculations)<sp/>{}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/>MempoolAcceptResult(int64_t<sp/>vsize,<sp/><ref refid="amount_8h_1a4eaf3a5239714d8c45b851527f7cb564" kindref="member">CAmount</ref><sp/>fees)</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="struct_mempool_accept_result_1af8017e4319a28c0cac9c61662b1d7565" kindref="member">m_result_type</ref>(<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49" kindref="member">ResultType</ref>::<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49a7293a7b88fa11eadb03e7f9e3111d0b8" kindref="member">MEMPOOL_ENTRY</ref>),<sp/><ref refid="struct_mempool_accept_result_1a59c504dbd08644222c38d847f9ee5774" kindref="member">m_vsize</ref>{vsize},<sp/><ref refid="struct_mempool_accept_result_1adcc76132ea26fa4729e182f26fbda916" kindref="member">m_base_fees</ref>(fees)<sp/>{}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/>MempoolAcceptResult(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref>&amp;<sp/>other_wtxid)</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="struct_mempool_accept_result_1af8017e4319a28c0cac9c61662b1d7565" kindref="member">m_result_type</ref>(<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49" kindref="member">ResultType</ref>::<ref refid="struct_mempool_accept_result_1aa71b5fc2a82d29a91db3a734ff892a49a2d29ec62347aac067b052563d894edc1" kindref="member">DIFFERENT_WITNESS</ref>),<sp/><ref refid="struct_mempool_accept_result_1a674073929b1a096e47782e43c240ff91" kindref="member">m_other_wtxid</ref>(other_wtxid)<sp/>{}</highlight></codeline>
<codeline lineno="230"><highlight class="normal">};</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="235" refid="struct_package_mempool_accept_result" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_package_mempool_accept_result_1a9a9f3ef347dd4f3e38f829b49d1bd447" kindref="member">PackageMempoolAcceptResult</ref></highlight></codeline>
<codeline lineno="236"><highlight class="normal">{</highlight></codeline>
<codeline lineno="237" refid="struct_package_mempool_accept_result_1a14b1b7ea32b2b5c3b49c35b147fab3cb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_package_validation_state" kindref="compound">PackageValidationState</ref><sp/><ref refid="struct_package_mempool_accept_result_1a14b1b7ea32b2b5c3b49c35b147fab3cb" kindref="member">m_state</ref>;</highlight></codeline>
<codeline lineno="244" refid="struct_package_mempool_accept_result_1a048e81b8b8e77d642e29e840c5b7488d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::map&lt;Wtxid,<sp/>MempoolAcceptResult&gt;<sp/><ref refid="struct_package_mempool_accept_result_1a048e81b8b8e77d642e29e840c5b7488d" kindref="member">m_tx_results</ref>;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246" refid="struct_package_mempool_accept_result_1a9a9f3ef347dd4f3e38f829b49d1bd447" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="struct_package_mempool_accept_result_1a9a9f3ef347dd4f3e38f829b49d1bd447" kindref="member">PackageMempoolAcceptResult</ref>(<ref refid="class_package_validation_state" kindref="compound">PackageValidationState</ref><sp/>state,</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::map&lt;Wtxid,<sp/>MempoolAcceptResult&gt;&amp;&amp;<sp/>results)</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="struct_package_mempool_accept_result_1a14b1b7ea32b2b5c3b49c35b147fab3cb" kindref="member">m_state</ref>{state},<sp/><ref refid="struct_package_mempool_accept_result_1a048e81b8b8e77d642e29e840c5b7488d" kindref="member">m_tx_results</ref>(<ref refid="namespacestd" kindref="compound">std</ref>::move(results))<sp/>{}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250" refid="struct_package_mempool_accept_result_1a62ecb4441f3c282ab0c2d159ec7ea056" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="struct_package_mempool_accept_result_1a62ecb4441f3c282ab0c2d159ec7ea056" kindref="member">PackageMempoolAcceptResult</ref>(<ref refid="class_package_validation_state" kindref="compound">PackageValidationState</ref><sp/>state,<sp/><ref refid="class_c_fee_rate" kindref="compound">CFeeRate</ref><sp/>feerate,</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::map&lt;Wtxid,<sp/>MempoolAcceptResult&gt;&amp;&amp;<sp/>results)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="struct_package_mempool_accept_result_1a14b1b7ea32b2b5c3b49c35b147fab3cb" kindref="member">m_state</ref>{state},<sp/><ref refid="struct_package_mempool_accept_result_1a048e81b8b8e77d642e29e840c5b7488d" kindref="member">m_tx_results</ref>(<ref refid="namespacestd" kindref="compound">std</ref>::move(results))<sp/>{}</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="255" refid="struct_package_mempool_accept_result_1a3898cfb3c5d5205b17f289f75c167f54" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="struct_package_mempool_accept_result_1a3898cfb3c5d5205b17f289f75c167f54" kindref="member">PackageMempoolAcceptResult</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="transaction__identifier_8h_1a23364c1312d4dffbbf549b4440333fd9" kindref="member">Wtxid</ref>&amp;<sp/>wtxid,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_mempool_accept_result" kindref="compound">MempoolAcceptResult</ref>&amp;<sp/>result)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="struct_package_mempool_accept_result_1a048e81b8b8e77d642e29e840c5b7488d" kindref="member">m_tx_results</ref>{<sp/>{wtxid,<sp/>result}<sp/>}<sp/>{}</highlight></codeline>
<codeline lineno="257"><highlight class="normal">};</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><ref refid="struct_mempool_accept_result" kindref="compound">MempoolAcceptResult</ref><sp/><ref refid="validation_8h_1a5f178a2bb141cae949283673ad12ca6b" kindref="member">AcceptToMemoryPool</ref>(<ref refid="class_chainstate" kindref="compound">Chainstate</ref>&amp;<sp/>active_chainstate,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref>&amp;<sp/>tx,</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int64_t<sp/>accept_time,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bypass_limits,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>test_accept)</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><ref refid="struct_package_mempool_accept_result" kindref="compound">PackageMempoolAcceptResult</ref><sp/><ref refid="validation_8h_1a76df4ca4505ff8d4e622d06a5a2daeed" kindref="member">ProcessNewPackage</ref>(<ref refid="class_chainstate" kindref="compound">Chainstate</ref>&amp;<sp/>active_chainstate,<sp/><ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref>&amp;<sp/>pool,</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="packages_8h_1a138b5dbe56c4869308e2bc7a28b51d9c" kindref="member">Package</ref>&amp;<sp/>txns,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>test_accept,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;CFeeRate&gt;&amp;<sp/>client_maxfeerate)</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Mempool<sp/>validation<sp/>helper<sp/>functions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="validation_8cpp_1a3b90ca0d639cfea2208c7c0aa5118aaa" kindref="member">CheckFinalTxAtTip</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>&amp;<sp/>active_chain_tip,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref>&amp;<sp/>tx)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="316" refid="validation_8h_1a32144d8c77b444fd1bacffc7de991a8a" refkind="member"><highlight class="normal">std::optional&lt;LockPoints&gt;<sp/><ref refid="validation_8h_1a32144d8c77b444fd1bacffc7de991a8a" kindref="member">CalculateLockPointsAtTip</ref>(</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>tip,</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_coins_view" kindref="compound">CCoinsView</ref>&amp;<sp/>coins_view,</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref>&amp;<sp/>tx);</highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a4bb60528a48d01c047a4b004e13136ff" kindref="member">CheckSequenceLocksAtTip</ref>(<ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>tip,</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_lock_points" kindref="compound">LockPoints</ref>&amp;<sp/>lock_points);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="337" refid="class_c_script_check" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" kindref="member">CScriptCheck</ref></highlight></codeline>
<codeline lineno="338"><highlight class="normal">{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_tx_out" kindref="compound">CTxOut</ref><sp/>m_tx_out;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref><sp/>*ptxTo;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nIn;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classscript__verify__flags" kindref="compound">script_verify_flags</ref><sp/>m_flags;</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>cacheStore;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_precomputed_transaction_data" kindref="compound">PrecomputedTransactionData</ref><sp/>*txdata;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_signature_cache" kindref="compound">SignatureCache</ref>*<sp/>m_signature_cache;</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="349" refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" kindref="member">CScriptCheck</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_tx_out" kindref="compound">CTxOut</ref>&amp;<sp/>outIn,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref>&amp;<sp/>txToIn,<sp/><ref refid="class_signature_cache" kindref="compound">SignatureCache</ref>&amp;<sp/>signature_cache,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nInIn,<sp/><ref refid="classscript__verify__flags" kindref="compound">script_verify_flags</ref><sp/><ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref>,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>cacheIn,<sp/><ref refid="struct_precomputed_transaction_data" kindref="compound">PrecomputedTransactionData</ref>*<sp/>txdataIn)<sp/>:</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_tx_out(outIn),<sp/>ptxTo(&amp;txToIn),<sp/>nIn(nInIn),<sp/>m_flags(<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref>),<sp/>cacheStore(cacheIn),<sp/>txdata(txdataIn),<sp/>m_signature_cache(&amp;signature_cache)<sp/>{<sp/>}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight></codeline>
<codeline lineno="352" refid="class_c_script_check_1a061a48b54dfed0d72701d5680d30e603" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_script_check_1a061a48b54dfed0d72701d5680d30e603" kindref="member">CScriptCheck</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" kindref="member">CScriptCheck</ref>&amp;)<sp/>=<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="353" refid="class_c_script_check_1a0a7e28fb2a98f263ef102a5d6b7f9b6e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" kindref="member">CScriptCheck</ref>&amp;<sp/><ref refid="class_c_script_check_1a0a7e28fb2a98f263ef102a5d6b7f9b6e" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" kindref="member">CScriptCheck</ref>&amp;)<sp/>=<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="354" refid="class_c_script_check_1af17685944a60879ba43faa6c089a4ec5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_script_check_1af17685944a60879ba43faa6c089a4ec5" kindref="member">CScriptCheck</ref>(<ref refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" kindref="member">CScriptCheck</ref>&amp;&amp;)<sp/>=<sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="355" refid="class_c_script_check_1acceee8043876ca79ded6d0f8127df691" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" kindref="member">CScriptCheck</ref>&amp;<sp/><ref refid="class_c_script_check_1acceee8043876ca79ded6d0f8127df691" kindref="member">operator=</ref>(<ref refid="class_c_script_check_1ae3a7e327c2387dacb97373295766d921" kindref="member">CScriptCheck</ref>&amp;&amp;)<sp/>=<sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;std::pair&lt;ScriptError,<sp/>std::string&gt;&gt;<sp/><ref refid="class_c_script_check_1aaf375969f824048a25936a2d380d1f0e" kindref="member">operator()</ref>();</highlight></codeline>
<codeline lineno="358"><highlight class="normal">};</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight><highlight class="comment">//<sp/>CScriptCheck<sp/>is<sp/>used<sp/>a<sp/>lot<sp/>in<sp/>std::vector,<sp/>make<sp/>sure<sp/>that&apos;s<sp/>efficient</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight><highlight class="keyword">static_assert</highlight><highlight class="normal">(std::is_nothrow_move_assignable_v&lt;CScriptCheck&gt;);</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight><highlight class="keyword">static_assert</highlight><highlight class="normal">(std::is_nothrow_move_constructible_v&lt;CScriptCheck&gt;);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight><highlight class="keyword">static_assert</highlight><highlight class="normal">(std::is_nothrow_destructible_v&lt;CScriptCheck&gt;);</highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight></codeline>
<codeline lineno="369" refid="class_validation_cache" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_validation_cache_1ae97e9f6e3c90a3191b30331b8bfcad39" kindref="member">ValidationCache</ref></highlight></codeline>
<codeline lineno="370"><highlight class="normal">{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_h_a256" kindref="compound">CSHA256</ref><sp/>m_script_execution_cache_hasher;</highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="376" refid="class_validation_cache_1a71db16486be5a83b5264bdce2bd1a249" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_cuckoo_cache_1_1cache" kindref="compound">CuckooCache::cache&lt;uint256, SignatureCacheHasher&gt;</ref><sp/><ref refid="class_validation_cache_1a71db16486be5a83b5264bdce2bd1a249" kindref="member">m_script_execution_cache</ref>;</highlight></codeline>
<codeline lineno="377" refid="class_validation_cache_1ac1736fb8ed22560923d6a9da5208f715" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_signature_cache" kindref="compound">SignatureCache</ref><sp/><ref refid="class_validation_cache_1ac1736fb8ed22560923d6a9da5208f715" kindref="member">m_signature_cache</ref>;</highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_validation_cache_1ae97e9f6e3c90a3191b30331b8bfcad39" kindref="member">ValidationCache</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>script_execution_cache_bytes,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>signature_cache_bytes);</highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381" refid="class_validation_cache_1a2895b73811c0aaedee0c36cd8c00b096" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_validation_cache_1a2895b73811c0aaedee0c36cd8c00b096" kindref="member">ValidationCache</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_validation_cache_1ae97e9f6e3c90a3191b30331b8bfcad39" kindref="member">ValidationCache</ref>&amp;)<sp/>=<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="382" refid="class_validation_cache_1a9dce6090c2ab4e1421d0803af566c92f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_validation_cache_1ae97e9f6e3c90a3191b30331b8bfcad39" kindref="member">ValidationCache</ref>&amp;<sp/><ref refid="class_validation_cache_1a9dce6090c2ab4e1421d0803af566c92f" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_validation_cache_1ae97e9f6e3c90a3191b30331b8bfcad39" kindref="member">ValidationCache</ref>&amp;)<sp/>=<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="385" refid="class_validation_cache_1a1fda9184359e9ce24c487bd353a5cf62" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_s_h_a256" kindref="compound">CSHA256</ref><sp/><ref refid="class_validation_cache_1a1fda9184359e9ce24c487bd353a5cf62" kindref="member">ScriptExecutionCacheHasher</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>m_script_execution_cache_hasher;<sp/>}</highlight></codeline>
<codeline lineno="386"><highlight class="normal">};</highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a9d72a901e6237b2e81465a7425f4112c" kindref="member">CheckBlock</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block" kindref="compound">CBlock</ref>&amp;<sp/>block,<sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref>&amp;<sp/>consensusParams,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fCheckPOW<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fCheckMerkleRoot<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref><sp/><ref refid="validation_8h_1a63a4d1f365e4d98c9f95685650c6e010" kindref="member">TestBlockValidity</ref>(</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate" kindref="compound">Chainstate</ref>&amp;<sp/>chainstate,</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block" kindref="compound">CBlock</ref>&amp;<sp/>block,</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>check_pow,</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>check_merkle_root)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a600cde3b7d04dc488eec00d290931db7" kindref="member">HasValidProofOfWork</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;CBlockHeader&gt;&amp;<sp/>headers,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref>&amp;<sp/>consensusParams);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a10bb051c7f669d2bea4c37e6b6d3ed5c" kindref="member">IsBlockMutated</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block" kindref="compound">CBlock</ref>&amp;<sp/>block,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>check_witness_root);</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><ref refid="classarith__uint256" kindref="compound">arith_uint256</ref><sp/><ref refid="validation_8h_1a805faf00f329288736b407376d6edb7a" kindref="member">CalculateClaimedHeadersWork</ref>(std::span&lt;const<sp/>CBlockHeader&gt;<sp/>headers);</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight></codeline>
<codeline lineno="425" refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">enum<sp/>class</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0d" kindref="member">VerifyDBResult</ref><sp/>{</highlight></codeline>
<codeline lineno="426" refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0dad0749aaba8b833466dfcbb0428e4f89c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0dad0749aaba8b833466dfcbb0428e4f89c" kindref="member">SUCCESS</ref>,</highlight></codeline>
<codeline lineno="427" refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0da0a5072778adedc1e60a44588f737b854" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0da0a5072778adedc1e60a44588f737b854" kindref="member">CORRUPTED_BLOCK_DB</ref>,</highlight></codeline>
<codeline lineno="428" refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0da658f2cadfdf09b6046246e9314f7cd43" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0da658f2cadfdf09b6046246e9314f7cd43" kindref="member">INTERRUPTED</ref>,</highlight></codeline>
<codeline lineno="429" refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0da9a7bd0f9f21b72949998b0fe80703361" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0da9a7bd0f9f21b72949998b0fe80703361" kindref="member">SKIPPED_L3_CHECKS</ref>,</highlight></codeline>
<codeline lineno="430" refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0da4d3c4b7041036a310df02b7d4ca6568d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0da4d3c4b7041036a310df02b7d4ca6568d" kindref="member">SKIPPED_MISSING_BLOCKS</ref>,</highlight></codeline>
<codeline lineno="431"><highlight class="normal">};</highlight></codeline>
<codeline lineno="432"><highlight class="normal"></highlight></codeline>
<codeline lineno="434" refid="class_c_verify_d_b" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_verify_d_b_1a16e4f89e0b4916a9515f2e197e2df1d1" kindref="member">CVerifyDB</ref></highlight></codeline>
<codeline lineno="435"><highlight class="normal">{</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classkernel_1_1_notifications" kindref="compound">kernel::Notifications</ref>&amp;<sp/>m_notifications;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="class_c_verify_d_b_1a16e4f89e0b4916a9515f2e197e2df1d1" kindref="member">CVerifyDB</ref>(<ref refid="classkernel_1_1_notifications" kindref="compound">kernel::Notifications</ref>&amp;<sp/>notifications);</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_verify_d_b_1a20a9a2cfbe4a8f612aa54337a53a08e6" kindref="member">~CVerifyDB</ref>();</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/><ref refid="validation_8h_1a9a734f0900dfff66f62decfddec72a0d" kindref="member">VerifyDBResult</ref><sp/><ref refid="class_c_verify_d_b_1a71818d1d29011878e23b1f3e08e6cabc" kindref="member">VerifyDB</ref>(</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_chainstate" kindref="compound">Chainstate</ref>&amp;<sp/>chainstate,</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref>&amp;<sp/>consensus_params,</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_coins_view" kindref="compound">CCoinsView</ref>&amp;<sp/>coinsview,</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nCheckLevel,</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nCheckDepth)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="448"><highlight class="normal">};</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450" refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50" kindref="member">DisconnectResult</ref></highlight></codeline>
<codeline lineno="451"><highlight class="normal">{</highlight></codeline>
<codeline lineno="452" refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50af732a362dae37684d825e000781628c4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50af732a362dae37684d825e000781628c4" kindref="member">DISCONNECT_OK</ref>,<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>All<sp/>good.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453" refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50a538a133d18fdc8786c4b0f0e6662f6c5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50a538a133d18fdc8786c4b0f0e6662f6c5" kindref="member">DISCONNECT_UNCLEAN</ref>,<sp/></highlight><highlight class="comment">//<sp/>Rolled<sp/>back,<sp/>but<sp/>UTXO<sp/>set<sp/>was<sp/>inconsistent<sp/>with<sp/>block.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454" refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50a4b6c24922aff8a510f83333397b4c9b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50a4b6c24922aff8a510f83333397b4c9b3" kindref="member">DISCONNECT_FAILED</ref><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Something<sp/>else<sp/>went<sp/>wrong.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal">};</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_connect_trace" kindref="compound">ConnectTrace</ref>;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="460" refid="validation_8h_1a6d7628b24cf7e6a13bcdafa178560e58" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/>std::array<sp/><ref refid="validation_8h_1a6d7628b24cf7e6a13bcdafa178560e58" kindref="member">FlushStateModeNames</ref>{</highlight><highlight class="stringliteral">&quot;NONE&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;IF_NEEDED&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;PERIODIC&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;ALWAYS&quot;</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="461" refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">enum<sp/>class</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0" kindref="member">FlushStateMode</ref>:<sp/>uint8_t<sp/>{</highlight></codeline>
<codeline lineno="462" refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0ab50339a10e1de285ac99d4c3990b8693" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0ab50339a10e1de285ac99d4c3990b8693" kindref="member">NONE</ref>,</highlight></codeline>
<codeline lineno="463" refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0a2382c561ef224fb0ab277eca39c90654" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0a2382c561ef224fb0ab277eca39c90654" kindref="member">IF_NEEDED</ref>,</highlight></codeline>
<codeline lineno="464" refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0ad9d83fc826ae0d42075af007a477e2c9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0ad9d83fc826ae0d42075af007a477e2c9" kindref="member">PERIODIC</ref>,</highlight></codeline>
<codeline lineno="465" refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0af3fc827ade4b968e50406496907ef962" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0af3fc827ade4b968e50406496907ef962" kindref="member">ALWAYS</ref></highlight></codeline>
<codeline lineno="466"><highlight class="normal">};</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="477" refid="class_coins_views" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_coins_views_1afd016b03b0ba85d2b63841bb4f6ae7d6" kindref="member">CoinsViews</ref><sp/>{</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="482" refid="class_coins_views_1aeb8c73dfbc6461d7edfe554911e5d8d9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_coins_view_d_b" kindref="compound">CCoinsViewDB</ref><sp/>m_dbview<sp/><ref refid="class_coins_views_1aeb8c73dfbc6461d7edfe554911e5d8d9" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="485" refid="class_coins_views_1a6cfcb52222739d110e3891f9d7414eee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_coins_view_error_catcher" kindref="compound">CCoinsViewErrorCatcher</ref><sp/>m_catcherview<sp/><ref refid="class_coins_views_1a6cfcb52222739d110e3891f9d7414eee" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="489" refid="class_coins_views_1a1bfec3b6a726762dfc082254b9eadafa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;CCoinsViewCache&gt;<sp/>m_cacheview<sp/><ref refid="class_coins_views_1a1bfec3b6a726762dfc082254b9eadafa" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_coins_views_1afd016b03b0ba85d2b63841bb4f6ae7d6" kindref="member">CoinsViews</ref>(<ref refid="struct_d_b_params" kindref="compound">DBParams</ref><sp/>db_params,<sp/><ref refid="struct_coins_view_options" kindref="compound">CoinsViewOptions</ref><sp/>options);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>InitCache()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="501"><highlight class="normal">};</highlight></codeline>
<codeline lineno="502"><highlight class="normal"></highlight></codeline>
<codeline lineno="503" refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3def" refkind="member"><highlight class="normal">enum<sp/>class<sp/><ref refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3def" kindref="member">CoinsCacheSizeState</ref></highlight></codeline>
<codeline lineno="504"><highlight class="normal">{</highlight></codeline>
<codeline lineno="506" refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defa99cd1c61610c76a57cb8d10d6df6b870" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defa99cd1c61610c76a57cb8d10d6df6b870" kindref="member">CRITICAL</ref><sp/>=<sp/>2,</highlight></codeline>
<codeline lineno="508" refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defa71726adf0ff60cd03eaf3c515883eeb8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defa71726adf0ff60cd03eaf3c515883eeb8" kindref="member">LARGE</ref><sp/>=<sp/>1,</highlight></codeline>
<codeline lineno="509" refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defae0aa021e21dddbd6d8cecec71e9cf564" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3defae0aa021e21dddbd6d8cecec71e9cf564" kindref="member">OK</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="510"><highlight class="normal">};</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512" refid="validation_8h_1a801a358b935aafb7dcb4d94e292a23c1" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/>int64_t<sp/><ref refid="validation_8h_1a801a358b935aafb7dcb4d94e292a23c1" kindref="member">LargeCoinsCacheThreshold</ref>(int64_t<sp/>total_space)<sp/></highlight><highlight class="keyword">noexcept</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal">{</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>No<sp/>periodic<sp/>flush<sp/>needed<sp/>if<sp/>at<sp/>least<sp/>this<sp/>much<sp/>space<sp/>is<sp/>free</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/>int64_t<sp/>MAX_BLOCK_COINSDB_USAGE_BYTES{int64_t(10_MiB)};</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::max((total_space<sp/>*<sp/>9)<sp/>/<sp/>10,</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_space<sp/>-<sp/>MAX_BLOCK_COINSDB_USAGE_BYTES);</highlight></codeline>
<codeline lineno="518"><highlight class="normal">}</highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="521" refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">enum<sp/>class</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152d" kindref="member">Assumeutxo</ref><sp/>{</highlight></codeline>
<codeline lineno="523" refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152da4d6154fe02ac9bf42fd2aacfa49310b0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152da4d6154fe02ac9bf42fd2aacfa49310b0" kindref="member">VALIDATED</ref>,</highlight></codeline>
<codeline lineno="525" refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152daa7e559db9fd6ffeed9432ba2987a830d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152daa7e559db9fd6ffeed9432ba2987a830d" kindref="member">UNVALIDATED</ref>,</highlight></codeline>
<codeline lineno="527" refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152daccc0377a8afbf50e7094f5c23a8af223" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152daccc0377a8afbf50e7094f5c23a8af223" kindref="member">INVALID</ref>,</highlight></codeline>
<codeline lineno="528"><highlight class="normal">};</highlight></codeline>
<codeline lineno="529"><highlight class="normal"></highlight></codeline>
<codeline lineno="544" refid="class_chainstate" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_chainstate_1a70b163a8bca70b51736e75cf3f6282f0" kindref="member">Chainstate</ref></highlight></codeline>
<codeline lineno="545"><highlight class="normal">{</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="552" refid="class_chainstate_1a395a52bbdb9bd9589970a6b5c574eb1e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a326d1d46ce05b5316d8ebe2694a10a6e" kindref="member">Mutex</ref><sp/><ref refid="class_chainstate_1a395a52bbdb9bd9589970a6b5c574eb1e" kindref="member">m_chainstate_mutex</ref>;</highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
<codeline lineno="556" refid="class_chainstate_1a0391c777447c32c2e0d8cfc900a822ca" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref>*<sp/><ref refid="class_chainstate_1a0391c777447c32c2e0d8cfc900a822ca" kindref="member">m_mempool</ref>;</highlight></codeline>
<codeline lineno="557"><highlight class="normal"></highlight></codeline>
<codeline lineno="559" refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;CoinsViews&gt;<sp/><ref refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" kindref="member">m_coins_views</ref>;</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight></codeline>
<codeline lineno="562" refid="class_chainstate_1a8aaacc9cef5aac71f39b45631ec5ea74" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">mutable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>m_cached_snapshot_base<sp/><ref refid="class_chainstate_1a8aaacc9cef5aac71f39b45631ec5ea74" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>){</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight></codeline>
<codeline lineno="565" refid="class_chainstate_1a1bcb4b2d2398c9de8483f02ef338d0f6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">mutable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>m_cached_target_block<sp/><ref refid="class_chainstate_1a1bcb4b2d2398c9de8483f02ef338d0f6" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>){</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight></codeline>
<codeline lineno="567" refid="class_chainstate_1a034d8773d61b4257a107dac0e83c0bff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;const<sp/>char*&gt;<sp/>m_last_script_check_reason_logged<sp/><ref refid="class_chainstate_1a034d8773d61b4257a107dac0e83c0bff" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>){};</highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="572" refid="class_chainstate_1ae4a76e5b8e269dba63add5f28146fbee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classnode_1_1_block_manager" kindref="compound">node::BlockManager</ref>&amp;<sp/><ref refid="class_chainstate_1ae4a76e5b8e269dba63add5f28146fbee" kindref="member">m_blockman</ref>;</highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight></codeline>
<codeline lineno="577" refid="class_chainstate_1a849eb656e60bb05783801b88ea02c020" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate_1a9bdf1e9f55692f36e65e35912baa05b5" kindref="member">ChainstateManager</ref>&amp;<sp/><ref refid="class_chainstate_1a849eb656e60bb05783801b88ea02c020" kindref="member">m_chainman</ref>;</highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a70b163a8bca70b51736e75cf3f6282f0" kindref="member">Chainstate</ref>(</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref>*<sp/>mempool,</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classnode_1_1_block_manager" kindref="compound">node::BlockManager</ref>&amp;<sp/>blockman,</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_chainstate_1a9bdf1e9f55692f36e65e35912baa05b5" kindref="member">ChainstateManager</ref>&amp;<sp/>chainman,</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::optional&lt;uint256&gt;<sp/>from_snapshot_blockhash<sp/>=<sp/>std::nullopt);</highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/>fs::path<sp/><ref refid="class_chainstate_1a4afdb9493bd2ee94b23c7b5dd6c51bbc" kindref="member">StoragePath</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="587"><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structkernel_1_1_chainstate_role" kindref="compound">kernel::ChainstateRole</ref><sp/>GetRole()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a870d55495c6a85e99afda4b4788d77e7" kindref="member">InitCoinsDB</ref>(</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>cache_size_bytes,</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>in_memory,</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>should_wipe);</highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>InitCoinsCache(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>cache_size_bytes)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="608"><highlight class="normal"></highlight></codeline>
<codeline lineno="611" refid="class_chainstate_1a0d01ef96f22f8aaf273e8e03d993e30a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a0d01ef96f22f8aaf273e8e03d993e30a" kindref="member">CanFlushToDisk</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>)</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1acd61d0cb3b49f367728193720014aed0" kindref="member">AssertLockHeld</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" kindref="member">m_coins_views</ref><sp/>&amp;&amp;<sp/><ref refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" kindref="member">m_coins_views</ref>-&gt;m_cacheview;</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="616"><highlight class="normal"></highlight></codeline>
<codeline lineno="619" refid="class_chainstate_1ad041fc477f2d0f0774b264bf6f371810" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_chain" kindref="compound">CChain</ref><sp/><ref refid="class_chainstate_1ad041fc477f2d0f0774b264bf6f371810" kindref="member">m_chain</ref>;</highlight></codeline>
<codeline lineno="620"><highlight class="normal"></highlight></codeline>
<codeline lineno="624" refid="class_chainstate_1aaffd71a7e774d677fb4cd31eddd20820" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152d" kindref="member">Assumeutxo</ref><sp/>m_assumeutxo<sp/><ref refid="class_chainstate_1aaffd71a7e774d677fb4cd31eddd20820" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight></codeline>
<codeline lineno="631" refid="class_chainstate_1a37f0e70024a7d2d694ae27d34609de0e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;uint256&gt;<sp/><ref refid="class_chainstate_1a37f0e70024a7d2d694ae27d34609de0e" kindref="member">m_from_snapshot_blockhash</ref>;</highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="637" refid="class_chainstate_1a75c70a29f731e16a8a0c7447bac1615a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;uint256&gt;<sp/>m_target_blockhash<sp/><ref refid="class_chainstate_1a75c70a29f731e16a8a0c7447bac1615a" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="641" refid="class_chainstate_1a2252973decf90457e41f70caba718ec0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;AssumeutxoHash&gt;<sp/>m_target_utxohash<sp/><ref refid="class_chainstate_1a2252973decf90457e41f70caba718ec0" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>SnapshotBase()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/>const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>TargetBlock()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SetTargetBlock(<ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>block)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SetTargetBlockHash(<ref refid="classuint256" kindref="compound">uint256</ref><sp/>block_hash)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="661"><highlight class="normal"></highlight></codeline>
<codeline lineno="663" refid="class_chainstate_1a13f930c315cbf69ccbac5e6187ea5150" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a13f930c315cbf69ccbac5e6187ea5150" kindref="member">ReachedTarget</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>)</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>target_block{TargetBlock()};</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!target_block<sp/>||<sp/>target_block-&gt;<ref refid="class_c_block_index_1ac20120d6b64792647a63d216b26e4b53" kindref="member">GetAncestor</ref>(<ref refid="class_chainstate_1ad041fc477f2d0f0774b264bf6f371810" kindref="member">m_chain</ref>.Height())<sp/>==<sp/><ref refid="class_chainstate_1ad041fc477f2d0f0774b264bf6f371810" kindref="member">m_chain</ref>.Tip());</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>target_block<sp/>&amp;&amp;<sp/>target_block<sp/>==<sp/><ref refid="class_chainstate_1ad041fc477f2d0f0774b264bf6f371810" kindref="member">m_chain</ref>.Tip();</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="669"><highlight class="normal"></highlight></codeline>
<codeline lineno="677" refid="class_chainstate_1ab431e79e9a33a0a82cc611f3f8684917" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::set&lt;CBlockIndex*,<sp/>node::CBlockIndexWorkComparator&gt;<sp/><ref refid="class_chainstate_1ab431e79e9a33a0a82cc611f3f8684917" kindref="member">setBlockIndexCandidates</ref>;</highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight></codeline>
<codeline lineno="680" refid="class_chainstate_1a9dce5b2ccab7cbd5ea485e13491bcdef" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_coins_view_cache" kindref="compound">CCoinsViewCache</ref>&amp;<sp/><ref refid="class_chainstate_1a9dce5b2ccab7cbd5ea485e13491bcdef" kindref="member">CoinsTip</ref>()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>)</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1acd61d0cb3b49f367728193720014aed0" kindref="member">AssertLockHeld</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" kindref="member">m_coins_views</ref>);</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" kindref="member">m_coins_views</ref>-&gt;m_cacheview);</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="686"><highlight class="normal"></highlight></codeline>
<codeline lineno="688" refid="class_chainstate_1ad876ac510821396146002e921946e008" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_coins_view_d_b" kindref="compound">CCoinsViewDB</ref>&amp;<sp/><ref refid="class_chainstate_1ad876ac510821396146002e921946e008" kindref="member">CoinsDB</ref>()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>)</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1acd61d0cb3b49f367728193720014aed0" kindref="member">AssertLockHeld</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" kindref="member">m_coins_views</ref>)-&gt;m_dbview;</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight></codeline>
<codeline lineno="695" refid="class_chainstate_1ac2dc9bde2175dbfb05382c6e8033db28" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref>*<sp/><ref refid="class_chainstate_1ac2dc9bde2175dbfb05382c6e8033db28" kindref="member">GetMempool</ref>()</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a0391c777447c32c2e0d8cfc900a822ca" kindref="member">m_mempool</ref>;</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="699"><highlight class="normal"></highlight></codeline>
<codeline lineno="702" refid="class_chainstate_1aee503ee1391fbb6fba220881c203510a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_coins_view_error_catcher" kindref="compound">CCoinsViewErrorCatcher</ref>&amp;<sp/><ref refid="class_chainstate_1aee503ee1391fbb6fba220881c203510a" kindref="member">CoinsErrorCatcher</ref>()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>)</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1acd61d0cb3b49f367728193720014aed0" kindref="member">AssertLockHeld</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" kindref="member">m_coins_views</ref>)-&gt;m_catcherview;</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight></codeline>
<codeline lineno="709" refid="class_chainstate_1a0ba91dec9c233f4e0deda06285b6bbbe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a0ba91dec9c233f4e0deda06285b6bbbe" kindref="member">ResetCoinsViews</ref>()<sp/>{<sp/><ref refid="class_chainstate_1a33c67fb1b900add3e05efd125faaae85" kindref="member">m_coins_views</ref>.reset();<sp/>}</highlight></codeline>
<codeline lineno="710"><highlight class="normal"></highlight></codeline>
<codeline lineno="712" refid="class_chainstate_1a209fef4fed4aee7188492631ecc6a782" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a209fef4fed4aee7188492631ecc6a782" kindref="member">m_coinsdb_cache_size_bytes</ref>{0};</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="715" refid="class_chainstate_1a9f27f82f81429b6be783bb2ba38a7383" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a9f27f82f81429b6be783bb2ba38a7383" kindref="member">m_coinstip_cache_size_bytes</ref>{0};</highlight></codeline>
<codeline lineno="716"><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ResizeCoinsCaches(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>coinstip_size,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>coinsdb_size)</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>FlushStateToDisk(</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab30a99e75e9dc44356d1ad6bdd184ae0" kindref="member">FlushStateMode</ref><sp/>mode,</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nManualPruneHeight<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="737"><highlight class="normal"></highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ForceFlushStateToDisk();</highlight></codeline>
<codeline lineno="740"><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>PruneAndFlush();</highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ActivateBestChain(</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;<sp/>pblock<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(!m_chainstate_mutex)</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a6bb97382864d0bd2cd4dd5191bb03f6c" kindref="member">LOCKS_EXCLUDED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Block<sp/>(dis)connection<sp/>on<sp/>a<sp/>given<sp/>view:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1aeaef80b01ee5387f474a63ed23c9cc50" kindref="member">DisconnectResult</ref><sp/>DisconnectBlock(const<sp/><ref refid="class_c_block" kindref="compound">CBlock</ref>&amp;<sp/>block,<sp/>const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex,<sp/><ref refid="class_c_coins_view_cache" kindref="compound">CCoinsViewCache</ref>&amp;<sp/>view)</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="775" refid="class_chainstate_1a0487c7fe4cdc89e309556f86c2988c80" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a0487c7fe4cdc89e309556f86c2988c80" kindref="member">ConnectBlock</ref>(const<sp/><ref refid="class_c_block" kindref="compound">CBlock</ref>&amp;<sp/>block,<sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex,</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_coins_view_cache" kindref="compound">CCoinsViewCache</ref>&amp;<sp/>view,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fJustCheck<sp/>=<sp/>false)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="777"><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Apply<sp/>the<sp/>effects<sp/>of<sp/>a<sp/>block<sp/>disconnection<sp/>on<sp/>the<sp/>UTXO<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="779" refid="class_chainstate_1addd1f086c79ae3b4f737851aaa60b861" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a5286c896c77d30226698c47b3f2dfc33" kindref="member">DisconnectTip</ref>(<ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/><ref refid="class_disconnected_block_transactions" kindref="compound">DisconnectedBlockTransactions</ref>*<sp/>disconnectpool)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>,<sp/><ref refid="class_chainstate_1a0391c777447c32c2e0d8cfc900a822ca" kindref="member">m_mempool</ref>-&gt;<ref refid="class_chainstate_1addd1f086c79ae3b4f737851aaa60b861" kindref="member">cs</ref>);</highlight></codeline>
<codeline lineno="780"><highlight class="normal"></highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Manual<sp/>block<sp/>validity<sp/>manipulation:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>PreciousBlock(<ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex)</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(!<ref refid="class_chainstate_1a395a52bbdb9bd9589970a6b5c574eb1e" kindref="member">m_chainstate_mutex</ref>)</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a6bb97382864d0bd2cd4dd5191bb03f6c" kindref="member">LOCKS_EXCLUDED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="789"><highlight class="normal"></highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="blockchain_8cpp_1a71686ebfe61025c0c683b6658b7e0def" kindref="member">InvalidateBlock</ref>(<ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex)</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(!<ref refid="class_chainstate_1a395a52bbdb9bd9589970a6b5c574eb1e" kindref="member">m_chainstate_mutex</ref>)</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a6bb97382864d0bd2cd4dd5191bb03f6c" kindref="member">LOCKS_EXCLUDED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="794"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SetBlockFailureFlags(<ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="799" refid="class_chainstate_1aaa64fbfbe0e25889388c2782592a42ba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1aaa64fbfbe0e25889388c2782592a42ba" kindref="member">ResetBlockFailureFlags</ref>(<ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="800"><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1abfebdf0f5e72069d4dfc2486fc590e08" kindref="member">ReplayBlocks</ref>();</highlight></codeline>
<codeline lineno="803"><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a2e0fcf64c918330f1f0ca3be2a117da2" kindref="member">NeedsRedownload</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a1012305331357fcebb918b4e55b92448" kindref="member">LoadGenesisBlock</ref>();</highlight></codeline>
<codeline lineno="808"><highlight class="normal"></highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1ab86ef2ab974ae064997b910e161c4849" kindref="member">TryAddBlockIndexCandidate</ref>(<ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1ab1a46f0614b890eb2be89745e2526b7c" kindref="member">PruneBlockIndexCandidates</ref>();</highlight></codeline>
<codeline lineno="812"><highlight class="normal"></highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ClearBlockIndexCandidates()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="814"><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/>const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/><ref refid="class_chainstate_1a06368acc383ffa8737427c7279e7d8ac" kindref="member">FindForkInGlobalIndex</ref>(const<sp/><ref refid="struct_c_block_locator" kindref="compound">CBlockLocator</ref>&amp;<sp/>locator)<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="817"><highlight class="normal"></highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a1ea13869144ef7ef6c69114ce9834a70" kindref="member">LoadChainTip</ref>()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="820"><highlight class="normal"></highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3def" kindref="member">CoinsCacheSizeState</ref><sp/>GetCoinsCacheSizeState()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="825"><highlight class="normal"></highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1ab8482b5889c2dd7bcef2c3a0523d3def" kindref="member">CoinsCacheSizeState</ref><sp/>GetCoinsCacheSizeState(</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>max_coins_cache_size_bytes,</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>max_mempool_size_bytes)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacestd" kindref="compound">std</ref>::</highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="bitcoin-cli_8cpp_1aec2c30b1707eac00ff7e4fb5b3f7a92d" kindref="member">ToString</ref>()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight></codeline>
<codeline lineno="833" refid="class_chainstate_1a52cbd849b01fb79124389f885da05779" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a5d71768bc9626b7482055d56d4e2c533" kindref="member">RecursiveMutex</ref>*<sp/><ref refid="class_chainstate_1a52cbd849b01fb79124389f885da05779" kindref="member">MempoolMutex</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1ab355c21df501f97a4a5e63a868373c4f" kindref="member">LOCK_RETURNED</ref>(<ref refid="class_chainstate_1a0391c777447c32c2e0d8cfc900a822ca" kindref="member">m_mempool</ref>-&gt;<ref refid="class_chainstate_1addd1f086c79ae3b4f737851aaa60b861" kindref="member">cs</ref>)</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_1a0391c777447c32c2e0d8cfc900a822ca" kindref="member">m_mempool</ref><sp/>?<sp/>&amp;<ref refid="class_chainstate_1a0391c777447c32c2e0d8cfc900a822ca" kindref="member">m_mempool</ref>-&gt;cs<sp/>:<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="837"><highlight class="normal"></highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/>std::pair&lt;int,<sp/>int&gt;<sp/>GetPruneRange(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>last_height_can_prune)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="842"><highlight class="normal"></highlight></codeline>
<codeline lineno="843"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ActivateBestChainStep(<ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexMostWork,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;&amp;<sp/>pblock,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">&amp;<sp/>fInvalidFound,<sp/><ref refid="class_connect_trace" kindref="compound">ConnectTrace</ref>&amp;<sp/>connectTrace)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>,<sp/>m_mempool-&gt;<ref refid="class_c_tx_mem_pool_1ab322659c2acf98d3bb6e877e69414281" kindref="member">cs</ref>);</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ConnectTip(</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexNew,</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;<sp/>block_to_connect,</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_connect_trace" kindref="compound">ConnectTrace</ref>&amp;<sp/>connectTrace,</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_disconnected_block_transactions" kindref="compound">DisconnectedBlockTransactions</ref>&amp;<sp/>disconnectpool)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>,<sp/>m_mempool-&gt;<ref refid="class_c_tx_mem_pool_1ab322659c2acf98d3bb6e877e69414281" kindref="member">cs</ref>);</highlight></codeline>
<codeline lineno="851"><highlight class="normal"></highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>InvalidBlockFound(<ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>FindMostWorkChain()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>RollforwardBlock(const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex,<sp/><ref refid="class_c_coins_view_cache" kindref="compound">CCoinsViewCache</ref>&amp;<sp/>inputs)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="856"><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>CheckForkWarningConditions()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>InvalidChainFound(<ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexNew)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="859"><highlight class="normal"></highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>MaybeUpdateMempoolForReorg(</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_disconnected_block_transactions" kindref="compound">DisconnectedBlockTransactions</ref>&amp;<sp/>disconnectpool,</highlight></codeline>
<codeline lineno="875" refid="class_chainstate_1ac3ab13da2b6eca22b0e0c031835f12a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fAddToMempool)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>,<sp/><ref refid="class_chainstate_1a0391c777447c32c2e0d8cfc900a822ca" kindref="member">m_mempool</ref>-&gt;<ref refid="class_chainstate_1addd1f086c79ae3b4f737851aaa60b861" kindref="member">cs</ref>);</highlight></codeline>
<codeline lineno="876"><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>UpdateTip(const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexNew)</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="880"><highlight class="normal"></highlight></codeline>
<codeline lineno="881" refid="class_chainstate_1abb0a9547287e409bbd307dd312b87651" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_node_clock" kindref="compound">NodeClock</ref>::time_point<sp/><ref refid="class_chainstate_1abb0a9547287e409bbd307dd312b87651" kindref="member">m_next_write</ref>{NodeClock::time_point::max()};</highlight></codeline>
<codeline lineno="882"><highlight class="normal"></highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/><ref refid="classutil_1_1_result" kindref="compound">util::Result&lt;void&gt;</ref><sp/>InvalidateCoinsDBOnDisk()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="888"><highlight class="normal"></highlight></codeline>
<codeline lineno="889" refid="class_chainstate_1a9bdf1e9f55692f36e65e35912baa05b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>friend<sp/><ref refid="class_chainstate_1a9bdf1e9f55692f36e65e35912baa05b5" kindref="member">ChainstateManager</ref>;</highlight></codeline>
<codeline lineno="890"><highlight class="normal">};</highlight></codeline>
<codeline lineno="891"><highlight class="normal"></highlight></codeline>
<codeline lineno="892" refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570e" refkind="member"><highlight class="normal">enum<sp/>class<sp/><ref refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570e" kindref="member">SnapshotCompletionResult</ref><sp/>{</highlight></codeline>
<codeline lineno="893" refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570ead0749aaba8b833466dfcbb0428e4f89c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="txreconciliation_8h_1a7a6f29933f8f0193e0b8289468a2337fad0749aaba8b833466dfcbb0428e4f89c" kindref="member">SUCCESS</ref>,</highlight></codeline>
<codeline lineno="894" refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570ea203ec08f57cb105eeb2b121ba6503b52" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570ea203ec08f57cb105eeb2b121ba6503b52" kindref="member">SKIPPED</ref>,</highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Expected<sp/>assumeutxo<sp/>configuration<sp/>data<sp/>is<sp/>not<sp/>found<sp/>for<sp/>the<sp/>height<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>base<sp/>block.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="898" refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570ea1c396fecf97f85e5a30f259d93759327" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570ea1c396fecf97f85e5a30f259d93759327" kindref="member">MISSING_CHAINPARAMS</ref>,</highlight></codeline>
<codeline lineno="899"><highlight class="normal"></highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Failed<sp/>to<sp/>generate<sp/>UTXO<sp/>statistics<sp/>(to<sp/>check<sp/>UTXO<sp/>set<sp/>hash)<sp/>for<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>validated<sp/>chainstate.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="902" refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570eadefcaed57306356967a486cb93215554" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570eadefcaed57306356967a486cb93215554" kindref="member">STATS_FAILED</ref>,</highlight></codeline>
<codeline lineno="903"><highlight class="normal"></highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>UTXO<sp/>set<sp/>hash<sp/>of<sp/>the<sp/>validated<sp/>chainstate<sp/>does<sp/>not<sp/>match<sp/>the<sp/>one</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>expected<sp/>by<sp/>assumeutxo<sp/>chainparams.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="906" refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570eac93ebf8fbedbcb375e9368dcfde5e59d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570eac93ebf8fbedbcb375e9368dcfde5e59d" kindref="member">HASH_MISMATCH</ref>,</highlight></codeline>
<codeline lineno="907"><highlight class="normal">};</highlight></codeline>
<codeline lineno="908"><highlight class="normal"></highlight></codeline>
<codeline lineno="929" refid="class_chainstate_manager" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_chainstate_manager_1abf64809b392636e77309f8ad9a1e633a" kindref="member">ChainstateManager</ref></highlight></codeline>
<codeline lineno="930"><highlight class="normal">{</highlight></codeline>
<codeline lineno="931"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="932"><highlight class="normal"></highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>m_last_notified_header<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>()){</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="935"><highlight class="normal"></highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>NotifyHeaderTip()<sp/><ref refid="thread__annotations_8h_1a6bb97382864d0bd2cd4dd5191bb03f6c" kindref="member">LOCKS_EXCLUDED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>());</highlight></codeline>
<codeline lineno="937"><highlight class="normal"></highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/><ref refid="classutil_1_1_result" kindref="compound">util::Result&lt;void&gt;</ref><sp/>PopulateAndValidateSnapshot(</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Chainstate&amp;<sp/>snapshot_chainstate,</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_auto_file" kindref="compound">AutoFile</ref>&amp;<sp/>coins_file,</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classnode_1_1_snapshot_metadata" kindref="compound">node::SnapshotMetadata</ref>&amp;<sp/>metadata);</highlight></codeline>
<codeline lineno="949"><highlight class="normal"></highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>AcceptBlockHeader(</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_header" kindref="compound">CBlockHeader</ref>&amp;<sp/>block,</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>**<sp/>ppindex,</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>min_pow_checked)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/>Chainstate;</highlight></codeline>
<codeline lineno="963"><highlight class="normal"></highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_mockable_steady_clock_1a5570f333e9436e3a5693453ecaa119e6" kindref="member">MockableSteadyClock::time_point</ref><sp/>m_last_presync_update<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>()){};</highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_check_queue" kindref="compound">CCheckQueue&lt;CScriptCheck&gt;</ref><sp/>m_script_check_queue;</highlight></codeline>
<codeline lineno="969"><highlight class="normal"></highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_check{};</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_forks{};</highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_connect{};</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_verify{};</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_undo{};</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_index{};</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_total{};</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/>int64_t<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>num_blocks_total{0};</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_connect_total{};</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_flush{};</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_chainstate{};</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/>SteadyClock::duration<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>time_post_connect{};</highlight></codeline>
<codeline lineno="984"><highlight class="normal"></highlight></codeline>
<codeline lineno="985"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="986" refid="class_chainstate_manager_1a19574d54ea135906c021a7a5d537da5f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>m_best_invalid<sp/><ref refid="class_chainstate_manager_1a19574d54ea135906c021a7a5d537da5f" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>){</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="987"><highlight class="normal"></highlight></codeline>
<codeline lineno="988"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="989" refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" kindref="member">Options</ref><sp/>=<sp/><ref refid="structkernel_1_1_chainstate_manager_opts" kindref="compound">kernel::ChainstateManagerOpts</ref>;</highlight></codeline>
<codeline lineno="990"><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1abf64809b392636e77309f8ad9a1e633a" kindref="member">ChainstateManager</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref>&amp;<sp/>interrupt,<sp/><ref refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" kindref="member">Options</ref><sp/>options,<sp/><ref refid="classnode_1_1_block_manager_1a9d388cded97cd9f86c06358bb29abfad" kindref="member">node::BlockManager::Options</ref><sp/>blockman_options);</highlight></codeline>
<codeline lineno="992"><highlight class="normal"></highlight></codeline>
<codeline lineno="995" refid="class_chainstate_manager_1a36ac8c09fb965b0d78d5f12d1cac9f95" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::function&lt;void()&gt;<sp/><ref refid="class_chainstate_manager_1a36ac8c09fb965b0d78d5f12d1cac9f95" kindref="member">snapshot_download_completed</ref><sp/>=<sp/>std::function&lt;void()&gt;();</highlight></codeline>
<codeline lineno="996"><highlight class="normal"></highlight></codeline>
<codeline lineno="997" refid="class_chainstate_manager_1a9fc4893dda46aba09dbcd01e3387ca6f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>&amp;<sp/><ref refid="class_chainstate_manager_1a9fc4893dda46aba09dbcd01e3387ca6f" kindref="member">GetParams</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" kindref="member">m_options</ref>.chainparams;<sp/>}</highlight></codeline>
<codeline lineno="998" refid="class_chainstate_manager_1ae77f209722ff1370ed18dc073d3d373f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref>&amp;<sp/><ref refid="class_chainstate_manager_1ae77f209722ff1370ed18dc073d3d373f" kindref="member">GetConsensus</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" kindref="member">m_options</ref>.chainparams.GetConsensus();<sp/>}</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ShouldCheckBlockIndex()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1000" refid="class_chainstate_manager_1af6689b42eea6a15ba7e5409ea374cdb4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classarith__uint256" kindref="compound">arith_uint256</ref>&amp;<sp/><ref refid="class_chainstate_manager_1af6689b42eea6a15ba7e5409ea374cdb4" kindref="member">MinimumChainWork</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" kindref="member">m_options</ref>.minimum_chain_work);<sp/>}</highlight></codeline>
<codeline lineno="1001" refid="class_chainstate_manager_1abce720b3a0e16a563e8f78ac92686646" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classuint256" kindref="compound">uint256</ref>&amp;<sp/><ref refid="class_chainstate_manager_1abce720b3a0e16a563e8f78ac92686646" kindref="member">AssumedValidBlock</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" kindref="member">m_options</ref>.assumed_valid_block);<sp/>}</highlight></codeline>
<codeline lineno="1002" refid="class_chainstate_manager_1a30d910c43e6619c9596c077fd1e5518d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classkernel_1_1_notifications" kindref="compound">kernel::Notifications</ref>&amp;<sp/><ref refid="class_chainstate_manager_1a30d910c43e6619c9596c077fd1e5518d" kindref="member">GetNotifications</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" kindref="member">m_options</ref>.notifications;<sp/>};</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>CheckBlockIndex()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"></highlight></codeline>
<codeline lineno="1022" refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a5d71768bc9626b7482055d56d4e2c533" kindref="member">RecursiveMutex</ref>&amp;<sp/><ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1ab355c21df501f97a4a5e63a868373c4f" kindref="member">LOCK_RETURNED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>)<sp/>{<sp/>return<sp/>::cs_main;<sp/>}</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight></codeline>
<codeline lineno="1024" refid="class_chainstate_manager_1a2163d8ef789c585b196a3ec7f468244b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref>&amp;<sp/><ref refid="class_chainstate_manager_1a2163d8ef789c585b196a3ec7f468244b" kindref="member">m_interrupt</ref>;</highlight></codeline>
<codeline lineno="1025" refid="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" kindref="member">Options</ref><sp/><ref refid="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" kindref="member">m_options</ref>;</highlight></codeline>
<codeline lineno="1028" refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classnode_1_1_block_manager" kindref="compound">node::BlockManager</ref><sp/><ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>;</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"></highlight></codeline>
<codeline lineno="1030" refid="class_chainstate_manager_1a8b9f7384fea98b58e40ac219adbe246e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_validation_cache" kindref="compound">ValidationCache</ref><sp/><ref refid="class_chainstate_manager_1a8b9f7384fea98b58e40ac219adbe246e" kindref="member">m_validation_cache</ref>;</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"></highlight></codeline>
<codeline lineno="1039" refid="class_chainstate_manager_1aeef634a7b2cca41e9465fb47ea4a4e5e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">mutable</highlight><highlight class="normal"><sp/>std::atomic&lt;bool&gt;<sp/><ref refid="class_chainstate_manager_1aeef634a7b2cca41e9465fb47ea4a4e5e" kindref="member">m_cached_finished_ibd</ref>{</highlight><highlight class="keyword">false</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"></highlight></codeline>
<codeline lineno="1048" refid="class_chainstate_manager_1aa035a00d9fc943b069c0a2c73c0c4c5f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>nBlockSequenceId<sp/><ref refid="class_chainstate_manager_1aa035a00d9fc943b069c0a2c73c0c4c5f" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>)<sp/>=<sp/>SEQ_ID_INIT_FROM_DISK<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="1050" refid="class_chainstate_manager_1a3a98f74d304164590a715c14320a7f34" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/><ref refid="class_chainstate_manager_1a3a98f74d304164590a715c14320a7f34" kindref="member">nBlockReverseSequenceId</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="1052" refid="class_chainstate_manager_1a13a75b7d6fb732fb84ea1ca75e5c3b4d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classarith__uint256" kindref="compound">arith_uint256</ref><sp/><ref refid="class_chainstate_manager_1a13a75b7d6fb732fb84ea1ca75e5c3b4d" kindref="member">nLastPreciousChainwork</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"></highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Reset<sp/>the<sp/>memory-only<sp/>sequence<sp/>counters<sp/>we<sp/>use<sp/>to<sp/>track<sp/>block<sp/>arrival</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>(used<sp/>by<sp/>tests<sp/>to<sp/>reset<sp/>state)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1056" refid="class_chainstate_manager_1af18f65bf1a2c0d6ae376e70ba3bad7d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1af18f65bf1a2c0d6ae376e70ba3bad7d3" kindref="member">ResetBlockSequenceCounters</ref>()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>)</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1acd61d0cb3b49f367728193720014aed0" kindref="member">AssertLockHeld</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nBlockSequenceId<sp/>=<sp/>SEQ_ID_INIT_FROM_DISK<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_chainstate_manager_1a3a98f74d304164590a715c14320a7f34" kindref="member">nBlockReverseSequenceId</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight></codeline>
<codeline lineno="1068" refid="class_chainstate_manager_1ae266294cbd8e70cc91fd28a77fd45625" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>m_best_header<sp/><ref refid="class_chainstate_manager_1ae266294cbd8e70cc91fd28a77fd45625" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>){</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"></highlight></codeline>
<codeline lineno="1072" refid="class_chainstate_manager_1a1193672873da4f09b48291890d0b523a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a1193672873da4f09b48291890d0b523a" kindref="member">m_total_coinstip_cache</ref>{0};</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1076" refid="class_chainstate_manager_1ab8e486d36525b789f3858281b2b142f7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1ab8e486d36525b789f3858281b2b142f7" kindref="member">m_total_coinsdb_cache</ref>{0};</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"></highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>constructor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate" kindref="compound">Chainstate</ref>&amp;<sp/>InitializeChainstate(<ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref>*<sp/>mempool)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"></highlight></codeline>
<codeline lineno="1095" refid="class_chainstate_manager_1ad1791e4f65d252d4163bca3d75e8e418" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/><ref refid="classutil_1_1_result" kindref="compound">util::Result&lt;CBlockIndex*&gt;</ref><sp/><ref refid="class_chainstate_manager_1ad1791e4f65d252d4163bca3d75e8e418" kindref="member">ActivateSnapshot</ref>(</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_auto_file" kindref="compound">AutoFile</ref>&amp;<sp/>coins_file,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classnode_1_1_snapshot_metadata" kindref="compound">node::SnapshotMetadata</ref>&amp;<sp/>metadata,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>in_memory);</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"></highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570e" kindref="member">SnapshotCompletionResult</ref><sp/>MaybeValidateSnapshot(Chainstate&amp;<sp/>validated_cs,<sp/>Chainstate&amp;<sp/>unvalidated_cs)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"></highlight></codeline>
<codeline lineno="1109" refid="class_chainstate_manager_1a8d39d359e6ed774815dc8d31f326ff82" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>Chainstate&amp;<sp/><ref refid="class_chainstate_manager_1a8d39d359e6ed774815dc8d31f326ff82" kindref="member">CurrentChainstate</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>())</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref><sp/>:<sp/>m_chainstates)<sp/>{</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref><sp/>&amp;&amp;<sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>-&gt;m_assumeutxo<sp/>!=<sp/><ref refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152daccc0377a8afbf50e7094f5c23a8af223" kindref="member">Assumeutxo::INVALID</ref><sp/>&amp;&amp;<sp/>!<ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>-&gt;m_target_blockhash)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*<ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>;</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>abort();</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"></highlight></codeline>
<codeline lineno="1118" refid="class_chainstate_manager_1a1140f6d8b807be5796827fc4f7be03d7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>Chainstate*<sp/><ref refid="class_chainstate_manager_1a1140f6d8b807be5796827fc4f7be03d7" kindref="member">HistoricalChainstate</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>())</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref><sp/>:<sp/>m_chainstates)<sp/>{</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref><sp/>&amp;&amp;<sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>-&gt;m_assumeutxo<sp/>!=<sp/><ref refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152daccc0377a8afbf50e7094f5c23a8af223" kindref="member">Assumeutxo::INVALID</ref><sp/>&amp;&amp;<sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>-&gt;m_target_blockhash<sp/>&amp;&amp;<sp/>!<ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>-&gt;m_target_utxohash)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>.get();</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"></highlight></codeline>
<codeline lineno="1129" refid="class_chainstate_manager_1a91044f53af4185cf8bc3870bc2a3ea6a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>Chainstate&amp;<sp/><ref refid="class_chainstate_manager_1a91044f53af4185cf8bc3870bc2a3ea6a" kindref="member">ValidatedChainstate</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>())</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">*<sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref><sp/>:<sp/>{&amp;<ref refid="class_chainstate_manager_1a8d39d359e6ed774815dc8d31f326ff82" kindref="member">CurrentChainstate</ref>(),<sp/><ref refid="class_chainstate_manager_1a1140f6d8b807be5796827fc4f7be03d7" kindref="member">HistoricalChainstate</ref>()})<sp/>{</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref><sp/>&amp;&amp;<sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>-&gt;m_assumeutxo<sp/>==<sp/><ref refid="validation_8h_1a6b7ed8f1aa31880e0db11fd5d379152da4d6154fe02ac9bf42fd2aacfa49310b0" kindref="member">Assumeutxo::VALIDATED</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*<ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>;</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>abort();</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1138" refid="class_chainstate_manager_1a3548c5d82213aaa9daaf0ac46482e8ce" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;Chainstate&gt;<sp/><ref refid="class_chainstate_manager_1a3548c5d82213aaa9daaf0ac46482e8ce" kindref="member">RemoveChainstate</ref>(Chainstate&amp;<sp/>chainstate)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>())</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it{std::find_if(m_chainstates.begin(),<sp/>m_chainstates.end(),<sp/>[&amp;](</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/><ref refid="bench_2blockencodings_8cpp_1afe32161d594aa100f0733ae7096461ad" kindref="member">cs</ref>)<sp/>{<sp/>return<sp/>cs.get()<sp/>==<sp/>&amp;chainstate;<sp/>})};</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>!=<sp/>m_chainstates.end())<sp/>{</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="bitcoin-cli_8cpp_1a339672ff94e6199019102f50d317c3d7" kindref="member">ret</ref>{std::move(*it)};</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_chainstates.erase(it);</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoin-cli_8cpp_1a339672ff94e6199019102f50d317c3d7" kindref="member">ret</ref>;</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"></highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate" kindref="compound">Chainstate</ref>&amp;<sp/>ActiveChainstate()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1155" refid="class_chainstate_manager_1a8090a09f21aff3aa747263ae6b8268c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_chain" kindref="compound">CChain</ref>&amp;<sp/><ref refid="class_chainstate_manager_1a8090a09f21aff3aa747263ae6b8268c1" kindref="member">ActiveChain</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>())<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a0ed46908ea52e17d172f2fcc0ceb9964" kindref="member">ActiveChainstate</ref>().m_chain;<sp/>}</highlight></codeline>
<codeline lineno="1156" refid="class_chainstate_manager_1a02754cb19c22c28f3092a18a70d9dec4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a02754cb19c22c28f3092a18a70d9dec4" kindref="member">ActiveHeight</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>())<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a8090a09f21aff3aa747263ae6b8268c1" kindref="member">ActiveChain</ref>().Height();<sp/>}</highlight></codeline>
<codeline lineno="1157" refid="class_chainstate_manager_1ac8dc81d17ce18093b02ef600686870b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/><ref refid="class_chainstate_manager_1ac8dc81d17ce18093b02ef600686870b3" kindref="member">ActiveTip</ref>()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>())<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a8090a09f21aff3aa747263ae6b8268c1" kindref="member">ActiveChain</ref>().Tip();<sp/>}</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"></highlight></codeline>
<codeline lineno="1160" refid="class_chainstate_manager_1a1568d8e47259466ecafd9ed7b411873a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode_1acee0086a0c833617dd1532caf93206a3" kindref="member">node::BlockMap</ref>&amp;<sp/><ref refid="class_chainstate_manager_1a1568d8e47259466ecafd9ed7b411873a" kindref="member">BlockIndex</ref>()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>)</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1acd61d0cb3b49f367728193720014aed0" kindref="member">AssertLockHeld</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.m_block_index;</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"></highlight></codeline>
<codeline lineno="1169" refid="class_chainstate_manager_1ad854ac2aa6fccfd247fabfdbd1a0b89b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">mutable</highlight><highlight class="normal"><sp/><ref refid="class_version_bits_cache" kindref="compound">VersionBitsCache</ref><sp/><ref refid="class_chainstate_manager_1ad854ac2aa6fccfd247fabfdbd1a0b89b" kindref="member">m_versionbitscache</ref>;</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"></highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a312bb1a2008bae3205f4699b90880d66" kindref="member">IsInitialBlockDownload</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"></highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1ab95b248ecacf42357d9d4ea19e696ff7" kindref="member">GuessVerificationProgress</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>());</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"></highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a7fa295c24afe0ecd3e603b695fae303c" kindref="member">LoadExternalBlockFile</ref>(</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_auto_file" kindref="compound">AutoFile</ref>&amp;<sp/>file_in,</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref>*<sp/>dbp<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::multimap&lt;uint256,<sp/>FlatFilePos&gt;*<sp/>blocks_with_unknown_parent<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"></highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a1e0c145b7a823316fb026a73d305a049" kindref="member">ProcessNewBlock</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;&amp;<sp/>block,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>force_processing,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>min_pow_checked,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">*<sp/>new_block)<sp/><ref refid="thread__annotations_8h_1a6bb97382864d0bd2cd4dd5191bb03f6c" kindref="member">LOCKS_EXCLUDED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"></highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1ae76ff7fc56e3342ba5a97ca33ec5aa37" kindref="member">ProcessNewBlockHeaders</ref>(std::span&lt;const<sp/>CBlockHeader&gt;<sp/>headers,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>min_pow_checked,<sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>**<sp/>ppindex<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)<sp/><ref refid="thread__annotations_8h_1a6bb97382864d0bd2cd4dd5191bb03f6c" kindref="member">LOCKS_EXCLUDED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"></highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a27cda33d02b54068c879b5889f6557f3" kindref="member">AcceptBlock</ref>(const<sp/><ref refid="namespacestd" kindref="compound">std</ref>::shared_ptr&lt;const<sp/><ref refid="class_c_block" kindref="compound">CBlock</ref>&gt;&amp;<sp/>pblock,<sp/><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref>&amp;<sp/>state,<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>**<sp/>ppindex,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fRequested,<sp/>const<sp/><ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref>*<sp/>dbp,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">*<sp/>fNewBlock,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>min_pow_checked)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"></highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1aacf45b730328d8aa968302758c45adf0" kindref="member">ReceivedBlockTransactions</ref>(const<sp/><ref refid="class_c_block" kindref="compound">CBlock</ref>&amp;<sp/>block,<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexNew,<sp/>const<sp/><ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref>&amp;<sp/>pos)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"></highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/><ref refid="struct_mempool_accept_result" kindref="compound">MempoolAcceptResult</ref><sp/><ref refid="class_chainstate_manager_1a9c7d6797a606a08696d722e7489b6d4d" kindref="member">ProcessTransaction</ref>(const<sp/><ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref>&amp;<sp/>tx,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>test_accept=false)</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1279"><highlight class="normal"></highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1a665765220796597313f5ea2daa980354" kindref="member">LoadBlockIndex</ref>()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"></highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>MaybeRebalanceCaches()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"></highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1ab221269ee84206666a6cf6d27a9c25fc" kindref="member">UpdateUncommittedBlockStructures</ref>(<ref refid="class_c_block" kindref="compound">CBlock</ref>&amp;<sp/>block,<sp/>const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexPrev)<sp/>const;</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"></highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacestd" kindref="compound">std</ref>::vector&lt;</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">&gt;<sp/><ref refid="class_chainstate_manager_1a4f87fc79002ca74320f13bcc7b709f3b" kindref="member">GenerateCoinbaseCommitment</ref>(<ref refid="class_c_block" kindref="compound">CBlock</ref>&amp;<sp/>block,<sp/>const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexPrev)<sp/>const;</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"></highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager_1afbdf3e3590aa0d6082ea2105a70bd91e" kindref="member">ReportHeadersPresync</ref>(const<sp/><ref refid="classarith__uint256" kindref="compound">arith_uint256</ref>&amp;<sp/>work,<sp/>int64_t<sp/>height,<sp/>int64_t<sp/>timestamp);</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"></highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/>Chainstate*<sp/>LoadAssumeutxoChainstate()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"></highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/>Chainstate&amp;<sp/>AddChainstate(<ref refid="namespacestd" kindref="compound">std</ref>::unique_ptr&lt;Chainstate&gt;<sp/>chainstate)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"></highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ResetChainstates()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"></highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>DeleteChainstate(Chainstate&amp;<sp/>chainstate)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"></highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ValidatedSnapshotCleanup(Chainstate&amp;<sp/>validated_cs,<sp/>Chainstate&amp;<sp/>unvalidated_cs)<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"></highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacestd" kindref="compound">std</ref>::optional&lt;<ref refid="namespacestd" kindref="compound">std</ref>::pair&lt;const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*,<sp/>const<sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*&gt;&gt;<sp/>GetHistoricalBlockRange()<sp/>const<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"></highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceutil" kindref="compound">util</ref>::Result&lt;</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">&gt;<sp/>ActivateBestChains()<sp/><ref refid="thread__annotations_8h_1a6bb97382864d0bd2cd4dd5191bb03f6c" kindref="member">LOCKS_EXCLUDED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"></highlight></codeline>
<codeline lineno="1337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RecalculateBestHeader()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(::<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"></highlight></codeline>
<codeline lineno="1339" refid="class_chainstate_manager_1a950b9831cc7770fa5c00402406560433" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_check_queue" kindref="compound">CCheckQueue</ref>&lt;<ref refid="class_c_script_check" kindref="compound">CScriptCheck</ref>&gt;&amp;<sp/><ref refid="class_chainstate_manager_1a950b9831cc7770fa5c00402406560433" kindref="member">GetCheckQueue</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>m_script_check_queue;<sp/>}</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate_manager" kindref="compound">~ChainstateManager</ref>();</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"></highlight></codeline>
<codeline lineno="1350" refid="class_chainstate_manager_1a6331a57c72ec2af500332ada6568449c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;std::unique_ptr&lt;Chainstate&gt;&gt;<sp/>m_chainstates<sp/><ref refid="class_chainstate_manager_1a6331a57c72ec2af500332ada6568449c" kindref="member">GUARDED_BY</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="1351"><highlight class="normal">};</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"></highlight></codeline>
<codeline lineno="1354"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>DEP&gt;</highlight></codeline>
<codeline lineno="1355" refid="validation_8h_1a617ed441b6101875308a8fb4e0806877" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="deploymentstatus_8h_1a0f9c7fc832b34b673ebfeadaffc86182" kindref="member">DeploymentActiveAfter</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexPrev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref>&amp;<sp/>chainman,<sp/>DEP<sp/>dep)</highlight></codeline>
<codeline lineno="1356"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="deploymentstatus_8h_1a0f9c7fc832b34b673ebfeadaffc86182" kindref="member">DeploymentActiveAfter</ref>(pindexPrev,<sp/>chainman.<ref refid="class_chainstate_manager_1ae77f209722ff1370ed18dc073d3d373f" kindref="member">GetConsensus</ref>(),<sp/>dep,<sp/>chainman.<ref refid="class_chainstate_manager_1ad854ac2aa6fccfd247fabfdbd1a0b89b" kindref="member">m_versionbitscache</ref>);</highlight></codeline>
<codeline lineno="1358"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"></highlight></codeline>
<codeline lineno="1360"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>DEP&gt;</highlight></codeline>
<codeline lineno="1361" refid="validation_8h_1ac799f78d8f44b330f7990a7eeb3071d2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="deploymentstatus_8h_1af313e9a747786adc5b5f3fc8e4e1a3fe" kindref="member">DeploymentActiveAt</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>&amp;<sp/>index,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref>&amp;<sp/>chainman,<sp/>DEP<sp/>dep)</highlight></codeline>
<codeline lineno="1362"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="deploymentstatus_8h_1af313e9a747786adc5b5f3fc8e4e1a3fe" kindref="member">DeploymentActiveAt</ref>(index,<sp/>chainman.<ref refid="class_chainstate_manager_1ae77f209722ff1370ed18dc073d3d373f" kindref="member">GetConsensus</ref>(),<sp/>dep,<sp/>chainman.<ref refid="class_chainstate_manager_1ad854ac2aa6fccfd247fabfdbd1a0b89b" kindref="member">m_versionbitscache</ref>);</highlight></codeline>
<codeline lineno="1364"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"></highlight></codeline>
<codeline lineno="1366"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>DEP&gt;</highlight></codeline>
<codeline lineno="1367" refid="validation_8h_1a682495cf4f04b79458a57b29ac4f8951" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="deploymentstatus_8h_1aa94207beacb699dd817b8c2b955f74ef" kindref="member">DeploymentEnabled</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref>&amp;<sp/>chainman,<sp/>DEP<sp/>dep)</highlight></codeline>
<codeline lineno="1368"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="deploymentstatus_8h_1aa94207beacb699dd817b8c2b955f74ef" kindref="member">DeploymentEnabled</ref>(chainman.<ref refid="class_chainstate_manager_1ae77f209722ff1370ed18dc073d3d373f" kindref="member">GetConsensus</ref>(),<sp/>dep);</highlight></codeline>
<codeline lineno="1370"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"></highlight></codeline>
<codeline lineno="1373"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="validation_8cpp_1ad2cf17561482ed386ab70ddaa9b6b7a1" kindref="member">IsBIP30Repeat</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CBlockIndex&amp;<sp/>block_index);</highlight></codeline>
<codeline lineno="1374"><highlight class="normal"></highlight></codeline>
<codeline lineno="1376"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="validation_8cpp_1af3fd9113ad463595ffeac4bf813ceea4" kindref="member">IsBIP30Unspendable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint256&amp;<sp/>block_hash,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>block_height);</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"></highlight></codeline>
<codeline lineno="1378"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Returns<sp/>the<sp/>script<sp/>flags<sp/>which<sp/>should<sp/>be<sp/>checked<sp/>for<sp/>a<sp/>given<sp/>block</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1379"><highlight class="normal">script_verify_flags<sp/><ref refid="validation_8cpp_1a1c5c1cc0abaf193cde025de8c0827b50" kindref="member">GetBlockScriptFlags</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CBlockIndex&amp;<sp/>block_index,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ChainstateManager&amp;<sp/>chainman);</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"></highlight></codeline>
<codeline lineno="1381"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">//<sp/>BITCOIN_VALIDATION_H</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="src/validation.h"/>
  </compounddef>
</doxygen>
