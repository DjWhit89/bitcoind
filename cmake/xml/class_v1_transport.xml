<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="class_v1_transport" kind="class" language="C++" prot="public" final="yes">
    <compoundname>V1Transport</compoundname>
    <basecompoundref refid="class_transport" prot="public" virt="non-virtual">Transport</basecompoundref>
    <includes refid="net_8h" local="no">net.h</includes>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="class_v1_transport_1a5cf8045237d28c99d32f213cec7ad87a" prot="private" static="no" mutable="no">
        <type>const <ref refid="messagestartchars_8h_1a36e9a2b67a1635319b4fa1545597c60e" kindref="member">MessageStartChars</ref></type>
        <definition>const MessageStartChars m_magic_bytes</definition>
        <argsstring></argsstring>
        <name>m_magic_bytes</name>
        <qualifiedname>V1Transport::m_magic_bytes</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="373" column="29" bodyfile="src/net.h" bodystart="373" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_v1_transport_1a61e6463349c7f1382c049d61e5981f81" prot="private" static="no" mutable="no">
        <type>const <ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
        <definition>const NodeId m_node_id</definition>
        <argsstring></argsstring>
        <name>m_node_id</name>
        <qualifiedname>V1Transport::m_node_id</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="374" column="18" bodyfile="src/net.h" bodystart="374" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_v1_transport_1a8c3fafacc08adc337c74da057e1951ef" prot="private" static="no" mutable="yes">
        <type><ref refid="sync_8h_1a326d1d46ce05b5316d8ebe2694a10a6e" kindref="member">Mutex</ref></type>
        <definition>Mutex m_recv_mutex</definition>
        <argsstring></argsstring>
        <name>m_recv_mutex</name>
        <qualifiedname>V1Transport::m_recv_mutex</qualifiedname>
        <briefdescription>
<para>Lock for receive state. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="375" column="19" bodyfile="src/net.h" bodystart="375" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_v1_transport_1a8ae6722c76e793d50c9593cac2db5763" prot="private" static="no" mutable="yes">
        <type><ref refid="sync_8h_1a326d1d46ce05b5316d8ebe2694a10a6e" kindref="member">Mutex</ref></type>
        <definition>Mutex m_send_mutex</definition>
        <argsstring></argsstring>
        <name>m_send_mutex</name>
        <qualifiedname>V1Transport::m_send_mutex</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Lock for sending state. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="409" column="19" bodyfile="src/net.h" bodystart="409" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="private-func">
      <memberdef kind="function" id="class_v1_transport_1ad3d8a65d2753a8e082548a257c670e39" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_c_hash256" kindref="compound">CHash256</ref> hasher</type>
        <definition>CHash256 hasher GUARDED_BY</definition>
        <argsstring>(m_recv_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_recv_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="376" column="29"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a8dd590351cf313a279ef5f4f7326c45d" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classuint256" kindref="compound">uint256</ref> data_hash</type>
        <definition>uint256 data_hash GUARDED_BY</definition>
        <argsstring>(m_recv_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_recv_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="377" column="31"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a412f03ba7651e866513bd3ed205dccb1" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool in_data</type>
        <definition>bool in_data GUARDED_BY</definition>
        <argsstring>(m_recv_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_recv_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="378" column="18"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a4b4007bb7ebd74eec0d9581656ec2512" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_data_stream" kindref="compound">DataStream</ref> hdrbuf</type>
        <definition>DataStream hdrbuf GUARDED_BY</definition>
        <argsstring>(m_recv_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_recv_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="379" column="23" bodyfile="src/net.h" bodystart="379" bodyend="379"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1aa2e33a3ad4c22ba25decc6adec057585" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_c_message_header" kindref="compound">CMessageHeader</ref> hdr</type>
        <definition>CMessageHeader hdr GUARDED_BY</definition>
        <argsstring>(m_recv_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_recv_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="380" column="24"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1aeb448b172bec1ad7fa79c36d27509f5f" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_data_stream" kindref="compound">DataStream</ref> vRecv</type>
        <definition>DataStream vRecv GUARDED_BY</definition>
        <argsstring>(m_recv_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_recv_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="381" column="22" bodyfile="src/net.h" bodystart="381" bodyend="381"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a3a15413b5d4c51e3bc3f15d60ae496ba" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned int nHdrPos</type>
        <definition>unsigned int nHdrPos GUARDED_BY</definition>
        <argsstring>(m_recv_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_recv_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="382" column="26"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a8f8c04ae0d7d67e29951cb597e05ce7e" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned int nDataPos</type>
        <definition>unsigned int nDataPos GUARDED_BY</definition>
        <argsstring>(m_recv_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_recv_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="383" column="27"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1ab9092cc89b4efbe4eb9eaf6ac341e60b" prot="private" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="classuint256" kindref="compound">uint256</ref> &amp;</type>
        <definition>const uint256 &amp; GetMessageHash</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(m_recv_mutex)</argsstring>
        <name>GetMessageHash</name>
        <qualifiedname>V1Transport::GetMessageHash</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="385" column="19" bodyfile="src/net.cpp" bodystart="790" bodyend="797"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a7b6c0daeecd04d477ab1444b5ea1e3ce" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int readHeader</definition>
        <argsstring>(std::span&lt; const uint8_t &gt; msg_bytes) EXCLUSIVE_LOCKS_REQUIRED(m_recv_mutex)</argsstring>
        <name>readHeader</name>
        <qualifiedname>V1Transport::readHeader</qualifiedname>
        <param>
          <type>std::span&lt; const uint8_t &gt;</type>
          <declname>msg_bytes</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="386" column="9" bodyfile="src/net.cpp" bodystart="729" bodyend="770"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a008c77bacdf56f4fd222ebff616b6623" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int readData</definition>
        <argsstring>(std::span&lt; const uint8_t &gt; msg_bytes) EXCLUSIVE_LOCKS_REQUIRED(m_recv_mutex)</argsstring>
        <name>readData</name>
        <qualifiedname>V1Transport::readData</qualifiedname>
        <param>
          <type>std::span&lt; const uint8_t &gt;</type>
          <declname>msg_bytes</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="387" column="9" bodyfile="src/net.cpp" bodystart="772" bodyend="788"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a2d69b2692437d2ab02420f2981928289" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>void Reset</definition>
        <argsstring>() EXCLUSIVE_LOCKS_REQUIRED(m_recv_mutex)</argsstring>
        <name>Reset</name>
        <qualifiedname>V1Transport::Reset</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="389" column="10" bodyfile="src/net.h" bodystart="389" bodyend="399"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a454a91d5110561d9e42ec61cd0ad44a2" prot="private" static="no" const="yes" explicit="no" inline="yes" noexcept="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool CompleteInternal</definition>
        <argsstring>() const noexcept EXCLUSIVE_LOCKS_REQUIRED(m_recv_mutex)</argsstring>
        <name>CompleteInternal</name>
        <qualifiedname>V1Transport::CompleteInternal</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="401" column="10" bodyfile="src/net.h" bodystart="401" bodyend="406"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a75b001d22927db07a06efdfc37e7adf1" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::vector&lt; uint8_t &gt; m_header_to_send</type>
        <definition>std::vector&lt; uint8_t &gt; m_header_to_send GUARDED_BY</definition>
        <argsstring>(m_send_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_send_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The header of the message currently being sent. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="411" column="34"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a34695fea3e34a6929e09d61a505b210b" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="struct_c_serialized_net_msg" kindref="compound">CSerializedNetMsg</ref> m_message_to_send</type>
        <definition>CSerializedNetMsg m_message_to_send GUARDED_BY</definition>
        <argsstring>(m_send_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_send_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The data of the message currently being sent. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="413" column="41"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1ab26249cba772e890518601c42858c070" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>bool m_sending_header</type>
        <definition>bool m_sending_header GUARDED_BY</definition>
        <argsstring>(m_send_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_send_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Whether we&apos;re currently sending header bytes or message bytes. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="415" column="27" bodyfile="src/net.h" bodystart="415" bodyend="415"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a436943721cd4481a0cb114baa27283d1" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>size_t m_bytes_sent</type>
        <definition>size_t m_bytes_sent GUARDED_BY</definition>
        <argsstring>(m_send_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>V1Transport::GUARDED_BY</qualifiedname>
        <param>
          <type>m_send_mutex</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>How many bytes have been sent so far (from m_header_to_send, or from m_message_to_send.data). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="417" column="25" bodyfile="src/net.h" bodystart="417" bodyend="417"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="class_v1_transport_1a0781b80db5ebfb79cb7ac171fb034952" prot="public" static="no" const="no" explicit="yes" inline="no" noexcept="yes" virt="non-virtual">
        <type></type>
        <definition>V1Transport</definition>
        <argsstring>(const NodeId node_id) noexcept</argsstring>
        <name>V1Transport</name>
        <qualifiedname>V1Transport::V1Transport</qualifiedname>
        <param>
          <type>const <ref refid="net_8h_1aa637b11e18b77724b35db2229cd12788" kindref="member">NodeId</ref></type>
          <declname>node_id</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="420" column="14" bodyfile="src/net.cpp" bodystart="717" bodyend="722"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a8d29e67c1f1ec0f0bc1e0adcdb458c0d" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="virtual">
        <type>bool</type>
        <definition>bool ReceivedMessageComplete</definition>
        <argsstring>() const override EXCLUSIVE_LOCKS_REQUIRED(!m_recv_mutex)</argsstring>
        <name>ReceivedMessageComplete</name>
        <qualifiedname>V1Transport::ReceivedMessageComplete</qualifiedname>
        <reimplements refid="class_transport_1ad72f1df14e7c2b557c3f780d25361073">ReceivedMessageComplete</reimplements>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Returns true if the current message is complete (so GetReceivedMessage can be called). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="422" column="10" bodyfile="src/net.h" bodystart="422" bodyend="426"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a58bd1ab368e66f029f6029a004871f34" prot="public" static="no" const="yes" explicit="no" inline="no" noexcept="yes" virt="virtual">
        <type><ref refid="struct_transport_1_1_info" kindref="compound">Info</ref></type>
        <definition>Transport::Info GetInfo</definition>
        <argsstring>() const noexcept override</argsstring>
        <name>GetInfo</name>
        <qualifiedname>V1Transport::GetInfo</qualifiedname>
        <reimplements refid="class_transport_1a48296f31d432a8809164b3f97bbc1e4a">GetInfo</reimplements>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Retrieve information about this transport. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="428" column="10" bodyfile="src/net.cpp" bodystart="724" bodyend="727"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a7b1c80d6eaf17aa27556eb6ed47315c0" prot="public" static="no" const="no" explicit="no" inline="yes" virt="virtual">
        <type>bool</type>
        <definition>bool ReceivedBytes</definition>
        <argsstring>(std::span&lt; const uint8_t &gt; &amp;msg_bytes) override EXCLUSIVE_LOCKS_REQUIRED(!m_recv_mutex)</argsstring>
        <name>ReceivedBytes</name>
        <qualifiedname>V1Transport::ReceivedBytes</qualifiedname>
        <reimplements refid="class_transport_1af5340b2062e8681b6fb7d8f5a724102d">ReceivedBytes</reimplements>
        <param>
          <type>std::span&lt; const uint8_t &gt; &amp;</type>
          <declname>msg_bytes</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Feed wire bytes to the transport.</para>
<para><simplesect kind="return"><para>false if some bytes were invalid, in which case the transport can&apos;t be used anymore.</para>
</simplesect>
Consumed bytes are chopped off the front of msg_bytes. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="430" column="10" bodyfile="src/net.h" bodystart="430" bodyend="441"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1ada4775fac2b99d16d44d7e811cc8d5ef" prot="public" static="no" const="no" explicit="no" inline="no" virt="virtual">
        <type><ref refid="class_c_net_message" kindref="compound">CNetMessage</ref></type>
        <definition>CNetMessage GetReceivedMessage</definition>
        <argsstring>(std::chrono::microseconds time, bool &amp;reject_message) override EXCLUSIVE_LOCKS_REQUIRED(!m_recv_mutex)</argsstring>
        <name>GetReceivedMessage</name>
        <qualifiedname>V1Transport::GetReceivedMessage</qualifiedname>
        <reimplements refid="class_transport_1a65899c32e93818026372178488912881">GetReceivedMessage</reimplements>
        <param>
          <type>std::chrono::microseconds</type>
          <declname>time</declname>
        </param>
        <param>
          <type>bool &amp;</type>
          <declname>reject_message</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Retrieve a completed message from transport.</para>
<para>This can only be called when <ref refid="class_v1_transport_1a8d29e67c1f1ec0f0bc1e0adcdb458c0d" kindref="member">ReceivedMessageComplete()</ref> is true.</para>
<para>If reject_message=true is returned the message itself is invalid, but (other than false returned by ReceivedBytes) the transport is not in an inconsistent state. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="443" column="17" bodyfile="src/net.cpp" bodystart="799" bodyend="836"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1ae61bb32e8ff51cb3802156ab3eb10556" prot="public" static="no" const="no" explicit="no" inline="no" noexcept="yes" virt="virtual">
        <type>bool</type>
        <definition>bool SetMessageToSend</definition>
        <argsstring>(CSerializedNetMsg &amp;msg) noexcept override EXCLUSIVE_LOCKS_REQUIRED(!m_send_mutex)</argsstring>
        <name>SetMessageToSend</name>
        <qualifiedname>V1Transport::SetMessageToSend</qualifiedname>
        <reimplements refid="class_transport_1a7f7875e9c9bf5903f84dba2123309c01">SetMessageToSend</reimplements>
        <param>
          <type><ref refid="struct_c_serialized_net_msg" kindref="compound">CSerializedNetMsg</ref> &amp;</type>
          <declname>msg</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Set the next message to send.</para>
<para>If no message can currently be set (perhaps because the previous one is not yet done being sent), returns false, and msg will be unmodified. Otherwise msg is enqueued (and possibly moved-from) and true is returned. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="445" column="10" bodyfile="src/net.cpp" bodystart="838" bodyend="861"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a39dcf7de09089dc617df00c6850647b3" prot="public" static="no" const="yes" explicit="no" inline="no" noexcept="yes" virt="virtual">
        <type><ref refid="class_transport_1af6ca4dbfbf45f9bd26bc6bf4a6adfb9f" kindref="member">BytesToSend</ref></type>
        <definition>Transport::BytesToSend GetBytesToSend</definition>
        <argsstring>(bool have_next_message) const noexcept override EXCLUSIVE_LOCKS_REQUIRED(!m_send_mutex)</argsstring>
        <name>GetBytesToSend</name>
        <qualifiedname>V1Transport::GetBytesToSend</qualifiedname>
        <reimplements refid="class_transport_1afe903c5a52b321e189d97c6edbb64e95">GetBytesToSend</reimplements>
        <param>
          <type>bool</type>
          <declname>have_next_message</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get bytes to send on the wire, if any, along with other information about it.</para>
<para>As a const function, it does not modify the transport&apos;s observable state, and is thus safe to be called multiple times.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">have_next_message</parametername>
</parameternamelist>
<parameterdescription>
<para>If true, the &quot;more&quot; return value reports whether more will be sendable after a SetMessageToSend call. It is set by the caller when they know they have another message ready to send, and only care about what happens after that. The have_next_message argument only affects this &quot;more&quot; return value and nothing else.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
Effectively, there are three possible outcomes about whether there are more bytes to send:<itemizedlist>
<listitem><para>Yes: the transport itself has more bytes to send later. For example, for <ref refid="class_v1_transport" kindref="compound">V1Transport</ref> this happens during the sending of the header of a message, when there is a non-empty payload that follows.</para>
</listitem><listitem><para>No: the transport itself has no more bytes to send, but will have bytes to send if handed a message through SetMessageToSend. In <ref refid="class_v1_transport" kindref="compound">V1Transport</ref> this happens when sending the payload of a message.</para>
</listitem><listitem><para>Blocked: the transport itself has no more bytes to send, and is also incapable of sending anything more at all now, if it were handed another message to send. This occurs in <ref refid="class_v2_transport" kindref="compound">V2Transport</ref> before the handshake is complete, as the encryption ciphers are not set up for sending messages before that point.</para>
</listitem></itemizedlist>
</para>
<para>The boolean &apos;more&apos; is true for Yes, false for Blocked, and have_next_message controls what is returned for No.</para>
<para><simplesect kind="return"><para>a <ref refid="class_transport_1af6ca4dbfbf45f9bd26bc6bf4a6adfb9f" kindref="member">BytesToSend</ref> object. The to_send member returned acts as a stream which is only ever appended to. This means that with the exception of MarkBytesSent (which pops bytes off the front of later to_sends), operations on the transport can only append to what is being returned. Also note that m_type and to_send refer to data that is internal to the transport, and calling any non-const function on this object may invalidate them. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="446" column="17" bodyfile="src/net.cpp" bodystart="863" bodyend="882"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1ac69707799060ee90f662f6139bf01505" prot="public" static="no" const="no" explicit="no" inline="no" noexcept="yes" virt="virtual">
        <type>void</type>
        <definition>void MarkBytesSent</definition>
        <argsstring>(size_t bytes_sent) noexcept override EXCLUSIVE_LOCKS_REQUIRED(!m_send_mutex)</argsstring>
        <name>MarkBytesSent</name>
        <qualifiedname>V1Transport::MarkBytesSent</qualifiedname>
        <reimplements refid="class_transport_1a915249a31c6d363883f933cbbd07d22f">MarkBytesSent</reimplements>
        <param>
          <type>size_t</type>
          <declname>bytes_sent</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Report how many bytes returned by the last <ref refid="class_v1_transport_1a39dcf7de09089dc617df00c6850647b3" kindref="member">GetBytesToSend()</ref> have been sent.</para>
<para>bytes_sent cannot exceed to_send.size() of the last <ref refid="class_v1_transport_1a39dcf7de09089dc617df00c6850647b3" kindref="member">GetBytesToSend()</ref> result.</para>
<para>If bytes_sent=0, this call has no effect. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="447" column="10" bodyfile="src/net.cpp" bodystart="884" bodyend="898"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a6064b63ffba8cdc3f48a4217f75e3f93" prot="public" static="no" const="yes" explicit="no" inline="no" noexcept="yes" virt="virtual">
        <type>size_t</type>
        <definition>size_t GetSendMemoryUsage</definition>
        <argsstring>() const noexcept override EXCLUSIVE_LOCKS_REQUIRED(!m_send_mutex)</argsstring>
        <name>GetSendMemoryUsage</name>
        <qualifiedname>V1Transport::GetSendMemoryUsage</qualifiedname>
        <reimplements refid="class_transport_1a091196a6bab12cd2fe571129015bba8b">GetSendMemoryUsage</reimplements>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return the memory usage of this transport attributable to buffered data to send. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="448" column="12" bodyfile="src/net.cpp" bodystart="900" bodyend="906"/>
      </memberdef>
      <memberdef kind="function" id="class_v1_transport_1a52b4f178e8f2d4477668b401ed7ea8e1" prot="public" static="no" const="yes" explicit="no" inline="yes" noexcept="yes" virt="virtual">
        <type>bool</type>
        <definition>bool ShouldReconnectV1</definition>
        <argsstring>() const noexcept override</argsstring>
        <name>ShouldReconnectV1</name>
        <qualifiedname>V1Transport::ShouldReconnectV1</qualifiedname>
        <reimplements refid="class_transport_1ab8e03c4ee651c248fe3c67c55844681c">ShouldReconnectV1</reimplements>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Whether upon disconnections, a reconnect with V1 is warranted. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/net.h" line="449" column="10" bodyfile="src/net.h" bodystart="449" bodyend="449"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <inheritancegraph>
      <node id="2">
        <label>Transport</label>
        <link refid="class_transport"/>
      </node>
      <node id="1">
        <label>V1Transport</label>
        <link refid="class_v1_transport"/>
        <childnode refid="2" relation="public-inheritance">
        </childnode>
      </node>
    </inheritancegraph>
    <collaborationgraph>
      <node id="2">
        <label>Transport</label>
        <link refid="class_transport"/>
      </node>
      <node id="1">
        <label>V1Transport</label>
        <link refid="class_v1_transport"/>
        <childnode refid="2" relation="public-inheritance">
        </childnode>
      </node>
    </collaborationgraph>
    <location file="src/net.h" line="370" column="1" bodyfile="src/net.h" bodystart="371" bodyend="450"/>
    <listofallmembers>
      <member refid="class_transport_1af6ca4dbfbf45f9bd26bc6bf4a6adfb9f" prot="public" virt="non-virtual"><scope>V1Transport</scope><name>BytesToSend</name></member>
      <member refid="class_v1_transport_1a454a91d5110561d9e42ec61cd0ad44a2" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>CompleteInternal</name></member>
      <member refid="class_v1_transport_1a39dcf7de09089dc617df00c6850647b3" prot="public" virt="virtual"><scope>V1Transport</scope><name>GetBytesToSend</name></member>
      <member refid="class_v1_transport_1a58bd1ab368e66f029f6029a004871f34" prot="public" virt="virtual"><scope>V1Transport</scope><name>GetInfo</name></member>
      <member refid="class_v1_transport_1ab9092cc89b4efbe4eb9eaf6ac341e60b" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GetMessageHash</name></member>
      <member refid="class_v1_transport_1ada4775fac2b99d16d44d7e811cc8d5ef" prot="public" virt="virtual"><scope>V1Transport</scope><name>GetReceivedMessage</name></member>
      <member refid="class_v1_transport_1a6064b63ffba8cdc3f48a4217f75e3f93" prot="public" virt="virtual"><scope>V1Transport</scope><name>GetSendMemoryUsage</name></member>
      <member refid="class_v1_transport_1ad3d8a65d2753a8e082548a257c670e39" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a8dd590351cf313a279ef5f4f7326c45d" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a412f03ba7651e866513bd3ed205dccb1" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a4b4007bb7ebd74eec0d9581656ec2512" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1aa2e33a3ad4c22ba25decc6adec057585" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1aeb448b172bec1ad7fa79c36d27509f5f" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a3a15413b5d4c51e3bc3f15d60ae496ba" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a8f8c04ae0d7d67e29951cb597e05ce7e" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a75b001d22927db07a06efdfc37e7adf1" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a34695fea3e34a6929e09d61a505b210b" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1ab26249cba772e890518601c42858c070" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a436943721cd4481a0cb114baa27283d1" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>GUARDED_BY</name></member>
      <member refid="class_v1_transport_1a5cf8045237d28c99d32f213cec7ad87a" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>m_magic_bytes</name></member>
      <member refid="class_v1_transport_1a61e6463349c7f1382c049d61e5981f81" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>m_node_id</name></member>
      <member refid="class_v1_transport_1a8c3fafacc08adc337c74da057e1951ef" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>m_recv_mutex</name></member>
      <member refid="class_v1_transport_1a8ae6722c76e793d50c9593cac2db5763" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>m_send_mutex</name></member>
      <member refid="class_v1_transport_1ac69707799060ee90f662f6139bf01505" prot="public" virt="virtual"><scope>V1Transport</scope><name>MarkBytesSent</name></member>
      <member refid="class_v1_transport_1a008c77bacdf56f4fd222ebff616b6623" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>readData</name></member>
      <member refid="class_v1_transport_1a7b6c0daeecd04d477ab1444b5ea1e3ce" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>readHeader</name></member>
      <member refid="class_v1_transport_1a7b1c80d6eaf17aa27556eb6ed47315c0" prot="public" virt="virtual"><scope>V1Transport</scope><name>ReceivedBytes</name></member>
      <member refid="class_v1_transport_1a8d29e67c1f1ec0f0bc1e0adcdb458c0d" prot="public" virt="virtual"><scope>V1Transport</scope><name>ReceivedMessageComplete</name></member>
      <member refid="class_v1_transport_1a2d69b2692437d2ab02420f2981928289" prot="private" virt="non-virtual"><scope>V1Transport</scope><name>Reset</name></member>
      <member refid="class_v1_transport_1ae61bb32e8ff51cb3802156ab3eb10556" prot="public" virt="virtual"><scope>V1Transport</scope><name>SetMessageToSend</name></member>
      <member refid="class_v1_transport_1a52b4f178e8f2d4477668b401ed7ea8e1" prot="public" virt="virtual"><scope>V1Transport</scope><name>ShouldReconnectV1</name></member>
      <member refid="class_v1_transport_1a0781b80db5ebfb79cb7ac171fb034952" prot="public" virt="non-virtual"><scope>V1Transport</scope><name>V1Transport</name></member>
      <member refid="class_transport_1a9c4cb2756aafdbaa8e42942407e42e6c" prot="public" virt="virtual"><scope>V1Transport</scope><name>~Transport</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
