<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="class_chainstate_manager" kind="class" language="C++" prot="public">
    <compoundname>ChainstateManager</compoundname>
    <derivedcompoundref refid="struct_test_chainstate_manager" prot="public" virt="non-virtual">TestChainstateManager</derivedcompoundref>
    <includes refid="validation_8h" local="no">validation.h</includes>
    <sectiondef kind="user-defined">
      <memberdef kind="function" id="class_chainstate_manager_1a0ed46908ea52e17d172f2fcc0ceb9964" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
        <definition>Chainstate &amp; ActiveChainstate</definition>
        <argsstring>() const</argsstring>
        <name>ActiveChainstate</name>
        <qualifiedname>ChainstateManager::ActiveChainstate</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Alternatives to <ref refid="class_chainstate_manager_1a8d39d359e6ed774815dc8d31f326ff82" kindref="member">CurrentChainstate()</ref> used by older code to query latest chainstate information without locking cs_main. Newer code should avoid querying <ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> and use <ref refid="class_chainstate" kindref="compound">Chainstate</ref> objects directly, or should use <ref refid="class_chainstate_manager_1a8d39d359e6ed774815dc8d31f326ff82" kindref="member">CurrentChainstate()</ref> instead. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1154" column="16" bodyfile="src/validation.cpp" bodystart="6147" bodyend="6151"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a8090a09f21aff3aa747263ae6b8268c1" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_c_chain" kindref="compound">CChain</ref> &amp;</type>
        <definition>CChain &amp; ActiveChain</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</argsstring>
        <name>ActiveChain</name>
        <qualifiedname>ChainstateManager::ActiveChain</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1155" column="12" bodyfile="src/validation.h" bodystart="1155" bodyend="1155"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a02754cb19c22c28f3092a18a70d9dec4" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>int</type>
        <definition>int ActiveHeight</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</argsstring>
        <name>ActiveHeight</name>
        <qualifiedname>ChainstateManager::ActiveHeight</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1156" column="9" bodyfile="src/validation.h" bodystart="1156" bodyend="1156"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1ac8dc81d17ce18093b02ef600686870b3" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
        <definition>CBlockIndex * ActiveTip</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</argsstring>
        <name>ActiveTip</name>
        <qualifiedname>ChainstateManager::ActiveTip</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1157" column="17" bodyfile="src/validation.h" bodystart="1157" bodyend="1157"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-type">
      <memberdef kind="typedef" id="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" prot="public" static="no">
        <type><ref refid="structkernel_1_1_chainstate_manager_opts" kindref="compound">kernel::ChainstateManagerOpts</ref></type>
        <definition>using Options =  kernel::ChainstateManagerOpts</definition>
        <argsstring></argsstring>
        <name>Options</name>
        <qualifiedname>ChainstateManager::Options</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="989" column="5" bodyfile="src/validation.h" bodystart="989" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="class_chainstate_manager_1aec2b33bddea5115456ac467a642e22a6" prot="private" static="no" mutable="no">
        <type>friend</type>
        <definition>friend Chainstate</definition>
        <argsstring></argsstring>
        <name>Chainstate</name>
        <qualifiedname>ChainstateManager::Chainstate</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="962" column="12" bodyfile="src/validation.h" bodystart="962" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a4fc8d96d4791fa1edeb7cb2f414fe139" prot="private" static="no" mutable="no">
        <type><ref refid="class_c_check_queue" kindref="compound">CCheckQueue</ref>&lt; <ref refid="class_c_script_check" kindref="compound">CScriptCheck</ref> &gt;</type>
        <definition>CCheckQueue&lt;CScriptCheck&gt; m_script_check_queue</definition>
        <argsstring></argsstring>
        <name>m_script_check_queue</name>
        <qualifiedname>ChainstateManager::m_script_check_queue</qualifiedname>
        <briefdescription>
<para>A queue for script verifications that have to be performed by worker threads. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="968" column="17" bodyfile="src/validation.h" bodystart="968" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-attrib">
      <memberdef kind="variable" id="class_chainstate_manager_1a36ac8c09fb965b0d78d5f12d1cac9f95" prot="public" static="no" mutable="no">
        <type>std::function&lt; void()&gt;</type>
        <definition>std::function&lt;void()&gt; snapshot_download_completed</definition>
        <argsstring></argsstring>
        <name>snapshot_download_completed</name>
        <qualifiedname>ChainstateManager::snapshot_download_completed</qualifiedname>
        <initializer>= std::function&lt;void()&gt;()</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Function to restart active indexes; set dynamically to avoid a circular dependency on <computeroutput>base/index.cpp</computeroutput>. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="995" column="19" bodyfile="src/validation.h" bodystart="995" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a2163d8ef789c585b196a3ec7f468244b" prot="public" static="no" mutable="no">
        <type>const <ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref> &amp;</type>
        <definition>const util::SignalInterrupt&amp; m_interrupt</definition>
        <argsstring></argsstring>
        <name>m_interrupt</name>
        <qualifiedname>ChainstateManager::m_interrupt</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1024" column="33" bodyfile="src/validation.h" bodystart="1024" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" prot="public" static="no" mutable="no">
        <type>const <ref refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" kindref="member">Options</ref><ref refid="struct_options" kindref="compound">Options</ref></type>
        <definition>const Options m_options</definition>
        <argsstring></argsstring>
        <name>m_options</name>
        <qualifiedname>ChainstateManager::m_options</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1025" column="19" bodyfile="src/validation.h" bodystart="1025" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" prot="public" static="no" mutable="no">
        <type><ref refid="classnode_1_1_block_manager" kindref="compound">node::BlockManager</ref></type>
        <definition>node::BlockManager m_blockman</definition>
        <argsstring></argsstring>
        <name>m_blockman</name>
        <qualifiedname>ChainstateManager::m_blockman</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>A single <ref refid="class_block_manager" kindref="compound">BlockManager</ref> instance is shared across each constructed chainstate to avoid duplicating block metadata. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1028" column="24" bodyfile="src/validation.h" bodystart="1028" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a8b9f7384fea98b58e40ac219adbe246e" prot="public" static="no" mutable="no">
        <type><ref refid="class_validation_cache" kindref="compound">ValidationCache</ref></type>
        <definition>ValidationCache m_validation_cache</definition>
        <argsstring></argsstring>
        <name>m_validation_cache</name>
        <qualifiedname>ChainstateManager::m_validation_cache</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1030" column="21" bodyfile="src/validation.h" bodystart="1030" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1aeef634a7b2cca41e9465fb47ea4a4e5e" prot="public" static="no" mutable="yes">
        <type>std::atomic&lt; bool &gt;</type>
        <definition>std::atomic&lt;bool&gt; m_cached_finished_ibd</definition>
        <argsstring></argsstring>
        <name>m_cached_finished_ibd</name>
        <qualifiedname>ChainstateManager::m_cached_finished_ibd</qualifiedname>
        <initializer>{false}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Whether initial block download has ended and IsInitialBlockDownload should return false from now on.</para>
<para>Mutable because we need to be able to mark <ref refid="class_chainstate_manager_1a312bb1a2008bae3205f4699b90880d66" kindref="member">IsInitialBlockDownload()</ref> const, which latches this for caching purposes. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1039" column="25" bodyfile="src/validation.h" bodystart="1039" bodyend="1039"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a3a98f74d304164590a715c14320a7f34" prot="public" static="no" mutable="no">
        <type>int32_t</type>
        <definition>int32_t nBlockReverseSequenceId</definition>
        <argsstring></argsstring>
        <name>nBlockReverseSequenceId</name>
        <qualifiedname>ChainstateManager::nBlockReverseSequenceId</qualifiedname>
        <initializer>= -1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Decreasing counter (used by subsequent preciousblock calls). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1050" column="13" bodyfile="src/validation.h" bodystart="1050" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a13a75b7d6fb732fb84ea1ca75e5c3b4d" prot="public" static="no" mutable="no">
        <type><ref refid="classarith__uint256" kindref="compound">arith_uint256</ref></type>
        <definition>arith_uint256 nLastPreciousChainwork</definition>
        <argsstring></argsstring>
        <name>nLastPreciousChainwork</name>
        <qualifiedname>ChainstateManager::nLastPreciousChainwork</qualifiedname>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>chainwork for the last block that preciousblock has been applied to. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1052" column="19" bodyfile="src/validation.h" bodystart="1052" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a1193672873da4f09b48291890d0b523a" prot="public" static="no" mutable="no">
        <type>size_t</type>
        <definition>size_t m_total_coinstip_cache</definition>
        <argsstring></argsstring>
        <name>m_total_coinstip_cache</name>
        <qualifiedname>ChainstateManager::m_total_coinstip_cache</qualifiedname>
        <initializer>{0}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The total number of bytes available for us to use across all in-memory coins caches. This will be split somehow across chainstates. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1072" column="12" bodyfile="src/validation.h" bodystart="1072" bodyend="1072"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1ab8e486d36525b789f3858281b2b142f7" prot="public" static="no" mutable="no">
        <type>size_t</type>
        <definition>size_t m_total_coinsdb_cache</definition>
        <argsstring></argsstring>
        <name>m_total_coinsdb_cache</name>
        <qualifiedname>ChainstateManager::m_total_coinsdb_cache</qualifiedname>
        <initializer>{0}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The total number of bytes available for us to use across all leveldb coins databases. This will be split somehow across chainstates. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1076" column="12" bodyfile="src/validation.h" bodystart="1076" bodyend="1076"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1ad1791e4f65d252d4163bca3d75e8e418" prot="public" static="no" nodiscard="yes" mutable="no">
        <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;InitializeChainstate(<ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref> *mempool) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="classutil_1_1_result" kindref="compound">util::Result</ref>&lt; <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
        <definition>util::Result&lt; CBlockIndex * &gt; ActivateSnapshot</definition>
        <argsstring>)(AutoFile &amp;coins_file, const node::SnapshotMetadata &amp;metadata, bool in_memory)</argsstring>
        <name>ActivateSnapshot</name>
        <qualifiedname>ChainstateManager::ActivateSnapshot</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Instantiate a new chainstate.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">mempool</parametername>
</parameternamelist>
<parameterdescription>
<para>The mempool to pass to the chainstate</para>
</parameterdescription>
</parameteritem>
</parameterlist>
Construct and activate a <ref refid="class_chainstate" kindref="compound">Chainstate</ref> on the basis of UTXO snapshot data.</para>
<para>Steps:</para>
<para><itemizedlist>
<listitem><para>Initialize an unused <ref refid="class_chainstate" kindref="compound">Chainstate</ref>.</para>
</listitem><listitem><para>Load its <computeroutput><ref refid="class_coins_views" kindref="compound">CoinsViews</ref></computeroutput> contents from <computeroutput>coins_file</computeroutput>.</para>
</listitem><listitem><para>Verify that the hash of the resulting coinsdb matches the expected hash per assumeutxo chain parameters.</para>
</listitem><listitem><para>Wait for our headers chain to include the base block of the snapshot.</para>
</listitem><listitem><para>&quot;Fast forward&quot; the tip of the new chainstate to the base of the snapshot.</para>
</listitem><listitem><para>Construct the new <ref refid="class_chainstate" kindref="compound">Chainstate</ref> and add it to m_chainstates. </para>
</listitem></itemizedlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1095" column="19" bodyfile="src/validation.h" bodystart="1095" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a8d39d359e6ed774815dc8d31f326ff82" prot="public" static="no" mutable="no">
        <type><ref refid="validation_8h_1a64ee3ac35f0e5525364652f27fc0570e" kindref="member">SnapshotCompletionResult</ref> MaybeValidateSnapshot(<ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;validated_cs, <ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;unvalidated_cs) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate" kindref="compound">Chainstate</ref></type>
        <definition>SnapshotCompletionResult MaybeValidateSnapshot(Chainstate &amp;validated_cs, Chainstate &amp;unvalidated_cs) EXCLUSIVE_LOCKS_REQUIRED(Chainstate CurrentChainstate) () const EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</definition>
        <argsstring>)() const EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</argsstring>
        <name>CurrentChainstate</name>
        <qualifiedname>ChainstateManager::CurrentChainstate</qualifiedname>
        <briefdescription>
<para>Return current chainstate targeting the most-work, network tip. </para>
        </briefdescription>
        <detaileddescription>
<para>Try to validate an assumeutxo snapshot by using a validated historical chainstate targeted at the snapshot block. When the target block is reached, the UTXO hash is computed and saved to <computeroutput>validated_cs.m_target_utxohash</computeroutput>, and <computeroutput>unvalidated_cs.m_assumeutxo</computeroutput> will be updated from UNVALIDATED to either VALIDATED or INVALID depending on whether the hash matches. The INVALID case should not happen in practice because the software should refuse to load unrecognized snapshots, but if it does happen, it is a fatal error. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1109" column="16" bodyfile="src/validation.h" bodystart="1109" bodyend="1115"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1ad854ac2aa6fccfd247fabfdbd1a0b89b" prot="public" static="no" mutable="yes">
        <type><ref refid="class_version_bits_cache" kindref="compound">VersionBitsCache</ref></type>
        <definition>VersionBitsCache m_versionbitscache</definition>
        <argsstring></argsstring>
        <name>m_versionbitscache</name>
        <qualifiedname>ChainstateManager::m_versionbitscache</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Track versionbit status </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1169" column="30" bodyfile="src/validation.h" bodystart="1169" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_chainstate_manager_1a950b9831cc7770fa5c00402406560433" prot="public" static="no" nodiscard="yes" mutable="no">
        <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> *LoadAssumeutxoChainstate() <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;AddChainstate(std::unique_ptr&lt; <ref refid="class_chainstate" kindref="compound">Chainstate</ref> &gt; chainstate) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(void ResetChainstates() <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(bool DeleteChainstate(<ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;chainstate) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(bool ValidatedSnapshotCleanup(<ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;validated_cs, <ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;unvalidated_cs) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(std::optional&lt; std::pair&lt; const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *, const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> * &gt; &gt; GetHistoricalBlockRange() const <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="classutil_1_1_result" kindref="compound">util::Result</ref>&lt; void &gt; ActivateBestChains() <ref refid="thread__annotations_8h_1a6bb97382864d0bd2cd4dd5191bb03f6c" kindref="member">LOCKS_EXCLUDED</ref>(void RecalculateBestHeader() <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_c_check_queue" kindref="compound">CCheckQueue</ref>&lt; <ref refid="class_c_script_check" kindref="compound">CScriptCheck</ref> &gt;</type>
        <definition>Chainstate *LoadAssumeutxoChainstate() EXCLUSIVE_LOCKS_REQUIRED(Chainstate &amp;AddChainstate(std::unique_ptr&lt; Chainstate &gt; chainstate) EXCLUSIVE_LOCKS_REQUIRED(void ResetChainstates() EXCLUSIVE_LOCKS_REQUIRED(bool DeleteChainstate(Chainstate &amp;chainstate) EXCLUSIVE_LOCKS_REQUIRED(bool ValidatedSnapshotCleanup(Chainstate &amp;validated_cs, Chainstate &amp;unvalidated_cs) EXCLUSIVE_LOCKS_REQUIRED(std::optional&lt; std::pair&lt; const CBlockIndex *, const CBlockIndex * &gt; &gt; GetHistoricalBlockRange() const EXCLUSIVE_LOCKS_REQUIRED(util::Result&lt; void &gt; ActivateBestChains() LOCKS_EXCLUDED(void RecalculateBestHeader() EXCLUSIVE_LOCKS_REQUIRED(CCheckQueue&lt; CScriptCheck &gt; GetCheckQueue) ()</definition>
        <argsstring>)()</argsstring>
        <name>GetCheckQueue</name>
        <qualifiedname>ChainstateManager::GetCheckQueue</qualifiedname>
        <briefdescription>
<para>Add new chainstate. </para>
        </briefdescription>
        <detaileddescription>
<para>When starting up, search the datadir for a chainstate based on a UTXO snapshot that is in the process of being validated and load it if found. Return pointer to the <ref refid="class_chainstate" kindref="compound">Chainstate</ref> if it is loaded.</para>
<para>Remove the chainstate and all on-disk artifacts. Used when reindex{-chainstate} is called during snapshot use.</para>
<para>If we have validated a snapshot chain during this runtime, copy its chainstate directory over to the main <computeroutput>chainstate</computeroutput> location, completing validation of the snapshot.</para>
<para>If the cleanup succeeds, the caller will need to ensure chainstates are reinitialized, since ResetChainstates() will be called before leveldb directories are moved or deleted.</para>
<para><simplesect kind="see"><para>node/chainstate:<ref refid="init_8cpp_1a2d650cf978844ae65f6667c85fc53ede" kindref="member">LoadChainstate()</ref> Get range of historical blocks to download. Call ActivateBestChain() on every chainstate.</para>
</simplesect>
If, due to invalidation / reconsideration of blocks, the previous best header is no longer valid / guaranteed to be the most-work header in our block-index not known to be invalid, recalculate it. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1339" column="17" bodyfile="src/validation.h" bodystart="1339" bodyend="1339"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="private-func">
      <memberdef kind="function" id="class_chainstate_manager_1a788ecb5af6b97f4c5a9973bdce05ce87" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *m_last_notified_header</type>
        <definition>CBlockIndex *m_last_notified_header GUARDED_BY</definition>
        <argsstring>(GetMutex())</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>()</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The last header for which a headerTip notification was issued. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="934" column="40" bodyfile="src/validation.h" bodystart="934" bodyend="934"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a79f2257278d7f5b940b42a2331b0b806" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool NotifyHeaderTip</definition>
        <argsstring>() LOCKS_EXCLUDED(GetMutex())</argsstring>
        <name>NotifyHeaderTip</name>
        <qualifiedname>ChainstateManager::NotifyHeaderTip</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="936" column="10" bodyfile="src/validation.cpp" bodystart="3363" bodyend="3383"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a73a7a2d4cae0b71c7e687826a3115c72" prot="private" static="no" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classutil_1_1_result" kindref="compound">util::Result</ref>&lt; void &gt;</type>
        <definition>util::Result&lt; void &gt; PopulateAndValidateSnapshot</definition>
        <argsstring>(Chainstate &amp;snapshot_chainstate, AutoFile &amp;coins_file, const node::SnapshotMetadata &amp;metadata)</argsstring>
        <name>PopulateAndValidateSnapshot</name>
        <qualifiedname>ChainstateManager::PopulateAndValidateSnapshot</qualifiedname>
        <param>
          <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>snapshot_chainstate</declname>
        </param>
        <param>
          <type><ref refid="class_auto_file" kindref="compound">AutoFile</ref> &amp;</type>
          <declname>coins_file</declname>
        </param>
        <param>
          <type>const <ref refid="classnode_1_1_snapshot_metadata" kindref="compound">node::SnapshotMetadata</ref> &amp;</type>
          <declname>metadata</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Internal helper for <ref refid="class_chainstate_manager_1ad1791e4f65d252d4163bca3d75e8e418" kindref="member">ActivateSnapshot()</ref>.</para>
<para>De-serialization of a snapshot that is created with the dumptxoutset RPC. To reduce space the serialization format of the snapshot avoids duplication of tx hashes. The code takes advantage of the guarantee by leveldb that keys are lexicographically sorted. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="945" column="19" bodyfile="src/validation.cpp" bodystart="5821" bodyend="6022"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a05729dc9d5405366f23e2f19273143b0" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool AcceptBlockHeader</definition>
        <argsstring>(const CBlockHeader &amp;block, BlockValidationState &amp;state, CBlockIndex **ppindex, bool min_pow_checked) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>AcceptBlockHeader</name>
        <qualifiedname>ChainstateManager::AcceptBlockHeader</qualifiedname>
        <param>
          <type>const <ref refid="class_c_block_header" kindref="compound">CBlockHeader</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref> &amp;</type>
          <declname>state</declname>
        </param>
        <param>
          <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> **</type>
          <declname>ppindex</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>min_pow_checked</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>If a block header hasn&apos;t already been seen, call CheckBlockHeader on it, ensure that it doesn&apos;t descend from an invalid block, and then add it to m_block_index. Caller must set min_pow_checked=true in order to add a new header to the block index (permanent memory storage), indicating that the header is known to be part of a sufficiently high-work chain (anti-dos check). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="957" column="10" bodyfile="src/validation.cpp" bodystart="4269" bodyend="4322"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a97ec6348bf48419cdeb061d8b4b1b552" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="struct_mockable_steady_clock_1a5570f333e9436e3a5693453ecaa119e6" kindref="member">MockableSteadyClock::time_point</ref> m_last_presync_update</type>
        <definition>MockableSteadyClock::time_point m_last_presync_update GUARDED_BY</definition>
        <argsstring>(GetMutex())</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>()</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Most recent headers presync progress update, for rate-limiting. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="965" column="59" bodyfile="src/validation.h" bodystart="965" bodyend="965"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a856133b8a02071bae34deed07e04ae32" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_check</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Timers and counters used for benchmarking validation in both background and active chainstates. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="972" column="27" bodyfile="src/validation.h" bodystart="972" bodyend="972"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1ab161d4b20f1eb0490a108bb46cbc5ae6" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_forks</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="973" column="27" bodyfile="src/validation.h" bodystart="973" bodyend="973"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1aca968ea122182b47515eae3eed0f9eca" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_connect</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="974" column="27" bodyfile="src/validation.h" bodystart="974" bodyend="974"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1afbdd5f83e90ff3432b5d12a50bb8a999" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_verify</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="975" column="27" bodyfile="src/validation.h" bodystart="975" bodyend="975"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a6657c5565e15dd3996bee9044deb8287" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_undo</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="976" column="27" bodyfile="src/validation.h" bodystart="976" bodyend="976"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a9a04773231cb13aa983af230c1ab037b" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_index</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="977" column="27" bodyfile="src/validation.h" bodystart="977" bodyend="977"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a91e96e6b5414f652cde89b3594d9178b" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_total</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="978" column="27" bodyfile="src/validation.h" bodystart="978" bodyend="978"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a2147c30c146c61b6e73af1330c44a944" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>int64_t</type>
        <definition>int64_t GUARDED_BY</definition>
        <argsstring>(::cs_main) num_blocks_total</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="979" column="13" bodyfile="src/validation.h" bodystart="979" bodyend="979"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a4c1755f2c3850b19f98bce91fe17694f" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_connect_total</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="980" column="27" bodyfile="src/validation.h" bodystart="980" bodyend="980"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1adaaff90661d5f7402a010fdf4ebb6a3d" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_flush</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="981" column="27" bodyfile="src/validation.h" bodystart="981" bodyend="981"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a44fb5ab2d3454ab58865345845f08bbe" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_chainstate</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="982" column="27" bodyfile="src/validation.h" bodystart="982" bodyend="982"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a92e1e79d933dbf8fdec0c159868e7792" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>SteadyClock::duration</type>
        <definition>SteadyClock::duration GUARDED_BY</definition>
        <argsstring>(::cs_main) time_post_connect</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="983" column="27" bodyfile="src/validation.h" bodystart="983" bodyend="983"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="protected-func">
      <memberdef kind="function" id="class_chainstate_manager_1a19574d54ea135906c021a7a5d537da5f" prot="protected" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *m_best_invalid</type>
        <definition>CBlockIndex *m_best_invalid GUARDED_BY</definition>
        <argsstring>(::cs_main)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="986" column="32" bodyfile="src/validation.h" bodystart="986" bodyend="986"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="class_chainstate_manager_1abf64809b392636e77309f8ad9a1e633a" prot="public" static="no" const="no" explicit="yes" inline="no" virt="non-virtual">
        <type></type>
        <definition>ChainstateManager</definition>
        <argsstring>(const util::SignalInterrupt &amp;interrupt, Options options, node::BlockManager::Options blockman_options)</argsstring>
        <name>ChainstateManager</name>
        <qualifiedname>ChainstateManager::ChainstateManager</qualifiedname>
        <param>
          <type>const <ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref> &amp;</type>
          <declname>interrupt</declname>
        </param>
        <param>
          <type><ref refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" kindref="member">Options</ref><ref refid="struct_options" kindref="compound">Options</ref></type>
          <declname>options</declname>
        </param>
        <param>
          <type><ref refid="classnode_1_1_block_manager_1a9d388cded97cd9f86c06358bb29abfad" kindref="member">node::BlockManager::Options</ref></type>
          <declname>blockman_options</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="991" column="14" bodyfile="src/validation.cpp" bodystart="6203" bodyend="6210"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a9fc4893dda46aba09dbcd01e3387ca6f" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>const <ref refid="class_c_chain_params" kindref="compound">CChainParams</ref> &amp;</type>
        <definition>const CChainParams &amp; GetParams</definition>
        <argsstring>() const</argsstring>
        <name>GetParams</name>
        <qualifiedname>ChainstateManager::GetParams</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="997" column="24" bodyfile="src/validation.h" bodystart="997" bodyend="997"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1ae77f209722ff1370ed18dc073d3d373f" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>const <ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref> &amp;</type>
        <definition>const Consensus::Params &amp; GetConsensus</definition>
        <argsstring>() const</argsstring>
        <name>GetConsensus</name>
        <qualifiedname>ChainstateManager::GetConsensus</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="998" column="29" bodyfile="src/validation.h" bodystart="998" bodyend="998"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a7d9fee7d87790307d9de8daa34d0bb76" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ShouldCheckBlockIndex</definition>
        <argsstring>() const</argsstring>
        <name>ShouldCheckBlockIndex</name>
        <qualifiedname>ChainstateManager::ShouldCheckBlockIndex</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="999" column="10" bodyfile="src/validation.cpp" bodystart="5205" bodyend="5211"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1af6689b42eea6a15ba7e5409ea374cdb4" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>const <ref refid="classarith__uint256" kindref="compound">arith_uint256</ref> &amp;</type>
        <definition>const arith_uint256 &amp; MinimumChainWork</definition>
        <argsstring>() const</argsstring>
        <name>MinimumChainWork</name>
        <qualifiedname>ChainstateManager::MinimumChainWork</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1000" column="25" bodyfile="src/validation.h" bodystart="1000" bodyend="1000"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1abce720b3a0e16a563e8f78ac92686646" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>const <ref refid="classuint256" kindref="compound">uint256</ref> &amp;</type>
        <definition>const uint256 &amp; AssumedValidBlock</definition>
        <argsstring>() const</argsstring>
        <name>AssumedValidBlock</name>
        <qualifiedname>ChainstateManager::AssumedValidBlock</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1001" column="19" bodyfile="src/validation.h" bodystart="1001" bodyend="1001"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a30d910c43e6619c9596c077fd1e5518d" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="classkernel_1_1_notifications" kindref="compound">kernel::Notifications</ref> &amp;</type>
        <definition>kernel::Notifications &amp; GetNotifications</definition>
        <argsstring>() const</argsstring>
        <name>GetNotifications</name>
        <qualifiedname>ChainstateManager::GetNotifications</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1002" column="27" bodyfile="src/validation.h" bodystart="1002" bodyend="1002"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1abcf4d55acb00543c3d57d5fb532bc8f6" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void CheckBlockIndex</definition>
        <argsstring>() const</argsstring>
        <name>CheckBlockIndex</name>
        <qualifiedname>ChainstateManager::CheckBlockIndex</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Make various assertions about the state of the block index.</para>
<para>By default this only executes fully when using the Regtest chain; see: m_options.check_block_index. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1009" column="10" bodyfile="src/validation.cpp" bodystart="5213" bodyend="5528"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="sync_8h_1a5d71768bc9626b7482055d56d4e2c533" kindref="member">RecursiveMutex</ref> &amp;</type>
        <definition>RecursiveMutex &amp; GetMutex</definition>
        <argsstring>() const LOCK_RETURNED(</argsstring>
        <name>GetMutex</name>
        <qualifiedname>ChainstateManager::GetMutex</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Alias for <ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>. Should be used in new code to make it easier to make <ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref> a member of this class. Generally, methods of this class should be annotated to require this mutex. This will make calling code more verbose, but also help to:<itemizedlist>
<listitem><para>Clarify that the method will acquire a mutex that heavily affects overall performance.</para>
</listitem><listitem><para>Force call sites to think how long they need to acquire the mutex to get consistent results. </para>
</listitem></itemizedlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1022" column="20" bodyfile="src/validation.h" bodystart="1022" bodyend="1022"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1aa035a00d9fc943b069c0a2c73c0c4c5f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int32_t nBlockSequenceId</type>
        <definition>int32_t nBlockSequenceId GUARDED_BY</definition>
        <argsstring>(::cs_main)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Every received block is assigned a unique and increasing identifier, so we know which one to give priority in case of a fork. Blocks loaded from disk are assigned id SEQ_ID_INIT_FROM_DISK{1} (SEQ_ID_BEST_CHAIN_FROM_DISK{0} if they belong to the best chain loaded from disk), so start the counter after that. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1048" column="30"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1af18f65bf1a2c0d6ae376e70ba3bad7d3" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>void ResetBlockSequenceCounters</definition>
        <argsstring>() EXCLUSIVE_LOCKS_REQUIRED(</argsstring>
        <name>ResetBlockSequenceCounters</name>
        <qualifiedname>ChainstateManager::ResetBlockSequenceCounters</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1056" column="10" bodyfile="src/validation.h" bodystart="1056" bodyend="1061"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1ae266294cbd8e70cc91fd28a77fd45625" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *m_best_header</type>
        <definition>CBlockIndex *m_best_header GUARDED_BY</definition>
        <argsstring>(::cs_main)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Best header we&apos;ve seen so far for which the block is not known to be invalid (used, among others, for getheaders queries&apos; starting points). In case of multiple best headers with the same work, it could point to any because <ref refid="struct_c_block_index_work_comparator" kindref="compound">CBlockIndexWorkComparator</ref> tiebreaker rules are not applied. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1068" column="31" bodyfile="src/validation.h" bodystart="1068" bodyend="1068"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a1140f6d8b807be5796827fc4f7be03d7" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> *</type>
        <definition>Chainstate * HistoricalChainstate</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</argsstring>
        <name>HistoricalChainstate</name>
        <qualifiedname>ChainstateManager::HistoricalChainstate</qualifiedname>
        <briefdescription>
<para>Return historical chainstate targeting a specific block, if any. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1118" column="16" bodyfile="src/validation.h" bodystart="1118" bodyend="1124"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a91044f53af4185cf8bc3870bc2a3ea6a" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
        <definition>Chainstate &amp; ValidatedChainstate</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</argsstring>
        <name>ValidatedChainstate</name>
        <qualifiedname>ChainstateManager::ValidatedChainstate</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return fully validated chainstate that should be used for indexing, to support indexes that need to index blocks in order and can&apos;t start from the snapshot block. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1129" column="16" bodyfile="src/validation.h" bodystart="1129" bodyend="1135"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a3548c5d82213aaa9daaf0ac46482e8ce" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>std::unique_ptr&lt; <ref refid="class_chainstate" kindref="compound">Chainstate</ref> &gt;</type>
        <definition>std::unique_ptr&lt; Chainstate &gt; RemoveChainstate</definition>
        <argsstring>(Chainstate &amp;chainstate) EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</argsstring>
        <name>RemoveChainstate</name>
        <qualifiedname>ChainstateManager::RemoveChainstate</qualifiedname>
        <param>
          <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>chainstate</declname>
        </param>
        <briefdescription>
<para>Remove a chainstate. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1138" column="21" bodyfile="src/validation.h" bodystart="1138" bodyend="1147"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a1568d8e47259466ecafd9ed7b411873a" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="namespacenode_1acee0086a0c833617dd1532caf93206a3" kindref="member">node::BlockMap</ref> &amp;</type>
        <definition>node::BlockMap &amp; BlockIndex</definition>
        <argsstring>() EXCLUSIVE_LOCKS_REQUIRED(</argsstring>
        <name>BlockIndex</name>
        <qualifiedname>ChainstateManager::BlockIndex</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1160" column="20" bodyfile="src/validation.h" bodystart="1160" bodyend="1164"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a312bb1a2008bae3205f4699b90880d66" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool IsInitialBlockDownload</definition>
        <argsstring>() const</argsstring>
        <name>IsInitialBlockDownload</name>
        <qualifiedname>ChainstateManager::IsInitialBlockDownload</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check whether we are doing an initial block download (synchronizing from disk or network) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1172" column="10" bodyfile="src/validation.cpp" bodystart="1959" bodyend="1984"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1ab95b248ecacf42357d9d4ea19e696ff7" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double GuessVerificationProgress</definition>
        <argsstring>(const CBlockIndex *pindex) const EXCLUSIVE_LOCKS_REQUIRED(GetMutex())</argsstring>
        <name>GuessVerificationProgress</name>
        <qualifiedname>ChainstateManager::GuessVerificationProgress</qualifiedname>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
          <declname>pindex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Guess verification progress (as a fraction between 0.0=genesis and 1.0=current tip). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1175" column="12" bodyfile="src/validation.cpp" bodystart="5570" bodyend="5605"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a7fa295c24afe0ecd3e603b695fae303c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void LoadExternalBlockFile</definition>
        <argsstring>(AutoFile &amp;file_in, FlatFilePos *dbp=nullptr, std::multimap&lt; uint256, FlatFilePos &gt; *blocks_with_unknown_parent=nullptr)</argsstring>
        <name>LoadExternalBlockFile</name>
        <qualifiedname>ChainstateManager::LoadExternalBlockFile</qualifiedname>
        <param>
          <type><ref refid="class_auto_file" kindref="compound">AutoFile</ref> &amp;</type>
          <declname>file_in</declname>
        </param>
        <param>
          <type><ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> *</type>
          <declname>dbp</declname>
          <defval>nullptr</defval>
        </param>
        <param>
          <type>std::multimap&lt; <ref refid="classuint256" kindref="compound">uint256</ref>, <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> &gt; *</type>
          <declname>blocks_with_unknown_parent</declname>
          <defval>nullptr</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Import blocks from an external file</para>
<para>During reindexing, this function is called for each block file (datadir/blocks/blk?????.dat). It reads all blocks contained in the given file and attempts to process them (add them to the block index). The blocks may be out of order within each file and across files. Often this function reads a block but finds that its parent hasn&apos;t been read yet, so the block can&apos;t be processed yet. The function will add an entry to the blocks_with_unknown_parent map (which is passed as an argument), so that when the block&apos;s parent is later read and processed, this function can re-read the child block from disk and process it.</para>
<para>Because a block&apos;s parent may be in a later file, not just later in the same file, the blocks_with_unknown_parent map must be passed in and out with each call. It&apos;s a multimap, rather than just a map, because multiple blocks may have the same parent (when chain splits or stale blocks exist). It maps from parent-hash to child-disk-position.</para>
<para>This function can also be used to read blocks from user-specified block files using the -loadblock= option. There&apos;s no unknown-parent tracking, so the last two arguments are omitted.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">file_in</parametername>
</parameternamelist>
<parameterdescription>
<para>File containing blocks to read </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">dbp</parametername>
</parameternamelist>
<parameterdescription>
<para>(optional) Disk block position (only for reindex) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="inout">blocks_with_unknown_parent</parametername>
</parameternamelist>
<parameterdescription>
<para>(optional) Map of disk positions for blocks with unknown parent, key is parent block hash (only used for reindex) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1203" column="10" bodyfile="src/validation.cpp" bodystart="5036" bodyend="5203"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a1e0c145b7a823316fb026a73d305a049" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ProcessNewBlock</definition>
        <argsstring>(const std::shared_ptr&lt; const CBlock &gt; &amp;block, bool force_processing, bool min_pow_checked, bool *new_block) LOCKS_EXCLUDED(cs_main)</argsstring>
        <name>ProcessNewBlock</name>
        <qualifiedname>ChainstateManager::ProcessNewBlock</qualifiedname>
        <param>
          <type>const std::shared_ptr&lt; const <ref refid="class_c_block" kindref="compound">CBlock</ref> &gt; &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>force_processing</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>min_pow_checked</declname>
        </param>
        <param>
          <type>bool *</type>
          <declname>new_block</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Process an incoming block. This only returns after the best known valid block is made active. Note that it does not, however, guarantee that the specific block passed to it has been checked for validity!</para>
<para>If you want to <emphasis>possibly</emphasis> get feedback on whether block is valid, you must install a <ref refid="class_c_validation_interface" kindref="compound">CValidationInterface</ref> (see <ref refid="validationinterface_8h" kindref="compound">validationinterface.h</ref>) - this will have its BlockChecked method called whenever <emphasis>any</emphasis> block completes validation.</para>
<para>Note that we guarantee that either the proof-of-work is valid on block, or (and possibly also) BlockChecked will have been called.</para>
<para>May not be called in a validationinterface callback.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block</parametername>
</parameternamelist>
<parameterdescription>
<para>The block we want to process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">force_processing</parametername>
</parameternamelist>
<parameterdescription>
<para>Process this block even if unrequested; used for non-network block sources. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">min_pow_checked</parametername>
</parameternamelist>
<parameterdescription>
<para>True if proof-of-work anti-DoS checks have been done by caller for headers chain (note: only affects headers acceptance; if block header is already present in block index then this parameter has no effect) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">new_block</parametername>
</parameternamelist>
<parameterdescription>
<para>A boolean which is set to indicate if the block was first received via this call </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>If the block was processed, independently of block validity </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1232" column="10" bodyfile="src/validation.cpp" bodystart="4481" bodyend="4529"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1ae76ff7fc56e3342ba5a97ca33ec5aa37" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ProcessNewBlockHeaders</definition>
        <argsstring>(std::span&lt; const CBlockHeader &gt; headers, bool min_pow_checked, BlockValidationState &amp;state, const CBlockIndex **ppindex=nullptr) LOCKS_EXCLUDED(cs_main)</argsstring>
        <name>ProcessNewBlockHeaders</name>
        <qualifiedname>ChainstateManager::ProcessNewBlockHeaders</qualifiedname>
        <param>
          <type>std::span&lt; const <ref refid="class_c_block_header" kindref="compound">CBlockHeader</ref> &gt;</type>
          <declname>headers</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>min_pow_checked</declname>
        </param>
        <param>
          <type><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref> &amp;</type>
          <declname>state</declname>
        </param>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> **</type>
          <declname>ppindex</declname>
          <defval>nullptr</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Process incoming block headers.</para>
<para>May not be called in a validationinterface callback.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">headers</parametername>
</parameternamelist>
<parameterdescription>
<para>The block headers themselves </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">min_pow_checked</parametername>
</parameternamelist>
<parameterdescription>
<para>True if proof-of-work anti-DoS checks have been done by caller for headers chain </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">state</parametername>
</parameternamelist>
<parameterdescription>
<para>This may be set to an Error state if any error occurred processing them </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">ppindex</parametername>
</parameternamelist>
<parameterdescription>
<para>If set, the pointer will be set to point to the last new block index object for the given headers </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>false if AcceptBlockHeader fails on any of the headers, true otherwise (including if headers were already known) </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1246" column="10" bodyfile="src/validation.cpp" bodystart="4325" bodyend="4353"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a27cda33d02b54068c879b5889f6557f3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool AcceptBlock</definition>
        <argsstring>(const std::shared_ptr&lt; const CBlock &gt; &amp;pblock, BlockValidationState &amp;state, CBlockIndex **ppindex, bool fRequested, const FlatFilePos *dbp, bool *fNewBlock, bool min_pow_checked) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>AcceptBlock</name>
        <qualifiedname>ChainstateManager::AcceptBlock</qualifiedname>
        <param>
          <type>const std::shared_ptr&lt; const <ref refid="class_c_block" kindref="compound">CBlock</ref> &gt; &amp;</type>
          <declname>pblock</declname>
        </param>
        <param>
          <type><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref> &amp;</type>
          <declname>state</declname>
        </param>
        <param>
          <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> **</type>
          <declname>ppindex</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fRequested</declname>
        </param>
        <param>
          <type>const <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> *</type>
          <declname>dbp</declname>
        </param>
        <param>
          <type>bool *</type>
          <declname>fNewBlock</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>min_pow_checked</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Sufficiently validate a block for disk storage (and store on disk).</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">pblock</parametername>
</parameternamelist>
<parameterdescription>
<para>The block we want to process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">fRequested</parametername>
</parameternamelist>
<parameterdescription>
<para>Whether we requested this block from a peer. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">dbp</parametername>
</parameternamelist>
<parameterdescription>
<para>The location on disk, if we are importing this block from prior storage. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">min_pow_checked</parametername>
</parameternamelist>
<parameterdescription>
<para>True if proof-of-work anti-DoS checks have been done by caller for headers chain</para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">state</parametername>
</parameternamelist>
<parameterdescription>
<para>The state of the block validation. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">ppindex</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional return parameter to get the <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> pointer for this block. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">fNewBlock</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional return parameter to indicate if the block is new to our storage.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>False if the block or header is invalid, or if saving to disk fails (likely a fatal error); true otherwise.</para>
</simplesect>
Store block on disk. If dbp is non-nullptr, the file is known to already reside on disk </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1267" column="10" bodyfile="src/validation.cpp" bodystart="4381" bodyend="4479"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1aacf45b730328d8aa968302758c45adf0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ReceivedBlockTransactions</definition>
        <argsstring>(const CBlock &amp;block, CBlockIndex *pindexNew, const FlatFilePos &amp;pos) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>ReceivedBlockTransactions</name>
        <qualifiedname>ChainstateManager::ReceivedBlockTransactions</qualifiedname>
        <param>
          <type>const <ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
          <declname>pindexNew</declname>
        </param>
        <param>
          <type>const <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> &amp;</type>
          <declname>pos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Mark a block as having its data received and checked (up to BLOCK_VALID_TRANSACTIONS). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1269" column="10" bodyfile="src/validation.cpp" bodystart="3844" bodyend="3905"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a9c7d6797a606a08696d722e7489b6d4d" prot="public" static="no" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="struct_mempool_accept_result" kindref="compound">MempoolAcceptResult</ref></type>
        <definition>MempoolAcceptResult ProcessTransaction</definition>
        <argsstring>(const CTransactionRef &amp;tx, bool test_accept=false) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>ProcessTransaction</name>
        <qualifiedname>ChainstateManager::ProcessTransaction</qualifiedname>
        <param>
          <type>const <ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref> &amp;</type>
          <declname>tx</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>test_accept</declname>
          <defval>false</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Try to add a transaction to the memory pool.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">tx</parametername>
</parameternamelist>
<parameterdescription>
<para>The transaction to submit for mempool acceptance. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">test_accept</parametername>
</parameternamelist>
<parameterdescription>
<para>When true, run validation checks but don&apos;t submit to mempool. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1277" column="26" bodyfile="src/validation.cpp" bodystart="4531" bodyend="4543"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a665765220796597313f5ea2daa980354" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool LoadBlockIndex</definition>
        <argsstring>() EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>LoadBlockIndex</name>
        <qualifiedname>ChainstateManager::LoadBlockIndex</qualifiedname>
        <briefdescription>
<para>Load the block tree and coins database from disk, initializing state if we&apos;re running with -reindex. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1281" column="10" bodyfile="src/validation.cpp" bodystart="4967" bodyend="5004"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1ab221269ee84206666a6cf6d27a9c25fc" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>void MaybeRebalanceCaches() <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(void</type>
        <definition>void UpdateUncommittedBlockStructures</definition>
        <argsstring>(CBlock &amp;block, const CBlockIndex *pindexPrev) const</argsstring>
        <name>UpdateUncommittedBlockStructures</name>
        <qualifiedname>ChainstateManager::UpdateUncommittedBlockStructures</qualifiedname>
        <param>
          <type><ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
          <declname>pindexPrev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Check to see if caches are out of balance and if so, call ResizeCoinsCaches() as needed. Update uncommitted block structures (currently: only the witness reserved value). This is safe for submitted blocks as long as they honor default_witness_commitment from the template. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1292" column="10" bodyfile="src/validation.cpp" bodystart="4064" bodyend="4074"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a4f87fc79002ca74320f13bcc7b709f3b" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>std::vector&lt; unsigned char &gt;</type>
        <definition>std::vector&lt; unsigned char &gt; GenerateCoinbaseCommitment</definition>
        <argsstring>(CBlock &amp;block, const CBlockIndex *pindexPrev) const</argsstring>
        <name>GenerateCoinbaseCommitment</name>
        <qualifiedname>ChainstateManager::GenerateCoinbaseCommitment</qualifiedname>
        <param>
          <type><ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
          <declname>pindexPrev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Produce the necessary coinbase commitment for a block (modifies the hash, don&apos;t call for mined blocks). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1295" column="17" bodyfile="src/validation.cpp" bodystart="4076" bodyend="4101"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1afbdf3e3590aa0d6082ea2105a70bd91e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ReportHeadersPresync</definition>
        <argsstring>(const arith_uint256 &amp;work, int64_t height, int64_t timestamp)</argsstring>
        <name>ReportHeadersPresync</name>
        <qualifiedname>ChainstateManager::ReportHeadersPresync</qualifiedname>
        <param>
          <type>const <ref refid="classarith__uint256" kindref="compound">arith_uint256</ref> &amp;</type>
          <declname>work</declname>
        </param>
        <param>
          <type>int64_t</type>
          <declname>height</declname>
        </param>
        <param>
          <type>int64_t</type>
          <declname>timestamp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>This is used by net_processing to report pre-synchronization progress of headers, as headers are not yet fed to validation during that time, but validation is (for now) responsible for logging and signalling through NotifyHeaderTip, so it needs this information. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1301" column="10" bodyfile="src/validation.cpp" bodystart="4355" bodyend="4378"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a30c226700bb0b48363077aab63be6074" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>~ChainstateManager</definition>
        <argsstring>()</argsstring>
        <name>~ChainstateManager</name>
        <qualifiedname>ChainstateManager::~ChainstateManager</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1341" column="5" bodyfile="src/validation.cpp" bodystart="6212" bodyend="6217"/>
      </memberdef>
      <memberdef kind="function" id="class_chainstate_manager_1a6331a57c72ec2af500332ada6568449c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::vector&lt; std::unique_ptr&lt; <ref refid="class_chainstate" kindref="compound">Chainstate</ref> &gt; &gt; m_chainstates</type>
        <definition>std::vector&lt; std::unique_ptr&lt; Chainstate &gt; &gt; m_chainstates GUARDED_BY</definition>
        <argsstring>(::cs_main)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>ChainstateManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>List of chainstates. Note: in general, it is not safe to delete <ref refid="class_chainstate" kindref="compound">Chainstate</ref> objects once they are added to this list because there is no mutex that can be locked to prevent <ref refid="class_chainstate" kindref="compound">Chainstate</ref> pointers from being used while they are deleted. (cs_main doesn&apos;t work because it is too narrow and is released in the middle of Chainstate::ActivateBestChain to let notifications be processed. m_chainstate_mutex doesn&apos;t work because it is not locked at other times when the chainstate is in use.) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/validation.h" line="1350" column="31"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>Interface for managing multiple <ref refid="class_chainstate" kindref="compound">Chainstate</ref> objects, where each chainstate is associated with chainstate* subdirectory in the data directory and contains a database of UTXOs existing at a different point in history. (See <ref refid="class_chainstate" kindref="compound">Chainstate</ref> class for more information.)</para>
<para>Normally there is exactly one <ref refid="class_chainstate" kindref="compound">Chainstate</ref>, which contains the UTXO set of chain tip if syncing is completed, or the UTXO set the most recent validated block if the initial sync is still in progress.</para>
<para>However, if an assumeutxo snapshot is loaded before syncing is completed, there will be two chainstates. The original fully validated chainstate will continue to exist and download new blocks in the background. But the new snapshot which is loaded will become a second chainstate. The second chainstate will be used as the chain tip for the wallet and RPCs even though it is only assumed to be valid. When the initial chainstate catches up to the snapshot height and confirms that the assumeutxo snapshot is actually valid, the second chainstate will be marked validated and become the only chainstate again. </para>
    </detaileddescription>
    <inheritancegraph>
      <node id="1">
        <label>ChainstateManager</label>
        <link refid="class_chainstate_manager"/>
      </node>
      <node id="2">
        <label>TestChainstateManager</label>
        <link refid="struct_test_chainstate_manager"/>
        <childnode refid="1" relation="public-inheritance">
        </childnode>
      </node>
    </inheritancegraph>
    <collaborationgraph>
      <node id="25">
        <label>AnnotatedMixin&lt; std::mutex &gt;</label>
        <link refid="class_annotated_mixin"/>
        <childnode refid="26" relation="public-inheritance">
        </childnode>
      </node>
      <node id="28">
        <label>AnnotatedMixin&lt; std::recursive_mutex &gt;</label>
        <link refid="class_annotated_mixin"/>
        <childnode refid="29" relation="public-inheritance">
        </childnode>
      </node>
      <node id="37">
        <label>BlockValidationState</label>
        <link refid="class_block_validation_state"/>
        <childnode refid="38" relation="public-inheritance">
        </childnode>
      </node>
      <node id="8">
        <label>CBlock</label>
        <link refid="class_c_block"/>
        <childnode refid="9" relation="public-inheritance">
        </childnode>
      </node>
      <node id="9">
        <label>CBlockHeader</label>
        <link refid="class_c_block_header"/>
        <childnode refid="6" relation="usage">
          <edgelabel>hashMerkleRoot</edgelabel>
          <edgelabel>hashPrevBlock</edgelabel>
        </childnode>
      </node>
      <node id="17">
        <label>CBlockIndex</label>
        <link refid="class_c_block_index"/>
        <childnode refid="6" relation="usage">
          <edgelabel>hashMerkleRoot</edgelabel>
          <edgelabel>phashBlock</edgelabel>
        </childnode>
        <childnode refid="17" relation="usage">
          <edgelabel>pprev</edgelabel>
          <edgelabel>pskip</edgelabel>
        </childnode>
        <childnode refid="18" relation="usage">
          <edgelabel>nChainWork</edgelabel>
        </childnode>
      </node>
      <node id="20">
        <label>CBlockUndo</label>
        <link refid="class_c_block_undo"/>
      </node>
      <node id="36">
        <label>CChain</label>
        <link refid="class_c_chain"/>
      </node>
      <node id="4">
        <label>CChainParams</label>
        <link refid="class_c_chain_params"/>
        <childnode refid="5" relation="usage">
          <edgelabel>consensus</edgelabel>
        </childnode>
        <childnode refid="8" relation="usage">
          <edgelabel>genesis</edgelabel>
        </childnode>
        <childnode refid="10" relation="usage">
          <edgelabel>chainTxData</edgelabel>
        </childnode>
        <childnode refid="11" relation="usage">
          <edgelabel>m_headers_sync_params</edgelabel>
        </childnode>
      </node>
      <node id="35">
        <label>CCoinsView</label>
        <link refid="class_c_coins_view"/>
      </node>
      <node id="34">
        <label>CCoinsViewBacked</label>
        <link refid="class_c_coins_view_backed"/>
        <childnode refid="35" relation="public-inheritance">
        </childnode>
        <childnode refid="35" relation="usage">
          <edgelabel>base</edgelabel>
        </childnode>
      </node>
      <node id="33">
        <label>CCoinsViewCache</label>
        <link refid="class_c_coins_view_cache"/>
        <childnode refid="34" relation="public-inheritance">
        </childnode>
        <childnode refid="6" relation="usage">
          <edgelabel>hashBlock</edgelabel>
        </childnode>
      </node>
      <node id="31">
        <label>CFeeRate</label>
        <link refid="class_c_fee_rate"/>
      </node>
      <node id="27">
        <label>CTxMemPool</label>
        <link refid="class_c_tx_mem_pool"/>
        <childnode refid="28" relation="usage">
          <edgelabel>cs</edgelabel>
        </childnode>
        <childnode refid="30" relation="usage">
          <edgelabel>m_opts</edgelabel>
        </childnode>
        <childnode refid="33" relation="usage">
          <edgelabel>removeRecursive</edgelabel>
        </childnode>
      </node>
      <node id="10">
        <label>ChainTxData</label>
        <link refid="struct_chain_tx_data"/>
      </node>
      <node id="24">
        <label>Chainstate</label>
        <link refid="class_chainstate"/>
        <childnode refid="25" relation="usage">
          <edgelabel>m_chainstate_mutex</edgelabel>
        </childnode>
        <childnode refid="27" relation="usage">
          <edgelabel>m_mempool</edgelabel>
        </childnode>
        <childnode refid="16" relation="usage">
          <edgelabel>m_blockman</edgelabel>
        </childnode>
        <childnode refid="1" relation="usage">
          <edgelabel>m_chainman</edgelabel>
        </childnode>
        <childnode refid="36" relation="usage">
          <edgelabel>m_chain</edgelabel>
        </childnode>
        <childnode refid="17" relation="usage">
          <edgelabel>ReachedTarget</edgelabel>
          <edgelabel>m_next_write</edgelabel>
        </childnode>
        <childnode refid="37" relation="usage">
          <edgelabel>ConnectBlock</edgelabel>
          <edgelabel>ResetBlockFailureFlags</edgelabel>
        </childnode>
        <childnode refid="39" relation="usage">
          <edgelabel>ChainstateManager</edgelabel>
        </childnode>
      </node>
      <node id="1">
        <label>ChainstateManager</label>
        <link refid="class_chainstate_manager"/>
        <childnode refid="2" relation="usage">
          <edgelabel>m_interrupt</edgelabel>
        </childnode>
        <childnode refid="3" relation="usage">
          <edgelabel>m_options</edgelabel>
        </childnode>
        <childnode refid="16" relation="usage">
          <edgelabel>m_blockman</edgelabel>
        </childnode>
        <childnode refid="21" relation="usage">
          <edgelabel>m_validation_cache</edgelabel>
        </childnode>
        <childnode refid="18" relation="usage">
          <edgelabel>nLastPreciousChainwork</edgelabel>
        </childnode>
        <childnode refid="24" relation="usage">
          <edgelabel>ActivateSnapshot</edgelabel>
          <edgelabel>CurrentChainstate</edgelabel>
          <edgelabel>GetCheckQueue</edgelabel>
        </childnode>
        <childnode refid="40" relation="usage">
          <edgelabel>m_versionbitscache</edgelabel>
        </childnode>
      </node>
      <node id="13">
        <label>CoinsViewOptions</label>
        <link refid="struct_coins_view_options"/>
      </node>
      <node id="5">
        <label>Params</label>
        <link refid="struct_consensus_1_1_params"/>
        <childnode refid="6" relation="usage">
          <edgelabel>BIP34Hash</edgelabel>
          <edgelabel>defaultAssumeValid</edgelabel>
          <edgelabel>hashGenesisBlock</edgelabel>
          <edgelabel>nMinimumChainWork</edgelabel>
          <edgelabel>powLimit</edgelabel>
        </childnode>
      </node>
      <node id="22">
        <label>cache&lt; uint256, SignatureCacheHasher &gt;</label>
        <link refid="class_cuckoo_cache_1_1cache"/>
      </node>
      <node id="12">
        <label>DBOptions</label>
        <link refid="struct_d_b_options"/>
      </node>
      <node id="11">
        <label>HeadersSyncParams</label>
        <link refid="struct_headers_sync_params"/>
      </node>
      <node id="23">
        <label>SignatureCache</label>
        <link refid="class_signature_cache"/>
      </node>
      <node id="21">
        <label>ValidationCache</label>
        <link refid="class_validation_cache"/>
        <childnode refid="22" relation="usage">
          <edgelabel>m_script_execution_cache</edgelabel>
        </childnode>
        <childnode refid="23" relation="usage">
          <edgelabel>m_signature_cache</edgelabel>
        </childnode>
      </node>
      <node id="15">
        <label>ValidationSignals</label>
        <link refid="class_validation_signals"/>
      </node>
      <node id="38">
        <label>ValidationState&lt; BlockValidationResult &gt;</label>
        <link refid="class_validation_state"/>
      </node>
      <node id="40">
        <label>VersionBitsCache</label>
        <link refid="class_version_bits_cache"/>
      </node>
      <node id="18">
        <label>arith_uint256</label>
        <link refid="classarith__uint256"/>
        <childnode refid="19" relation="public-inheritance">
        </childnode>
      </node>
      <node id="7">
        <label>base_blob&lt; 256 &gt;</label>
        <link refid="classbase__blob"/>
      </node>
      <node id="19">
        <label>base_uint&lt; 256 &gt;</label>
        <link refid="classbase__uint"/>
      </node>
      <node id="3">
        <label>ChainstateManagerOpts</label>
        <link refid="structkernel_1_1_chainstate_manager_opts"/>
        <childnode refid="4" relation="usage">
          <edgelabel>chainparams</edgelabel>
        </childnode>
        <childnode refid="12" relation="usage">
          <edgelabel>coins_db</edgelabel>
        </childnode>
        <childnode refid="13" relation="usage">
          <edgelabel>coins_view</edgelabel>
        </childnode>
        <childnode refid="14" relation="usage">
          <edgelabel>notifications</edgelabel>
        </childnode>
        <childnode refid="15" relation="usage">
          <edgelabel>signals</edgelabel>
        </childnode>
      </node>
      <node id="32">
        <label>MemPoolLimits</label>
        <link refid="structkernel_1_1_mem_pool_limits"/>
      </node>
      <node id="30">
        <label>MemPoolOptions</label>
        <link refid="structkernel_1_1_mem_pool_options"/>
        <childnode refid="31" relation="usage">
          <edgelabel>dust_relay_feerate</edgelabel>
          <edgelabel>incremental_relay_feerate</edgelabel>
          <edgelabel>min_relay_feerate</edgelabel>
        </childnode>
        <childnode refid="32" relation="usage">
          <edgelabel>limits</edgelabel>
        </childnode>
        <childnode refid="15" relation="usage">
          <edgelabel>signals</edgelabel>
        </childnode>
      </node>
      <node id="14">
        <label>Notifications</label>
        <link refid="classkernel_1_1_notifications"/>
      </node>
      <node id="16">
        <label>BlockManager</label>
        <link refid="classnode_1_1_block_manager"/>
        <childnode refid="2" relation="usage">
          <edgelabel>m_interrupt</edgelabel>
        </childnode>
        <childnode refid="17" relation="usage">
          <edgelabel>AddToBlockIndex</edgelabel>
          <edgelabel>OpenBlockFile</edgelabel>
          <edgelabel>m_have_pruned</edgelabel>
        </childnode>
        <childnode refid="20" relation="usage">
          <edgelabel>WriteBlock</edgelabel>
        </childnode>
      </node>
      <node id="26">
        <label>mutex</label>
      </node>
      <node id="29">
        <label>recursive_mutex</label>
      </node>
      <node id="6">
        <label>uint256</label>
        <link refid="classuint256"/>
        <childnode refid="7" relation="public-inheritance">
        </childnode>
        <childnode refid="6" relation="usage">
          <edgelabel>ONE</edgelabel>
          <edgelabel>ZERO</edgelabel>
        </childnode>
      </node>
      <node id="39">
        <label>Result&lt; void &gt;</label>
        <link refid="classutil_1_1_result"/>
      </node>
      <node id="2">
        <label>SignalInterrupt</label>
        <link refid="classutil_1_1_signal_interrupt"/>
      </node>
    </collaborationgraph>
    <location file="src/validation.h" line="929" column="1" bodyfile="src/validation.h" bodystart="930" bodyend="1351"/>
    <listofallmembers>
      <member refid="class_chainstate_manager_1a27cda33d02b54068c879b5889f6557f3" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>AcceptBlock</name></member>
      <member refid="class_chainstate_manager_1a05729dc9d5405366f23e2f19273143b0" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>AcceptBlockHeader</name></member>
      <member refid="class_chainstate_manager_1ad1791e4f65d252d4163bca3d75e8e418" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ActivateSnapshot</name></member>
      <member refid="class_chainstate_manager_1a8090a09f21aff3aa747263ae6b8268c1" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ActiveChain</name></member>
      <member refid="class_chainstate_manager_1a0ed46908ea52e17d172f2fcc0ceb9964" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ActiveChainstate</name></member>
      <member refid="class_chainstate_manager_1a02754cb19c22c28f3092a18a70d9dec4" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ActiveHeight</name></member>
      <member refid="class_chainstate_manager_1ac8dc81d17ce18093b02ef600686870b3" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ActiveTip</name></member>
      <member refid="class_chainstate_manager_1abce720b3a0e16a563e8f78ac92686646" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>AssumedValidBlock</name></member>
      <member refid="class_chainstate_manager_1a1568d8e47259466ecafd9ed7b411873a" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>BlockIndex</name></member>
      <member refid="class_chainstate_manager_1aec2b33bddea5115456ac467a642e22a6" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>Chainstate</name></member>
      <member refid="class_chainstate_manager_1abf64809b392636e77309f8ad9a1e633a" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ChainstateManager</name></member>
      <member refid="class_chainstate_manager_1abcf4d55acb00543c3d57d5fb532bc8f6" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>CheckBlockIndex</name></member>
      <member refid="class_chainstate_manager_1a8d39d359e6ed774815dc8d31f326ff82" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>CurrentChainstate</name></member>
      <member refid="class_chainstate_manager_1a4f87fc79002ca74320f13bcc7b709f3b" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GenerateCoinbaseCommitment</name></member>
      <member refid="class_chainstate_manager_1a950b9831cc7770fa5c00402406560433" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GetCheckQueue</name></member>
      <member refid="class_chainstate_manager_1ae77f209722ff1370ed18dc073d3d373f" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GetConsensus</name></member>
      <member refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GetMutex</name></member>
      <member refid="class_chainstate_manager_1a30d910c43e6619c9596c077fd1e5518d" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GetNotifications</name></member>
      <member refid="class_chainstate_manager_1a9fc4893dda46aba09dbcd01e3387ca6f" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GetParams</name></member>
      <member refid="class_chainstate_manager_1a788ecb5af6b97f4c5a9973bdce05ce87" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a97ec6348bf48419cdeb061d8b4b1b552" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a856133b8a02071bae34deed07e04ae32" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1ab161d4b20f1eb0490a108bb46cbc5ae6" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1aca968ea122182b47515eae3eed0f9eca" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1afbdd5f83e90ff3432b5d12a50bb8a999" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a6657c5565e15dd3996bee9044deb8287" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a9a04773231cb13aa983af230c1ab037b" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a91e96e6b5414f652cde89b3594d9178b" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a2147c30c146c61b6e73af1330c44a944" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a4c1755f2c3850b19f98bce91fe17694f" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1adaaff90661d5f7402a010fdf4ebb6a3d" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a44fb5ab2d3454ab58865345845f08bbe" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a92e1e79d933dbf8fdec0c159868e7792" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a19574d54ea135906c021a7a5d537da5f" prot="protected" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1aa035a00d9fc943b069c0a2c73c0c4c5f" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1ae266294cbd8e70cc91fd28a77fd45625" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1a6331a57c72ec2af500332ada6568449c" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GUARDED_BY</name></member>
      <member refid="class_chainstate_manager_1ab95b248ecacf42357d9d4ea19e696ff7" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>GuessVerificationProgress</name></member>
      <member refid="class_chainstate_manager_1a1140f6d8b807be5796827fc4f7be03d7" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>HistoricalChainstate</name></member>
      <member refid="class_chainstate_manager_1a312bb1a2008bae3205f4699b90880d66" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>IsInitialBlockDownload</name></member>
      <member refid="class_chainstate_manager_1a665765220796597313f5ea2daa980354" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>LoadBlockIndex</name></member>
      <member refid="class_chainstate_manager_1a7fa295c24afe0ecd3e603b695fae303c" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>LoadExternalBlockFile</name></member>
      <member refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>m_blockman</name></member>
      <member refid="class_chainstate_manager_1aeef634a7b2cca41e9465fb47ea4a4e5e" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>m_cached_finished_ibd</name></member>
      <member refid="class_chainstate_manager_1a2163d8ef789c585b196a3ec7f468244b" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>m_interrupt</name></member>
      <member refid="class_chainstate_manager_1a012c0463bd17a2be6045a0d62e8b0fd4" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>m_options</name></member>
      <member refid="class_chainstate_manager_1a4fc8d96d4791fa1edeb7cb2f414fe139" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>m_script_check_queue</name></member>
      <member refid="class_chainstate_manager_1ab8e486d36525b789f3858281b2b142f7" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>m_total_coinsdb_cache</name></member>
      <member refid="class_chainstate_manager_1a1193672873da4f09b48291890d0b523a" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>m_total_coinstip_cache</name></member>
      <member refid="class_chainstate_manager_1a8b9f7384fea98b58e40ac219adbe246e" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>m_validation_cache</name></member>
      <member refid="class_chainstate_manager_1ad854ac2aa6fccfd247fabfdbd1a0b89b" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>m_versionbitscache</name></member>
      <member refid="class_chainstate_manager_1af6689b42eea6a15ba7e5409ea374cdb4" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>MinimumChainWork</name></member>
      <member refid="class_chainstate_manager_1a3a98f74d304164590a715c14320a7f34" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>nBlockReverseSequenceId</name></member>
      <member refid="class_chainstate_manager_1a13a75b7d6fb732fb84ea1ca75e5c3b4d" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>nLastPreciousChainwork</name></member>
      <member refid="class_chainstate_manager_1a79f2257278d7f5b940b42a2331b0b806" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>NotifyHeaderTip</name></member>
      <member refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>Options</name></member>
      <member refid="class_chainstate_manager_1a73a7a2d4cae0b71c7e687826a3115c72" prot="private" virt="non-virtual"><scope>ChainstateManager</scope><name>PopulateAndValidateSnapshot</name></member>
      <member refid="class_chainstate_manager_1a1e0c145b7a823316fb026a73d305a049" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ProcessNewBlock</name></member>
      <member refid="class_chainstate_manager_1ae76ff7fc56e3342ba5a97ca33ec5aa37" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ProcessNewBlockHeaders</name></member>
      <member refid="class_chainstate_manager_1a9c7d6797a606a08696d722e7489b6d4d" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ProcessTransaction</name></member>
      <member refid="class_chainstate_manager_1aacf45b730328d8aa968302758c45adf0" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ReceivedBlockTransactions</name></member>
      <member refid="class_chainstate_manager_1a3548c5d82213aaa9daaf0ac46482e8ce" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>RemoveChainstate</name></member>
      <member refid="class_chainstate_manager_1afbdf3e3590aa0d6082ea2105a70bd91e" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ReportHeadersPresync</name></member>
      <member refid="class_chainstate_manager_1af18f65bf1a2c0d6ae376e70ba3bad7d3" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ResetBlockSequenceCounters</name></member>
      <member refid="class_chainstate_manager_1a7d9fee7d87790307d9de8daa34d0bb76" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ShouldCheckBlockIndex</name></member>
      <member refid="class_chainstate_manager_1a36ac8c09fb965b0d78d5f12d1cac9f95" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>snapshot_download_completed</name></member>
      <member refid="class_chainstate_manager_1ab221269ee84206666a6cf6d27a9c25fc" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>UpdateUncommittedBlockStructures</name></member>
      <member refid="class_chainstate_manager_1a91044f53af4185cf8bc3870bc2a3ea6a" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>ValidatedChainstate</name></member>
      <member refid="class_chainstate_manager_1a30c226700bb0b48363077aab63be6074" prot="public" virt="non-virtual"><scope>ChainstateManager</scope><name>~ChainstateManager</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
