<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="bitcoinkernel_8cpp" kind="file" language="C++">
    <compoundname>bitcoinkernel.cpp</compoundname>
    <includes refid="bitcoinkernel_8h" local="no">kernel/bitcoinkernel.h</includes>
    <includes refid="kernel_2chain_8h" local="no">chain.h</includes>
    <includes local="no">coins.h</includes>
    <includes refid="amount_8h" local="no">consensus/amount.h</includes>
    <includes refid="consensus_2validation_8h" local="no">consensus/validation.h</includes>
    <includes refid="kernel_2caches_8h" local="no">kernel/caches.h</includes>
    <includes refid="kernel_2chainparams_8h" local="no">kernel/chainparams.h</includes>
    <includes refid="checks_8h" local="no">kernel/checks.h</includes>
    <includes refid="kernel_2context_8h" local="no">kernel/context.h</includes>
    <includes refid="cs__main_8h" local="no">kernel/cs_main.h</includes>
    <includes refid="notifications__interface_8h" local="no">kernel/notifications_interface.h</includes>
    <includes refid="warning_8h" local="no">kernel/warning.h</includes>
    <includes local="no">logging.h</includes>
    <includes refid="blockstorage_8h" local="no">node/blockstorage.h</includes>
    <includes refid="node_2chainstate_8h" local="no">node/chainstate.h</includes>
    <includes refid="primitives_2block_8h" local="no">primitives/block.h</includes>
    <includes refid="primitives_2transaction_8h" local="no">primitives/transaction.h</includes>
    <includes refid="interpreter_8h" local="no">script/interpreter.h</includes>
    <includes refid="script_2script_8h" local="no">script/script.h</includes>
    <includes refid="serialize_8h" local="no">serialize.h</includes>
    <includes refid="streams_8h" local="no">streams.h</includes>
    <includes refid="sync_8h" local="no">sync.h</includes>
    <includes refid="tinyformat_8h" local="no">tinyformat.h</includes>
    <includes refid="uint256_8h" local="no">uint256.h</includes>
    <includes refid="undo_8h" local="no">undo.h</includes>
    <includes refid="fs_8h" local="no">util/fs.h</includes>
    <includes refid="result_8h" local="no">util/result.h</includes>
    <includes refid="signalinterrupt_8h" local="no">util/signalinterrupt.h</includes>
    <includes refid="task__runner_8h" local="no">util/task_runner.h</includes>
    <includes refid="translation_8h" local="no">util/translation.h</includes>
    <includes local="no">validation.h</includes>
    <includes refid="validationinterface_8h" local="no">validationinterface.h</includes>
    <includes local="no">cassert</includes>
    <includes local="no">cstddef</includes>
    <includes local="no">cstring</includes>
    <includes local="no">exception</includes>
    <includes local="no">functional</includes>
    <includes local="no">list</includes>
    <includes local="no">memory</includes>
    <includes local="no">span</includes>
    <includes local="no">string</includes>
    <includes local="no">tuple</includes>
    <includes local="no">utility</includes>
    <includes local="no">vector</includes>
    <incdepgraph>
      <node id="6">
        <label>attributes.h</label>
        <link refid="attributes_8h"/>
      </node>
      <node id="123">
        <label>coins.h</label>
        <link refid="coins_8h"/>
        <childnode refid="124" relation="include">
        </childnode>
        <childnode refid="125" relation="include">
        </childnode>
        <childnode refid="126" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="128" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
      </node>
      <node id="51">
        <label>compat/assumptions.h</label>
        <link refid="compat_2assumptions_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
      </node>
      <node id="20">
        <label>compat/byteswap.h</label>
        <link refid="byteswap_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>compat/endian.h</label>
        <link refid="endian_8h"/>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="124">
        <label>compressor.h</label>
        <link refid="compressor_8h"/>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>consensus/amount.h</label>
        <link refid="amount_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>consensus/consensus.h</label>
        <link refid="consensus_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="66">
        <label>consensus/params.h</label>
        <link refid="params_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>consensus/validation.h</label>
        <link refid="consensus_2validation_8h"/>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
      </node>
      <node id="125">
        <label>core_memusage.h</label>
        <link refid="core__memusage_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="126" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>crypto/common.h</label>
        <link refid="crypto_2common_8h"/>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="31">
        <label>crypto/hex_base.h</label>
        <link refid="hex__base_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="95">
        <label>crypto/siphash.h</label>
        <link refid="siphash_8h"/>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="92">
        <label>dbwrapper.h</label>
        <link refid="dbwrapper_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="111" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="112">
        <label>flatfile.h</label>
        <link refid="flatfile_8h"/>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
      </node>
      <node id="127">
        <label>indirectmap.h</label>
        <link refid="indirectmap_8h"/>
        <childnode refid="53" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>src/kernel/bitcoinkernel.cpp</label>
        <link refid="bitcoinkernel_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="122" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
        <childnode refid="132" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="133" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="111" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>kernel/bitcoinkernel.h</label>
        <link refid="bitcoinkernel_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="113">
        <label>kernel/blockmanager_opts.h</label>
        <link refid="blockmanager__opts_8h"/>
        <childnode refid="92" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="61">
        <label>kernel/caches.h</label>
        <link refid="kernel_2caches_8h"/>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>chain.h</label>
        <link refid="kernel_2chain_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="65">
        <label>kernel/chainparams.h</label>
        <link refid="kernel_2chainparams_8h"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="75">
        <label>kernel/checks.h</label>
        <link refid="checks_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
      </node>
      <node id="79">
        <label>kernel/context.h</label>
        <link refid="kernel_2context_8h"/>
      </node>
      <node id="80">
        <label>kernel/cs_main.h</label>
        <link refid="cs__main_8h"/>
        <childnode refid="81" relation="include">
        </childnode>
      </node>
      <node id="69">
        <label>kernel/messagestartchars.h</label>
        <link refid="messagestartchars_8h"/>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="87">
        <label>kernel/notifications_interface.h</label>
        <link refid="notifications__interface_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="88">
        <label>kernel/warning.h</label>
        <link refid="warning_8h"/>
      </node>
      <node id="94">
        <label>logging.h</label>
        <link refid="logging_8h"/>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="106" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="126">
        <label>memusage.h</label>
        <link refid="memusage_8h"/>
        <childnode refid="127" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="128" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="106" relation="include">
        </childnode>
      </node>
      <node id="90">
        <label>node/blockstorage.h</label>
        <link refid="blockstorage_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
        <childnode refid="92" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="117">
        <label>node/chainstate.h</label>
        <link refid="node_2chainstate_8h"/>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
      </node>
      <node id="48">
        <label>prevector.h</label>
        <link refid="prevector_8h"/>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="59">
        <label>primitives/block.h</label>
        <link refid="primitives_2block_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
      </node>
      <node id="15">
        <label>primitives/transaction.h</label>
        <link refid="primitives_2transaction_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="16">
        <label>primitives/transaction_identifier.h</label>
        <link refid="transaction__identifier_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="119">
        <label>script/interpreter.h</label>
        <link refid="interpreter_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="121" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="47">
        <label>script/script.h</label>
        <link refid="script_2script_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="121">
        <label>script/script_error.h</label>
        <link refid="script__error_8h"/>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="67">
        <label>script/verify_flags.h</label>
        <link refid="verify__flags_8h"/>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="50">
        <label>serialize.h</label>
        <link refid="serialize_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="25">
        <label>span.h</label>
        <link refid="span_8h"/>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="93">
        <label>streams.h</label>
        <link refid="streams_8h"/>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="100" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="128">
        <label>support/allocators/pool.h</label>
        <link refid="pool_8h"/>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="129" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
      </node>
      <node id="107">
        <label>support/allocators/zeroafterfree.h</label>
        <link refid="zeroafterfree_8h"/>
        <childnode refid="108" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="108">
        <label>support/cleanse.h</label>
        <link refid="cleanse_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="81">
        <label>sync.h</label>
        <link refid="sync_8h"/>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
      </node>
      <node id="82">
        <label>threadsafety.h</label>
        <link refid="threadsafety_8h"/>
        <childnode refid="83" relation="include">
        </childnode>
      </node>
      <node id="78">
        <label>tinyformat.h</label>
        <link refid="tinyformat_8h"/>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="17">
        <label>uint256.h</label>
        <link refid="uint256_8h"/>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="122">
        <label>undo.h</label>
        <link refid="undo_8h"/>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="124" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
      </node>
      <node id="62">
        <label>util/byte_units.h</label>
        <link refid="byte__units_8h"/>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
      </node>
      <node id="70">
        <label>util/chaintype.h</label>
        <link refid="chaintype_8h"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="96">
        <label>util/check.h</label>
        <link refid="check_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="114">
        <label>util/expected.h</label>
        <link refid="expected_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="99">
        <label>util/fs.h</label>
        <link refid="fs_8h"/>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="100" relation="include">
        </childnode>
        <childnode refid="101" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="56">
        <label>util/hash_type.h</label>
        <link refid="hash__type_8h"/>
      </node>
      <node id="115">
        <label>util/hasher.h</label>
        <link refid="hasher_8h"/>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="84">
        <label>util/macros.h</label>
        <link refid="macros_8h"/>
      </node>
      <node id="109">
        <label>util/obfuscation.h</label>
        <link refid="obfuscation_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
      </node>
      <node id="63">
        <label>util/overflow.h</label>
        <link refid="overflow_8h"/>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="76">
        <label>util/result.h</label>
        <link refid="result_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="130">
        <label>util/signalinterrupt.h</label>
        <link refid="signalinterrupt_8h"/>
        <childnode refid="131" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="30">
        <label>util/strencodings.h</label>
        <link refid="strencodings_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="32">
        <label>util/string.h</label>
        <link refid="string_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="110">
        <label>util/syserror.h</label>
        <link refid="syserror_8h"/>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="132">
        <label>util/task_runner.h</label>
        <link refid="task__runner_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
      </node>
      <node id="104">
        <label>util/time.h</label>
        <link refid="util_2time_8h"/>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="131">
        <label>util/tokenpipe.h</label>
        <link refid="tokenpipe_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
      <node id="77">
        <label>util/translation.h</label>
        <link refid="translation_8h"/>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="43">
        <label>util/types.h</label>
        <link refid="util_2types_8h"/>
      </node>
      <node id="71">
        <label>util/vector.h</label>
        <link refid="vector_8h"/>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="133">
        <label>validationinterface.h</label>
        <link refid="validationinterface_8h"/>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="42">
        <label>algorithm</label>
      </node>
      <node id="33">
        <label>array</label>
      </node>
      <node id="97">
        <label>atomic</label>
      </node>
      <node id="21">
        <label>bit</label>
      </node>
      <node id="26">
        <label>cassert</label>
      </node>
      <node id="91">
        <label>chain.h</label>
      </node>
      <node id="38">
        <label>charconv</label>
      </node>
      <node id="68">
        <label>chrono</label>
      </node>
      <node id="64">
        <label>climits</label>
      </node>
      <node id="8">
        <label>coins.h</label>
      </node>
      <node id="44">
        <label>compare</label>
      </node>
      <node id="22">
        <label>concepts</label>
      </node>
      <node id="85">
        <label>condition_variable</label>
      </node>
      <node id="23">
        <label>cstddef</label>
      </node>
      <node id="10">
        <label>cstdint</label>
      </node>
      <node id="100">
        <label>cstdio</label>
      </node>
      <node id="14">
        <label>cstdlib</label>
      </node>
      <node id="24">
        <label>cstring</label>
      </node>
      <node id="111">
        <label>exception</label>
      </node>
      <node id="101">
        <label>filesystem</label>
      </node>
      <node id="72">
        <label>functional</label>
      </node>
      <node id="120">
        <label>hash.h</label>
      </node>
      <node id="73">
        <label>initializer_list</label>
      </node>
      <node id="102">
        <label>iomanip</label>
      </node>
      <node id="52">
        <label>ios</label>
      </node>
      <node id="116">
        <label>iosfwd</label>
      </node>
      <node id="7">
        <label>iostream</label>
      </node>
      <node id="49">
        <label>iterator</label>
      </node>
      <node id="39">
        <label>limits</label>
      </node>
      <node id="105">
        <label>list</label>
      </node>
      <node id="34">
        <label>locale</label>
      </node>
      <node id="89">
        <label>logging.h</label>
      </node>
      <node id="53">
        <label>map</label>
      </node>
      <node id="54">
        <label>memory</label>
      </node>
      <node id="83">
        <label>mutex</label>
      </node>
      <node id="129">
        <label>new</label>
      </node>
      <node id="58">
        <label>numeric</label>
      </node>
      <node id="40">
        <label>optional</label>
      </node>
      <node id="103">
        <label>ostream</label>
      </node>
      <node id="55">
        <label>set</label>
      </node>
      <node id="98">
        <label>source_location</label>
      </node>
      <node id="27">
        <label>span</label>
      </node>
      <node id="35">
        <label>sstream</label>
      </node>
      <node id="3">
        <label>stddef.h</label>
      </node>
      <node id="57">
        <label>stdexcept</label>
      </node>
      <node id="4">
        <label>stdint.h</label>
      </node>
      <node id="12">
        <label>string</label>
      </node>
      <node id="36">
        <label>string_view</label>
      </node>
      <node id="41">
        <label>system_error</label>
      </node>
      <node id="86">
        <label>thread</label>
      </node>
      <node id="45">
        <label>tuple</label>
      </node>
      <node id="28">
        <label>type_traits</label>
      </node>
      <node id="74">
        <label>unordered_map</label>
      </node>
      <node id="106">
        <label>unordered_set</label>
      </node>
      <node id="60">
        <label>util/time.h</label>
      </node>
      <node id="29">
        <label>utility</label>
      </node>
      <node id="118">
        <label>validation.h</label>
      </node>
      <node id="46">
        <label>variant</label>
      </node>
      <node id="37">
        <label>vector</label>
      </node>
    </incdepgraph>
    <innerclass refid="structbtck___block_tree_entry" prot="public">btck_BlockTreeEntry</innerclass>
    <innerclass refid="structbtck___block" prot="public">btck_Block</innerclass>
    <innerclass refid="structbtck___block_validation_state" prot="public">btck_BlockValidationState</innerclass>
    <innerclass refid="structbtck___transaction" prot="public">btck_Transaction</innerclass>
    <innerclass refid="structbtck___transaction_output" prot="public">btck_TransactionOutput</innerclass>
    <innerclass refid="structbtck___script_pubkey" prot="public">btck_ScriptPubkey</innerclass>
    <innerclass refid="structbtck___logging_connection" prot="public">btck_LoggingConnection</innerclass>
    <innerclass refid="structbtck___context_options" prot="public">btck_ContextOptions</innerclass>
    <innerclass refid="structbtck___context" prot="public">btck_Context</innerclass>
    <innerclass refid="structbtck___chain_parameters" prot="public">btck_ChainParameters</innerclass>
    <innerclass refid="structbtck___chainstate_manager_options" prot="public">btck_ChainstateManagerOptions</innerclass>
    <innerclass refid="structbtck___chainstate_manager" prot="public">btck_ChainstateManager</innerclass>
    <innerclass refid="structbtck___chain" prot="public">btck_Chain</innerclass>
    <innerclass refid="structbtck___block_spent_outputs" prot="public">btck_BlockSpentOutputs</innerclass>
    <innerclass refid="structbtck___transaction_spent_outputs" prot="public">btck_TransactionSpentOutputs</innerclass>
    <innerclass refid="structbtck___coin" prot="public">btck_Coin</innerclass>
    <innerclass refid="structbtck___block_hash" prot="public">btck_BlockHash</innerclass>
    <innerclass refid="structbtck___transaction_input" prot="public">btck_TransactionInput</innerclass>
    <innerclass refid="structbtck___transaction_out_point" prot="public">btck_TransactionOutPoint</innerclass>
    <innerclass refid="structbtck___txid" prot="public">btck_Txid</innerclass>
    <innerclass refid="class_immediate_task_runner" prot="public">ImmediateTaskRunner</innerclass>
    <sectiondef kind="define">
      <memberdef kind="define" id="bitcoinkernel_8cpp_1a44b79d932871ed8fcc2c33bd9dfac372" prot="public" static="no">
        <name>BITCOINKERNEL_BUILD</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="5" column="9" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="5" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="var">
      <memberdef kind="variable" id="bitcoinkernel_8cpp_1a659d6c65d03695a999e4eb59382b3222" prot="public" static="no" extern="yes" mutable="no">
        <type>const std::function&lt; std::string(const char *)&gt;</type>
        <definition>const std::function&lt;std::string(const char*)&gt; G_TRANSLATION_FUN</definition>
        <argsstring></argsstring>
        <name>G_TRANSLATION_FUN</name>
        <initializer>{nullptr}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="59" column="28" bodyfile="src/bitcoin-cli.cpp" bodystart="53" bodyend="53" declfile="src/kernel/bitcoinkernel.cpp" declline="59" declcolumn="28"/>
      </memberdef>
      <memberdef kind="variable" id="bitcoinkernel_8cpp_1a3a8758ca9e92c4952684e6e50ae5f40f" prot="public" static="yes" mutable="no">
        <type>const <ref refid="structkernel_1_1_context" kindref="compound">kernel::Context</ref></type>
        <definition>const kernel::Context btck_context_static</definition>
        <argsstring></argsstring>
        <name>btck_context_static</name>
        <initializer>{}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="61" column="30" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="61" bodyend="61"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ae02dfbd6affb0c97aa8f8324a00de1b0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
        <definition>btck_Transaction * btck_transaction_create</definition>
        <argsstring>(const void *raw_transaction, size_t raw_transaction_len)</argsstring>
        <name>btck_transaction_create</name>
        <param>
          <type>const void *</type>
          <declname>raw_transaction</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>raw_transaction_len</declname>
        </param>
        <briefdescription>
<para>Create a new transaction from the serialized data. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">raw_transaction</parametername>
</parameternamelist>
<parameterdescription>
<para>Serialized transaction. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">raw_transaction_len</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of the serialized transaction. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The transaction, or null on error. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="499" column="18" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="499" bodyend="510"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a2657faff8f244232667e3355dc62d27f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t btck_transaction_count_outputs</definition>
        <argsstring>(const btck_Transaction *transaction)</argsstring>
        <name>btck_transaction_count_outputs</name>
        <param>
          <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>transaction</declname>
        </param>
        <briefdescription>
<para>Get the number of outputs of a transaction. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The number of outputs. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="512" column="8" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="512" bodyend="515"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a821bc08b16eb64b8c8b3863bdfa645a2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> *</type>
        <definition>const btck_TransactionOutput * btck_transaction_get_output_at</definition>
        <argsstring>(const btck_Transaction *transaction, size_t output_index)</argsstring>
        <name>btck_transaction_get_output_at</name>
        <param>
          <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>transaction</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>output_index</declname>
        </param>
        <briefdescription>
<para>Get the transaction outputs at the provided index. The returned transaction output is not owned and depends on the lifetime of the transaction. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">output_index</parametername>
</parameternamelist>
<parameterdescription>
<para>The index of the transaction output to be retrieved. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The transaction output </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="517" column="30" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="517" bodyend="522"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ad3dcf919541ad0823246f6e85224a35f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t btck_transaction_count_inputs</definition>
        <argsstring>(const btck_Transaction *transaction)</argsstring>
        <name>btck_transaction_count_inputs</name>
        <param>
          <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>transaction</declname>
        </param>
        <briefdescription>
<para>Get the number of inputs of a transaction. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The number of inputs. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="524" column="8" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="524" bodyend="527"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a0e173760553cc5740fe5875a04c70e37" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref> *</type>
        <definition>const btck_TransactionInput * btck_transaction_get_input_at</definition>
        <argsstring>(const btck_Transaction *transaction, size_t input_index)</argsstring>
        <name>btck_transaction_get_input_at</name>
        <param>
          <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>transaction</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>input_index</declname>
        </param>
        <briefdescription>
<para>Get the transaction input at the provided index. The returned transaction input is not owned and depends on the lifetime of the transaction. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">input_index</parametername>
</parameternamelist>
<parameterdescription>
<para>The index of the transaction input to be retrieved. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The transaction input </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="529" column="29" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="529" bodyend="533"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ab394ef17b6074a295865cd4a6784d19f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___txid" kindref="compound">btck_Txid</ref> *</type>
        <definition>const btck_Txid * btck_transaction_get_txid</definition>
        <argsstring>(const btck_Transaction *transaction)</argsstring>
        <name>btck_transaction_get_txid</name>
        <param>
          <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>transaction</declname>
        </param>
        <briefdescription>
<para>Get the txid of a transaction. The returned txid is not owned and depends on the lifetime of the transaction. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The txid. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="535" column="17" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="535" bodyend="538"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ae7a659442a1c839e72c2915bdb326f6b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
        <definition>btck_Transaction * btck_transaction_copy</definition>
        <argsstring>(const btck_Transaction *transaction)</argsstring>
        <name>btck_transaction_copy</name>
        <param>
          <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>transaction</declname>
        </param>
        <briefdescription>
<para>Copy a transaction. Transactions are reference counted, so this just increments the reference count. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied transaction. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="540" column="18" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="540" bodyend="543"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ae732eb94fd20656427ece53d97088884" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_transaction_to_bytes</definition>
        <argsstring>(const btck_Transaction *transaction, btck_WriteBytes writer, void *user_data)</argsstring>
        <name>btck_transaction_to_bytes</name>
        <param>
          <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>transaction</declname>
        </param>
        <param>
          <type><ref refid="bitcoinkernel_8h_1a220931a33212ceb13141dc5a06e077f7" kindref="member">btck_WriteBytes</ref></type>
          <declname>writer</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>user_data</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="545" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="545" bodyend="554"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a1480e64578f2a4fc90b6079bc755de83" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_transaction_destroy</definition>
        <argsstring>(btck_Transaction *transaction)</argsstring>
        <name>btck_transaction_destroy</name>
        <param>
          <type><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>transaction</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the transaction. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="556" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="556" bodyend="559"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a2f2197674fd477e7c2584f1f84f0a2c8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref> *</type>
        <definition>btck_ScriptPubkey * btck_script_pubkey_create</definition>
        <argsstring>(const void *script_pubkey, size_t script_pubkey_len)</argsstring>
        <name>btck_script_pubkey_create</name>
        <param>
          <type>const void *</type>
          <declname>script_pubkey</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>script_pubkey_len</declname>
        </param>
        <briefdescription>
<para>Create a script pubkey from serialized data. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">script_pubkey</parametername>
</parameternamelist>
<parameterdescription>
<para>Serialized script pubkey. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">script_pubkey_len</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of the script pubkey data. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The script pubkey. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="561" column="19" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="561" bodyend="568"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a058f864618cb58a81cfab70595f0a6e8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_script_pubkey_to_bytes</definition>
        <argsstring>(const btck_ScriptPubkey *script_pubkey_, btck_WriteBytes writer, void *user_data)</argsstring>
        <name>btck_script_pubkey_to_bytes</name>
        <param>
          <type>const <ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref> *</type>
          <declname>script_pubkey_</declname>
        </param>
        <param>
          <type><ref refid="bitcoinkernel_8h_1a220931a33212ceb13141dc5a06e077f7" kindref="member">btck_WriteBytes</ref></type>
          <declname>writer</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>user_data</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="570" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="570" bodyend="574"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a00a59eaec28813caa1b63488af995f01" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref> *</type>
        <definition>btck_ScriptPubkey * btck_script_pubkey_copy</definition>
        <argsstring>(const btck_ScriptPubkey *script_pubkey)</argsstring>
        <name>btck_script_pubkey_copy</name>
        <param>
          <type>const <ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref> *</type>
          <declname>script_pubkey</declname>
        </param>
        <briefdescription>
<para>Copy a script pubkey. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">script_pubkey</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied script pubkey. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="576" column="19" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="576" bodyend="579"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a088ae07775f3030e300bedf5de55e5e6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_script_pubkey_destroy</definition>
        <argsstring>(btck_ScriptPubkey *script_pubkey)</argsstring>
        <name>btck_script_pubkey_destroy</name>
        <param>
          <type><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref> *</type>
          <declname>script_pubkey</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the script pubkey. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="581" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="581" bodyend="584"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ae752113b8b4c80a09fa21efcb1103eda" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> *</type>
        <definition>btck_TransactionOutput * btck_transaction_output_create</definition>
        <argsstring>(const btck_ScriptPubkey *script_pubkey, int64_t amount)</argsstring>
        <name>btck_transaction_output_create</name>
        <param>
          <type>const <ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref> *</type>
          <declname>script_pubkey</declname>
        </param>
        <param>
          <type>int64_t</type>
          <declname>amount</declname>
        </param>
        <briefdescription>
<para>Create a transaction output from a script pubkey and an amount. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">script_pubkey</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">amount</parametername>
</parameternamelist>
<parameterdescription>
<para>The amount associated with the script pubkey for this output. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The transaction output. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="586" column="24" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="586" bodyend="589"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1abf6a67be9f292d0efb3af33f6b6a1fb9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> *</type>
        <definition>btck_TransactionOutput * btck_transaction_output_copy</definition>
        <argsstring>(const btck_TransactionOutput *output)</argsstring>
        <name>btck_transaction_output_copy</name>
        <param>
          <type>const <ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> *</type>
          <declname>transaction_output</declname>
          <defname>output</defname>
        </param>
        <briefdescription>
<para>Copy a transaction output. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_output</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied transaction output. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="591" column="24" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="591" bodyend="594"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1acb8339d0b108a31a81878cd81d9abea8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref> *</type>
        <definition>const btck_ScriptPubkey * btck_transaction_output_get_script_pubkey</definition>
        <argsstring>(const btck_TransactionOutput *output)</argsstring>
        <name>btck_transaction_output_get_script_pubkey</name>
        <param>
          <type>const <ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> *</type>
          <declname>transaction_output</declname>
          <defname>output</defname>
        </param>
        <briefdescription>
<para>Get the script pubkey of the output. The returned script pubkey is not owned and depends on the lifetime of the transaction output. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_output</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The script pubkey. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="596" column="25" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="596" bodyend="599"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a18666bdcfb7fde11464a0a95c4cff9f3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int64_t</type>
        <definition>int64_t btck_transaction_output_get_amount</definition>
        <argsstring>(const btck_TransactionOutput *output)</argsstring>
        <name>btck_transaction_output_get_amount</name>
        <param>
          <type>const <ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> *</type>
          <declname>transaction_output</declname>
          <defname>output</defname>
        </param>
        <briefdescription>
<para>Get the amount in the output. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_output</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The amount. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="601" column="9" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="601" bodyend="604"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1af13648a7061ed4c6f9e93e15dc1079cc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_transaction_output_destroy</definition>
        <argsstring>(btck_TransactionOutput *output)</argsstring>
        <name>btck_transaction_output_destroy</name>
        <param>
          <type><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> *</type>
          <declname>transaction_output</declname>
          <defname>output</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the transaction output. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="606" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="606" bodyend="609"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a7c4141fd61a8543642bb3c4834bffba1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_script_pubkey_verify</definition>
        <argsstring>(const btck_ScriptPubkey *script_pubkey, const int64_t amount, const btck_Transaction *tx_to, const btck_TransactionOutput **spent_outputs_, size_t spent_outputs_len, const unsigned int input_index, const btck_ScriptVerificationFlags flags, btck_ScriptVerifyStatus *status)</argsstring>
        <name>btck_script_pubkey_verify</name>
        <param>
          <type>const <ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref> *</type>
          <declname>script_pubkey</declname>
        </param>
        <param>
          <type>const int64_t</type>
          <declname>amount</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
          <declname>tx_to</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> **</type>
          <declname>spent_outputs_</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>spent_outputs_len</declname>
        </param>
        <param>
          <type>const unsigned int</type>
          <declname>input_index</declname>
        </param>
        <param>
          <type>const <ref refid="bitcoinkernel_8h_1a75ce59fcb179c710b67bd593d6e2f610" kindref="member">btck_ScriptVerificationFlags</ref></type>
          <declname>flags</declname>
        </param>
        <param>
          <type><ref refid="bitcoinkernel_8h_1aa8781d799756bee4a650b32c346abf40" kindref="member">btck_ScriptVerifyStatus</ref> *</type>
          <declname>status</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="611" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="611" bodyend="659"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ab999c9482f5e0ea06a2429b5856094fb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref> *</type>
        <definition>btck_TransactionInput * btck_transaction_input_copy</definition>
        <argsstring>(const btck_TransactionInput *input)</argsstring>
        <name>btck_transaction_input_copy</name>
        <param>
          <type>const <ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref> *</type>
          <declname>transaction_input</declname>
          <defname>input</defname>
        </param>
        <briefdescription>
<para>Copy a transaction input. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_input</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied transaction input. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="661" column="23" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="661" bodyend="664"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a6121219b6a104cfe9465a4394fb6297f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref> *</type>
        <definition>const btck_TransactionOutPoint * btck_transaction_input_get_out_point</definition>
        <argsstring>(const btck_TransactionInput *input)</argsstring>
        <name>btck_transaction_input_get_out_point</name>
        <param>
          <type>const <ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref> *</type>
          <declname>transaction_input</declname>
          <defname>input</defname>
        </param>
        <briefdescription>
<para>Get the transaction out point. The returned transaction out point is not owned and depends on the lifetime of the transaction. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_input</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The transaction out point. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="666" column="32" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="666" bodyend="669"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a812b6946699226f35e85df38b457e4be" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_transaction_input_destroy</definition>
        <argsstring>(btck_TransactionInput *input)</argsstring>
        <name>btck_transaction_input_destroy</name>
        <param>
          <type><ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref> *</type>
          <declname>transaction_input</declname>
          <defname>input</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the transaction input. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="671" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="671" bodyend="674"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ab5f57ad171c6853e018506cf1ba51285" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref> *</type>
        <definition>btck_TransactionOutPoint * btck_transaction_out_point_copy</definition>
        <argsstring>(const btck_TransactionOutPoint *out_point)</argsstring>
        <name>btck_transaction_out_point_copy</name>
        <param>
          <type>const <ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref> *</type>
          <declname>transaction_out_point</declname>
          <defname>out_point</defname>
        </param>
        <briefdescription>
<para>Copy a transaction out point. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_out_point</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied transaction out point. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="676" column="26" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="676" bodyend="679"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ab0b883980267313c644b7f1bcdb10912" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t btck_transaction_out_point_get_index</definition>
        <argsstring>(const btck_TransactionOutPoint *out_point)</argsstring>
        <name>btck_transaction_out_point_get_index</name>
        <param>
          <type>const <ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref> *</type>
          <declname>transaction_out_point</declname>
          <defname>out_point</defname>
        </param>
        <briefdescription>
<para>Get the output position from the transaction out point. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_out_point</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The output index. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="681" column="10" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="681" bodyend="684"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a1dbe75b6bc1e8b35a210fe4aa0a01c2a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___txid" kindref="compound">btck_Txid</ref> *</type>
        <definition>const btck_Txid * btck_transaction_out_point_get_txid</definition>
        <argsstring>(const btck_TransactionOutPoint *out_point)</argsstring>
        <name>btck_transaction_out_point_get_txid</name>
        <param>
          <type>const <ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref> *</type>
          <declname>transaction_out_point</declname>
          <defname>out_point</defname>
        </param>
        <briefdescription>
<para>Get the txid from the transaction out point. The returned txid is not owned and depends on the lifetime of the transaction out point. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_out_point</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The txid. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="686" column="17" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="686" bodyend="689"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a7182b72a22c772fe5a606c7f8166f99d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_transaction_out_point_destroy</definition>
        <argsstring>(btck_TransactionOutPoint *out_point)</argsstring>
        <name>btck_transaction_out_point_destroy</name>
        <param>
          <type><ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref> *</type>
          <declname>transaction_out_point</declname>
          <defname>out_point</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the transaction out point. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="691" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="691" bodyend="694"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a6d2d62160c57f2b8e330487d5cfcaa3f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref> *</type>
        <definition>btck_Txid * btck_txid_copy</definition>
        <argsstring>(const btck_Txid *txid)</argsstring>
        <name>btck_txid_copy</name>
        <param>
          <type>const <ref refid="structbtck___txid" kindref="compound">btck_Txid</ref> *</type>
          <declname>txid</declname>
        </param>
        <briefdescription>
<para>Copy a txid. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">txid</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied txid. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="696" column="11" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="696" bodyend="699"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a7b3a8264a2d88ac1ab374b1acb0f7aea" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_txid_to_bytes</definition>
        <argsstring>(const btck_Txid *txid, unsigned char output[32])</argsstring>
        <name>btck_txid_to_bytes</name>
        <param>
          <type>const <ref refid="structbtck___txid" kindref="compound">btck_Txid</ref> *</type>
          <declname>txid</declname>
        </param>
        <param>
          <type>unsigned char</type>
          <declname>output</declname>
          <array>[32]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="701" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="701" bodyend="704"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ad7f71e05dfb8b743b392e93193ffb687" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_txid_equals</definition>
        <argsstring>(const btck_Txid *txid1, const btck_Txid *txid2)</argsstring>
        <name>btck_txid_equals</name>
        <param>
          <type>const <ref refid="structbtck___txid" kindref="compound">btck_Txid</ref> *</type>
          <declname>txid1</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___txid" kindref="compound">btck_Txid</ref> *</type>
          <declname>txid2</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="706" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="706" bodyend="709"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a0375ab6ce02d9b6234c53322b554fd72" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_txid_destroy</definition>
        <argsstring>(btck_Txid *txid)</argsstring>
        <name>btck_txid_destroy</name>
        <param>
          <type><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref> *</type>
          <declname>txid</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the txid. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="711" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="711" bodyend="714"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ae467c1a5977063c70a7e8633b71af5e2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_logging_set_options</definition>
        <argsstring>(const btck_LoggingOptions options)</argsstring>
        <name>btck_logging_set_options</name>
        <param>
          <type>const <ref refid="structbtck___logging_options" kindref="compound">btck_LoggingOptions</ref></type>
          <declname>options</declname>
        </param>
        <briefdescription>
<para>Set some options for the global internal logger. This changes global settings and will override settings for all existing <ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref> instances. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">options</parametername>
</parameternamelist>
<parameterdescription>
<para>Sets formatting options of the log messages. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="716" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="716" bodyend="724"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a86fb894fe2c1cabb8c380ef06a39b463" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_logging_set_level_category</definition>
        <argsstring>(btck_LogCategory category, btck_LogLevel level)</argsstring>
        <name>btck_logging_set_level_category</name>
        <param>
          <type><ref refid="bitcoinkernel_8h_1ab310c254a173c63cda5eaaffdc09e6e1" kindref="member">btck_LogCategory</ref></type>
          <declname>category</declname>
        </param>
        <param>
          <type><ref refid="bitcoinkernel_8h_1a09151a95ff6fbcd3b19330777ba5a5f7" kindref="member">btck_LogLevel</ref></type>
          <declname>level</declname>
        </param>
        <briefdescription>
<para>Set the log level of the global internal logger. This does not enable the selected categories. Use <ref refid="bitcoinkernel_8cpp_1a0e8e8d47f1548575aca310e532ffe15a" kindref="member">btck_logging_enable_category</ref> to start logging from a specific, or all categories. This changes a global setting and will override settings for all existing <ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref> instances. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">category</parametername>
</parameternamelist>
<parameterdescription>
<para>If btck_LogCategory_ALL is chosen, sets both the global fallback log level used by all categories that don&apos;t have a specific level set, and also sets the log level for messages logged with the btck_LogCategory_ALL category itself. For any other category, sets a category-specific log level that overrides the global fallback for that category only.</para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">level</parametername>
</parameternamelist>
<parameterdescription>
<para>Log level at which the log category is set. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="726" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="726" bodyend="734"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a0e8e8d47f1548575aca310e532ffe15a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_logging_enable_category</definition>
        <argsstring>(btck_LogCategory category)</argsstring>
        <name>btck_logging_enable_category</name>
        <param>
          <type><ref refid="bitcoinkernel_8h_1ab310c254a173c63cda5eaaffdc09e6e1" kindref="member">btck_LogCategory</ref></type>
          <declname>category</declname>
        </param>
        <briefdescription>
<para>Enable a specific log category for the global internal logger. This changes a global setting and will override settings for all existing <ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref> instances. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">category</parametername>
</parameternamelist>
<parameterdescription>
<para>If btck_LogCategory_ALL is chosen, all categories will be enabled. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="736" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="736" bodyend="739"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a202da381becbb509ea0f646496eeb4ed" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_logging_disable_category</definition>
        <argsstring>(btck_LogCategory category)</argsstring>
        <name>btck_logging_disable_category</name>
        <param>
          <type><ref refid="bitcoinkernel_8h_1ab310c254a173c63cda5eaaffdc09e6e1" kindref="member">btck_LogCategory</ref></type>
          <declname>category</declname>
        </param>
        <briefdescription>
<para>Disable a specific log category for the global internal logger. This changes a global setting and will override settings for all existing <ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref> instances. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">category</parametername>
</parameternamelist>
<parameterdescription>
<para>If btck_LogCategory_ALL is chosen, all categories will be disabled. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="741" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="741" bodyend="744"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a00ec09d7672ce1319831056aa980b24e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_logging_disable</definition>
        <argsstring>()</argsstring>
        <name>btck_logging_disable</name>
        <briefdescription>
<para>This disables the global internal logger. No log messages will be buffered internally anymore once this is called and the buffer is cleared. This function should only be called once and is not thread or re-entry safe. Log messages will be buffered until this function is called, or a logging connection is created. This must not be called while a logging connection already exists. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="746" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="746" bodyend="749"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a52608b2cbf28b6207987a06f5b5918e2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref> *</type>
        <definition>btck_LoggingConnection * btck_logging_connection_create</definition>
        <argsstring>(btck_LogCallback callback, void *user_data, btck_DestroyCallback user_data_destroy_callback)</argsstring>
        <name>btck_logging_connection_create</name>
        <param>
          <type><ref refid="bitcoinkernel_8h_1a43c365f9ab63ec7ee0a7c9bb1c365c93" kindref="member">btck_LogCallback</ref></type>
          <declname>log_callback</declname>
          <defname>callback</defname>
        </param>
        <param>
          <type>void *</type>
          <declname>user_data</declname>
        </param>
        <param>
          <type><ref refid="bitcoinkernel_8h_1a71093f0ace733acf6de97819f19e481d" kindref="member">btck_DestroyCallback</ref></type>
          <declname>user_data_destroy_callback</declname>
        </param>
        <briefdescription>
<para>Start logging messages through the provided callback. Log messages produced before this function is first called are buffered and on calling this function are logged immediately. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">log_callback</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, function through which messages will be logged. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">user_data</parametername>
</parameternamelist>
<parameterdescription>
<para>Nullable, holds a user-defined opaque structure. Is passed back to the user through the callback. If the user_data_destroy_callback is also defined it is assumed that ownership of the user_data is passed to the created logging connection. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">user_data_destroy_callback</parametername>
</parameternamelist>
<parameterdescription>
<para>Nullable, function for freeing the user data. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A new kernel logging connection, or null on error. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="751" column="24" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="751" bodyend="758"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ac059d598942c20bd0c91ebf6bdf6a093" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_logging_connection_destroy</definition>
        <argsstring>(btck_LoggingConnection *connection)</argsstring>
        <name>btck_logging_connection_destroy</name>
        <param>
          <type><ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref> *</type>
          <declname>logging_connection</declname>
          <defname>connection</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Stop logging and destroy the logging connection. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="760" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="760" bodyend="763"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a335edc0b5f4641c2f7865baf3a8d35a8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref> *</type>
        <definition>btck_ChainParameters * btck_chain_parameters_create</definition>
        <argsstring>(const btck_ChainType chain_type)</argsstring>
        <name>btck_chain_parameters_create</name>
        <param>
          <type>const <ref refid="bitcoinkernel_8h_1a3479c0b27dfc5ac23de91edf29554bce" kindref="member">btck_ChainType</ref></type>
          <declname>chain_type</declname>
        </param>
        <briefdescription>
<para>Creates a chain parameters struct with default parameters based on the passed in chain type. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chain_type</parametername>
</parameternamelist>
<parameterdescription>
<para>Controls the chain parameters type created. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>An allocated chain parameters opaque struct. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="765" column="22" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="765" bodyend="785"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a40a2a3e522ecd6696b524dfda4a393c8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref> *</type>
        <definition>btck_ChainParameters * btck_chain_parameters_copy</definition>
        <argsstring>(const btck_ChainParameters *chain_parameters)</argsstring>
        <name>btck_chain_parameters_copy</name>
        <param>
          <type>const <ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref> *</type>
          <declname>chain_parameters</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Copy the chain parameters. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="787" column="22" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="787" bodyend="790"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a233852b8d5d445200657eaebbfea048b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_chain_parameters_destroy</definition>
        <argsstring>(btck_ChainParameters *chain_parameters)</argsstring>
        <name>btck_chain_parameters_destroy</name>
        <param>
          <type><ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref> *</type>
          <declname>chain_parameters</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the chain parameters. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="792" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="792" bodyend="795"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a12d13d5129b239a9d7bd0d204df9c8a4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref> *</type>
        <definition>btck_ContextOptions * btck_context_options_create</definition>
        <argsstring>()</argsstring>
        <name>btck_context_options_create</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Creates an empty context options. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="797" column="21" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="797" bodyend="800"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a8cdd00798e68700887769c6e7d40b92f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_context_options_set_chainparams</definition>
        <argsstring>(btck_ContextOptions *options, const btck_ChainParameters *chain_parameters)</argsstring>
        <name>btck_context_options_set_chainparams</name>
        <param>
          <type><ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref> *</type>
          <declname>options</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref> *</type>
          <declname>chain_parameters</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="802" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="802" bodyend="807"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a1157262771b3dfe327c919423944fdbd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_context_options_set_notifications</definition>
        <argsstring>(btck_ContextOptions *options, btck_NotificationInterfaceCallbacks notifications)</argsstring>
        <name>btck_context_options_set_notifications</name>
        <param>
          <type><ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref> *</type>
          <declname>context_options</declname>
          <defname>options</defname>
        </param>
        <param>
          <type><ref refid="structbtck___notification_interface_callbacks" kindref="compound">btck_NotificationInterfaceCallbacks</ref></type>
          <declname>notifications</declname>
        </param>
        <briefdescription>
<para>Set the kernel notifications for the context options. The context created with the options will be configured with these notifications. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">context_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, previously created by <ref refid="bitcoinkernel_8cpp_1a12d13d5129b239a9d7bd0d204df9c8a4" kindref="member">btck_context_options_create</ref>. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">notifications</parametername>
</parameternamelist>
<parameterdescription>
<para>Is set to the context options. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="809" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="809" bodyend="814"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1aad67c9ef730ea226f211b23103e55eb1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_context_options_set_validation_interface</definition>
        <argsstring>(btck_ContextOptions *options, btck_ValidationInterfaceCallbacks vi_cbs)</argsstring>
        <name>btck_context_options_set_validation_interface</name>
        <param>
          <type><ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref> *</type>
          <declname>context_options</declname>
          <defname>options</defname>
        </param>
        <param>
          <type><ref refid="structbtck___validation_interface_callbacks" kindref="compound">btck_ValidationInterfaceCallbacks</ref></type>
          <declname>validation_interface_callbacks</declname>
          <defname>vi_cbs</defname>
        </param>
        <briefdescription>
<para>Set the validation interface callbacks for the context options. The context created with the options will be configured for these validation interface callbacks. The callbacks will then be triggered from validation events issued by the chainstate manager created from the same context. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">context_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, previously created with btck_context_options_create. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">validation_interface_callbacks</parametername>
</parameternamelist>
<parameterdescription>
<para>The callbacks used for passing validation information to the user. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="816" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="816" bodyend="820"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a4b42bba63ba67cbd58ad16cabdbe7e13" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_context_options_destroy</definition>
        <argsstring>(btck_ContextOptions *options)</argsstring>
        <name>btck_context_options_destroy</name>
        <param>
          <type><ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref> *</type>
          <declname>context_options</declname>
          <defname>options</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the context options. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="822" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="822" bodyend="825"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a6e29ce4fc1b644f8c00b278ef4371d69" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___context" kindref="compound">btck_Context</ref> *</type>
        <definition>btck_Context * btck_context_create</definition>
        <argsstring>(const btck_ContextOptions *options)</argsstring>
        <name>btck_context_create</name>
        <param>
          <type>const <ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref> *</type>
          <declname>context_options</declname>
          <defname>options</defname>
        </param>
        <briefdescription>
<para>Create a new kernel context. If the options have not been previously set, their corresponding fields will be initialized to default values; the context will assume mainnet chain parameters and won&apos;t attempt to call the kernel notification callbacks. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">context_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Nullable, created by <ref refid="bitcoinkernel_8cpp_1a12d13d5129b239a9d7bd0d204df9c8a4" kindref="member">btck_context_options_create</ref>. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The allocated context, or null on error. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="827" column="14" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="827" bodyend="837"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a319653257872e0971a86e7455e8ce823" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___context" kindref="compound">btck_Context</ref> *</type>
        <definition>btck_Context * btck_context_copy</definition>
        <argsstring>(const btck_Context *context)</argsstring>
        <name>btck_context_copy</name>
        <param>
          <type>const <ref refid="structbtck___context" kindref="compound">btck_Context</ref> *</type>
          <declname>context</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Copy the context. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="839" column="14" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="839" bodyend="842"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a7ef26a7445cabc09e59dd522502fb99d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_context_interrupt</definition>
        <argsstring>(btck_Context *context)</argsstring>
        <name>btck_context_interrupt</name>
        <param>
          <type><ref refid="structbtck___context" kindref="compound">btck_Context</ref> *</type>
          <declname>context</declname>
        </param>
        <briefdescription>
<para>Interrupt can be used to halt long-running validation functions like when reindexing, importing or processing blocks. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">context</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0 if the interrupt was successful, non-zero otherwise. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="844" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="844" bodyend="847"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a114797944ba1e31464bef03702fb7799" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_context_destroy</definition>
        <argsstring>(btck_Context *context)</argsstring>
        <name>btck_context_destroy</name>
        <param>
          <type><ref refid="structbtck___context" kindref="compound">btck_Context</ref> *</type>
          <declname>context</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the context. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="849" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="849" bodyend="852"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a22eeb03040c406296e9d34de640d60e2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
        <definition>const btck_BlockTreeEntry * btck_block_tree_entry_get_previous</definition>
        <argsstring>(const btck_BlockTreeEntry *entry)</argsstring>
        <name>btck_block_tree_entry_get_previous</name>
        <param>
          <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
          <declname>block_tree_entry</declname>
          <defname>entry</defname>
        </param>
        <briefdescription>
<para>Returns the previous block tree entry in the tree, or null if the current block tree entry is the genesis block. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block_tree_entry</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The previous block tree entry, or null on error or if the current block tree entry is the genesis block. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="854" column="27" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="854" bodyend="862"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a3828538f84e64a899d9cbe887980f9d7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bitcoinkernel_8h_1a4bc13ee068c06d10518692319d2ca456" kindref="member">btck_ValidationMode</ref></type>
        <definition>btck_ValidationMode btck_block_validation_state_get_validation_mode</definition>
        <argsstring>(const btck_BlockValidationState *block_validation_state_)</argsstring>
        <name>btck_block_validation_state_get_validation_mode</name>
        <param>
          <type>const <ref refid="structbtck___block_validation_state" kindref="compound">btck_BlockValidationState</ref> *</type>
          <declname>block_validation_state</declname>
          <defname>block_validation_state_</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Returns the validation mode from an opaque block validation state pointer. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="864" column="21" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="864" bodyend="870"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1aeffc799ea76d7bcf01512dbf2eced64c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="bitcoinkernel_8h_1a489ed5035df82be6fede6d75e818f7fc" kindref="member">btck_BlockValidationResult</ref></type>
        <definition>btck_BlockValidationResult btck_block_validation_state_get_block_validation_result</definition>
        <argsstring>(const btck_BlockValidationState *block_validation_state_)</argsstring>
        <name>btck_block_validation_state_get_block_validation_result</name>
        <param>
          <type>const <ref refid="structbtck___block_validation_state" kindref="compound">btck_BlockValidationState</ref> *</type>
          <declname>block_validation_state</declname>
          <defname>block_validation_state_</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Returns the validation result from an opaque block validation state pointer. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="872" column="28" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="872" bodyend="896"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1aed7732d975e5063e94dc5da7ad5c8e2d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref> *</type>
        <definition>btck_ChainstateManagerOptions * btck_chainstate_manager_options_create</definition>
        <argsstring>(const btck_Context *context, const char *data_dir, size_t data_dir_len, const char *blocks_dir, size_t blocks_dir_len)</argsstring>
        <name>btck_chainstate_manager_options_create</name>
        <param>
          <type>const <ref refid="structbtck___context" kindref="compound">btck_Context</ref> *</type>
          <declname>context</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>data_directory</declname>
          <defname>data_dir</defname>
        </param>
        <param>
          <type>size_t</type>
          <declname>data_directory_len</declname>
          <defname>data_dir_len</defname>
        </param>
        <param>
          <type>const char *</type>
          <declname>blocks_directory</declname>
          <defname>blocks_dir</defname>
        </param>
        <param>
          <type>size_t</type>
          <declname>blocks_directory_len</declname>
          <defname>blocks_dir_len</defname>
        </param>
        <briefdescription>
<para>Create options for the chainstate manager. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">context</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, the created options and through it the chainstate manager will associate with this kernel context for the duration of their lifetimes. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">data_directory</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, non-empty path string of the directory containing the chainstate data. If the directory does not exist yet, it will be created. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">blocks_directory</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, non-empty path string of the directory containing the block data. If the directory does not exist yet, it will be created. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The allocated chainstate manager options, or null on error. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="898" column="31" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="898" bodyend="914"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ae50c9f1e86aff3cd3809cf32c276762c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_chainstate_manager_options_set_worker_threads_num</definition>
        <argsstring>(btck_ChainstateManagerOptions *opts, int worker_threads)</argsstring>
        <name>btck_chainstate_manager_options_set_worker_threads_num</name>
        <param>
          <type><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref> *</type>
          <declname>chainstate_manager_options</declname>
          <defname>opts</defname>
        </param>
        <param>
          <type>int</type>
          <declname>worker_threads</declname>
        </param>
        <briefdescription>
<para>Set the number of available worker threads used during validation. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chainstate_manager_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, options to be set. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">worker_threads</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of worker threads that should be spawned in the thread pool used for validation. When set to 0 no parallel verification is done. The value range is clamped internally between 0 and 15. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="916" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="916" bodyend="920"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1adcb84351e43dab1b2b775dd92b3ccbe2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_chainstate_manager_options_destroy</definition>
        <argsstring>(btck_ChainstateManagerOptions *options)</argsstring>
        <name>btck_chainstate_manager_options_destroy</name>
        <param>
          <type><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref> *</type>
          <declname>chainstate_manager_options</declname>
          <defname>options</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the chainstate manager options. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="922" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="922" bodyend="925"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a7c9acdfdb6c687d0ad99d39fdd665733" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_chainstate_manager_options_set_wipe_dbs</definition>
        <argsstring>(btck_ChainstateManagerOptions *chainman_opts, int wipe_block_tree_db, int wipe_chainstate_db)</argsstring>
        <name>btck_chainstate_manager_options_set_wipe_dbs</name>
        <param>
          <type><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref> *</type>
          <declname>chainstate_manager_options</declname>
          <defname>chainman_opts</defname>
        </param>
        <param>
          <type>int</type>
          <declname>wipe_block_tree_db</declname>
        </param>
        <param>
          <type>int</type>
          <declname>wipe_chainstate_db</declname>
        </param>
        <briefdescription>
<para>Sets wipe db in the options. In combination with calling <ref refid="bitcoinkernel_8cpp_1a0cca58f061620dc6db1cd45c3f80275f" kindref="member">btck_chainstate_manager_import_blocks</ref> this triggers either a full reindex, or a reindex of just the chainstate database. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chainstate_manager_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, created by <ref refid="bitcoinkernel_8cpp_1aed7732d975e5063e94dc5da7ad5c8e2d" kindref="member">btck_chainstate_manager_options_create</ref>. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">wipe_block_tree_db</parametername>
</parameternamelist>
<parameterdescription>
<para>Set wipe block tree db. Should only be 1 if wipe_chainstate_db is 1 too. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">wipe_chainstate_db</parametername>
</parameternamelist>
<parameterdescription>
<para>Set wipe chainstate db. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0 if the set was successful, non-zero if the set failed. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="927" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="927" bodyend="938"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a3a38f969b42e4f6094fb95c0adefe7c7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_chainstate_manager_options_update_block_tree_db_in_memory</definition>
        <argsstring>(btck_ChainstateManagerOptions *chainman_opts, int block_tree_db_in_memory)</argsstring>
        <name>btck_chainstate_manager_options_update_block_tree_db_in_memory</name>
        <param>
          <type><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref> *</type>
          <declname>chainstate_manager_options</declname>
          <defname>chainman_opts</defname>
        </param>
        <param>
          <type>int</type>
          <declname>block_tree_db_in_memory</declname>
        </param>
        <briefdescription>
<para>Sets block tree db in memory in the options. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chainstate_manager_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, created by <ref refid="bitcoinkernel_8cpp_1aed7732d975e5063e94dc5da7ad5c8e2d" kindref="member">btck_chainstate_manager_options_create</ref>. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">block_tree_db_in_memory</parametername>
</parameternamelist>
<parameterdescription>
<para>Set block tree db in memory. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="940" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="940" bodyend="947"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a18713ab39e0a43180c1d4c88cd25552e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_chainstate_manager_options_update_chainstate_db_in_memory</definition>
        <argsstring>(btck_ChainstateManagerOptions *chainman_opts, int chainstate_db_in_memory)</argsstring>
        <name>btck_chainstate_manager_options_update_chainstate_db_in_memory</name>
        <param>
          <type><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref> *</type>
          <declname>chainstate_manager_options</declname>
          <defname>chainman_opts</defname>
        </param>
        <param>
          <type>int</type>
          <declname>chainstate_db_in_memory</declname>
        </param>
        <briefdescription>
<para>Sets chainstate db in memory in the options. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chainstate_manager_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, created by <ref refid="bitcoinkernel_8cpp_1aed7732d975e5063e94dc5da7ad5c8e2d" kindref="member">btck_chainstate_manager_options_create</ref>. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">chainstate_db_in_memory</parametername>
</parameternamelist>
<parameterdescription>
<para>Set chainstate db in memory. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="949" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="949" bodyend="956"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a64b0714aeb95c089b10b23c15f2f9172" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref> *</type>
        <definition>btck_ChainstateManager * btck_chainstate_manager_create</definition>
        <argsstring>(const btck_ChainstateManagerOptions *chainman_opts)</argsstring>
        <name>btck_chainstate_manager_create</name>
        <param>
          <type>const <ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref> *</type>
          <declname>chainstate_manager_options</declname>
          <defname>chainman_opts</defname>
        </param>
        <briefdescription>
<para>Create a chainstate manager. This is the main object for many validation tasks as well as for retrieving data from the chain and interacting with its chainstate and indexes. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chainstate_manager_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null, created by <ref refid="bitcoinkernel_8cpp_1aed7732d975e5063e94dc5da7ad5c8e2d" kindref="member">btck_chainstate_manager_options_create</ref>. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The allocated chainstate manager, or null on error. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="958" column="24" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="958" bodyend="995"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1aba1078358bafa199fd022c12e4a8028b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
        <definition>const btck_BlockTreeEntry * btck_chainstate_manager_get_block_tree_entry_by_hash</definition>
        <argsstring>(const btck_ChainstateManager *chainman, const btck_BlockHash *block_hash)</argsstring>
        <name>btck_chainstate_manager_get_block_tree_entry_by_hash</name>
        <param>
          <type>const <ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref> *</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
          <declname>block_hash</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="997" column="27" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="997" bodyend="1006"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1adc359db4a835a7aca8986f8ffe026a70" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_chainstate_manager_destroy</definition>
        <argsstring>(btck_ChainstateManager *chainman)</argsstring>
        <name>btck_chainstate_manager_destroy</name>
        <param>
          <type><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref> *</type>
          <declname>chainstate_manager</declname>
          <defname>chainman</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the chainstate manager. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1008" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1008" bodyend="1021"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a0cca58f061620dc6db1cd45c3f80275f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_chainstate_manager_import_blocks</definition>
        <argsstring>(btck_ChainstateManager *chainman, const char **block_file_paths_data, size_t *block_file_paths_lens, size_t block_file_paths_data_len)</argsstring>
        <name>btck_chainstate_manager_import_blocks</name>
        <param>
          <type><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref> *</type>
          <declname>chainstate_manager</declname>
          <defname>chainman</defname>
        </param>
        <param>
          <type>const char **</type>
          <declname>block_file_paths_data</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>block_file_paths_lens</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>block_file_paths_data_len</declname>
        </param>
        <briefdescription>
<para>Triggers the start of a reindex if the wipe options were previously set for the chainstate manager. Can also import an array of existing block files selected by the user. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chainstate_manager</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">block_file_paths_data</parametername>
</parameternamelist>
<parameterdescription>
<para>Nullable, array of block files described by their full filesystem paths. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">block_file_paths_lens</parametername>
</parameternamelist>
<parameterdescription>
<para>Nullable, array containing the lengths of each of the paths. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">block_file_paths_data_len</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of the block_file_paths_data and block_file_paths_len arrays. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0 if the import blocks call was completed successfully, non-zero otherwise. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1023" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1023" bodyend="1039"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a3a333df2328085e70f8d04ac3ef84398" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
        <definition>btck_Block * btck_block_create</definition>
        <argsstring>(const void *raw_block, size_t raw_block_length)</argsstring>
        <name>btck_block_create</name>
        <param>
          <type>const void *</type>
          <declname>raw_block</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>raw_block_len</declname>
          <defname>raw_block_length</defname>
        </param>
        <briefdescription>
<para>Parse a serialized raw block into a new block object. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">raw_block</parametername>
</parameternamelist>
<parameterdescription>
<para>Serialized block. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">raw_block_len</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of the serialized block. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The allocated block, or null on error. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1041" column="12" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1041" bodyend="1058"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ada16660a120ee4d0a56ddf53018d3de0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
        <definition>btck_Block * btck_block_copy</definition>
        <argsstring>(const btck_Block *block)</argsstring>
        <name>btck_block_copy</name>
        <param>
          <type>const <ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
          <declname>block</declname>
        </param>
        <briefdescription>
<para>Copy a block. Blocks are reference counted, so this just increments the reference count. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied block. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1060" column="12" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1060" bodyend="1063"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a48138019787f18d0a0e54fced0dd84eb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t btck_block_count_transactions</definition>
        <argsstring>(const btck_Block *block)</argsstring>
        <name>btck_block_count_transactions</name>
        <param>
          <type>const <ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
          <declname>block</declname>
        </param>
        <briefdescription>
<para>Count the number of transactions contained in a block. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The number of transactions in the block. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1065" column="8" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1065" bodyend="1068"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1aea90ba76177b9d7fa605a2cade882669" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref> *</type>
        <definition>const btck_Transaction * btck_block_get_transaction_at</definition>
        <argsstring>(const btck_Block *block, size_t index)</argsstring>
        <name>btck_block_get_transaction_at</name>
        <param>
          <type>const <ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
          <declname>block</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>transaction_index</declname>
          <defname>index</defname>
        </param>
        <briefdescription>
<para>Get the transaction at the provided index. The returned transaction is not owned and depends on the lifetime of the block. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">transaction_index</parametername>
</parameternamelist>
<parameterdescription>
<para>The index of the transaction to be retrieved. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The transaction. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1070" column="24" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1070" bodyend="1074"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a002c617470d4440c0cf5f1335a9033d2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_block_to_bytes</definition>
        <argsstring>(const btck_Block *block, btck_WriteBytes writer, void *user_data)</argsstring>
        <name>btck_block_to_bytes</name>
        <param>
          <type>const <ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
          <declname>block</declname>
        </param>
        <param>
          <type><ref refid="bitcoinkernel_8h_1a220931a33212ceb13141dc5a06e077f7" kindref="member">btck_WriteBytes</ref></type>
          <declname>writer</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>user_data</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1076" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1076" bodyend="1085"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a6a73754107d2f3890f6aee0d82654c13" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
        <definition>btck_BlockHash * btck_block_get_hash</definition>
        <argsstring>(const btck_Block *block)</argsstring>
        <name>btck_block_get_hash</name>
        <param>
          <type>const <ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
          <declname>block</declname>
        </param>
        <briefdescription>
<para>Calculate and return the hash of a block. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The block hash. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1087" column="16" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1087" bodyend="1090"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a2b6053ae8eb9c473361f67d14f8b15a5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_block_destroy</definition>
        <argsstring>(btck_Block *block)</argsstring>
        <name>btck_block_destroy</name>
        <param>
          <type><ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
          <declname>block</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the block. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1092" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1092" bodyend="1095"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ab2f23da0f5c9af0fad61de2c179ab3f0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
        <definition>btck_Block * btck_block_read</definition>
        <argsstring>(const btck_ChainstateManager *chainman, const btck_BlockTreeEntry *entry)</argsstring>
        <name>btck_block_read</name>
        <param>
          <type>const <ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref> *</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
          <declname>entry</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1097" column="12" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1097" bodyend="1105"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ac9fd995c66454789461c4cd600149999" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int32_t</type>
        <definition>int32_t btck_block_tree_entry_get_height</definition>
        <argsstring>(const btck_BlockTreeEntry *entry)</argsstring>
        <name>btck_block_tree_entry_get_height</name>
        <param>
          <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
          <declname>block_tree_entry</declname>
          <defname>entry</defname>
        </param>
        <briefdescription>
<para>Return the height of a certain block tree entry. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block_tree_entry</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The block height. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1107" column="9" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1107" bodyend="1110"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ae38d0888b0c1104b5e0f5c04e72ec5eb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
        <definition>const btck_BlockHash * btck_block_tree_entry_get_block_hash</definition>
        <argsstring>(const btck_BlockTreeEntry *entry)</argsstring>
        <name>btck_block_tree_entry_get_block_hash</name>
        <param>
          <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
          <declname>block_tree_entry</declname>
          <defname>entry</defname>
        </param>
        <briefdescription>
<para>Return the block hash associated with a block tree entry. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block_tree_entry</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The block hash. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1112" column="22" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1112" bodyend="1115"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a41c406a00ec6c38a26a2b01b502150ec" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_block_tree_entry_equals</definition>
        <argsstring>(const btck_BlockTreeEntry *entry1, const btck_BlockTreeEntry *entry2)</argsstring>
        <name>btck_block_tree_entry_equals</name>
        <param>
          <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
          <declname>entry1</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
          <declname>entry2</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1117" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1117" bodyend="1120"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1aa32423bb12e56bfcfa79f59fe1ff646f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
        <definition>btck_BlockHash * btck_block_hash_create</definition>
        <argsstring>(const unsigned char block_hash[32])</argsstring>
        <name>btck_block_hash_create</name>
        <param>
          <type>const unsigned char</type>
          <declname>block_hash</declname>
          <array>[32]</array>
        </param>
        <briefdescription>
<para>Create a block hash from its raw data. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1122" column="16" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1122" bodyend="1125"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a019df01a13b93fb06fb3d35fdf7fdf9a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
        <definition>btck_BlockHash * btck_block_hash_copy</definition>
        <argsstring>(const btck_BlockHash *block_hash)</argsstring>
        <name>btck_block_hash_copy</name>
        <param>
          <type>const <ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
          <declname>block_hash</declname>
        </param>
        <briefdescription>
<para>Copy a block hash. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block_hash</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied block hash. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1127" column="16" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1127" bodyend="1130"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1af0bc67b0ffac66ed3e897b8e06579706" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_block_hash_to_bytes</definition>
        <argsstring>(const btck_BlockHash *block_hash, unsigned char output[32])</argsstring>
        <name>btck_block_hash_to_bytes</name>
        <param>
          <type>const <ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
          <declname>block_hash</declname>
        </param>
        <param>
          <type>unsigned char</type>
          <declname>output</declname>
          <array>[32]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1132" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1132" bodyend="1135"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1abfa78ded897eedd6a2e5a9e6b74f0032" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_block_hash_equals</definition>
        <argsstring>(const btck_BlockHash *hash1, const btck_BlockHash *hash2)</argsstring>
        <name>btck_block_hash_equals</name>
        <param>
          <type>const <ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
          <declname>hash1</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
          <declname>hash2</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1137" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1137" bodyend="1140"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a7b9e0e7414932f03ab95ae0a0aa68cb3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_block_hash_destroy</definition>
        <argsstring>(btck_BlockHash *hash)</argsstring>
        <name>btck_block_hash_destroy</name>
        <param>
          <type><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref> *</type>
          <declname>block_hash</declname>
          <defname>hash</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the block hash. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1142" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1142" bodyend="1145"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a63300fab75067c297bc69e65d9e13cac" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref> *</type>
        <definition>btck_BlockSpentOutputs * btck_block_spent_outputs_read</definition>
        <argsstring>(const btck_ChainstateManager *chainman, const btck_BlockTreeEntry *entry)</argsstring>
        <name>btck_block_spent_outputs_read</name>
        <param>
          <type>const <ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref> *</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
          <declname>entry</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1147" column="24" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1147" bodyend="1159"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a5d73efd6beb555251ff413bb4968cd5a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref> *</type>
        <definition>btck_BlockSpentOutputs * btck_block_spent_outputs_copy</definition>
        <argsstring>(const btck_BlockSpentOutputs *block_spent_outputs)</argsstring>
        <name>btck_block_spent_outputs_copy</name>
        <param>
          <type>const <ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref> *</type>
          <declname>block_spent_outputs</declname>
        </param>
        <briefdescription>
<para>Copy a block&apos;s spent outputs. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block_spent_outputs</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied block spent outputs. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1161" column="24" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1161" bodyend="1164"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1abd876d68995bbe2243b011951784d83e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t btck_block_spent_outputs_count</definition>
        <argsstring>(const btck_BlockSpentOutputs *block_spent_outputs)</argsstring>
        <name>btck_block_spent_outputs_count</name>
        <param>
          <type>const <ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref> *</type>
          <declname>block_spent_outputs</declname>
        </param>
        <briefdescription>
<para>Returns the number of transaction spent outputs whose data is contained in block spent outputs. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block_spent_outputs</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The number of transaction spent outputs data in the block spent outputs. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1166" column="8" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1166" bodyend="1169"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a6e247410f137fb44d1cea050f5aa22b0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref> *</type>
        <definition>const btck_TransactionSpentOutputs * btck_block_spent_outputs_get_transaction_spent_outputs_at</definition>
        <argsstring>(const btck_BlockSpentOutputs *block_spent_outputs, size_t transaction_index)</argsstring>
        <name>btck_block_spent_outputs_get_transaction_spent_outputs_at</name>
        <param>
          <type>const <ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref> *</type>
          <declname>block_spent_outputs</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>transaction_spent_outputs_index</declname>
          <defname>transaction_index</defname>
        </param>
        <briefdescription>
<para>Returns a transaction spent outputs contained in the block spent outputs at a certain index. The returned pointer is unowned and only valid for the lifetime of block_spent_outputs. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block_spent_outputs</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">transaction_spent_outputs_index</parametername>
</parameternamelist>
<parameterdescription>
<para>The index of the transaction spent outputs within the block spent outputs. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A transaction spent outputs pointer. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1171" column="36" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1171" bodyend="1176"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1aca1dd28ecba0dbd50787984626d65391" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_block_spent_outputs_destroy</definition>
        <argsstring>(btck_BlockSpentOutputs *block_spent_outputs)</argsstring>
        <name>btck_block_spent_outputs_destroy</name>
        <param>
          <type><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref> *</type>
          <declname>block_spent_outputs</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the block spent outputs. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1178" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1178" bodyend="1181"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ac0fbd958dd48cbb38c7610123fecb799" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref> *</type>
        <definition>btck_TransactionSpentOutputs * btck_transaction_spent_outputs_copy</definition>
        <argsstring>(const btck_TransactionSpentOutputs *transaction_spent_outputs)</argsstring>
        <name>btck_transaction_spent_outputs_copy</name>
        <param>
          <type>const <ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref> *</type>
          <declname>transaction_spent_outputs</declname>
        </param>
        <briefdescription>
<para>Copy a transaction&apos;s spent outputs. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_spent_outputs</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied transaction spent outputs. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1183" column="30" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1183" bodyend="1186"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1afad243ce22767349634da09802b10259" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t btck_transaction_spent_outputs_count</definition>
        <argsstring>(const btck_TransactionSpentOutputs *transaction_spent_outputs)</argsstring>
        <name>btck_transaction_spent_outputs_count</name>
        <param>
          <type>const <ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref> *</type>
          <declname>transaction_spent_outputs</declname>
        </param>
        <briefdescription>
<para>Returns the number of previous transaction outputs contained in the transaction spent outputs data. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_spent_outputs</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The number of spent transaction outputs for the transaction. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1188" column="8" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1188" bodyend="1191"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a215fcf2ac21299b43672e69834701363" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_transaction_spent_outputs_destroy</definition>
        <argsstring>(btck_TransactionSpentOutputs *transaction_spent_outputs)</argsstring>
        <name>btck_transaction_spent_outputs_destroy</name>
        <param>
          <type><ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref> *</type>
          <declname>transaction_spent_outputs</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the transaction spent outputs. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1193" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1193" bodyend="1196"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a0dceaf7372ae6493a906ab120b543866" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___coin" kindref="compound">btck_Coin</ref> *</type>
        <definition>const btck_Coin * btck_transaction_spent_outputs_get_coin_at</definition>
        <argsstring>(const btck_TransactionSpentOutputs *transaction_spent_outputs, size_t coin_index)</argsstring>
        <name>btck_transaction_spent_outputs_get_coin_at</name>
        <param>
          <type>const <ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref> *</type>
          <declname>transaction_spent_outputs</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>coin_index</declname>
        </param>
        <briefdescription>
<para>Returns a coin contained in the transaction spent outputs at a certain index. The returned pointer is unowned and only valid for the lifetime of transaction_spent_outputs. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">transaction_spent_outputs</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">coin_index</parametername>
</parameternamelist>
<parameterdescription>
<para>The index of the to be retrieved coin within the transaction spent outputs. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A coin pointer. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1198" column="17" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1198" bodyend="1203"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ae2777f805a748d82a1708cb5bc2effa0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref> *</type>
        <definition>btck_Coin * btck_coin_copy</definition>
        <argsstring>(const btck_Coin *coin)</argsstring>
        <name>btck_coin_copy</name>
        <param>
          <type>const <ref refid="structbtck___coin" kindref="compound">btck_Coin</ref> *</type>
          <declname>coin</declname>
        </param>
        <briefdescription>
<para>Copy a coin. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">coin</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The copied coin. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1205" column="11" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1205" bodyend="1208"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a0ee6c394cbee80c89f37bef1eeceefc8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t btck_coin_confirmation_height</definition>
        <argsstring>(const btck_Coin *coin)</argsstring>
        <name>btck_coin_confirmation_height</name>
        <param>
          <type>const <ref refid="structbtck___coin" kindref="compound">btck_Coin</ref> *</type>
          <declname>coin</declname>
        </param>
        <briefdescription>
<para>Returns the block height where the transaction that created this coin was included in. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">coin</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The block height of the coin. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1210" column="10" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1210" bodyend="1213"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a753a9fb41d47ab0edb518cc7e4624827" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_coin_is_coinbase</definition>
        <argsstring>(const btck_Coin *coin)</argsstring>
        <name>btck_coin_is_coinbase</name>
        <param>
          <type>const <ref refid="structbtck___coin" kindref="compound">btck_Coin</ref> *</type>
          <declname>coin</declname>
        </param>
        <briefdescription>
<para>Returns whether the containing transaction was a coinbase. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">coin</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>1 if the coin is a coinbase coin, 0 otherwise. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1215" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1215" bodyend="1218"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a701e2699657f7d2866b611aa4c23db77" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref> *</type>
        <definition>const btck_TransactionOutput * btck_coin_get_output</definition>
        <argsstring>(const btck_Coin *coin)</argsstring>
        <name>btck_coin_get_output</name>
        <param>
          <type>const <ref refid="structbtck___coin" kindref="compound">btck_Coin</ref> *</type>
          <declname>coin</declname>
        </param>
        <briefdescription>
<para>Return the transaction output of a coin. The returned pointer is unowned and only valid for the lifetime of the coin. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">coin</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A transaction output pointer. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1220" column="30" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1220" bodyend="1223"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1a8a1fc1828b5f48df6a133fa96d0215dc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void btck_coin_destroy</definition>
        <argsstring>(btck_Coin *coin)</argsstring>
        <name>btck_coin_destroy</name>
        <param>
          <type><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref> *</type>
          <declname>coin</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Destroy the coin. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1225" column="6" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1225" bodyend="1228"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ad09658ae575faf11d6fe3367d00ff542" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_chainstate_manager_process_block</definition>
        <argsstring>(btck_ChainstateManager *chainman, const btck_Block *block, int *_new_block)</argsstring>
        <name>btck_chainstate_manager_process_block</name>
        <param>
          <type><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref> *</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___block" kindref="compound">btck_Block</ref> *</type>
          <declname>block</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>_new_block</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1230" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1230" bodyend="1241"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1aec17db21b9810f392aef1201fc431b81" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___chain" kindref="compound">btck_Chain</ref> *</type>
        <definition>const btck_Chain * btck_chainstate_manager_get_active_chain</definition>
        <argsstring>(const btck_ChainstateManager *chainman)</argsstring>
        <name>btck_chainstate_manager_get_active_chain</name>
        <param>
          <type>const <ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref> *</type>
          <declname>chainstate_manager</declname>
          <defname>chainman</defname>
        </param>
        <briefdescription>
<para>Returns the best known currently active chain. Its lifetime is dependent on the chainstate manager. It can be thought of as a view on a vector of block tree entries that form the best chain. The returned chain reference always points to the currently active best chain. However, state transitions within the chainstate manager (e.g., processing blocks) will update the chain&apos;s contents. Data retrieved from this chain is only consistent up to the point when new data is processed in the chainstate manager. It is the user&apos;s responsibility to guard against these inconsistencies. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chainstate_manager</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The chain. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1243" column="18" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1243" bodyend="1246"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ad4b4beb7ddf252d4708bc1047adcf076" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_chain_get_height</definition>
        <argsstring>(const btck_Chain *chain)</argsstring>
        <name>btck_chain_get_height</name>
        <param>
          <type>const <ref refid="structbtck___chain" kindref="compound">btck_Chain</ref> *</type>
          <declname>chain</declname>
        </param>
        <briefdescription>
<para>Return the height of the tip of the chain. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chain</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The current height. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1248" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1248" bodyend="1252"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1abefa509c5a6a398ba3be2878dc5b0f3b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
        <definition>const btck_BlockTreeEntry * btck_chain_get_by_height</definition>
        <argsstring>(const btck_Chain *chain, int height)</argsstring>
        <name>btck_chain_get_by_height</name>
        <param>
          <type>const <ref refid="structbtck___chain" kindref="compound">btck_Chain</ref> *</type>
          <declname>chain</declname>
        </param>
        <param>
          <type>int</type>
          <declname>block_height</declname>
          <defname>height</defname>
        </param>
        <briefdescription>
<para>Retrieve a block tree entry by its height in the currently active chain. Once retrieved there is no guarantee that it remains in the active chain. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">chain</parametername>
</parameternamelist>
<parameterdescription>
<para>Non-null. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">block_height</parametername>
</parameternamelist>
<parameterdescription>
<para>Height in the chain of the to be retrieved block tree entry. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The block tree entry at a certain height in the currently active chain, or null if the height is out of bounds. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1254" column="27" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1254" bodyend="1258"/>
      </memberdef>
      <memberdef kind="function" id="bitcoinkernel_8cpp_1ab9cd579cbded6eee5056841f68c43911" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int btck_chain_contains</definition>
        <argsstring>(const btck_Chain *chain, const btck_BlockTreeEntry *entry)</argsstring>
        <name>btck_chain_contains</name>
        <param>
          <type>const <ref refid="structbtck___chain" kindref="compound">btck_Chain</ref> *</type>
          <declname>chain</declname>
        </param>
        <param>
          <type>const <ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref> *</type>
          <declname>entry</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/kernel/bitcoinkernel.cpp" line="1260" column="5" bodyfile="src/kernel/bitcoinkernel.cpp" bodystart="1260" bodyend="1264"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2022-present<sp/>The<sp/>Bitcoin<sp/>Core<sp/>developers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Distributed<sp/>under<sp/>the<sp/>MIT<sp/>software<sp/>license,<sp/>see<sp/>the<sp/>accompanying</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>file<sp/>COPYING<sp/>or<sp/>http://www.opensource.org/licenses/mit-license.php.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BITCOINKERNEL_BUILD</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="bitcoinkernel_8h" kindref="compound">kernel/bitcoinkernel.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel_2chain_8h" kindref="compound">chain.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;coins.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="amount_8h" kindref="compound">consensus/amount.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="consensus_2validation_8h" kindref="compound">consensus/validation.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel_2caches_8h" kindref="compound">kernel/caches.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel_2chainparams_8h" kindref="compound">kernel/chainparams.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="checks_8h" kindref="compound">kernel/checks.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel_2context_8h" kindref="compound">kernel/context.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="cs__main_8h" kindref="compound">kernel/cs_main.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="notifications__interface_8h" kindref="compound">kernel/notifications_interface.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="warning_8h" kindref="compound">kernel/warning.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;logging.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="blockstorage_8h" kindref="compound">node/blockstorage.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="node_2chainstate_8h" kindref="compound">node/chainstate.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="primitives_2block_8h" kindref="compound">primitives/block.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="primitives_2transaction_8h" kindref="compound">primitives/transaction.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="interpreter_8h" kindref="compound">script/interpreter.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="script_2script_8h" kindref="compound">script/script.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="serialize_8h" kindref="compound">serialize.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="streams_8h" kindref="compound">streams.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="sync_8h" kindref="compound">sync.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="tinyformat_8h" kindref="compound">tinyformat.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="uint256_8h" kindref="compound">uint256.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="undo_8h" kindref="compound">undo.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="fs_8h" kindref="compound">util/fs.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="result_8h" kindref="compound">util/result.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="signalinterrupt_8h" kindref="compound">util/signalinterrupt.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="task__runner_8h" kindref="compound">util/task_runner.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="translation_8h" kindref="compound">util/translation.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="validation_8h" kindref="compound">validation.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="validationinterface_8h" kindref="compound">validationinterface.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cassert&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cstddef&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cstring&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;exception&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;functional&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;list&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;memory&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;span&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;tuple&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;utility&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="structkernel_1_1_chainstate_role" kindref="compound">kernel::ChainstateRole</ref>;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="classutil_1_1_immediate_task_runner" kindref="compound">util::ImmediateTaskRunner</ref>;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Define<sp/>G_TRANSLATION_FUN<sp/>symbol<sp/>in<sp/>libbitcoinkernel<sp/>library<sp/>so<sp/>users<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="comment">//<sp/>library<sp/>aren&apos;t<sp/>required<sp/>to<sp/>export<sp/>this<sp/>symbol</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::function&lt;std::string(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)&gt;<sp/><ref refid="bitcoin-cli_8cpp_1aa699d10761c9cf7597216db692c84841" kindref="member">G_TRANSLATION_FUN</ref>{</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structkernel_1_1_context" kindref="compound">kernel::Context</ref><sp/>btck_context_static{};</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_valid_flag_combination(<ref refid="classscript__verify__flags" kindref="compound">script_verify_flags</ref><sp/><ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref>)</highlight></codeline>
<codeline lineno="66"><highlight class="normal">{</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref><sp/>&amp;<sp/><ref refid="interpreter_8h_1adfb2695ade741a5e62728f3586ec1637a2baa4c539864504eb80c2b2df0f6fb29" kindref="member">SCRIPT_VERIFY_CLEANSTACK</ref><sp/>&amp;&amp;<sp/>~<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref><sp/>&amp;<sp/>(<ref refid="interpreter_8h_1adfb2695ade741a5e62728f3586ec1637aeb9561bbd06f9c457e9a44535a261134" kindref="member">SCRIPT_VERIFY_P2SH</ref><sp/>|<sp/><ref refid="interpreter_8h_1adfb2695ade741a5e62728f3586ec1637a41693a201df8f796c932d407b22da9b2" kindref="member">SCRIPT_VERIFY_WITNESS</ref>))<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref><sp/>&amp;<sp/><ref refid="interpreter_8h_1adfb2695ade741a5e62728f3586ec1637a41693a201df8f796c932d407b22da9b2" kindref="member">SCRIPT_VERIFY_WITNESS</ref><sp/>&amp;&amp;<sp/>~<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref><sp/>&amp;<sp/><ref refid="interpreter_8h_1adfb2695ade741a5e62728f3586ec1637aeb9561bbd06f9c457e9a44535a261134" kindref="member">SCRIPT_VERIFY_P2SH</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="70"><highlight class="normal">}</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">WriterStream</highlight></codeline>
<codeline lineno="73"><highlight class="normal">{</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="bitcoinkernel_8h_1a220931a33212ceb13141dc5a06e077f7" kindref="member">btck_WriteBytes</ref><sp/>m_writer;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>m_user_data;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>WriterStream(<ref refid="bitcoinkernel_8h_1a220931a33212ceb13141dc5a06e077f7" kindref="member">btck_WriteBytes</ref><sp/>writer,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>user_data)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>m_writer{writer},<sp/>m_user_data{user_data}<sp/>{}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Stream<sp/>subset</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>write(std::span&lt;const<sp/>std::byte&gt;<sp/>src)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_writer(std::data(src),<sp/>src.size(),<sp/>m_user_data)<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::runtime_error(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>write<sp/>serialization<sp/>data&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>WriterStream&amp;<sp/><ref refid="namespaceankerl_1_1nanobench_1ac6dfa99fbb0ccc7e9057b5fccef501d8" kindref="member">operator&lt;&lt;</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="hash__tests_8cpp_1ad4971a985148c784a362f962d42aa012" kindref="member">T</ref>&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="serialize_8h_1a02d3045fa4f224ffcb8a3f6779b9f5d0" kindref="member">::Serialize</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>obj);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="98"><highlight class="normal">};</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>C,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>CPP&gt;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">Handle<sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>C*<sp/>ref(CPP*<sp/>cpp_type)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="normal">C*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(cpp_type);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>C*<sp/>ref(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CPP*<sp/>cpp_type)</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">C*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(cpp_type);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal">...<sp/>Args&gt;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>C*<sp/>create(Args&amp;&amp;...<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>cpp_obj{std::make_unique&lt;CPP&gt;(std::forward&lt;Args&gt;(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)...)};</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="normal">C*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(cpp_obj.release());</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>C*<sp/>copy(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>C*<sp/>ptr)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>cpp_obj{std::make_unique&lt;CPP&gt;(get(ptr))};</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="normal">C*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(cpp_obj.release());</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CPP&amp;<sp/>get(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>C*<sp/>ptr)</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">CPP*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(ptr);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>CPP&amp;<sp/>get(C*<sp/>ptr)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="normal">CPP*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(ptr);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">operator</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>ptr)</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="normal">CPP*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(ptr);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="139"><highlight class="normal">};</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143" refid="structbtck___block_tree_entry" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>:<sp/>Handle&lt;btck_BlockTreeEntry,<sp/>CBlockIndex&gt;<sp/>{};</highlight></codeline>
<codeline lineno="144" refid="structbtck___block" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___block" kindref="compound">btck_Block</ref><sp/>:<sp/>Handle&lt;btck_Block,<sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;&gt;<sp/>{};</highlight></codeline>
<codeline lineno="145" refid="structbtck___block_validation_state" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___block_validation_state" kindref="compound">btck_BlockValidationState</ref><sp/>:<sp/>Handle&lt;btck_BlockValidationState,<sp/>BlockValidationState&gt;<sp/>{};</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><ref refid="namespace_b_c_log_1a221b779e6bb7b8d40677d7642bfefac5" kindref="member">BCLog::Level</ref><sp/>get_bclog_level(<ref refid="bitcoinkernel_8h_1a09151a95ff6fbcd3b19330777ba5a5f7" kindref="member">btck_LogLevel</ref><sp/>level)</highlight></codeline>
<codeline lineno="150"><highlight class="normal">{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(level)<sp/>{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ad1e3369e372b92e244d8d2f88120f22f" kindref="member">btck_LogLevel_INFO</ref>:<sp/>{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a221b779e6bb7b8d40677d7642bfefac5a4059b0251f66a18cb56f544728796875" kindref="member">BCLog::Level::Info</ref>;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a7c94146b61f3356502822bd38050fed1" kindref="member">btck_LogLevel_DEBUG</ref>:<sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a221b779e6bb7b8d40677d7642bfefac5aa603905470e2a5b8c13e96b579ef0dba" kindref="member">BCLog::Level::Debug</ref>;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a416d6221379a4fc6cb7d7f5adce1197a" kindref="member">btck_LogLevel_TRACE</ref>:<sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a221b779e6bb7b8d40677d7642bfefac5add4ec0ac4e58f7c32a01244ae91150b1" kindref="member">BCLog::Level::Trace</ref>;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="163"><highlight class="normal">}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395" kindref="member">BCLog::LogFlags</ref><sp/>get_bclog_flag(<ref refid="bitcoinkernel_8h_1ab310c254a173c63cda5eaaffdc09e6e1" kindref="member">btck_LogCategory</ref><sp/>category)</highlight></codeline>
<codeline lineno="166"><highlight class="normal">{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(category)<sp/>{</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a49328279e272e659d6b37d6d1ef4829e" kindref="member">btck_LogCategory_BENCH</ref>:<sp/>{</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a39a2e7946aef57ccda126d7441531f88" kindref="member">BCLog::LogFlags::BENCH</ref>;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ae388876304db1e42f99004e9a81eaed6" kindref="member">btck_LogCategory_BLOCKSTORAGE</ref>:<sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395af16fa187ded8e0010992fae0e5ad53c5" kindref="member">BCLog::LogFlags::BLOCKSTORAGE</ref>;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a616979879f637541a9b7d3643711f5c0" kindref="member">btck_LogCategory_COINDB</ref>:<sp/>{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a278f52bd5b9e7d640210ad2e8326c2f7" kindref="member">BCLog::LogFlags::COINDB</ref>;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ac4461dc3239a2be5e5d3f23a5f32a205" kindref="member">btck_LogCategory_LEVELDB</ref>:<sp/>{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395ac685980fb9a22d06fe885e3c1c8b41c5" kindref="member">BCLog::LogFlags::LEVELDB</ref>;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a3c64e3a663febefb2271945cfa98294d" kindref="member">btck_LogCategory_MEMPOOL</ref>:<sp/>{</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395afb374f9d778e803545f3af036ca147a0" kindref="member">BCLog::LogFlags::MEMPOOL</ref>;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a58ca40d2575d5291dc715106af55b350" kindref="member">btck_LogCategory_PRUNE</ref>:<sp/>{</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395ae0c537e2982c70834d3646569e3b3453" kindref="member">BCLog::LogFlags::PRUNE</ref>;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a8b7441b096f15460b89a7777dd3dd878" kindref="member">btck_LogCategory_RAND</ref>:<sp/>{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a549e1fc821b7bc2aa1c02bf3f0da814c" kindref="member">BCLog::LogFlags::RAND</ref>;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a796e4ee0f3e775c209ca56f9e7115620" kindref="member">btck_LogCategory_REINDEX</ref>:<sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a28e2c1d08fccde7fc5f1f6b3a6b6dc06" kindref="member">BCLog::LogFlags::REINDEX</ref>;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a7636e306346fe3f55c8a9996ff8b57ef" kindref="member">btck_LogCategory_VALIDATION</ref>:<sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a7721bbfbdf88038c07a667176e9ab22c" kindref="member">BCLog::LogFlags::VALIDATION</ref>;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1aed6605de5f607c002e45fff2ea30c73b" kindref="member">btck_LogCategory_KERNEL</ref>:<sp/>{</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a53c6e691e7db9eceefc0fb37cb724cd2" kindref="member">BCLog::LogFlags::KERNEL</ref>;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1aa310ab64d43cc7bc0cdf8ddd03c2e461" kindref="member">btck_LogCategory_ALL</ref>:<sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395ab1d5eac4b1dca480c8056eaea7663b7a" kindref="member">BCLog::LogFlags::ALL</ref>;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="203"><highlight class="normal">}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><ref refid="bitcoinkernel_8h_1a58fadd0ba23940c7b1b6e1cfe8ee5618" kindref="member">btck_SynchronizationState</ref><sp/>cast_state(<ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219" kindref="member">SynchronizationState</ref><sp/>state)</highlight></codeline>
<codeline lineno="206"><highlight class="normal">{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(state)<sp/>{</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219aed5f7c41f40d80cfb4805fc2a823aaa5" kindref="member">SynchronizationState::INIT_REINDEX</ref>:</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a42df291de3e18229ecff0aa9aee029d2" kindref="member">btck_SynchronizationState_INIT_REINDEX</ref>;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219a8ad7ae4642d6220dcc79dfe93a5a3b25" kindref="member">SynchronizationState::INIT_DOWNLOAD</ref>:</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1aff22233e9d104e1e8d676f924d068ac1" kindref="member">btck_SynchronizationState_INIT_DOWNLOAD</ref>;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219a90420c85ac74ebe4793694a7c4680b12" kindref="member">SynchronizationState::POST_INIT</ref>:</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a982fd1681627bfd881af82019a75c679" kindref="member">btck_SynchronizationState_POST_INIT</ref>;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>no<sp/>default<sp/>case,<sp/>so<sp/>the<sp/>compiler<sp/>can<sp/>warn<sp/>about<sp/>missing<sp/>cases</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="216"><highlight class="normal">}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><ref refid="bitcoinkernel_8h_1ac09a909550672c2f641db8d36da8274f" kindref="member">btck_Warning</ref><sp/>cast_btck_warning(<ref refid="namespacekernel_1af6ea07812363481c623a23ea26fbf8ed" kindref="member">kernel::Warning</ref><sp/>warning)</highlight></codeline>
<codeline lineno="219"><highlight class="normal">{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(warning)<sp/>{</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespacekernel_1af6ea07812363481c623a23ea26fbf8eda2a4ba0672b8751622fa177d738c33407" kindref="member">kernel::Warning::UNKNOWN_NEW_RULES_ACTIVATED</ref>:</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a2f9665c97923a337e6e54074cbb416a1" kindref="member">btck_Warning_UNKNOWN_NEW_RULES_ACTIVATED</ref>;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespacekernel_1af6ea07812363481c623a23ea26fbf8edae104a308028adbc17b3eb003bb1b21f3" kindref="member">kernel::Warning::LARGE_WORK_INVALID_CHAIN</ref>:</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1acf8afb18389315636af76465996073e2" kindref="member">btck_Warning_LARGE_WORK_INVALID_CHAIN</ref>;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>no<sp/>default<sp/>case,<sp/>so<sp/>the<sp/>compiler<sp/>can<sp/>warn<sp/>about<sp/>missing<sp/>cases</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="227"><highlight class="normal">}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">LoggingConnection<sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;std::list&lt;std::function&lt;void(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;)&gt;&gt;::iterator&gt;<sp/>m_connection;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>m_user_data;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>std::function&lt;void(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>user_data)&gt;<sp/>m_deleter;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>LoggingConnection(<ref refid="bitcoinkernel_8h_1a43c365f9ab63ec7ee0a7c9bb1c365c93" kindref="member">btck_LogCallback</ref><sp/>callback,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>user_data,<sp/><ref refid="bitcoinkernel_8h_1a71093f0ace733acf6de97819f19e481d" kindref="member">btck_DestroyCallback</ref><sp/>user_data_destroy_callback)</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>connection{<ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1ae60523b1719897224f93a8b30db79616" kindref="member">PushBackCallback</ref>([callback,<sp/>user_data](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>str)<sp/>{<sp/>callback(user_data,<sp/>str.c_str(),<sp/>str.length());<sp/>})};</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Only<sp/>start<sp/>logging<sp/>if<sp/>we<sp/>just<sp/>added<sp/>the<sp/>connection.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="clientmodel_8h_1a7f98da21db559811eecbeda885046030" kindref="member">NumConnections</ref>()<sp/>==<sp/>1<sp/>&amp;&amp;<sp/>!<ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="namespaceinit_1a309a57bd0d682481d9b3d281be164360" kindref="member">StartLogging</ref>())<sp/>{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Logger<sp/>start<sp/>failed.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1ac3979e128c1f4a8aeb98666718dcbd3a" kindref="member">DeleteCallback</ref>(connection);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(user_data<sp/>&amp;&amp;<sp/>user_data_destroy_callback)<sp/>{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user_data_destroy_callback(user_data);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::runtime_error(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>start<sp/>logging&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_connection<sp/>=<sp/>std::make_unique&lt;std::list&lt;std::function&lt;void(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;)&gt;&gt;::iterator&gt;(connection);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_user_data<sp/>=<sp/>user_data;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_deleter<sp/>=<sp/>user_data_destroy_callback;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1adeb58140a1c97947ad5d0c641415f1fc" kindref="member">LogDebug</ref>(<ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a53c6e691e7db9eceefc0fb37cb724cd2" kindref="member">BCLog::KERNEL</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Logger<sp/>connected.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>~LoggingConnection()</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1adeb58140a1c97947ad5d0c641415f1fc" kindref="member">LogDebug</ref>(<ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a53c6e691e7db9eceefc0fb37cb724cd2" kindref="member">BCLog::KERNEL</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Logger<sp/>disconnecting.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Switch<sp/>back<sp/>to<sp/>buffering<sp/>by<sp/>calling<sp/>DisconnectTestLogger<sp/>if<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>connection<sp/>that<sp/>we<sp/>are<sp/>about<sp/>to<sp/>remove<sp/>is<sp/>the<sp/>last<sp/>one.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="clientmodel_8h_1a7f98da21db559811eecbeda885046030" kindref="member">NumConnections</ref>()<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a21ab1841cba4ce3e5fe02ac36f0882a9" kindref="member">DisconnectTestLogger</ref>();</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1ac3979e128c1f4a8aeb98666718dcbd3a" kindref="member">DeleteCallback</ref>(*m_connection);</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_connection.reset();</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_user_data<sp/>&amp;&amp;<sp/>m_deleter)<sp/>{</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_deleter(m_user_data);</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal">};</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">KernelNotifications<sp/>final<sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classkernel_1_1_notifications" kindref="compound">kernel::Notifications</ref></highlight></codeline>
<codeline lineno="278"><highlight class="normal">{</highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>btck_NotificationInterfaceCallbacks<sp/>m_cbs;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_kernel_notifications_1ac2b7c5de88ec7221ade123bd003a7e6a" kindref="member">KernelNotifications</ref>(btck_NotificationInterfaceCallbacks<sp/>cbs)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>m_cbs{cbs}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>~KernelNotifications()</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.user_data<sp/>&amp;&amp;<sp/>m_cbs.user_data_destroy)<sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.user_data_destroy(m_cbs.user_data);</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.<ref refid="structbtck___notification_interface_callbacks_1a8d16b6ec92103c20a16430c0a4eb49d6" kindref="member">user_data_destroy</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.user_data<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacekernel_1aed6f49c6e024a170a63654e1f9a24ca0" kindref="member">kernel::InterruptResult</ref><sp/><ref refid="class_kernel_notifications_1aee1bcb68d847db06453310431b085ceb" kindref="member">blockTip</ref>(<ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219" kindref="member">SynchronizationState</ref><sp/>state,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CBlockIndex&amp;<sp/>index,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>verification_progress)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="298"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.block_tip)<sp/>m_cbs.block_tip(m_cbs.user_data,<sp/>cast_state(state),<sp/>btck_BlockTreeEntry::ref(&amp;index),<sp/>verification_progress);</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{};</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kernel_notifications_1ad131cc1aba2a3e3267ceb0e66a088e15" kindref="member">headerTip</ref>(<ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219" kindref="member">SynchronizationState</ref><sp/>state,<sp/>int64_t<sp/>height,<sp/>int64_t<sp/>timestamp,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>presync)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="303"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.header_tip)<sp/>m_cbs.header_tip(m_cbs.user_data,<sp/>cast_state(state),<sp/>height,<sp/>timestamp,<sp/>presync<sp/>?<sp/>1<sp/>:<sp/>0);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kernel_notifications_1a44b70e751738ba7cae1a78cf53ab31d6" kindref="member">progress</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>bilingual_str&amp;<sp/>title,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>progress_percent,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>resume_possible)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="307"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.progress)<sp/>m_cbs.progress(m_cbs.user_data,<sp/>title.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref>.c_str(),<sp/>title.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref>.length(),<sp/>progress_percent,<sp/>resume_possible<sp/>?<sp/>1<sp/>:<sp/>0);</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kernel_notifications_1a60f2ab798a4c55546557598b4951e350" kindref="member">warningSet</ref>(<ref refid="namespacekernel_1af6ea07812363481c623a23ea26fbf8ed" kindref="member">kernel::Warning</ref><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>bilingual_str&amp;<sp/>message)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="311"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.warning_set)<sp/>m_cbs.warning_set(m_cbs.user_data,<sp/>cast_btck_warning(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">),<sp/>message.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref>.c_str(),<sp/>message.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref>.length());</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kernel_notifications_1a31d41e1289d8847ee72d12143d893140" kindref="member">warningUnset</ref>(<ref refid="namespacekernel_1af6ea07812363481c623a23ea26fbf8ed" kindref="member">kernel::Warning</ref><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="315"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.warning_unset)<sp/>m_cbs.warning_unset(m_cbs.user_data,<sp/>cast_btck_warning(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kernel_notifications_1a7e1ffb8c9105261c1f11f1f88531cf92" kindref="member">flushError</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>bilingual_str&amp;<sp/>message)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="319"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.flush_error)<sp/>m_cbs.flush_error(m_cbs.user_data,<sp/>message.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref>.c_str(),<sp/>message.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref>.length());</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kernel_notifications_1a0cda0dd72b4d76be5755de8f5d8457bf" kindref="member">fatalError</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>bilingual_str&amp;<sp/>message)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="323"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.fatal_error)<sp/>m_cbs.fatal_error(m_cbs.user_data,<sp/>message.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref>.c_str(),<sp/>message.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref>.length());</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="326"><highlight class="normal">};</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">KernelValidationInterface<sp/>final<sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_c_validation_interface" kindref="compound">CValidationInterface</ref></highlight></codeline>
<codeline lineno="329"><highlight class="normal">{</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>btck_ValidationInterfaceCallbacks<sp/>m_cbs;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/>KernelValidationInterface(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>btck_ValidationInterfaceCallbacks<sp/>vi_cbs)<sp/>:<sp/>m_cbs{vi_cbs}<sp/>{}</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>~KernelValidationInterface()</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.user_data<sp/>&amp;&amp;<sp/>m_cbs.user_data_destroy)<sp/>{</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.user_data_destroy(m_cbs.user_data);</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.<ref refid="structbtck___validation_interface_callbacks_1a0f53d287ac7c064d1a49d4bd93ca1cb9" kindref="member">user_data</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.user_data_destroy<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>BlockChecked(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;&amp;<sp/>block,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>BlockValidationState&amp;<sp/>stateIn)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="346"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.block_checked)<sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.block_checked(m_cbs.user_data,</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_Block::copy(btck_Block::ref(&amp;block)),</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_BlockValidationState::ref(&amp;stateIn));</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>NewPoWValidBlock(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CBlockIndex*<sp/>pindex,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;&amp;<sp/>block)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="355"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.pow_valid_block)<sp/>{</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.pow_valid_block(m_cbs.user_data,</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_Block::copy(btck_Block::ref(&amp;block)),</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_BlockTreeEntry::ref(pindex));</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>BlockConnected(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ChainstateRole&amp;<sp/>role,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;&amp;<sp/>block,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CBlockIndex*<sp/>pindex)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="364"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.block_connected)<sp/>{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.block_connected(m_cbs.user_data,</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_Block::copy(btck_Block::ref(&amp;block)),</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_BlockTreeEntry::ref(pindex));</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>BlockDisconnected(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;const<sp/>CBlock&gt;&amp;<sp/>block,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CBlockIndex*<sp/>pindex)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="373"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_cbs.block_disconnected)<sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_cbs.block_disconnected(m_cbs.user_data,</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_Block::copy(btck_Block::ref(&amp;block)),</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_BlockTreeEntry::ref(pindex));</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal">};</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">ContextOptions<sp/>{</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">mutable</highlight><highlight class="normal"><sp/><ref refid="sync_8h_1a326d1d46ce05b5316d8ebe2694a10a6e" kindref="member">Mutex</ref><sp/>m_mutex;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;const<sp/>CChainParams&gt;<sp/>m_chainparams<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(m_mutex);</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/>std::shared_ptr&lt;KernelNotifications&gt;<sp/>m_notifications<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(m_mutex);</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/>std::shared_ptr&lt;KernelValidationInterface&gt;<sp/>m_validation_interface<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(m_mutex);</highlight></codeline>
<codeline lineno="387"><highlight class="normal">};</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">Context</highlight></codeline>
<codeline lineno="390"><highlight class="normal">{</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;kernel::Context&gt;<sp/>m_context;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/>std::shared_ptr&lt;KernelNotifications&gt;<sp/>m_notifications;</highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;util::SignalInterrupt&gt;<sp/>m_interrupt;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;ValidationSignals&gt;<sp/>m_signals;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;const<sp/>CChainParams&gt;<sp/>m_chainparams;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>std::shared_ptr&lt;KernelValidationInterface&gt;<sp/>m_validation_interface;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>Context(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ContextOptions*<sp/>options,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">&amp;<sp/>sane)</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>m_context{std::make_unique&lt;kernel::Context&gt;()},</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_interrupt{std::make_unique&lt;util::SignalInterrupt&gt;()}</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(options)<sp/>{</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(options-&gt;m_mutex);</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(options-&gt;m_chainparams)<sp/>{</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_chainparams<sp/>=<sp/>std::make_unique&lt;const<sp/>CChainParams&gt;(*options-&gt;m_chainparams);</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(options-&gt;m_notifications)<sp/>{</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_notifications<sp/>=<sp/>options-&gt;m_notifications;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(options-&gt;m_validation_interface)<sp/>{</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_signals<sp/>=<sp/>std::make_unique&lt;ValidationSignals&gt;(std::make_unique&lt;ImmediateTaskRunner&gt;());</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_validation_interface<sp/>=<sp/>options-&gt;m_validation_interface;</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_signals-&gt;RegisterSharedValidationInterface(m_validation_interface);</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!m_chainparams)<sp/>{</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_chainparams<sp/>=<sp/><ref refid="class_c_chain_params_1a039f50a3f8dff79e7f690651e56c3b63" kindref="member">CChainParams::Main</ref>();</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!m_notifications)<sp/>{</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_notifications<sp/>=<sp/>std::make_shared&lt;KernelNotifications&gt;(btck_NotificationInterfaceCallbacks{</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">});</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespacekernel_1aba3bff775c6eab71ce3029cc36d594f0" kindref="member">kernel::SanityChecks</ref>(*m_context))<sp/>{</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sane<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/>~Context()</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_signals)<sp/>{</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_signals-&gt;UnregisterSharedValidationInterface(m_validation_interface);</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="442"><highlight class="normal">};</highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">ChainstateManagerOptions<sp/>{</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">mutable</highlight><highlight class="normal"><sp/><ref refid="sync_8h_1a326d1d46ce05b5316d8ebe2694a10a6e" kindref="member">Mutex</ref><sp/>m_mutex;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" kindref="member">ChainstateManager::Options</ref><sp/>m_chainman_options<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(m_mutex);</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classnode_1_1_block_manager_1a9d388cded97cd9f86c06358bb29abfad" kindref="member">node::BlockManager::Options</ref><sp/>m_blockman_options<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(m_mutex);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>std::shared_ptr&lt;const<sp/>Context&gt;<sp/>m_context;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/>node::ChainstateLoadOptions<sp/>m_chainstate_load_options<sp/><ref refid="thread__annotations_8h_1a4bc26ad7e8bc853ad3f58a8a343c952e" kindref="member">GUARDED_BY</ref>(m_mutex);</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>ChainstateManagerOptions(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;const<sp/>Context&gt;&amp;<sp/>context,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>fs::path&amp;<sp/>data_dir,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>fs::path&amp;<sp/>blocks_dir)</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>m_chainman_options{ChainstateManager::Options{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.chainparams<sp/>=<sp/>*context-&gt;m_chainparams,</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.datadir<sp/>=<sp/>data_dir,</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.notifications<sp/>=<sp/>*context-&gt;m_notifications,</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.signals<sp/>=<sp/>context-&gt;m_signals.get()}},</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_blockman_options{node::BlockManager::Options{</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.chainparams<sp/>=<sp/>*context-&gt;m_chainparams,</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.blocks_dir<sp/>=<sp/>blocks_dir,</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.notifications<sp/>=<sp/>*context-&gt;m_notifications,</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.block_tree_db_params<sp/>=<sp/>DBParams{</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.path<sp/>=<sp/>data_dir<sp/>/<sp/></highlight><highlight class="stringliteral">&quot;blocks&quot;</highlight><highlight class="normal"><sp/>/<sp/></highlight><highlight class="stringliteral">&quot;index&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.cache_bytes<sp/>=<sp/>kernel::CacheSizes{DEFAULT_KERNEL_CACHE}.block_tree_db,</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}}},</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_context{context},<sp/>m_chainstate_load_options{node::ChainstateLoadOptions{}}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="469"><highlight class="normal">};</highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">ChainMan<sp/>{</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;ChainstateManager&gt;<sp/>m_chainman;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/>std::shared_ptr&lt;const<sp/>Context&gt;<sp/>m_context;</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/>ChainMan(std::unique_ptr&lt;ChainstateManager&gt;<sp/>chainman,<sp/>std::shared_ptr&lt;const<sp/>Context&gt;<sp/>context)</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>m_chainman(std::move(chainman)),<sp/>m_context(std::move(context))<sp/>{}</highlight></codeline>
<codeline lineno="477"><highlight class="normal">};</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481" refid="structbtck___transaction" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref><sp/>:<sp/>Handle&lt;btck_Transaction,<sp/>std::shared_ptr&lt;const<sp/>CTransaction&gt;&gt;<sp/>{};</highlight></codeline>
<codeline lineno="482" refid="structbtck___transaction_output" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref><sp/>:<sp/>Handle&lt;btck_TransactionOutput,<sp/>CTxOut&gt;<sp/>{};</highlight></codeline>
<codeline lineno="483" refid="structbtck___script_pubkey" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref><sp/>:<sp/>Handle&lt;btck_ScriptPubkey,<sp/>CScript&gt;<sp/>{};</highlight></codeline>
<codeline lineno="484" refid="structbtck___logging_connection" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref><sp/>:<sp/>Handle&lt;btck_LoggingConnection,<sp/>LoggingConnection&gt;<sp/>{};</highlight></codeline>
<codeline lineno="485" refid="structbtck___context_options" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref><sp/>:<sp/>Handle&lt;btck_ContextOptions,<sp/>ContextOptions&gt;<sp/>{};</highlight></codeline>
<codeline lineno="486" refid="structbtck___context" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___context" kindref="compound">btck_Context</ref><sp/>:<sp/>Handle&lt;btck_Context,<sp/>std::shared_ptr&lt;const<sp/>Context&gt;&gt;<sp/>{};</highlight></codeline>
<codeline lineno="487" refid="structbtck___chain_parameters" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref><sp/>:<sp/>Handle&lt;btck_ChainParameters,<sp/>CChainParams&gt;<sp/>{};</highlight></codeline>
<codeline lineno="488" refid="structbtck___chainstate_manager_options" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref><sp/>:<sp/>Handle&lt;btck_ChainstateManagerOptions,<sp/>ChainstateManagerOptions&gt;<sp/>{};</highlight></codeline>
<codeline lineno="489" refid="structbtck___chainstate_manager" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref><sp/>:<sp/>Handle&lt;btck_ChainstateManager,<sp/>ChainMan&gt;<sp/>{};</highlight></codeline>
<codeline lineno="490" refid="structbtck___chain" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___chain" kindref="compound">btck_Chain</ref><sp/>:<sp/>Handle&lt;btck_Chain,<sp/>CChain&gt;<sp/>{};</highlight></codeline>
<codeline lineno="491" refid="structbtck___block_spent_outputs" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref><sp/>:<sp/>Handle&lt;btck_BlockSpentOutputs,<sp/>std::shared_ptr&lt;CBlockUndo&gt;&gt;<sp/>{};</highlight></codeline>
<codeline lineno="492" refid="structbtck___transaction_spent_outputs" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref><sp/>:<sp/>Handle&lt;btck_TransactionSpentOutputs,<sp/>CTxUndo&gt;<sp/>{};</highlight></codeline>
<codeline lineno="493" refid="structbtck___coin" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref><sp/>:<sp/>Handle&lt;btck_Coin,<sp/>Coin&gt;<sp/>{};</highlight></codeline>
<codeline lineno="494" refid="structbtck___block_hash" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref><sp/>:<sp/>Handle&lt;btck_BlockHash,<sp/>uint256&gt;<sp/>{};</highlight></codeline>
<codeline lineno="495" refid="structbtck___transaction_input" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref><sp/>:<sp/>Handle&lt;btck_TransactionInput,<sp/>CTxIn&gt;<sp/>{};</highlight></codeline>
<codeline lineno="496" refid="structbtck___transaction_out_point" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref>:<sp/>Handle&lt;btck_TransactionOutPoint,<sp/>COutPoint&gt;<sp/>{};</highlight></codeline>
<codeline lineno="497" refid="structbtck___txid" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>:<sp/>Handle&lt;btck_Txid,<sp/>Txid&gt;<sp/>{};</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ae02dfbd6affb0c97aa8f8324a00de1b0" kindref="member">btck_transaction_create</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>raw_transaction,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>raw_transaction_len)</highlight></codeline>
<codeline lineno="500"><highlight class="normal">{</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(raw_transaction<sp/>==<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>raw_transaction_len<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_data_stream" kindref="compound">DataStream</ref><sp/>stream{std::span{</highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">std::byte*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(raw_transaction),<sp/>raw_transaction_len}};</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Transaction::create(std::make_shared&lt;const<sp/>CTransaction&gt;(<ref refid="serialize_8h_1a4541cd607a450c9e4b88a4c1c9d35556" kindref="member">deserialize</ref>,<sp/>TX_WITH_WITNESS,<sp/>stream));</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(...)<sp/>{</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="510"><highlight class="normal">}</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a2657faff8f244232667e3355dc62d27f" kindref="member">btck_transaction_count_outputs</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>transaction)</highlight></codeline>
<codeline lineno="513"><highlight class="normal">{</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Transaction::get(transaction)-&gt;vout.size();</highlight></codeline>
<codeline lineno="515"><highlight class="normal">}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a821bc08b16eb64b8c8b3863bdfa645a2" kindref="member">btck_transaction_get_output_at</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>transaction,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>output_index)</highlight></codeline>
<codeline lineno="518"><highlight class="normal">{</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref>&amp;<sp/>tx<sp/>=<sp/>*btck_Transaction::get(transaction);</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(output_index<sp/>&lt;<sp/>tx.<ref refid="class_c_transaction_1ab6db6ccb0e8e9a2442296af044a29d56" kindref="member">vout</ref>.size());</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionOutput::ref(&amp;tx.<ref refid="class_c_transaction_1ab6db6ccb0e8e9a2442296af044a29d56" kindref="member">vout</ref>[output_index]);</highlight></codeline>
<codeline lineno="522"><highlight class="normal">}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ad3dcf919541ad0823246f6e85224a35f" kindref="member">btck_transaction_count_inputs</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>transaction)</highlight></codeline>
<codeline lineno="525"><highlight class="normal">{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Transaction::get(transaction)-&gt;vin.size();</highlight></codeline>
<codeline lineno="527"><highlight class="normal">}</highlight></codeline>
<codeline lineno="528"><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a0e173760553cc5740fe5875a04c70e37" kindref="member">btck_transaction_get_input_at</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>transaction,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>input_index)</highlight></codeline>
<codeline lineno="530"><highlight class="normal">{</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(input_index<sp/>&lt;<sp/>btck_Transaction::get(transaction)-&gt;vin.size());</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionInput::ref(&amp;btck_Transaction::get(transaction)-&gt;vin[input_index]);</highlight></codeline>
<codeline lineno="533"><highlight class="normal">}</highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ab394ef17b6074a295865cd4a6784d19f" kindref="member">btck_transaction_get_txid</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>transaction)</highlight></codeline>
<codeline lineno="536"><highlight class="normal">{</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Txid::ref(&amp;btck_Transaction::get(transaction)-&gt;GetHash());</highlight></codeline>
<codeline lineno="538"><highlight class="normal">}</highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ae7a659442a1c839e72c2915bdb326f6b" kindref="member">btck_transaction_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>transaction)</highlight></codeline>
<codeline lineno="541"><highlight class="normal">{</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Transaction::copy(transaction);</highlight></codeline>
<codeline lineno="543"><highlight class="normal">}</highlight></codeline>
<codeline lineno="544"><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ae732eb94fd20656427ece53d97088884" kindref="member">btck_transaction_to_bytes</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>transaction,<sp/><ref refid="bitcoinkernel_8h_1a220931a33212ceb13141dc5a06e077f7" kindref="member">btck_WriteBytes</ref><sp/>writer,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>user_data)</highlight></codeline>
<codeline lineno="546"><highlight class="normal">{</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WriterStream<sp/>ws{writer,<sp/>user_data};</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ws<sp/>&lt;&lt;<sp/>TX_WITH_WITNESS(btck_Transaction::get(transaction));</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(...)<sp/>{</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="554"><highlight class="normal">}</highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a1480e64578f2a4fc90b6079bc755de83" kindref="member">btck_transaction_destroy</ref>(<ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>transaction)</highlight></codeline>
<codeline lineno="557"><highlight class="normal">{</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>transaction;</highlight></codeline>
<codeline lineno="559"><highlight class="normal">}</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a2f2197674fd477e7c2584f1f84f0a2c8" kindref="member">btck_script_pubkey_create</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>script_pubkey,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>script_pubkey_len)</highlight></codeline>
<codeline lineno="562"><highlight class="normal">{</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(script_pubkey<sp/>==<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>script_pubkey_len<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="namespacetest__vectors__musig2__generate_1a511ae0b1c13f95e5f08f1a0dd3da3d93" kindref="member">data</ref><sp/>=<sp/>std::span{</highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">uint8_t*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(script_pubkey),<sp/>script_pubkey_len};</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ScriptPubkey::create(<ref refid="namespacetest__vectors__musig2__generate_1a511ae0b1c13f95e5f08f1a0dd3da3d93" kindref="member">data</ref>.begin(),<sp/><ref refid="namespacetest__vectors__musig2__generate_1a511ae0b1c13f95e5f08f1a0dd3da3d93" kindref="member">data</ref>.end());</highlight></codeline>
<codeline lineno="568"><highlight class="normal">}</highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a058f864618cb58a81cfab70595f0a6e8" kindref="member">btck_script_pubkey_to_bytes</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref>*<sp/>script_pubkey_,<sp/><ref refid="bitcoinkernel_8h_1a220931a33212ceb13141dc5a06e077f7" kindref="member">btck_WriteBytes</ref><sp/>writer,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>user_data)</highlight></codeline>
<codeline lineno="571"><highlight class="normal">{</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>script_pubkey{btck_ScriptPubkey::get(script_pubkey_)};</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>writer(script_pubkey.data(),<sp/>script_pubkey.size(),<sp/>user_data);</highlight></codeline>
<codeline lineno="574"><highlight class="normal">}</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a00a59eaec28813caa1b63488af995f01" kindref="member">btck_script_pubkey_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref>*<sp/>script_pubkey)</highlight></codeline>
<codeline lineno="577"><highlight class="normal">{</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ScriptPubkey::copy(script_pubkey);</highlight></codeline>
<codeline lineno="579"><highlight class="normal">}</highlight></codeline>
<codeline lineno="580"><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a088ae07775f3030e300bedf5de55e5e6" kindref="member">btck_script_pubkey_destroy</ref>(<ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref>*<sp/>script_pubkey)</highlight></codeline>
<codeline lineno="582"><highlight class="normal">{</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>script_pubkey;</highlight></codeline>
<codeline lineno="584"><highlight class="normal">}</highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ae752113b8b4c80a09fa21efcb1103eda" kindref="member">btck_transaction_output_create</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref>*<sp/>script_pubkey,<sp/>int64_t<sp/>amount)</highlight></codeline>
<codeline lineno="587"><highlight class="normal">{</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionOutput::create(amount,<sp/>btck_ScriptPubkey::get(script_pubkey));</highlight></codeline>
<codeline lineno="589"><highlight class="normal">}</highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1abf6a67be9f292d0efb3af33f6b6a1fb9" kindref="member">btck_transaction_output_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>*<sp/>output)</highlight></codeline>
<codeline lineno="592"><highlight class="normal">{</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionOutput::copy(output);</highlight></codeline>
<codeline lineno="594"><highlight class="normal">}</highlight></codeline>
<codeline lineno="595"><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1acb8339d0b108a31a81878cd81d9abea8" kindref="member">btck_transaction_output_get_script_pubkey</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>*<sp/>output)</highlight></codeline>
<codeline lineno="597"><highlight class="normal">{</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ScriptPubkey::ref(&amp;btck_TransactionOutput::get(output).scriptPubKey);</highlight></codeline>
<codeline lineno="599"><highlight class="normal">}</highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal">int64_t<sp/><ref refid="bitcoinkernel_8cpp_1a18666bdcfb7fde11464a0a95c4cff9f3" kindref="member">btck_transaction_output_get_amount</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>*<sp/>output)</highlight></codeline>
<codeline lineno="602"><highlight class="normal">{</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionOutput::get(output).nValue;</highlight></codeline>
<codeline lineno="604"><highlight class="normal">}</highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1af13648a7061ed4c6f9e93e15dc1079cc" kindref="member">btck_transaction_output_destroy</ref>(<ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>*<sp/>output)</highlight></codeline>
<codeline lineno="607"><highlight class="normal">{</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>output;</highlight></codeline>
<codeline lineno="609"><highlight class="normal">}</highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a7c4141fd61a8543642bb3c4834bffba1" kindref="member">btck_script_pubkey_verify</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___script_pubkey" kindref="compound">btck_ScriptPubkey</ref>*<sp/>script_pubkey,</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>int64_t<sp/>amount,</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/>tx_to,</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>**<sp/>spent_outputs_,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>spent_outputs_len,</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>input_index,</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a75ce59fcb179c710b67bd593d6e2f610" kindref="member">btck_ScriptVerificationFlags</ref><sp/><ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref>,</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bitcoinkernel_8h_1aa8781d799756bee4a650b32c346abf40" kindref="member">btck_ScriptVerifyStatus</ref>*<sp/>status)</highlight></codeline>
<codeline lineno="618"><highlight class="normal">{</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Assert<sp/>that<sp/>all<sp/>specified<sp/>flags<sp/>are<sp/>part<sp/>of<sp/>the<sp/>interface<sp/>before<sp/>continuing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>((<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref><sp/>&amp;<sp/>~<ref refid="bitcoinkernel_8h_1a4dfe5400b63b673f6831dae8cda607b4" kindref="member">btck_ScriptVerificationFlags_ALL</ref>)<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!is_valid_flag_combination(<ref refid="classscript__verify__flags_1a3746f860da94848252a66b95e8c7965c" kindref="member">script_verify_flags::from_int</ref>(<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref>)))<sp/>{</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status)<sp/>*status<sp/>=<sp/><ref refid="bitcoinkernel_8h_1a446a1d450d1b25497723e4f8d442ca62" kindref="member">btck_ScriptVerifyStatus_ERROR_INVALID_FLAGS_COMBINATION</ref>;</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref><sp/>&amp;<sp/><ref refid="bitcoinkernel_8h_1a6844b761130357855c2464d12d6c69a6" kindref="member">btck_ScriptVerificationFlags_TAPROOT</ref><sp/>&amp;&amp;<sp/>spent_outputs_<sp/>==<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status)<sp/>*status<sp/>=<sp/><ref refid="bitcoinkernel_8h_1a6ad438ebf610507c76fa2e0af8e3294c" kindref="member">btck_ScriptVerifyStatus_ERROR_SPENT_OUTPUTS_REQUIRED</ref>;</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="631"><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status)<sp/>*status<sp/>=<sp/><ref refid="bitcoinkernel_8h_1a7dc54002f0bf42a659e3cf19558ce454" kindref="member">btck_ScriptVerifyStatus_OK</ref>;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref>&amp;<sp/>tx{*btck_Transaction::get(tx_to)};</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;CTxOut&gt;<sp/>spent_outputs;</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(spent_outputs_<sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(spent_outputs_len<sp/>==<sp/>tx.<ref refid="class_c_transaction_1aaed1b4913ffce3eaaf4c5e13aa09d27f" kindref="member">vin</ref>.size());</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spent_outputs.reserve(spent_outputs_len);</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>spent_outputs_len;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_tx_out" kindref="compound">CTxOut</ref>&amp;<sp/>tx_out{btck_TransactionOutput::get(spent_outputs_[i])};</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spent_outputs.push_back(tx_out);</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(input_index<sp/>&lt;<sp/>tx.<ref refid="class_c_transaction_1aaed1b4913ffce3eaaf4c5e13aa09d27f" kindref="member">vin</ref>.size());</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_precomputed_transaction_data" kindref="compound">PrecomputedTransactionData</ref><sp/>txdata{tx};</highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(spent_outputs_<sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/><ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref><sp/>&amp;<sp/><ref refid="bitcoinkernel_8h_1a6844b761130357855c2464d12d6c69a6" kindref="member">btck_ScriptVerificationFlags_TAPROOT</ref>)<sp/>{</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>txdata.<ref refid="struct_precomputed_transaction_data_1a9d8d06b4401f04ceb58d7e5a21425a6f" kindref="member">Init</ref>(tx,<sp/>std::move(spent_outputs));</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>result<sp/>=<sp/><ref refid="interpreter_8cpp_1acdeac884f2fbcea533277458e8097e87" kindref="member">VerifyScript</ref>(tx.<ref refid="class_c_transaction_1aaed1b4913ffce3eaaf4c5e13aa09d27f" kindref="member">vin</ref>[input_index].scriptSig,</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>btck_ScriptPubkey::get(script_pubkey),</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;tx.<ref refid="class_c_transaction_1aaed1b4913ffce3eaaf4c5e13aa09d27f" kindref="member">vin</ref>[input_index].scriptWitness,</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classscript__verify__flags_1a3746f860da94848252a66b95e8c7965c" kindref="member">script_verify_flags::from_int</ref>(<ref refid="bitcoin-tx_8cpp_1ac8bf36fe0577cba66bccda3a6f7e80a4" kindref="member">flags</ref>),</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interpreter_8h_1a8d681a40278017c40e6fb3eb7663aeed" kindref="member">TransactionSignatureChecker</ref>(&amp;tx,<sp/>input_index,<sp/>amount,<sp/>txdata,<sp/><ref refid="interpreter_8h_1acc6ee21a72d2acd6c95fc4de2c9e672eac2759effffc94bb9acc71d69fe3e8a1f" kindref="member">MissingDataBehavior::FAIL</ref>),</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result<sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="659"><highlight class="normal">}</highlight></codeline>
<codeline lineno="660"><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ab999c9482f5e0ea06a2429b5856094fb" kindref="member">btck_transaction_input_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref>*<sp/>input)</highlight></codeline>
<codeline lineno="662"><highlight class="normal">{</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionInput::copy(input);</highlight></codeline>
<codeline lineno="664"><highlight class="normal">}</highlight></codeline>
<codeline lineno="665"><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a6121219b6a104cfe9465a4394fb6297f" kindref="member">btck_transaction_input_get_out_point</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref>*<sp/>input)</highlight></codeline>
<codeline lineno="667"><highlight class="normal">{</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionOutPoint::ref(&amp;btck_TransactionInput::get(input).prevout);</highlight></codeline>
<codeline lineno="669"><highlight class="normal">}</highlight></codeline>
<codeline lineno="670"><highlight class="normal"></highlight></codeline>
<codeline lineno="671"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a812b6946699226f35e85df38b457e4be" kindref="member">btck_transaction_input_destroy</ref>(<ref refid="structbtck___transaction_input" kindref="compound">btck_TransactionInput</ref>*<sp/>input)</highlight></codeline>
<codeline lineno="672"><highlight class="normal">{</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>input;</highlight></codeline>
<codeline lineno="674"><highlight class="normal">}</highlight></codeline>
<codeline lineno="675"><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ab5f57ad171c6853e018506cf1ba51285" kindref="member">btck_transaction_out_point_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref>*<sp/>out_point)</highlight></codeline>
<codeline lineno="677"><highlight class="normal">{</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionOutPoint::copy(out_point);</highlight></codeline>
<codeline lineno="679"><highlight class="normal">}</highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal">uint32_t<sp/><ref refid="bitcoinkernel_8cpp_1ab0b883980267313c644b7f1bcdb10912" kindref="member">btck_transaction_out_point_get_index</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref>*<sp/>out_point)</highlight></codeline>
<codeline lineno="682"><highlight class="normal">{</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionOutPoint::get(out_point).n;</highlight></codeline>
<codeline lineno="684"><highlight class="normal">}</highlight></codeline>
<codeline lineno="685"><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a1dbe75b6bc1e8b35a210fe4aa0a01c2a" kindref="member">btck_transaction_out_point_get_txid</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref>*<sp/>out_point)</highlight></codeline>
<codeline lineno="687"><highlight class="normal">{</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Txid::ref(&amp;btck_TransactionOutPoint::get(out_point).hash);</highlight></codeline>
<codeline lineno="689"><highlight class="normal">}</highlight></codeline>
<codeline lineno="690"><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a7182b72a22c772fe5a606c7f8166f99d" kindref="member">btck_transaction_out_point_destroy</ref>(<ref refid="structbtck___transaction_out_point" kindref="compound">btck_TransactionOutPoint</ref>*<sp/>out_point)</highlight></codeline>
<codeline lineno="692"><highlight class="normal">{</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>out_point;</highlight></codeline>
<codeline lineno="694"><highlight class="normal">}</highlight></codeline>
<codeline lineno="695"><highlight class="normal"></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a6d2d62160c57f2b8e330487d5cfcaa3f" kindref="member">btck_txid_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>*<sp/>txid)</highlight></codeline>
<codeline lineno="697"><highlight class="normal">{</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Txid::copy(txid);</highlight></codeline>
<codeline lineno="699"><highlight class="normal">}</highlight></codeline>
<codeline lineno="700"><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a7b3a8264a2d88ac1ab374b1acb0f7aea" kindref="member">btck_txid_to_bytes</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>*<sp/>txid,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>output[32])</highlight></codeline>
<codeline lineno="702"><highlight class="normal">{</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/>std::memcpy(output,<sp/>btck_Txid::get(txid).begin(),<sp/>32);</highlight></codeline>
<codeline lineno="704"><highlight class="normal">}</highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ad7f71e05dfb8b743b392e93193ffb687" kindref="member">btck_txid_equals</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>*<sp/>txid1,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>*<sp/>txid2)</highlight></codeline>
<codeline lineno="707"><highlight class="normal">{</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Txid::get(txid1)<sp/>==<sp/>btck_Txid::get(txid2);</highlight></codeline>
<codeline lineno="709"><highlight class="normal">}</highlight></codeline>
<codeline lineno="710"><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a0375ab6ce02d9b6234c53322b554fd72" kindref="member">btck_txid_destroy</ref>(<ref refid="structbtck___txid" kindref="compound">btck_Txid</ref>*<sp/>txid)</highlight></codeline>
<codeline lineno="712"><highlight class="normal">{</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>txid;</highlight></codeline>
<codeline lineno="714"><highlight class="normal">}</highlight></codeline>
<codeline lineno="715"><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ae467c1a5977063c70a7e8633b71af5e2" kindref="member">btck_logging_set_options</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___logging_options" kindref="compound">btck_LoggingOptions</ref><sp/>options)</highlight></codeline>
<codeline lineno="717"><highlight class="normal">{</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a01dc17cee044e1070d917eeab8419590" kindref="member">m_log_timestamps</ref><sp/>=<sp/>options.<ref refid="structbtck___logging_options_1a256fc674eb92e6733d747a65fa2806be" kindref="member">log_timestamps</ref>;</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1ab979dc2ad7fbd45d1f0fdac46a32e52f" kindref="member">m_log_time_micros</ref><sp/>=<sp/>options.<ref refid="structbtck___logging_options_1ac948ea5e6a98a3893020e76156672427" kindref="member">log_time_micros</ref>;</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a42c80cc540f11ccf6003b9783c81b092" kindref="member">m_log_threadnames</ref><sp/>=<sp/>options.<ref refid="structbtck___logging_options_1aa1088b239b336798227edf4e9092bc9f" kindref="member">log_threadnames</ref>;</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a7168932c511b0f0c80f039d33ec64235" kindref="member">m_log_sourcelocations</ref><sp/>=<sp/>options.<ref refid="structbtck___logging_options_1a1eb200044263a050bc56936d969dd1ef" kindref="member">log_sourcelocations</ref>;</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a4d4906a395eb4cb98a456da45aa450ed" kindref="member">m_always_print_category_level</ref><sp/>=<sp/>options.<ref refid="structbtck___logging_options_1af0abce4e0a54c0462f100e1b27cb77cf" kindref="member">always_print_category_levels</ref>;</highlight></codeline>
<codeline lineno="724"><highlight class="normal">}</highlight></codeline>
<codeline lineno="725"><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a86fb894fe2c1cabb8c380ef06a39b463" kindref="member">btck_logging_set_level_category</ref>(<ref refid="bitcoinkernel_8h_1ab310c254a173c63cda5eaaffdc09e6e1" kindref="member">btck_LogCategory</ref><sp/>category,<sp/><ref refid="bitcoinkernel_8h_1a09151a95ff6fbcd3b19330777ba5a5f7" kindref="member">btck_LogLevel</ref><sp/>level)</highlight></codeline>
<codeline lineno="727"><highlight class="normal">{</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(category<sp/>==<sp/><ref refid="bitcoinkernel_8h_1aa310ab64d43cc7bc0cdf8ddd03c2e461" kindref="member">btck_LogCategory_ALL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a47d4955601c6bec9dbbf7f42f81a7e90" kindref="member">SetLogLevel</ref>(get_bclog_level(level));</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1ab2b5728f9d564a478d33b837b580f8f9" kindref="member">AddCategoryLogLevel</ref>(get_bclog_flag(category),<sp/>get_bclog_level(level));</highlight></codeline>
<codeline lineno="734"><highlight class="normal">}</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a0e8e8d47f1548575aca310e532ffe15a" kindref="member">btck_logging_enable_category</ref>(<ref refid="bitcoinkernel_8h_1ab310c254a173c63cda5eaaffdc09e6e1" kindref="member">btck_LogCategory</ref><sp/>category)</highlight></codeline>
<codeline lineno="737"><highlight class="normal">{</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a3953a879918489cb32d43725e00cf7eb" kindref="member">EnableCategory</ref>(get_bclog_flag(category));</highlight></codeline>
<codeline lineno="739"><highlight class="normal">}</highlight></codeline>
<codeline lineno="740"><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a202da381becbb509ea0f646496eeb4ed" kindref="member">btck_logging_disable_category</ref>(<ref refid="bitcoinkernel_8h_1ab310c254a173c63cda5eaaffdc09e6e1" kindref="member">btck_LogCategory</ref><sp/>category)</highlight></codeline>
<codeline lineno="742"><highlight class="normal">{</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a24b3ce708b678022c10d4167ceba0130" kindref="member">DisableCategory</ref>(get_bclog_flag(category));</highlight></codeline>
<codeline lineno="744"><highlight class="normal">}</highlight></codeline>
<codeline lineno="745"><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a00ec09d7672ce1319831056aa980b24e" kindref="member">btck_logging_disable</ref>()</highlight></codeline>
<codeline lineno="747"><highlight class="normal">{</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a5eed9e0a35e6bd5a9bbb5053fa6debf6" kindref="member">DisableLogging</ref>();</highlight></codeline>
<codeline lineno="749"><highlight class="normal">}</highlight></codeline>
<codeline lineno="750"><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a52608b2cbf28b6207987a06f5b5918e2" kindref="member">btck_logging_connection_create</ref>(<ref refid="bitcoinkernel_8h_1a43c365f9ab63ec7ee0a7c9bb1c365c93" kindref="member">btck_LogCallback</ref><sp/>callback,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>user_data,<sp/><ref refid="bitcoinkernel_8h_1a71093f0ace733acf6de97819f19e481d" kindref="member">btck_DestroyCallback</ref><sp/>user_data_destroy_callback)</highlight></codeline>
<codeline lineno="752"><highlight class="normal">{</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_LoggingConnection::create(callback,<sp/>user_data,<sp/>user_data_destroy_callback);</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::exception&amp;)<sp/>{</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="758"><highlight class="normal">}</highlight></codeline>
<codeline lineno="759"><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ac059d598942c20bd0c91ebf6bdf6a093" kindref="member">btck_logging_connection_destroy</ref>(<ref refid="structbtck___logging_connection" kindref="compound">btck_LoggingConnection</ref>*<sp/>connection)</highlight></codeline>
<codeline lineno="761"><highlight class="normal">{</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>connection;</highlight></codeline>
<codeline lineno="763"><highlight class="normal">}</highlight></codeline>
<codeline lineno="764"><highlight class="normal"></highlight></codeline>
<codeline lineno="765"><highlight class="normal"><ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a335edc0b5f4641c2f7865baf3a8d35a8" kindref="member">btck_chain_parameters_create</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a3479c0b27dfc5ac23de91edf29554bce" kindref="member">btck_ChainType</ref><sp/>chain_type)</highlight></codeline>
<codeline lineno="766"><highlight class="normal">{</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(chain_type)<sp/>{</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a29be3a81e723043b3b04f3890a6eeebe" kindref="member">btck_ChainType_MAINNET</ref>:<sp/>{</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainParameters::ref(</highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal"><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="class_c_chain_params_1a039f50a3f8dff79e7f690651e56c3b63" kindref="member">CChainParams::Main</ref>().release()));</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a427e249480121a84d92187d5c424004b" kindref="member">btck_ChainType_TESTNET</ref>:<sp/>{</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainParameters::ref(</highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal"><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="class_c_chain_params_1ad3b9934cb255e1411287d76bacb83e24" kindref="member">CChainParams::TestNet</ref>().release()));</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a58fd9b621d90946e0237fdfc72430405" kindref="member">btck_ChainType_TESTNET_4</ref>:<sp/>{</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainParameters::ref(</highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal"><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="class_c_chain_params_1a8bca9e233d3d7e1b0c0aef8c12428e4a" kindref="member">CChainParams::TestNet4</ref>().release()));</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ab6cd6d718e961c8e7f38a1e2b9776506" kindref="member">btck_ChainType_SIGNET</ref>:<sp/>{</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainParameters::ref(</highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal"><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="class_c_chain_params_1af672b5e764519990b3e17eed6be8204c" kindref="member">CChainParams::SigNet</ref>({}).release()));</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a03a0d3dfcbf0e5b6aef95fee54183c4b" kindref="member">btck_ChainType_REGTEST</ref>:<sp/>{</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainParameters::ref(</highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal"><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="class_c_chain_params_1ab9b15b4e9c719bcd2e04ab5a1c856b70" kindref="member">CChainParams::RegTest</ref>({}).release()));</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="785"><highlight class="normal">}</highlight></codeline>
<codeline lineno="786"><highlight class="normal"></highlight></codeline>
<codeline lineno="787"><highlight class="normal"><ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a40a2a3e522ecd6696b524dfda4a393c8" kindref="member">btck_chain_parameters_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref>*<sp/>chain_parameters)</highlight></codeline>
<codeline lineno="788"><highlight class="normal">{</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainParameters::copy(chain_parameters);</highlight></codeline>
<codeline lineno="790"><highlight class="normal">}</highlight></codeline>
<codeline lineno="791"><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a233852b8d5d445200657eaebbfea048b" kindref="member">btck_chain_parameters_destroy</ref>(<ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref>*<sp/>chain_parameters)</highlight></codeline>
<codeline lineno="793"><highlight class="normal">{</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>chain_parameters;</highlight></codeline>
<codeline lineno="795"><highlight class="normal">}</highlight></codeline>
<codeline lineno="796"><highlight class="normal"></highlight></codeline>
<codeline lineno="797"><highlight class="normal"><ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a12d13d5129b239a9d7bd0d204df9c8a4" kindref="member">btck_context_options_create</ref>()</highlight></codeline>
<codeline lineno="798"><highlight class="normal">{</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ContextOptions::create();</highlight></codeline>
<codeline lineno="800"><highlight class="normal">}</highlight></codeline>
<codeline lineno="801"><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a8cdd00798e68700887769c6e7d40b92f" kindref="member">btck_context_options_set_chainparams</ref>(<ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref>*<sp/>options,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chain_parameters" kindref="compound">btck_ChainParameters</ref>*<sp/>chain_parameters)</highlight></codeline>
<codeline lineno="803"><highlight class="normal">{</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Copy<sp/>the<sp/>chainparams,<sp/>so<sp/>the<sp/>caller<sp/>can<sp/>free<sp/>it<sp/>again</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(btck_ContextOptions::get(options).m_mutex);</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/>btck_ContextOptions::get(options).m_chainparams<sp/>=<sp/>std::make_unique&lt;const<sp/>CChainParams&gt;(btck_ChainParameters::get(chain_parameters));</highlight></codeline>
<codeline lineno="807"><highlight class="normal">}</highlight></codeline>
<codeline lineno="808"><highlight class="normal"></highlight></codeline>
<codeline lineno="809"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a1157262771b3dfe327c919423944fdbd" kindref="member">btck_context_options_set_notifications</ref>(<ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref>*<sp/>options,<sp/><ref refid="structbtck___notification_interface_callbacks" kindref="compound">btck_NotificationInterfaceCallbacks</ref><sp/>notifications)</highlight></codeline>
<codeline lineno="810"><highlight class="normal">{</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>KernelNotifications<sp/>are<sp/>copy-initialized,<sp/>so<sp/>the<sp/>caller<sp/>can<sp/>free<sp/>them<sp/>again.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(btck_ContextOptions::get(options).m_mutex);</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/>btck_ContextOptions::get(options).m_notifications<sp/>=<sp/>std::make_shared&lt;KernelNotifications&gt;(notifications);</highlight></codeline>
<codeline lineno="814"><highlight class="normal">}</highlight></codeline>
<codeline lineno="815"><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1aad67c9ef730ea226f211b23103e55eb1" kindref="member">btck_context_options_set_validation_interface</ref>(<ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref>*<sp/>options,<sp/><ref refid="structbtck___validation_interface_callbacks" kindref="compound">btck_ValidationInterfaceCallbacks</ref><sp/>vi_cbs)</highlight></codeline>
<codeline lineno="817"><highlight class="normal">{</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(btck_ContextOptions::get(options).m_mutex);</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/>btck_ContextOptions::get(options).m_validation_interface<sp/>=<sp/>std::make_shared&lt;KernelValidationInterface&gt;(vi_cbs);</highlight></codeline>
<codeline lineno="820"><highlight class="normal">}</highlight></codeline>
<codeline lineno="821"><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a4b42bba63ba67cbd58ad16cabdbe7e13" kindref="member">btck_context_options_destroy</ref>(<ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref>*<sp/>options)</highlight></codeline>
<codeline lineno="823"><highlight class="normal">{</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>options;</highlight></codeline>
<codeline lineno="825"><highlight class="normal">}</highlight></codeline>
<codeline lineno="826"><highlight class="normal"></highlight></codeline>
<codeline lineno="827"><highlight class="normal"><ref refid="structbtck___context" kindref="compound">btck_Context</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a6e29ce4fc1b644f8c00b278ef4371d69" kindref="member">btck_context_create</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___context_options" kindref="compound">btck_ContextOptions</ref>*<sp/>options)</highlight></codeline>
<codeline lineno="828"><highlight class="normal">{</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>sane{</highlight><highlight class="keyword">true</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ContextOptions*<sp/>opts<sp/>=<sp/>options<sp/>?<sp/>&amp;btck_ContextOptions::get(options)<sp/>:<sp/>nullptr;</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>context{std::make_shared&lt;const<sp/>Context&gt;(opts,<sp/>sane)};</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!sane)<sp/>{</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Kernel<sp/>context<sp/>sanity<sp/>check<sp/>failed.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Context::create(context);</highlight></codeline>
<codeline lineno="837"><highlight class="normal">}</highlight></codeline>
<codeline lineno="838"><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"><ref refid="structbtck___context" kindref="compound">btck_Context</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a319653257872e0971a86e7455e8ce823" kindref="member">btck_context_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___context" kindref="compound">btck_Context</ref>*<sp/>context)</highlight></codeline>
<codeline lineno="840"><highlight class="normal">{</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Context::copy(context);</highlight></codeline>
<codeline lineno="842"><highlight class="normal">}</highlight></codeline>
<codeline lineno="843"><highlight class="normal"></highlight></codeline>
<codeline lineno="844"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a7ef26a7445cabc09e59dd522502fb99d" kindref="member">btck_context_interrupt</ref>(<ref refid="structbtck___context" kindref="compound">btck_Context</ref>*<sp/>context)</highlight></codeline>
<codeline lineno="845"><highlight class="normal">{</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*btck_Context::get(context)-&gt;m_interrupt)()<sp/>?<sp/>0<sp/>:<sp/>-1;</highlight></codeline>
<codeline lineno="847"><highlight class="normal">}</highlight></codeline>
<codeline lineno="848"><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a114797944ba1e31464bef03702fb7799" kindref="member">btck_context_destroy</ref>(<ref refid="structbtck___context" kindref="compound">btck_Context</ref>*<sp/>context)</highlight></codeline>
<codeline lineno="850"><highlight class="normal">{</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>context;</highlight></codeline>
<codeline lineno="852"><highlight class="normal">}</highlight></codeline>
<codeline lineno="853"><highlight class="normal"></highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a22eeb03040c406296e9d34de640d60e2" kindref="member">btck_block_tree_entry_get_previous</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/>entry)</highlight></codeline>
<codeline lineno="855"><highlight class="normal">{</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!btck_BlockTreeEntry::get(entry).pprev)<sp/>{</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Genesis<sp/>block<sp/>has<sp/>no<sp/>previous.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="860"><highlight class="normal"></highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockTreeEntry::ref(btck_BlockTreeEntry::get(entry).pprev);</highlight></codeline>
<codeline lineno="862"><highlight class="normal">}</highlight></codeline>
<codeline lineno="863"><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"><ref refid="bitcoinkernel_8h_1a4bc13ee068c06d10518692319d2ca456" kindref="member">btck_ValidationMode</ref><sp/><ref refid="bitcoinkernel_8cpp_1a3828538f84e64a899d9cbe887980f9d7" kindref="member">btck_block_validation_state_get_validation_mode</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_validation_state" kindref="compound">btck_BlockValidationState</ref>*<sp/>block_validation_state_)</highlight></codeline>
<codeline lineno="865"><highlight class="normal">{</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>block_validation_state<sp/>=<sp/>btck_BlockValidationState::get(block_validation_state_);</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(block_validation_state.IsValid())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ae69b3efcc85b2bb19cdbfe95e703c14c" kindref="member">btck_ValidationMode_VALID</ref>;</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(block_validation_state.IsInvalid())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ab421a07ce73d107faa8402a381536045" kindref="member">btck_ValidationMode_INVALID</ref>;</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1aad531646752842ac66255ca9629553e4" kindref="member">btck_ValidationMode_INTERNAL_ERROR</ref>;</highlight></codeline>
<codeline lineno="870"><highlight class="normal">}</highlight></codeline>
<codeline lineno="871"><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><ref refid="bitcoinkernel_8h_1a489ed5035df82be6fede6d75e818f7fc" kindref="member">btck_BlockValidationResult</ref><sp/><ref refid="bitcoinkernel_8cpp_1aeffc799ea76d7bcf01512dbf2eced64c" kindref="member">btck_block_validation_state_get_block_validation_result</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_validation_state" kindref="compound">btck_BlockValidationState</ref>*<sp/>block_validation_state_)</highlight></codeline>
<codeline lineno="873"><highlight class="normal">{</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>block_validation_state<sp/>=<sp/>btck_BlockValidationState::get(block_validation_state_);</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(block_validation_state.GetResult())<sp/>{</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580af1d64fcb3663d9ed3a1481fac607b54b" kindref="member">BlockValidationResult::BLOCK_RESULT_UNSET</ref>:</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a91383dec7186878b965b0989dc9a7db2" kindref="member">btck_BlockValidationResult_UNSET</ref>;</highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580a6d95354aa8213c32922ccc6fa949befb" kindref="member">BlockValidationResult::BLOCK_CONSENSUS</ref>:</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a8fa73cf307426b93e939ca181c3a3c72" kindref="member">btck_BlockValidationResult_CONSENSUS</ref>;</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580a66107f1a16fc14f7b8dff8becdf353b8" kindref="member">BlockValidationResult::BLOCK_CACHED_INVALID</ref>:</highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ac9f92d87e1ee770b081f54512b47e265" kindref="member">btck_BlockValidationResult_CACHED_INVALID</ref>;</highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580a5ba8236eb864c026cf09cd1d7d145bb9" kindref="member">BlockValidationResult::BLOCK_INVALID_HEADER</ref>:</highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ac093d3f28b1f1bdc9e03d310ce6dfd10" kindref="member">btck_BlockValidationResult_INVALID_HEADER</ref>;</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580aa74bec7838a1da98fe1e6e0620d31170" kindref="member">BlockValidationResult::BLOCK_MUTATED</ref>:</highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1af1d8b683977f10757fe4165eb70a58b2" kindref="member">btck_BlockValidationResult_MUTATED</ref>;</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580a75fe58bb96b5b8a9992cfc163cd38435" kindref="member">BlockValidationResult::BLOCK_MISSING_PREV</ref>:</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1aa033754920ac7be8b16934964c217cb6" kindref="member">btck_BlockValidationResult_MISSING_PREV</ref>;</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580a9bd09980f054effc42d4dac919472ead" kindref="member">BlockValidationResult::BLOCK_INVALID_PREV</ref>:</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a351a71ae14b9db5d36b2592a6e05ee77" kindref="member">btck_BlockValidationResult_INVALID_PREV</ref>;</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580aaec42241441df64f66774cd2cc142830" kindref="member">BlockValidationResult::BLOCK_TIME_FUTURE</ref>:</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1ac1d56a3a670560fa10d117b629db898e" kindref="member">btck_BlockValidationResult_TIME_FUTURE</ref>;</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="consensus_2validation_8h_1ab12ebe934df246179ab286448e7ef580a5a70bd865d41ac7d01f874abc5124e99" kindref="member">BlockValidationResult::BLOCK_HEADER_LOW_WORK</ref>:</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8h_1a2cfed611d01cd106eb719a6766fe15a8" kindref="member">btck_BlockValidationResult_HEADER_LOW_WORK</ref>;</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>no<sp/>default<sp/>case,<sp/>so<sp/>the<sp/>compiler<sp/>can<sp/>warn<sp/>about<sp/>missing<sp/>cases</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="896"><highlight class="normal">}</highlight></codeline>
<codeline lineno="897"><highlight class="normal"></highlight></codeline>
<codeline lineno="898"><highlight class="normal"><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1aed7732d975e5063e94dc5da7ad5c8e2d" kindref="member">btck_chainstate_manager_options_create</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___context" kindref="compound">btck_Context</ref>*<sp/>context,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>data_dir,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>data_dir_len,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>blocks_dir,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>blocks_dir_len)</highlight></codeline>
<codeline lineno="899"><highlight class="normal">{</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(data_dir<sp/>==<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>||<sp/>data_dir_len<sp/>==<sp/>0<sp/>||<sp/>blocks_dir<sp/>==<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>||<sp/>blocks_dir_len<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>create<sp/>chainstate<sp/>manager<sp/>options:<sp/>dir<sp/>must<sp/>be<sp/>non-null<sp/>and<sp/>non-empty&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fs::path<sp/>abs_data_dir{fs::absolute(fs::PathFromString({data_dir,<sp/>data_dir_len}))};</highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fs::create_directories(abs_data_dir);</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fs::path<sp/>abs_blocks_dir{fs::absolute(fs::PathFromString({blocks_dir,<sp/>blocks_dir_len}))};</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fs::create_directories(abs_blocks_dir);</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainstateManagerOptions::create(btck_Context::get(context),<sp/>abs_data_dir,<sp/>abs_blocks_dir);</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::exception&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>create<sp/>chainstate<sp/>manager<sp/>options:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>e.what());</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="914"><highlight class="normal">}</highlight></codeline>
<codeline lineno="915"><highlight class="normal"></highlight></codeline>
<codeline lineno="916"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ae50c9f1e86aff3cd3809cf32c276762c" kindref="member">btck_chainstate_manager_options_set_worker_threads_num</ref>(<ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref>*<sp/>opts,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>worker_threads)</highlight></codeline>
<codeline lineno="917"><highlight class="normal">{</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(btck_ChainstateManagerOptions::get(opts).m_mutex);</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/>btck_ChainstateManagerOptions::get(opts).m_chainman_options.worker_threads_num<sp/>=<sp/>worker_threads;</highlight></codeline>
<codeline lineno="920"><highlight class="normal">}</highlight></codeline>
<codeline lineno="921"><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1adcb84351e43dab1b2b775dd92b3ccbe2" kindref="member">btck_chainstate_manager_options_destroy</ref>(<ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref>*<sp/>options)</highlight></codeline>
<codeline lineno="923"><highlight class="normal">{</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>options;</highlight></codeline>
<codeline lineno="925"><highlight class="normal">}</highlight></codeline>
<codeline lineno="926"><highlight class="normal"></highlight></codeline>
<codeline lineno="927"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a7c9acdfdb6c687d0ad99d39fdd665733" kindref="member">btck_chainstate_manager_options_set_wipe_dbs</ref>(<ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref>*<sp/>chainman_opts,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>wipe_block_tree_db,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>wipe_chainstate_db)</highlight></codeline>
<codeline lineno="928"><highlight class="normal">{</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wipe_block_tree_db<sp/>==<sp/>1<sp/>&amp;&amp;<sp/>wipe_chainstate_db<sp/>!=<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Wiping<sp/>the<sp/>block<sp/>tree<sp/>db<sp/>without<sp/>also<sp/>wiping<sp/>the<sp/>chainstate<sp/>db<sp/>is<sp/>currently<sp/>unsupported.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>opts{btck_ChainstateManagerOptions::get(chainman_opts)};</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(opts.m_mutex);</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.m_blockman_options.block_tree_db_params.wipe_data<sp/>=<sp/>wipe_block_tree_db<sp/>==<sp/>1;</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.m_chainstate_load_options.wipe_chainstate_db<sp/>=<sp/>wipe_chainstate_db<sp/>==<sp/>1;</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="938"><highlight class="normal">}</highlight></codeline>
<codeline lineno="939"><highlight class="normal"></highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a3a38f969b42e4f6094fb95c0adefe7c7" kindref="member">btck_chainstate_manager_options_update_block_tree_db_in_memory</ref>(</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref>*<sp/>chainman_opts,</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>block_tree_db_in_memory)</highlight></codeline>
<codeline lineno="943"><highlight class="normal">{</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>opts{btck_ChainstateManagerOptions::get(chainman_opts)};</highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(opts.m_mutex);</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.m_blockman_options.block_tree_db_params.memory_only<sp/>=<sp/>block_tree_db_in_memory<sp/>==<sp/>1;</highlight></codeline>
<codeline lineno="947"><highlight class="normal">}</highlight></codeline>
<codeline lineno="948"><highlight class="normal"></highlight></codeline>
<codeline lineno="949"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a18713ab39e0a43180c1d4c88cd25552e" kindref="member">btck_chainstate_manager_options_update_chainstate_db_in_memory</ref>(</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref>*<sp/>chainman_opts,</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>chainstate_db_in_memory)</highlight></codeline>
<codeline lineno="952"><highlight class="normal">{</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>opts{btck_ChainstateManagerOptions::get(chainman_opts)};</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(opts.m_mutex);</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.m_chainstate_load_options.coins_db_in_memory<sp/>=<sp/>chainstate_db_in_memory<sp/>==<sp/>1;</highlight></codeline>
<codeline lineno="956"><highlight class="normal">}</highlight></codeline>
<codeline lineno="957"><highlight class="normal"></highlight></codeline>
<codeline lineno="958"><highlight class="normal"><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a64b0714aeb95c089b10b23c15f2f9172" kindref="member">btck_chainstate_manager_create</ref>(</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chainstate_manager_options" kindref="compound">btck_ChainstateManagerOptions</ref>*<sp/>chainman_opts)</highlight></codeline>
<codeline lineno="960"><highlight class="normal">{</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>opts{btck_ChainstateManagerOptions::get(chainman_opts)};</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;ChainstateManager&gt;<sp/>chainman;</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(opts.m_mutex);</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainman<sp/>=<sp/>std::make_unique&lt;ChainstateManager&gt;(*opts.m_context-&gt;m_interrupt,<sp/>opts.m_chainman_options,<sp/>opts.m_blockman_options);</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::exception&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>create<sp/>chainstate<sp/>manager:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>e.what());</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="970"><highlight class="normal"></highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>chainstate_load_opts{<ref refid="sync_8h_1ab3029e545f54f330170cbf37f0819693" kindref="member">WITH_LOCK</ref>(opts.m_mutex,<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>opts.m_chainstate_load_options)};</highlight></codeline>
<codeline lineno="973"><highlight class="normal"></highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structkernel_1_1_cache_sizes" kindref="compound">kernel::CacheSizes</ref><sp/>cache_sizes{DEFAULT_KERNEL_CACHE};</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>[status,<sp/>chainstate_err]{<ref refid="namespacenode_1a2d650cf978844ae65f6667c85fc53ede" kindref="member">node::LoadChainstate</ref>(*chainman,<sp/>cache_sizes,<sp/>chainstate_load_opts)};</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="namespacenode_1a779805e7cdbdeb11f4034a67cffd8cc9ad0749aaba8b833466dfcbb0428e4f89c" kindref="member">node::ChainstateLoadStatus::SUCCESS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>load<sp/>chain<sp/>state<sp/>from<sp/>your<sp/>data<sp/>directory:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>chainstate_err.original);</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::tie(status,<sp/>chainstate_err)<sp/>=<sp/><ref refid="namespacenode_1aa25a7902215e7a3de72f3b19a4372167" kindref="member">node::VerifyLoadedChainstate</ref>(*chainman,<sp/>chainstate_load_opts);</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="namespacenode_1a779805e7cdbdeb11f4034a67cffd8cc9ad0749aaba8b833466dfcbb0428e4f89c" kindref="member">node::ChainstateLoadStatus::SUCCESS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>verify<sp/>loaded<sp/>chain<sp/>state<sp/>from<sp/>your<sp/>datadir:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>chainstate_err.original);</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>chainman-&gt;ActivateBestChains();<sp/>!result)<sp/>{</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;%s&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespaceutil_1adbcebd9741ba34de94c8384025e54825" kindref="member">util::ErrorString</ref>(result).original);</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::exception&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>load<sp/>chainstate:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>e.what());</highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="993"><highlight class="normal"></highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainstateManager::create(std::move(chainman),<sp/>opts.m_context);</highlight></codeline>
<codeline lineno="995"><highlight class="normal">}</highlight></codeline>
<codeline lineno="996"><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1aba1078358bafa199fd022c12e4a8028b" kindref="member">btck_chainstate_manager_get_block_tree_entry_by_hash</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref>*<sp/>chainman,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/>block_hash)</highlight></codeline>
<codeline lineno="998"><highlight class="normal">{</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>block_index<sp/>=<sp/><ref refid="sync_8h_1ab3029e545f54f330170cbf37f0819693" kindref="member">WITH_LOCK</ref>(btck_ChainstateManager::get(chainman).m_chainman-&gt;GetMutex(),</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainstateManager::get(chainman).m_chainman-&gt;m_blockman.LookupBlockIndex(btck_BlockHash::get(block_hash)));</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!block_index)<sp/>{</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1adeb58140a1c97947ad5d0c641415f1fc" kindref="member">LogDebug</ref>(<ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a53c6e691e7db9eceefc0fb37cb724cd2" kindref="member">BCLog::KERNEL</ref>,<sp/></highlight><highlight class="stringliteral">&quot;A<sp/>block<sp/>with<sp/>the<sp/>given<sp/>hash<sp/>is<sp/>not<sp/>indexed.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockTreeEntry::ref(block_index);</highlight></codeline>
<codeline lineno="1006"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"></highlight></codeline>
<codeline lineno="1008"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1adc359db4a835a7aca8986f8ffe026a70" kindref="member">btck_chainstate_manager_destroy</ref>(<ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref>*<sp/>chainman)</highlight></codeline>
<codeline lineno="1009"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(btck_ChainstateManager::get(chainman).m_chainman-&gt;GetMutex());</highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>chainstate<sp/>:<sp/>btck_ChainstateManager::get(chainman).m_chainman-&gt;m_chainstates)<sp/>{</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chainstate-&gt;CanFlushToDisk())<sp/>{</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainstate-&gt;ForceFlushStateToDisk();</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainstate-&gt;ResetCoinsViews();</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"></highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>chainman;</highlight></codeline>
<codeline lineno="1021"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"></highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a0cca58f061620dc6db1cd45c3f80275f" kindref="member">btck_chainstate_manager_import_blocks</ref>(<ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref>*<sp/>chainman,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">**<sp/>block_file_paths_data,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">*<sp/>block_file_paths_lens,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>block_file_paths_data_len)</highlight></codeline>
<codeline lineno="1024"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;fs::path&gt;<sp/>import_files;</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>import_files.reserve(block_file_paths_data_len);</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(uint32_t<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>block_file_paths_data_len;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(block_file_paths_data[i]<sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>import_files.emplace_back(std::string{block_file_paths_data[i],<sp/>block_file_paths_lens[i]}.c_str());</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode_1a50030ce5206985e346250590dabd6d88" kindref="member">node::ImportBlocks</ref>(*btck_ChainstateManager::get(chainman).m_chainman,<sp/>import_files);</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::exception&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>import<sp/>blocks:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>e.what());</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="1039"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"></highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a3a333df2328085e70f8d04ac3ef84398" kindref="member">btck_block_create</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>raw_block,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>raw_block_length)</highlight></codeline>
<codeline lineno="1042"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(raw_block<sp/>==<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>raw_block_length<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>block{std::make_shared&lt;CBlock&gt;()};</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"></highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_data_stream" kindref="compound">DataStream</ref><sp/>stream{std::span{</highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">std::byte*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(raw_block),<sp/>raw_block_length}};</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"></highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream<sp/>&gt;&gt;<sp/>TX_WITH_WITNESS(*block);</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(...)<sp/>{</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1adeb58140a1c97947ad5d0c641415f1fc" kindref="member">LogDebug</ref>(<ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a53c6e691e7db9eceefc0fb37cb724cd2" kindref="member">BCLog::KERNEL</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Block<sp/>decode<sp/>failed.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Block::create(block);</highlight></codeline>
<codeline lineno="1058"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ada16660a120ee4d0a56ddf53018d3de0" kindref="member">btck_block_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/>block)</highlight></codeline>
<codeline lineno="1061"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Block::copy(block);</highlight></codeline>
<codeline lineno="1063"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"></highlight></codeline>
<codeline lineno="1065"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a48138019787f18d0a0e54fced0dd84eb" kindref="member">btck_block_count_transactions</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/>block)</highlight></codeline>
<codeline lineno="1066"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Block::get(block)-&gt;vtx.size();</highlight></codeline>
<codeline lineno="1068"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"></highlight></codeline>
<codeline lineno="1070"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction" kindref="compound">btck_Transaction</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1aea90ba76177b9d7fa605a2cade882669" kindref="member">btck_block_get_transaction_at</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/>block,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>index)</highlight></codeline>
<codeline lineno="1071"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(index<sp/>&lt;<sp/>btck_Block::get(block)-&gt;vtx.size());</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Transaction::ref(&amp;btck_Block::get(block)-&gt;vtx[index]);</highlight></codeline>
<codeline lineno="1074"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"></highlight></codeline>
<codeline lineno="1076"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a002c617470d4440c0cf5f1335a9033d2" kindref="member">btck_block_to_bytes</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/>block,<sp/><ref refid="bitcoinkernel_8h_1a220931a33212ceb13141dc5a06e077f7" kindref="member">btck_WriteBytes</ref><sp/>writer,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>user_data)</highlight></codeline>
<codeline lineno="1077"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WriterStream<sp/>ws{writer,<sp/>user_data};</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ws<sp/>&lt;&lt;<sp/>TX_WITH_WITNESS(*btck_Block::get(block));</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(...)<sp/>{</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1085"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a6a73754107d2f3890f6aee0d82654c13" kindref="member">btck_block_get_hash</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/>block)</highlight></codeline>
<codeline lineno="1088"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockHash::create(btck_Block::get(block)-&gt;GetHash());</highlight></codeline>
<codeline lineno="1090"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"></highlight></codeline>
<codeline lineno="1092"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a2b6053ae8eb9c473361f67d14f8b15a5" kindref="member">btck_block_destroy</ref>(<ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/>block)</highlight></codeline>
<codeline lineno="1093"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>block;</highlight></codeline>
<codeline lineno="1095"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"></highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ab2f23da0f5c9af0fad61de2c179ab3f0" kindref="member">btck_block_read</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref>*<sp/>chainman,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/>entry)</highlight></codeline>
<codeline lineno="1098"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>block{std::make_shared&lt;CBlock&gt;()};</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!btck_ChainstateManager::get(chainman).m_chainman-&gt;m_blockman.ReadBlock(*block,<sp/>btck_BlockTreeEntry::get(entry)))<sp/>{</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>read<sp/>block.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Block::create(block);</highlight></codeline>
<codeline lineno="1105"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"></highlight></codeline>
<codeline lineno="1107"><highlight class="normal">int32_t<sp/><ref refid="bitcoinkernel_8cpp_1ac9fd995c66454789461c4cd600149999" kindref="member">btck_block_tree_entry_get_height</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/>entry)</highlight></codeline>
<codeline lineno="1108"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockTreeEntry::get(entry).nHeight;</highlight></codeline>
<codeline lineno="1110"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"></highlight></codeline>
<codeline lineno="1112"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ae38d0888b0c1104b5e0f5c04e72ec5eb" kindref="member">btck_block_tree_entry_get_block_hash</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/>entry)</highlight></codeline>
<codeline lineno="1113"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockHash::ref(btck_BlockTreeEntry::get(entry).phashBlock);</highlight></codeline>
<codeline lineno="1115"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"></highlight></codeline>
<codeline lineno="1117"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a41c406a00ec6c38a26a2b01b502150ec" kindref="member">btck_block_tree_entry_equals</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/>entry1,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/>entry2)</highlight></codeline>
<codeline lineno="1118"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;btck_BlockTreeEntry::get(entry1)<sp/>==<sp/>&amp;btck_BlockTreeEntry::get(entry2);</highlight></codeline>
<codeline lineno="1120"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"></highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1aa32423bb12e56bfcfa79f59fe1ff646f" kindref="member">btck_block_hash_create</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>block_hash[32])</highlight></codeline>
<codeline lineno="1123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockHash::create(std::span&lt;const<sp/>unsigned<sp/>char&gt;{block_hash,<sp/>32});</highlight></codeline>
<codeline lineno="1125"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"></highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a019df01a13b93fb06fb3d35fdf7fdf9a" kindref="member">btck_block_hash_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/>block_hash)</highlight></codeline>
<codeline lineno="1128"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockHash::copy(block_hash);</highlight></codeline>
<codeline lineno="1130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1af0bc67b0ffac66ed3e897b8e06579706" kindref="member">btck_block_hash_to_bytes</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/>block_hash,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>output[32])</highlight></codeline>
<codeline lineno="1133"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/>std::memcpy(output,<sp/>btck_BlockHash::get(block_hash).begin(),<sp/>32);</highlight></codeline>
<codeline lineno="1135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1137"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1abfa78ded897eedd6a2e5a9e6b74f0032" kindref="member">btck_block_hash_equals</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/>hash1,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/>hash2)</highlight></codeline>
<codeline lineno="1138"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockHash::get(hash1)<sp/>==<sp/>btck_BlockHash::get(hash2);</highlight></codeline>
<codeline lineno="1140"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"></highlight></codeline>
<codeline lineno="1142"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a7b9e0e7414932f03ab95ae0a0aa68cb3" kindref="member">btck_block_hash_destroy</ref>(<ref refid="structbtck___block_hash" kindref="compound">btck_BlockHash</ref>*<sp/>hash)</highlight></codeline>
<codeline lineno="1143"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>hash;</highlight></codeline>
<codeline lineno="1145"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"></highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a63300fab75067c297bc69e65d9e13cac" kindref="member">btck_block_spent_outputs_read</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref>*<sp/>chainman,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/>entry)</highlight></codeline>
<codeline lineno="1148"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>block_undo{std::make_shared&lt;CBlockUndo&gt;()};</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(btck_BlockTreeEntry::get(entry).<ref refid="mempool__ephemeral__spends_8cpp_1a2e4c6b811457a16b7033af6741cfb1db" kindref="member">nHeight</ref><sp/>&lt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1adeb58140a1c97947ad5d0c641415f1fc" kindref="member">LogDebug</ref>(<ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395a53c6e691e7db9eceefc0fb37cb724cd2" kindref="member">BCLog::KERNEL</ref>,<sp/></highlight><highlight class="stringliteral">&quot;The<sp/>genesis<sp/>block<sp/>does<sp/>not<sp/>have<sp/>any<sp/>spent<sp/>outputs.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockSpentOutputs::create(block_undo);</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!btck_ChainstateManager::get(chainman).m_chainman-&gt;m_blockman.ReadBlockUndo(*block_undo,<sp/>btck_BlockTreeEntry::get(entry)))<sp/>{</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>read<sp/>block<sp/>spent<sp/>outputs<sp/>data.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockSpentOutputs::create(block_undo);</highlight></codeline>
<codeline lineno="1159"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"></highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a5d73efd6beb555251ff413bb4968cd5a" kindref="member">btck_block_spent_outputs_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref>*<sp/>block_spent_outputs)</highlight></codeline>
<codeline lineno="1162"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockSpentOutputs::copy(block_spent_outputs);</highlight></codeline>
<codeline lineno="1164"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"></highlight></codeline>
<codeline lineno="1166"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1abd876d68995bbe2243b011951784d83e" kindref="member">btck_block_spent_outputs_count</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref>*<sp/>block_spent_outputs)</highlight></codeline>
<codeline lineno="1167"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockSpentOutputs::get(block_spent_outputs)-&gt;vtxundo.size();</highlight></codeline>
<codeline lineno="1169"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"></highlight></codeline>
<codeline lineno="1171"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a6e247410f137fb44d1cea050f5aa22b0" kindref="member">btck_block_spent_outputs_get_transaction_spent_outputs_at</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref>*<sp/>block_spent_outputs,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>transaction_index)</highlight></codeline>
<codeline lineno="1172"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(transaction_index<sp/>&lt;<sp/>btck_BlockSpentOutputs::get(block_spent_outputs)-&gt;vtxundo.size());</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">*<sp/>tx_undo{&amp;btck_BlockSpentOutputs::get(block_spent_outputs)-&gt;vtxundo.at(transaction_index)};</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionSpentOutputs::ref(tx_undo);</highlight></codeline>
<codeline lineno="1176"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"></highlight></codeline>
<codeline lineno="1178"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1aca1dd28ecba0dbd50787984626d65391" kindref="member">btck_block_spent_outputs_destroy</ref>(<ref refid="structbtck___block_spent_outputs" kindref="compound">btck_BlockSpentOutputs</ref>*<sp/>block_spent_outputs)</highlight></codeline>
<codeline lineno="1179"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>block_spent_outputs;</highlight></codeline>
<codeline lineno="1181"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"></highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ac0fbd958dd48cbb38c7610123fecb799" kindref="member">btck_transaction_spent_outputs_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref>*<sp/>transaction_spent_outputs)</highlight></codeline>
<codeline lineno="1184"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionSpentOutputs::copy(transaction_spent_outputs);</highlight></codeline>
<codeline lineno="1186"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"></highlight></codeline>
<codeline lineno="1188"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1afad243ce22767349634da09802b10259" kindref="member">btck_transaction_spent_outputs_count</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref>*<sp/>transaction_spent_outputs)</highlight></codeline>
<codeline lineno="1189"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionSpentOutputs::get(transaction_spent_outputs).vprevout.size();</highlight></codeline>
<codeline lineno="1191"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"></highlight></codeline>
<codeline lineno="1193"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a215fcf2ac21299b43672e69834701363" kindref="member">btck_transaction_spent_outputs_destroy</ref>(<ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref>*<sp/>transaction_spent_outputs)</highlight></codeline>
<codeline lineno="1194"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>transaction_spent_outputs;</highlight></codeline>
<codeline lineno="1196"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"></highlight></codeline>
<codeline lineno="1198"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a0dceaf7372ae6493a906ab120b543866" kindref="member">btck_transaction_spent_outputs_get_coin_at</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_spent_outputs" kindref="compound">btck_TransactionSpentOutputs</ref>*<sp/>transaction_spent_outputs,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>coin_index)</highlight></codeline>
<codeline lineno="1199"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(coin_index<sp/>&lt;<sp/>btck_TransactionSpentOutputs::get(transaction_spent_outputs).vprevout.size());</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_coin" kindref="compound">Coin</ref>*<sp/>coin{&amp;btck_TransactionSpentOutputs::get(transaction_spent_outputs).vprevout.at(coin_index)};</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Coin::ref(coin);</highlight></codeline>
<codeline lineno="1203"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"></highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1ae2777f805a748d82a1708cb5bc2effa0" kindref="member">btck_coin_copy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref>*<sp/>coin)</highlight></codeline>
<codeline lineno="1206"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Coin::copy(coin);</highlight></codeline>
<codeline lineno="1208"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"></highlight></codeline>
<codeline lineno="1210"><highlight class="normal">uint32_t<sp/><ref refid="bitcoinkernel_8cpp_1a0ee6c394cbee80c89f37bef1eeceefc8" kindref="member">btck_coin_confirmation_height</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref>*<sp/>coin)</highlight></codeline>
<codeline lineno="1211"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Coin::get(coin).nHeight;</highlight></codeline>
<codeline lineno="1213"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a753a9fb41d47ab0edb518cc7e4624827" kindref="member">btck_coin_is_coinbase</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref>*<sp/>coin)</highlight></codeline>
<codeline lineno="1216"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Coin::get(coin).IsCoinBase()<sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="1218"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"></highlight></codeline>
<codeline lineno="1220"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___transaction_output" kindref="compound">btck_TransactionOutput</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1a701e2699657f7d2866b611aa4c23db77" kindref="member">btck_coin_get_output</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___coin" kindref="compound">btck_Coin</ref>*<sp/>coin)</highlight></codeline>
<codeline lineno="1221"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_TransactionOutput::ref(&amp;btck_Coin::get(coin).out);</highlight></codeline>
<codeline lineno="1223"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"></highlight></codeline>
<codeline lineno="1225"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1a8a1fc1828b5f48df6a133fa96d0215dc" kindref="member">btck_coin_destroy</ref>(<ref refid="structbtck___coin" kindref="compound">btck_Coin</ref>*<sp/>coin)</highlight></codeline>
<codeline lineno="1226"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>coin;</highlight></codeline>
<codeline lineno="1228"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"></highlight></codeline>
<codeline lineno="1230"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ad09658ae575faf11d6fe3367d00ff542" kindref="member">btck_chainstate_manager_process_block</ref>(</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref>*<sp/>chainman,</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block" kindref="compound">btck_Block</ref>*<sp/>block,</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>_new_block)</highlight></codeline>
<codeline lineno="1234"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>new_block;</highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>btck_ChainstateManager::get(chainman).m_chainman-&gt;ProcessNewBlock(btck_Block::get(block),<sp/></highlight><highlight class="comment">/*force_processing=*/</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="comment">/*min_pow_checked=*/</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="comment">/*new_block=*/</highlight><highlight class="normal">&amp;new_block);</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_new_block)<sp/>{</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*_new_block<sp/>=<sp/>new_block<sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result<sp/>?<sp/>0<sp/>:<sp/>-1;</highlight></codeline>
<codeline lineno="1241"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"></highlight></codeline>
<codeline lineno="1243"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chain" kindref="compound">btck_Chain</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1aec17db21b9810f392aef1201fc431b81" kindref="member">btck_chainstate_manager_get_active_chain</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chainstate_manager" kindref="compound">btck_ChainstateManager</ref>*<sp/>chainman)</highlight></codeline>
<codeline lineno="1244"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Chain::ref(&amp;<ref refid="sync_8h_1ab3029e545f54f330170cbf37f0819693" kindref="member">WITH_LOCK</ref>(btck_ChainstateManager::get(chainman).m_chainman-&gt;GetMutex(),<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_ChainstateManager::get(chainman).m_chainman-&gt;ActiveChain()));</highlight></codeline>
<codeline lineno="1246"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"></highlight></codeline>
<codeline lineno="1248"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ad4b4beb7ddf252d4708bc1047adcf076" kindref="member">btck_chain_get_height</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chain" kindref="compound">btck_Chain</ref>*<sp/>chain)</highlight></codeline>
<codeline lineno="1249"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Chain::get(chain).Height();</highlight></codeline>
<codeline lineno="1252"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"></highlight></codeline>
<codeline lineno="1254"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/><ref refid="bitcoinkernel_8cpp_1abefa509c5a6a398ba3be2878dc5b0f3b" kindref="member">btck_chain_get_by_height</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chain" kindref="compound">btck_Chain</ref>*<sp/>chain,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height)</highlight></codeline>
<codeline lineno="1255"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_BlockTreeEntry::ref(btck_Chain::get(chain)[height]);</highlight></codeline>
<codeline lineno="1258"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"></highlight></codeline>
<codeline lineno="1260"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="bitcoinkernel_8cpp_1ab9cd579cbded6eee5056841f68c43911" kindref="member">btck_chain_contains</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___chain" kindref="compound">btck_Chain</ref>*<sp/>chain,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structbtck___block_tree_entry" kindref="compound">btck_BlockTreeEntry</ref>*<sp/>entry)</highlight></codeline>
<codeline lineno="1261"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>btck_Chain::get(chain).Contains(&amp;btck_BlockTreeEntry::get(entry))<sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="1264"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="src/kernel/bitcoinkernel.cpp"/>
  </compounddef>
</doxygen>
