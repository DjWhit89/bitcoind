<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="md_src_2ipc_2libmultiprocess_2doc_2install" kind="page">
    <compoundname>md_src_2ipc_2libmultiprocess_2doc_2install</compoundname>
    <title>libmultiprocess Installation</title>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><anchor id="md_src_2ipc_2libmultiprocess_2doc_2install_1autotoc_md19"/></para>
<para>Installation currently requires Cap&apos;n Proto 0.7 or higher:</para>
<para><programlisting filename=".sh"><codeline><highlight class="normal">apt<sp/>install<sp/>libcapnp-dev<sp/>capnproto</highlight></codeline>
<codeline><highlight class="normal">brew<sp/>install<sp/>capnp<sp/>cmake</highlight></codeline>
<codeline><highlight class="normal">dnf<sp/>install<sp/>capnproto</highlight></codeline>
</programlisting></para>
<para>Installation steps are:</para>
<para><programlisting filename=".sh"><codeline><highlight class="normal">mkdir<sp/>build</highlight></codeline>
<codeline><highlight class="normal">cd<sp/>build</highlight></codeline>
<codeline><highlight class="normal">cmake<sp/>..</highlight></codeline>
<codeline><highlight class="normal">make</highlight></codeline>
<codeline><highlight class="normal">make<sp/>check<sp/>#<sp/>Optionally<sp/>build<sp/>and<sp/>run<sp/>tests</highlight></codeline>
<codeline><highlight class="normal">make<sp/>install</highlight></codeline>
</programlisting></para>
<para>To build with libmultiprocess in a CMake project can specify:</para>
<para><programlisting filename=".cmake"><codeline><highlight class="normal">find_package(Libmultiprocess)</highlight></codeline>
<codeline><highlight class="normal">target_capnp_sources(mytarget<sp/>${CMAKE_CURRENT_SOURCE_DIR}<sp/>myschema.capnp)</highlight></codeline>
</programlisting></para>
<para>Which will locate the libmultiprocess cmake package, and call the <computeroutput>target_capnp_sources</computeroutput> function to generate C++ files and link them into a library or executable target. See <computeroutput>example/CMakeLists.txt</computeroutput> for a complete example.</para>
<para>To build with libmultiprocess in a non-CMake project can use installed <computeroutput>&lt;<ref refid="rest_8cpp_1a5b41c5ae4505891e6c53e26df197e02b" kindref="member">prefix</ref>&gt;/include/mpgen.mk</computeroutput> Makefile rule to generate C++ files, and <computeroutput>&lt;<ref refid="rest_8cpp_1a5b41c5ae4505891e6c53e26df197e02b" kindref="member">prefix</ref>&gt;/lib/pkgconfig/libmultiprocess.pc</computeroutput> pkg-config definition to link against the runtime library.</para>
<para>For cross-compilation, it may be useful to build the runtime library and code generation binaries separately, which can be done with:</para>
<para><programlisting filename=".sh"><codeline><highlight class="normal">make<sp/>install-bin<sp/>#<sp/>install<sp/>bin/mpgen<sp/>and<sp/>related<sp/>files</highlight></codeline>
<codeline><highlight class="normal">make<sp/>install-lib<sp/>#<sp/>install<sp/>lib/libmultiprocess.a<sp/>and<sp/>related<sp/>files</highlight></codeline>
</programlisting></para>
<para>It is also possible to import CMake targets separately with:</para>
<para><programlisting filename=".cmake"><codeline><highlight class="normal">find_package(Libmultiprocess<sp/>COMPONENTS<sp/>Bin)</highlight></codeline>
<codeline><highlight class="normal">find_package(Libmultiprocess<sp/>COMPONENTS<sp/>Lib)</highlight></codeline>
</programlisting> </para>
    </detaileddescription>
    <location file="src/ipc/libmultiprocess/doc/install.md"/>
  </compounddef>
</doxygen>
