<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="dir_b913f3b33dce7997602be4df0072012c" kind="dir">
    <compoundname>src/ipc/libmultiprocess/ci</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<sect1 id="dir_b913f3b33dce7997602be4df0072012c_1autotoc_md13">
<title>CI quick-reference</title><para>All CI is just bash and nix.</para>
<para><itemizedlist>
<listitem><para><bold>Workflow</bold>:<itemizedlist>
<listitem><para><computeroutput>.github/workflows/ci.yml</computeroutput> – lists the jobs (<computeroutput>default</computeroutput>, <computeroutput>llvm</computeroutput>, …).</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>Scripts</bold>:<itemizedlist>
<listitem><para><computeroutput>ci/scripts/run.sh</computeroutput> – spins up the Nix shell then calls…</para>
</listitem><listitem><para><computeroutput>ci/scripts/ci.sh</computeroutput> – …to configure, build, and test.</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>Configuration</bold>:<itemizedlist>
<listitem><para><computeroutput>ci/configs/*.sh</computeroutput> – defines flags for each job.</para>
</listitem><listitem><para><computeroutput>shell.nix</computeroutput> – defines build environment (compilers, tools, libraries).</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>Build directories</bold>:<itemizedlist>
<listitem><para><computeroutput>build-*/</computeroutput> – separate build directories (like <computeroutput>build-default</computeroutput>, <computeroutput>build-llvm</computeroutput>) will be created for each job.</para>
</listitem></itemizedlist>
</para>
</listitem></itemizedlist>
</para>
<para>To run jobs locally:</para>
<para><programlisting filename=".bash"><codeline><highlight class="normal">CI_CONFIG=ci/configs/default.bash<sp/><sp/>ci/scripts/run.sh</highlight></codeline>
<codeline><highlight class="normal">CI_CONFIG=ci/configs/llvm.bash<sp/><sp/><sp/><sp/><sp/>ci/scripts/run.sh</highlight></codeline>
<codeline><highlight class="normal">CI_CONFIG=ci/configs/gnu32.bash<sp/><sp/><sp/><sp/>ci/scripts/run.sh</highlight></codeline>
<codeline><highlight class="normal">CI_CONFIG=ci/configs/sanitize.bash<sp/>ci/scripts/run.sh</highlight></codeline>
<codeline><highlight class="normal">CI_CONFIG=ci/configs/olddeps.bash<sp/><sp/>ci/scripts/run.sh</highlight></codeline>
</programlisting></para>
<para>By default CI jobs will reuse their build directories. <computeroutput>CI_CLEAN=1</computeroutput> can be specified to delete them before running instead. </para>
</sect1>
    </detaileddescription>
    <location file="src/ipc/libmultiprocess/ci/"/>
  </compounddef>
</doxygen>
