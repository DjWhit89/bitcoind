<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="class_epoch" kind="class" language="C++" prot="public">
    <compoundname>Epoch</compoundname>
    <includes refid="epochguard_8h" local="no">epochguard.h</includes>
    <innerclass refid="class_epoch_1_1_marker" prot="public">Epoch::Marker</innerclass>
    <innerclass refid="class_epoch_1_1_guard" prot="public">Epoch::Guard</innerclass>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="class_epoch_1af6b307d1a0d5c5af72f416e65633570f" prot="private" static="no" mutable="no">
        <type>uint64_t</type>
        <definition>uint64_t m_raw_epoch</definition>
        <argsstring></argsstring>
        <name>m_raw_epoch</name>
        <qualifiedname>Epoch::m_raw_epoch</qualifiedname>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="37" column="14" bodyfile="src/util/epochguard.h" bodystart="37" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_epoch_1a2a3cb5314abe058075f7b9b2eae7763b" prot="private" static="no" mutable="no">
        <type>bool</type>
        <definition>bool m_guarded</definition>
        <argsstring></argsstring>
        <name>m_guarded</name>
        <qualifiedname>Epoch::m_guarded</qualifiedname>
        <initializer>= false</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="38" column="10" bodyfile="src/util/epochguard.h" bodystart="38" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="class_epoch_1a0f329154e2f4b4821fc8ac27b71249ae" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>Epoch</definition>
        <argsstring>()=default</argsstring>
        <name>Epoch</name>
        <qualifiedname>Epoch::Epoch</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="41" column="5"/>
      </memberdef>
      <memberdef kind="function" id="class_epoch_1afa3d238e46b911a1710736f8cf612615" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>Epoch</definition>
        <argsstring>(const Epoch &amp;)=delete</argsstring>
        <name>Epoch</name>
        <qualifiedname>Epoch::Epoch</qualifiedname>
        <param>
          <type>const <ref refid="class_epoch" kindref="compound">Epoch</ref> &amp;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="42" column="5"/>
      </memberdef>
      <memberdef kind="function" id="class_epoch_1a2d6696c6a404aa0224e5397e8419598d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_epoch" kindref="compound">Epoch</ref> &amp;</type>
        <definition>Epoch &amp; operator=</definition>
        <argsstring>(const Epoch &amp;)=delete</argsstring>
        <name>operator=</name>
        <qualifiedname>Epoch::operator=</qualifiedname>
        <param>
          <type>const <ref refid="class_epoch" kindref="compound">Epoch</ref> &amp;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="43" column="11"/>
      </memberdef>
      <memberdef kind="function" id="class_epoch_1a4f183e31420f79483f73d1cbd93d9b97" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>Epoch</definition>
        <argsstring>(Epoch &amp;&amp;)=delete</argsstring>
        <name>Epoch</name>
        <qualifiedname>Epoch::Epoch</qualifiedname>
        <param>
          <type><ref refid="class_epoch" kindref="compound">Epoch</ref> &amp;&amp;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="44" column="5"/>
      </memberdef>
      <memberdef kind="function" id="class_epoch_1a0226b23515def2c858b112f34b7fc4f3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_epoch" kindref="compound">Epoch</ref> &amp;</type>
        <definition>Epoch &amp; operator=</definition>
        <argsstring>(Epoch &amp;&amp;)=delete</argsstring>
        <name>operator=</name>
        <qualifiedname>Epoch::operator=</qualifiedname>
        <param>
          <type><ref refid="class_epoch" kindref="compound">Epoch</ref> &amp;&amp;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="45" column="11"/>
      </memberdef>
      <memberdef kind="function" id="class_epoch_1aaa5e2d8414ef0c7e3c5fa0b8598a2004" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>~Epoch</definition>
        <argsstring>()=default</argsstring>
        <name>~Epoch</name>
        <qualifiedname>Epoch::~Epoch</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="46" column="5"/>
      </memberdef>
      <memberdef kind="function" id="class_epoch_1a06d58f7eb6c0fc1043d1e9a6e5a61bdd" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool guarded</definition>
        <argsstring>() const</argsstring>
        <name>guarded</name>
        <qualifiedname>Epoch::guarded</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="48" column="10" bodyfile="src/util/epochguard.h" bodystart="48" bodyend="48"/>
      </memberdef>
      <memberdef kind="function" id="class_epoch_1affd9150d452a9950db12318be619dd1a" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool visited</definition>
        <argsstring>(Marker &amp;marker) const EXCLUSIVE_LOCKS_REQUIRED(*this)</argsstring>
        <name>visited</name>
        <qualifiedname>Epoch::visited</qualifiedname>
        <param>
          <type><ref refid="class_epoch_1_1_marker" kindref="compound">Marker</ref> &amp;</type>
          <declname>marker</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/util/epochguard.h" line="87" column="10" bodyfile="src/util/epochguard.h" bodystart="87" bodyend="97"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><ref refid="class_epoch" kindref="compound">Epoch</ref>: RAII-style guard for using epoch-based graph traversal algorithms. When walking ancestors or descendants, we generally want to avoid visiting the same transactions twice. Some traversal algorithms use std::set (or setEntries) to deduplicate the transaction we visit. However, use of std::set is algorithmically undesirable because it both adds an asymptotic factor of O(log n) to traversals cost and triggers O(n) more dynamic memory allocations. In many algorithms we can replace std::set with an internal mempool counter to track the time (or, &quot;epoch&quot;) that we began a traversal, and check + update a per-transaction epoch for each transaction we look at to determine if that transaction has not yet been visited during the current traversal&apos;s epoch. Algorithms using std::set can be replaced on a one by one basis. Both techniques are not fundamentally incompatible across the codebase. Generally speaking, however, the remaining use of std::set for mempool traversal should be viewed as a TODO for replacement with an epoch based traversal, rather than a preference for std::set over epochs in that algorithm. </para>
    </detaileddescription>
    <location file="src/util/epochguard.h" line="34" column="1" bodyfile="src/util/epochguard.h" bodystart="35" bodyend="98"/>
    <listofallmembers>
      <member refid="class_epoch_1a0f329154e2f4b4821fc8ac27b71249ae" prot="public" virt="non-virtual"><scope>Epoch</scope><name>Epoch</name></member>
      <member refid="class_epoch_1afa3d238e46b911a1710736f8cf612615" prot="public" virt="non-virtual"><scope>Epoch</scope><name>Epoch</name></member>
      <member refid="class_epoch_1a4f183e31420f79483f73d1cbd93d9b97" prot="public" virt="non-virtual"><scope>Epoch</scope><name>Epoch</name></member>
      <member refid="class_epoch_1a06d58f7eb6c0fc1043d1e9a6e5a61bdd" prot="public" virt="non-virtual"><scope>Epoch</scope><name>guarded</name></member>
      <member refid="class_epoch_1a2a3cb5314abe058075f7b9b2eae7763b" prot="private" virt="non-virtual"><scope>Epoch</scope><name>m_guarded</name></member>
      <member refid="class_epoch_1af6b307d1a0d5c5af72f416e65633570f" prot="private" virt="non-virtual"><scope>Epoch</scope><name>m_raw_epoch</name></member>
      <member refid="class_epoch_1a2d6696c6a404aa0224e5397e8419598d" prot="public" virt="non-virtual"><scope>Epoch</scope><name>operator=</name></member>
      <member refid="class_epoch_1a0226b23515def2c858b112f34b7fc4f3" prot="public" virt="non-virtual"><scope>Epoch</scope><name>operator=</name></member>
      <member refid="class_epoch_1affd9150d452a9950db12318be619dd1a" prot="public" virt="non-virtual"><scope>Epoch</scope><name>visited</name></member>
      <member refid="class_epoch_1aaa5e2d8414ef0c7e3c5fa0b8598a2004" prot="public" virt="non-virtual"><scope>Epoch</scope><name>~Epoch</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
