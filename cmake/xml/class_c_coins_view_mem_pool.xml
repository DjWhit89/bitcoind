<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="class_c_coins_view_mem_pool" kind="class" language="C++" prot="public">
    <compoundname>CCoinsViewMemPool</compoundname>
    <basecompoundref refid="class_c_coins_view_backed" prot="public" virt="non-virtual">CCoinsViewBacked</basecompoundref>
    <includes refid="txmempool_8h" local="no">txmempool.h</includes>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="class_c_coins_view_mem_pool_1a3bec80bf7769092494772218ad084ae2" prot="private" static="no" mutable="no">
        <type>std::unordered_map&lt; <ref refid="class_c_out_point" kindref="compound">COutPoint</ref>, <ref refid="class_coin" kindref="compound">Coin</ref>, <ref refid="class_salted_outpoint_hasher" kindref="compound">SaltedOutpointHasher</ref> &gt;</type>
        <definition>std::unordered_map&lt;COutPoint, Coin, SaltedOutpointHasher&gt; m_temp_added</definition>
        <argsstring></argsstring>
        <name>m_temp_added</name>
        <qualifiedname>CCoinsViewMemPool::m_temp_added</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Coins made available by transactions being validated. Tracking these allows for package validation, since we can access transaction outputs without submitting them to mempool. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/txmempool.h" line="787" column="24" bodyfile="src/txmempool.h" bodystart="787" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_c_coins_view_mem_pool_1a3897a1cad089947257e614725d74c9b3" prot="private" static="no" mutable="yes">
        <type>std::unordered_set&lt; <ref refid="class_c_out_point" kindref="compound">COutPoint</ref>, <ref refid="class_salted_outpoint_hasher" kindref="compound">SaltedOutpointHasher</ref> &gt;</type>
        <definition>std::unordered_set&lt;COutPoint, SaltedOutpointHasher&gt; m_non_base_coins</definition>
        <argsstring></argsstring>
        <name>m_non_base_coins</name>
        <qualifiedname>CCoinsViewMemPool::m_non_base_coins</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Set of all coins that have been fetched from mempool or created using PackageAddTransaction (not base). Used to track the origin of a coin, see <ref refid="class_c_coins_view_mem_pool_1aa7efd60fceff20119579f8d11d53d764" kindref="member">GetNonBaseCoins()</ref>. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/txmempool.h" line="793" column="32" bodyfile="src/txmempool.h" bodystart="793" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="protected-attrib">
      <memberdef kind="variable" id="class_c_coins_view_mem_pool_1af9bd8e8173b60e24474b301814764c8c" prot="protected" static="no" mutable="no">
        <type>const <ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref> &amp;</type>
        <definition>const CTxMemPool&amp; mempool</definition>
        <argsstring></argsstring>
        <name>mempool</name>
        <qualifiedname>CCoinsViewMemPool::mempool</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/txmempool.h" line="795" column="22" bodyfile="src/txmempool.h" bodystart="795" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="class_c_coins_view_mem_pool_1aa49e86e7990ec0508903c9e5c439bc8e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>CCoinsViewMemPool</definition>
        <argsstring>(CCoinsView *baseIn, const CTxMemPool &amp;mempoolIn)</argsstring>
        <name>CCoinsViewMemPool</name>
        <qualifiedname>CCoinsViewMemPool::CCoinsViewMemPool</qualifiedname>
        <param>
          <type><ref refid="class_c_coins_view" kindref="compound">CCoinsView</ref> *</type>
          <declname>baseIn</declname>
        </param>
        <param>
          <type>const <ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref> &amp;</type>
          <declname>mempoolIn</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/txmempool.h" line="798" column="5" bodyfile="src/txmempool.cpp" bodystart="723" bodyend="723"/>
      </memberdef>
      <memberdef kind="function" id="class_c_coins_view_mem_pool_1a053700fd896babb8aa62fc7c53dd27f6" prot="public" static="no" const="yes" explicit="no" inline="no" virt="virtual">
        <type>std::optional&lt; <ref refid="class_coin" kindref="compound">Coin</ref> &gt;</type>
        <definition>std::optional&lt; Coin &gt; GetCoin</definition>
        <argsstring>(const COutPoint &amp;outpoint) const override</argsstring>
        <name>GetCoin</name>
        <qualifiedname>CCoinsViewMemPool::GetCoin</qualifiedname>
        <reimplements refid="class_c_coins_view_backed_1a053700fd896babb8aa62fc7c53dd27f6">GetCoin</reimplements>
        <param>
          <type>const <ref refid="class_c_out_point" kindref="compound">COutPoint</ref> &amp;</type>
          <declname>outpoint</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>GetCoin, returning whether it exists and is not spent. Also updates m_non_base_coins if the coin is not fetched from base. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/txmempool.h" line="801" column="19" bodyfile="src/txmempool.cpp" bodystart="725" bodyend="746"/>
      </memberdef>
      <memberdef kind="function" id="class_c_coins_view_mem_pool_1ac87b57e566d3dca1d7e968ecb5c71305" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void PackageAddTransaction</definition>
        <argsstring>(const CTransactionRef &amp;tx)</argsstring>
        <name>PackageAddTransaction</name>
        <qualifiedname>CCoinsViewMemPool::PackageAddTransaction</qualifiedname>
        <param>
          <type>const <ref refid="primitives_2transaction_8h_1ae462b4b8f07705a82bf11cf361959b97" kindref="member">CTransactionRef</ref> &amp;</type>
          <declname>tx</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Add the coins created by this transaction. These coins are only temporarily stored in m_temp_added and cannot be flushed to the back end. Only used for package validation. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/txmempool.h" line="804" column="10" bodyfile="src/txmempool.cpp" bodystart="748" bodyend="754"/>
      </memberdef>
      <memberdef kind="function" id="class_c_coins_view_mem_pool_1aa7efd60fceff20119579f8d11d53d764" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>const std::unordered_set&lt; <ref refid="class_c_out_point" kindref="compound">COutPoint</ref>, <ref refid="class_salted_outpoint_hasher" kindref="compound">SaltedOutpointHasher</ref> &gt; &amp;</type>
        <definition>const std::unordered_set&lt; COutPoint, SaltedOutpointHasher &gt; &amp; GetNonBaseCoins</definition>
        <argsstring>() const</argsstring>
        <name>GetNonBaseCoins</name>
        <qualifiedname>CCoinsViewMemPool::GetNonBaseCoins</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get all coins in m_non_base_coins. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/txmempool.h" line="806" column="30" bodyfile="src/txmempool.h" bodystart="806" bodyend="806"/>
      </memberdef>
      <memberdef kind="function" id="class_c_coins_view_mem_pool_1a372de693ad40b3f42839c8ec6ac845f4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Reset</definition>
        <argsstring>()</argsstring>
        <name>Reset</name>
        <qualifiedname>CCoinsViewMemPool::Reset</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Clear m_temp_added and m_non_base_coins. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/txmempool.h" line="808" column="10" bodyfile="src/txmempool.cpp" bodystart="755" bodyend="759"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><ref refid="class_c_coins_view" kindref="compound">CCoinsView</ref> that brings transactions from a mempool into view. It does not check for spendings by memory pool transactions. Instead, it provides access to all Coins which are either unspent in the base <ref refid="class_c_coins_view" kindref="compound">CCoinsView</ref>, are outputs from any mempool transaction, or are tracked temporarily to allow transaction dependencies in package validation. This allows transaction replacement to work as expected, as you want to have all inputs &quot;available&quot; to check signatures, and any cycles in the dependency graph are checked directly in AcceptToMemoryPool. It also allows you to sign a double-spend directly in signrawtransactionwithkey and signrawtransactionwithwallet, as long as the conflicting transaction is not yet confirmed. </para>
    </detaileddescription>
    <inheritancegraph>
      <node id="3">
        <label>CCoinsView</label>
        <link refid="class_c_coins_view"/>
      </node>
      <node id="2">
        <label>CCoinsViewBacked</label>
        <link refid="class_c_coins_view_backed"/>
        <childnode refid="3" relation="public-inheritance">
        </childnode>
      </node>
      <node id="1">
        <label>CCoinsViewMemPool</label>
        <link refid="class_c_coins_view_mem_pool"/>
        <childnode refid="2" relation="public-inheritance">
        </childnode>
      </node>
    </inheritancegraph>
    <collaborationgraph>
      <node id="5">
        <label>AnnotatedMixin&lt; std::recursive_mutex &gt;</label>
        <link refid="class_annotated_mixin"/>
        <childnode refid="6" relation="public-inheritance">
        </childnode>
      </node>
      <node id="3">
        <label>CCoinsView</label>
        <link refid="class_c_coins_view"/>
      </node>
      <node id="2">
        <label>CCoinsViewBacked</label>
        <link refid="class_c_coins_view_backed"/>
        <childnode refid="3" relation="public-inheritance">
        </childnode>
        <childnode refid="3" relation="usage">
          <edgelabel>base</edgelabel>
        </childnode>
      </node>
      <node id="11">
        <label>CCoinsViewCache</label>
        <link refid="class_c_coins_view_cache"/>
        <childnode refid="2" relation="public-inheritance">
        </childnode>
        <childnode refid="12" relation="usage">
          <edgelabel>hashBlock</edgelabel>
        </childnode>
      </node>
      <node id="1">
        <label>CCoinsViewMemPool</label>
        <link refid="class_c_coins_view_mem_pool"/>
        <childnode refid="2" relation="public-inheritance">
        </childnode>
        <childnode refid="4" relation="usage">
          <edgelabel>mempool</edgelabel>
        </childnode>
      </node>
      <node id="8">
        <label>CFeeRate</label>
        <link refid="class_c_fee_rate"/>
      </node>
      <node id="4">
        <label>CTxMemPool</label>
        <link refid="class_c_tx_mem_pool"/>
        <childnode refid="5" relation="usage">
          <edgelabel>cs</edgelabel>
        </childnode>
        <childnode refid="7" relation="usage">
          <edgelabel>m_opts</edgelabel>
        </childnode>
        <childnode refid="11" relation="usage">
          <edgelabel>removeRecursive</edgelabel>
        </childnode>
      </node>
      <node id="10">
        <label>ValidationSignals</label>
        <link refid="class_validation_signals"/>
      </node>
      <node id="13">
        <label>base_blob&lt; 256 &gt;</label>
        <link refid="classbase__blob"/>
      </node>
      <node id="9">
        <label>MemPoolLimits</label>
        <link refid="structkernel_1_1_mem_pool_limits"/>
      </node>
      <node id="7">
        <label>MemPoolOptions</label>
        <link refid="structkernel_1_1_mem_pool_options"/>
        <childnode refid="8" relation="usage">
          <edgelabel>dust_relay_feerate</edgelabel>
          <edgelabel>incremental_relay_feerate</edgelabel>
          <edgelabel>min_relay_feerate</edgelabel>
        </childnode>
        <childnode refid="9" relation="usage">
          <edgelabel>limits</edgelabel>
        </childnode>
        <childnode refid="10" relation="usage">
          <edgelabel>signals</edgelabel>
        </childnode>
      </node>
      <node id="6">
        <label>recursive_mutex</label>
      </node>
      <node id="12">
        <label>uint256</label>
        <link refid="classuint256"/>
        <childnode refid="13" relation="public-inheritance">
        </childnode>
        <childnode refid="12" relation="usage">
          <edgelabel>ONE</edgelabel>
          <edgelabel>ZERO</edgelabel>
        </childnode>
      </node>
    </collaborationgraph>
    <location file="src/txmempool.h" line="781" column="1" bodyfile="src/txmempool.h" bodystart="782" bodyend="809"/>
    <listofallmembers>
      <member refid="class_c_coins_view_backed_1a96ab1be7e47c893d0ef009276e7ca8af" prot="protected" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>base</name></member>
      <member refid="class_c_coins_view_backed_1a56d539fa8b1427ee21191bd0690b96d7" prot="public" virt="virtual"><scope>CCoinsViewMemPool</scope><name>BatchWrite</name></member>
      <member refid="class_c_coins_view_backed_1a3f2a505dace6c6aa3fbf9437389d7559" prot="public" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>CCoinsViewBacked</name></member>
      <member refid="class_c_coins_view_mem_pool_1aa49e86e7990ec0508903c9e5c439bc8e" prot="public" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>CCoinsViewMemPool</name></member>
      <member refid="class_c_coins_view_backed_1a8c25e928c7d604e75e3bb5913a41613f" prot="public" virt="virtual"><scope>CCoinsViewMemPool</scope><name>Cursor</name></member>
      <member refid="class_c_coins_view_backed_1acaefa4e24e5ff7816b5bd2c94092e12f" prot="public" virt="virtual"><scope>CCoinsViewMemPool</scope><name>EstimateSize</name></member>
      <member refid="class_c_coins_view_backed_1a357197e89d0c22e33f9e58b3dac685ff" prot="public" virt="virtual"><scope>CCoinsViewMemPool</scope><name>GetBestBlock</name></member>
      <member refid="class_c_coins_view_mem_pool_1a053700fd896babb8aa62fc7c53dd27f6" prot="public" virt="virtual"><scope>CCoinsViewMemPool</scope><name>GetCoin</name></member>
      <member refid="class_c_coins_view_backed_1a50cca46427f48531df06f904e85cd907" prot="public" virt="virtual"><scope>CCoinsViewMemPool</scope><name>GetHeadBlocks</name></member>
      <member refid="class_c_coins_view_mem_pool_1aa7efd60fceff20119579f8d11d53d764" prot="public" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>GetNonBaseCoins</name></member>
      <member refid="class_c_coins_view_backed_1a57c7063d0b2cb3900509d8a9e91a8459" prot="public" virt="virtual"><scope>CCoinsViewMemPool</scope><name>HaveCoin</name></member>
      <member refid="class_c_coins_view_mem_pool_1a3897a1cad089947257e614725d74c9b3" prot="private" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>m_non_base_coins</name></member>
      <member refid="class_c_coins_view_mem_pool_1a3bec80bf7769092494772218ad084ae2" prot="private" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>m_temp_added</name></member>
      <member refid="class_c_coins_view_mem_pool_1af9bd8e8173b60e24474b301814764c8c" prot="protected" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>mempool</name></member>
      <member refid="class_c_coins_view_mem_pool_1ac87b57e566d3dca1d7e968ecb5c71305" prot="public" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>PackageAddTransaction</name></member>
      <member refid="class_c_coins_view_mem_pool_1a372de693ad40b3f42839c8ec6ac845f4" prot="public" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>Reset</name></member>
      <member refid="class_c_coins_view_backed_1a92d89d686195319f0bbc4f57ada1c6c2" prot="public" virt="non-virtual"><scope>CCoinsViewMemPool</scope><name>SetBackend</name></member>
      <member refid="class_c_coins_view_1a3387378655914bee9f174723450b6208" prot="public" virt="virtual"><scope>CCoinsViewMemPool</scope><name>~CCoinsView</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
