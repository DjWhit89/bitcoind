<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="class_h_t_t_p_request_tracker" kind="class" language="C++" prot="public">
    <compoundname>HTTPRequestTracker</compoundname>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="class_h_t_t_p_request_tracker_1a71aaf23d91d7b7a5611738c4f06e3577" prot="private" static="no" mutable="yes">
        <type><ref refid="sync_8h_1a326d1d46ce05b5316d8ebe2694a10a6e" kindref="member">Mutex</ref></type>
        <definition>Mutex m_mutex</definition>
        <argsstring></argsstring>
        <name>m_mutex</name>
        <qualifiedname>HTTPRequestTracker::m_mutex</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="163" column="19" bodyfile="src/httpserver.cpp" bodystart="163" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="class_h_t_t_p_request_tracker_1accca0ab294feb9061406ae9c73a3ceb5" prot="private" static="no" mutable="yes">
        <type>std::condition_variable</type>
        <definition>std::condition_variable m_cv</definition>
        <argsstring></argsstring>
        <name>m_cv</name>
        <qualifiedname>HTTPRequestTracker::m_cv</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="164" column="37" bodyfile="src/httpserver.cpp" bodystart="164" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="private-func">
      <memberdef kind="function" id="class_h_t_t_p_request_tracker_1a3c448f0d598a6bb8c1e73275cb152bcb" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::unordered_map&lt; const evhttp_connection *, size_t &gt; m_tracker</type>
        <definition>std::unordered_map&lt; const evhttp_connection *, size_t &gt; m_tracker GUARDED_BY</definition>
        <argsstring>(m_mutex)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>HTTPRequestTracker::GUARDED_BY</qualifiedname>
        <param>
          <type>m_mutex</type>
        </param>
        <briefdescription>
<para>For each connection, keep a counter of how many requests are open. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="166" column="34"/>
      </memberdef>
      <memberdef kind="function" id="class_h_t_t_p_request_tracker_1a9193c39e96198a8a7dfa1f830f0300c8" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>void RemoveConnectionInternal</definition>
        <argsstring>(const decltype(m_tracker)::iterator it) EXCLUSIVE_LOCKS_REQUIRED(m_mutex)</argsstring>
        <name>RemoveConnectionInternal</name>
        <qualifiedname>HTTPRequestTracker::RemoveConnectionInternal</qualifiedname>
        <param>
          <type>const decltype(m_tracker)::iterator</type>
          <declname>it</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="168" column="10" bodyfile="src/httpserver.cpp" bodystart="168" bodyend="172"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="class_h_t_t_p_request_tracker_1ad92a0cade1153fc7d9f4577b0060863c" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>void AddRequest</definition>
        <argsstring>(evhttp_request *req) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)</argsstring>
        <name>AddRequest</name>
        <qualifiedname>HTTPRequestTracker::AddRequest</qualifiedname>
        <param>
          <type>evhttp_request *</type>
          <declname>req</declname>
        </param>
        <briefdescription>
<para>Increase request counter for the associated connection by 1. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="175" column="10" bodyfile="src/httpserver.cpp" bodystart="175" bodyend="179"/>
      </memberdef>
      <memberdef kind="function" id="class_h_t_t_p_request_tracker_1abcf42adbcbe168fe166ad250b2e07330" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>void RemoveRequest</definition>
        <argsstring>(evhttp_request *req) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)</argsstring>
        <name>RemoveRequest</name>
        <qualifiedname>HTTPRequestTracker::RemoveRequest</qualifiedname>
        <param>
          <type>evhttp_request *</type>
          <declname>req</declname>
        </param>
        <briefdescription>
<para>Decrease request counter for the associated connection by 1, remove connection if counter is 0. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="181" column="10" bodyfile="src/httpserver.cpp" bodystart="181" bodyend="189"/>
      </memberdef>
      <memberdef kind="function" id="class_h_t_t_p_request_tracker_1a2fad9b53d1178d71758f9a77f48718df" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>void RemoveConnection</definition>
        <argsstring>(const evhttp_connection *conn) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)</argsstring>
        <name>RemoveConnection</name>
        <qualifiedname>HTTPRequestTracker::RemoveConnection</qualifiedname>
        <param>
          <type>const evhttp_connection *</type>
          <declname>conn</declname>
        </param>
        <briefdescription>
<para>Remove a connection entirely. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="191" column="10" bodyfile="src/httpserver.cpp" bodystart="191" bodyend="196"/>
      </memberdef>
      <memberdef kind="function" id="class_h_t_t_p_request_tracker_1a75d55b36557888f06a311d483d470606" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t CountActiveConnections</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)</argsstring>
        <name>CountActiveConnections</name>
        <qualifiedname>HTTPRequestTracker::CountActiveConnections</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="197" column="12" bodyfile="src/httpserver.cpp" bodystart="197" bodyend="200"/>
      </memberdef>
      <memberdef kind="function" id="class_h_t_t_p_request_tracker_1a24f654443629c4eb9f31f33ebe2dd06b" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>void WaitUntilEmpty</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)</argsstring>
        <name>WaitUntilEmpty</name>
        <qualifiedname>HTTPRequestTracker::WaitUntilEmpty</qualifiedname>
        <briefdescription>
<para>Wait until there are no more connections with active requests in the tracker. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/httpserver.cpp" line="202" column="10" bodyfile="src/httpserver.cpp" bodystart="202" bodyend="206"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>Helps keep track of open <computeroutput>evhttp_connection</computeroutput>s with active <computeroutput>evhttp_requests</computeroutput>. </para>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <location file="src/httpserver.cpp" line="160" column="1" bodyfile="src/httpserver.cpp" bodystart="161" bodyend="207"/>
    <listofallmembers>
      <member refid="class_h_t_t_p_request_tracker_1ad92a0cade1153fc7d9f4577b0060863c" prot="public" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>AddRequest</name></member>
      <member refid="class_h_t_t_p_request_tracker_1a75d55b36557888f06a311d483d470606" prot="public" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>CountActiveConnections</name></member>
      <member refid="class_h_t_t_p_request_tracker_1a3c448f0d598a6bb8c1e73275cb152bcb" prot="private" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>GUARDED_BY</name></member>
      <member refid="class_h_t_t_p_request_tracker_1accca0ab294feb9061406ae9c73a3ceb5" prot="private" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>m_cv</name></member>
      <member refid="class_h_t_t_p_request_tracker_1a71aaf23d91d7b7a5611738c4f06e3577" prot="private" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>m_mutex</name></member>
      <member refid="class_h_t_t_p_request_tracker_1a2fad9b53d1178d71758f9a77f48718df" prot="public" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>RemoveConnection</name></member>
      <member refid="class_h_t_t_p_request_tracker_1a9193c39e96198a8a7dfa1f830f0300c8" prot="private" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>RemoveConnectionInternal</name></member>
      <member refid="class_h_t_t_p_request_tracker_1abcf42adbcbe168fe166ad250b2e07330" prot="public" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>RemoveRequest</name></member>
      <member refid="class_h_t_t_p_request_tracker_1a24f654443629c4eb9f31f33ebe2dd06b" prot="public" virt="non-virtual"><scope>HTTPRequestTracker</scope><name>WaitUntilEmpty</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
