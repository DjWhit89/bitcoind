<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="classnode_1_1_block_manager" kind="class" language="C++" prot="public">
    <compoundname>node::BlockManager</compoundname>
    <derivedcompoundref refid="struct_test_block_manager" prot="public" virt="non-virtual">TestBlockManager</derivedcompoundref>
    <includes refid="blockstorage_8h" local="no">blockstorage.h</includes>
    <sectiondef kind="public-type">
      <memberdef kind="typedef" id="classnode_1_1_block_manager_1a9d388cded97cd9f86c06358bb29abfad" prot="public" static="no">
        <type><ref refid="structkernel_1_1_block_manager_opts" kindref="compound">kernel::BlockManagerOpts</ref></type>
        <definition>using Options =  kernel::BlockManagerOpts</definition>
        <argsstring></argsstring>
        <name>Options</name>
        <qualifiedname>node::BlockManager::Options</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="315" column="5" bodyfile="src/node/blockstorage.h" bodystart="315" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="classnode_1_1_block_manager_1ae44324a3c3aae8cdb9bdecd43260b98f" prot="public" static="no">
        <type><ref refid="classutil_1_1_expected" kindref="compound">util::Expected</ref>&lt; std::vector&lt; std::byte &gt;, <ref refid="namespacenode_1a0fe2809c313929ad0c569d9e1bdf3e90" kindref="member">ReadRawError</ref> &gt;</type>
        <definition>using ReadRawBlockResult =  util::Expected&lt;std::vector&lt;std::byte&gt;, ReadRawError&gt;</definition>
        <argsstring></argsstring>
        <name>ReadRawBlockResult</name>
        <qualifiedname>node::BlockManager::ReadRawBlockResult</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="316" column="5" bodyfile="src/node/blockstorage.h" bodystart="316" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="classnode_1_1_block_manager_1aec2b33bddea5115456ac467a642e22a6" prot="private" static="no" mutable="no">
        <type>friend</type>
        <definition>friend Chainstate</definition>
        <argsstring></argsstring>
        <name>Chainstate</name>
        <qualifiedname>node::BlockManager::Chainstate</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="192" column="12" bodyfile="src/node/blockstorage.h" bodystart="192" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1aef632cd8e6ac307eaa354c8828302691" prot="private" static="no" mutable="no">
        <type>friend</type>
        <definition>friend ChainstateManager</definition>
        <argsstring></argsstring>
        <name>ChainstateManager</name>
        <qualifiedname>node::BlockManager::ChainstateManager</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="193" column="12" bodyfile="src/node/blockstorage.h" bodystart="193" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a7566058f4b3955d72411c59e98e7419b" prot="private" static="no" mutable="no">
        <type><ref refid="sync_8h_1a5d71768bc9626b7482055d56d4e2c533" kindref="member">RecursiveMutex</ref></type>
        <definition>RecursiveMutex cs_LastBlockFile</definition>
        <argsstring></argsstring>
        <name>cs_LastBlockFile</name>
        <qualifiedname>node::BlockManager::cs_LastBlockFile</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="255" column="20" bodyfile="src/node/blockstorage.h" bodystart="255" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1adc48b6e32d8b8cda80d3862a0089a7c7" prot="private" static="no" mutable="no">
        <type>bool</type>
        <definition>bool m_check_for_pruning</definition>
        <argsstring></argsstring>
        <name>m_check_for_pruning</name>
        <qualifiedname>node::BlockManager::m_check_for_pruning</qualifiedname>
        <initializer>= false</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Global flag to indicate we should check to see if there are block/undo files that should be deleted. Set on startup or if we allocate more file space when we&apos;re in prune mode </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="284" column="10" bodyfile="src/node/blockstorage.h" bodystart="284" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a23f365e7796bd335fc7e8d7790cf69ad" prot="private" static="no" mutable="no">
        <type>const bool</type>
        <definition>const bool m_prune_mode</definition>
        <argsstring></argsstring>
        <name>m_prune_mode</name>
        <qualifiedname>node::BlockManager::m_prune_mode</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="286" column="16" bodyfile="src/node/blockstorage.h" bodystart="286" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a03c470666bfd4e8bc6270d79e2a5a320" prot="private" static="no" mutable="no">
        <type>const <ref refid="class_obfuscation" kindref="compound">Obfuscation</ref></type>
        <definition>const Obfuscation m_obfuscation</definition>
        <argsstring></argsstring>
        <name>m_obfuscation</name>
        <qualifiedname>node::BlockManager::m_obfuscation</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="288" column="23" bodyfile="src/node/blockstorage.h" bodystart="288" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a680a2becb2430a6321cb3c10bd2ad701" prot="private" static="no" mutable="no">
        <type>const <ref refid="structkernel_1_1_block_manager_opts" kindref="compound">kernel::BlockManagerOpts</ref></type>
        <definition>const kernel::BlockManagerOpts m_opts</definition>
        <argsstring></argsstring>
        <name>m_opts</name>
        <qualifiedname>node::BlockManager::m_opts</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="300" column="36" bodyfile="src/node/blockstorage.h" bodystart="300" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a891c5fe806f29120c00b4542b33c96be" prot="private" static="no" mutable="no">
        <type>const <ref refid="class_flat_file_seq" kindref="compound">FlatFileSeq</ref></type>
        <definition>const FlatFileSeq m_block_file_seq</definition>
        <argsstring></argsstring>
        <name>m_block_file_seq</name>
        <qualifiedname>node::BlockManager::m_block_file_seq</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="302" column="23" bodyfile="src/node/blockstorage.h" bodystart="302" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1ab22b23a32a5d850a2f519b81a739d341" prot="private" static="no" mutable="no">
        <type>const <ref refid="class_flat_file_seq" kindref="compound">FlatFileSeq</ref></type>
        <definition>const FlatFileSeq m_undo_file_seq</definition>
        <argsstring></argsstring>
        <name>m_undo_file_seq</name>
        <qualifiedname>node::BlockManager::m_undo_file_seq</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="303" column="23" bodyfile="src/node/blockstorage.h" bodystart="303" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="protected-attrib">
      <memberdef kind="variable" id="classnode_1_1_block_manager_1afb9d51fced31a067a652b9b2f419de53" prot="protected" static="no" mutable="no">
        <type>std::vector&lt; <ref refid="class_c_block_file_info" kindref="compound">CBlockFileInfo</ref> &gt;</type>
        <definition>std::vector&lt;CBlockFileInfo&gt; m_blockfile_info</definition>
        <argsstring></argsstring>
        <name>m_blockfile_info</name>
        <qualifiedname>node::BlockManager::m_blockfile_info</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="306" column="17" bodyfile="src/node/blockstorage.h" bodystart="306" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a19dc9f19ce6715ed2227bdb3eabfa468" prot="protected" static="no" mutable="no">
        <type>std::set&lt; <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> * &gt;</type>
        <definition>std::set&lt;CBlockIndex*&gt; m_dirty_blockindex</definition>
        <argsstring></argsstring>
        <name>m_dirty_blockindex</name>
        <qualifiedname>node::BlockManager::m_dirty_blockindex</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Dirty block index entries. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="309" column="14" bodyfile="src/node/blockstorage.h" bodystart="309" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a741acf23cdde1715d7589530c0bf2758" prot="protected" static="no" mutable="no">
        <type>std::set&lt; int &gt;</type>
        <definition>std::set&lt;int&gt; m_dirty_fileinfo</definition>
        <argsstring></argsstring>
        <name>m_dirty_fileinfo</name>
        <qualifiedname>node::BlockManager::m_dirty_fileinfo</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Dirty block file entries. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="312" column="14" bodyfile="src/node/blockstorage.h" bodystart="312" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-attrib">
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a2163d8ef789c585b196a3ec7f468244b" prot="public" static="no" mutable="no">
        <type>const <ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref> &amp;</type>
        <definition>const util::SignalInterrupt&amp; m_interrupt</definition>
        <argsstring></argsstring>
        <name>m_interrupt</name>
        <qualifiedname>node::BlockManager::m_interrupt</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="320" column="33" bodyfile="src/node/blockstorage.h" bodystart="320" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a394b5b401d4fcd3c693dea7d6314ec7d" prot="public" static="no" mutable="no">
        <type>std::atomic&lt; bool &gt;</type>
        <definition>std::atomic&lt;bool&gt; m_importing</definition>
        <argsstring></argsstring>
        <name>m_importing</name>
        <qualifiedname>node::BlockManager::m_importing</qualifiedname>
        <initializer>{false}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="321" column="17" bodyfile="src/node/blockstorage.h" bodystart="321" bodyend="321"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a5627151c890af8526b512ff75f09eba1" prot="public" static="no" mutable="no">
        <type>std::atomic_bool</type>
        <definition>std::atomic_bool m_blockfiles_indexed</definition>
        <argsstring></argsstring>
        <name>m_blockfiles_indexed</name>
        <qualifiedname>node::BlockManager::m_blockfiles_indexed</qualifiedname>
        <initializer>{true}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Whether all blockfiles have been added to the block tree database. Normally true, but set to false when a reindex is requested and the database is wiped. The value is persisted in the database across restarts and will be false until reindexing completes. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="329" column="22" bodyfile="src/node/blockstorage.h" bodystart="329" bodyend="329"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a4768bb381991af0538ef921446f5ae92" prot="public" static="no" mutable="no">
        <type>std::optional&lt; int &gt;</type>
        <definition>std::optional&lt;int&gt; m_snapshot_height</definition>
        <argsstring></argsstring>
        <name>m_snapshot_height</name>
        <qualifiedname>node::BlockManager::m_snapshot_height</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The height of the base block of an assumeutxo snapshot, if one is in use.</para>
<para>This controls how blockfiles are segmented by chainstate type to avoid comingling different height regions of the chain when an assumedvalid chainstate is in use. If heights are drastically different in the same blockfile, pruning suffers.</para>
<para>This is set during ActivateSnapshot() or upon LoadBlockIndex() if a snapshot had been previously loaded. After the snapshot is validated, this is unset to restore normal LoadBlockIndex behavior. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="345" column="19" bodyfile="src/node/blockstorage.h" bodystart="345" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1a1a2028bdb52a8d052b7ccc0fae0888be" prot="public" static="no" mutable="no">
        <type>std::vector&lt; <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> * &gt; GetAllBlockIndices() <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(std::multimap&lt; <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *, <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> * &gt;</type>
        <definition>std::vector&lt;CBlockIndex*&gt; GetAllBlockIndices () EXCLUSIVE_LOCKS_REQUIRED( std::multimap&lt;CBlockIndex*, CBlockIndex*&gt; m_blocks_unlinked</definition>
        <argsstring></argsstring>
        <name>m_blocks_unlinked</name>
        <qualifiedname>node::BlockManager::m_blocks_unlinked</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>All pairs A-&gt;B, where A (or one of its ancestors) misses transactions, but B has transactions. Pruned nodes may have entries where B is missing data. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="353" column="19" bodyfile="src/node/blockstorage.h" bodystart="347" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1aa23f0a6c8540ce84e6526e2a7fe6aeec" prot="public" static="no" mutable="no">
        <type>void WriteBlockIndexDB() <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(bool LoadBlockIndexDB(const std::optional&lt; <ref refid="classuint256" kindref="compound">uint256</ref> &gt; &amp;snapshot_blockhash) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(void ScanAndUnlinkAlreadyPrunedFiles() <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(<ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref></type>
        <definition>CBlockIndex * AddToBlockIndex</definition>
        <argsstring>)(const CBlockHeader &amp;block, CBlockIndex *&amp;best_header) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>AddToBlockIndex</name>
        <qualifiedname>node::BlockManager::AddToBlockIndex</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Remove any pruned block &amp; undo files that are still on disk. This could happen on some systems if the file was still being read while unlinked, or if we crash before unlinking. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="368" column="17" bodyfile="src/node/blockstorage.h" bodystart="368" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1ae70b06aaf862d5ee0b31de6bab121136" prot="public" static="no" mutable="no">
        <type>bool WriteBlockUndo(const <ref refid="class_c_block_undo" kindref="compound">CBlockUndo</ref> &amp;blockundo, <ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref> &amp;state, <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;block) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(FlatFilePo</type>
        <definition>FlatFilePos WriteBlock</definition>
        <argsstring>)(const CBlock &amp;block, int nHeight)</argsstring>
        <name>WriteBlock</name>
        <qualifiedname>node::BlockManager::WriteBlock</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Store block on disk and update block file statistics.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block</parametername>
</parameternamelist>
<parameterdescription>
<para>the block to be stored </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">nHeight</parametername>
</parameternamelist>
<parameterdescription>
<para>the height of the block</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>in case of success, the position to which the block was written to in case of an error, an empty <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="392" column="17" bodyfile="src/node/blockstorage.h" bodystart="392" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1abd422059799bb41da624c4b8c4878381" prot="public" static="no" mutable="no">
        <type>bool <ref refid="blockchain_8cpp_1a4a03e2d3179e401bf9a9cfafa5432723" kindref="member">CheckBlockDataAvailability</ref>(const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;upper_block, const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;lower_block) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;GetFirstBlock(const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;upper_block <ref refid="attributes_8h_1a37bc3dacb49779a0d18439d4383e5fd9" kindref="member">LIFETIMEBOUND</ref>, uint32_t status_mask, const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *lower_block <ref refid="attributes_8h_1a37bc3dacb49779a0d18439d4383e5fd9" kindref="member">LIFETIMEBOUND</ref>=nullptr) const <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(boo</type>
        <definition>bool CheckBlockDataAvailability (const CBlockIndex&amp; upper_block, const CBlockIndex&amp; lower_block) EXCLUSIVE_LOCKS_REQUIRED( const CBlockIndex&amp; GetFirstBlock ( const CBlockIndex&amp; upper_block LIFETIMEBOUND, uint32_t status_mask, const CBlockIndex* lower_block LIFETIMEBOUND = nullptr ) const EXCLUSIVE_LOCKS_REQUIRED( boo m_have_pruned) </definition>
        <argsstring>)</argsstring>
        <name>m_have_pruned</name>
        <qualifiedname>node::BlockManager::m_have_pruned</qualifiedname>
        <initializer>= false</initializer>
        <briefdescription>
<para>Returns the earliest block with specified <computeroutput>status_mask</computeroutput> flags set after the latest block <emphasis>not</emphasis> having those flags. </para>
        </briefdescription>
        <detaileddescription>
<para>Check if all blocks in the [upper_block, lower_block] range have data available. The caller is responsible for ensuring that lower_block is an ancestor of upper_block (part of the same chain). </para>
<para>This function starts from <computeroutput>upper_block</computeroutput>, which must have all <computeroutput>status_mask</computeroutput> flags set, and iterates backwards through its ancestors. It continues as long as each block has all <computeroutput>status_mask</computeroutput> flags set, until reaching the oldest ancestor or <computeroutput>lower_block</computeroutput>.</para>
<para><simplesect kind="pre"><para><computeroutput>upper_block</computeroutput> must have all <computeroutput>status_mask</computeroutput> flags set. </para>
</simplesect>
<simplesect kind="pre"><para><computeroutput>lower_block</computeroutput> must be null or an ancestor of <computeroutput>upper_block</computeroutput></para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>upper_block</parametername>
</parameternamelist>
<parameterdescription>
<para>The starting block for the search, which must have all <computeroutput>status_mask</computeroutput> flags set. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>status_mask</parametername>
</parameternamelist>
<parameterdescription>
<para>Bitmask specifying required status flags. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>lower_block</parametername>
</parameternamelist>
<parameterdescription>
<para>The earliest possible block to return. If null, the search can extend to the genesis block.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A reference to the earliest block between <computeroutput>upper_block</computeroutput> and <computeroutput>lower_block</computeroutput>, inclusive, such that every block between the returned block and <computeroutput>upper_block</computeroutput> has <computeroutput>status_mask</computeroutput> flags set. True if any block files have ever been pruned. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="448" column="10" bodyfile="src/node/blockstorage.h" bodystart="448" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classnode_1_1_block_manager_1af94e2a1297df45c04d2802ab5b5813b2" prot="public" static="no" mutable="no">
        <type>bool IsBlockPruned(const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;block) const <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(void UpdatePruneLock(const std::string &amp;<ref refid="rest_8cpp_1a8f8f80d37794cde9472343e4487ba3eb" kindref="member">name</ref>, const <ref refid="structnode_1_1_prune_lock_info" kindref="compound">PruneLockInfo</ref> &amp;lock_info) <ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(AutoFil</type>
        <definition>AutoFile OpenBlockFile</definition>
        <argsstring>)(const FlatFilePos &amp;pos, bool fReadOnly) const</argsstring>
        <name>OpenBlockFile</name>
        <qualifiedname>node::BlockManager::OpenBlockFile</qualifiedname>
        <briefdescription>
<para>Check whether the block associated with this index entry is pruned or not. </para>
        </briefdescription>
        <detaileddescription>
<para>Create or update a prune lock identified by its name Open a block file (blk?????.dat) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="457" column="14" bodyfile="src/node/blockstorage.h" bodystart="457" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-static-attrib">
      <memberdef kind="variable" id="classnode_1_1_block_manager_1ad763c65be9451609b0f3d7ecd7bd4e3c" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>auto</type>
        <definition>auto PRUNE_TARGET_MANUAL</definition>
        <argsstring></argsstring>
        <name>PRUNE_TARGET_MANUAL</name>
        <qualifiedname>node::BlockManager::PRUNE_TARGET_MANUAL</qualifiedname>
        <initializer>{std::numeric_limits&lt;uint64_t&gt;::max()}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="407" column="27" bodyfile="src/node/blockstorage.h" bodystart="407" bodyend="407"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="private-func">
      <memberdef kind="function" id="classnode_1_1_block_manager_1a9fc4893dda46aba09dbcd01e3387ca6f" prot="private" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>const <ref refid="class_c_chain_params" kindref="compound">CChainParams</ref> &amp;</type>
        <definition>const CChainParams &amp; GetParams</definition>
        <argsstring>() const</argsstring>
        <name>GetParams</name>
        <qualifiedname>node::BlockManager::GetParams</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="196" column="24" bodyfile="src/node/blockstorage.h" bodystart="196" bodyend="196"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1ae77f209722ff1370ed18dc073d3d373f" prot="private" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>const <ref refid="struct_consensus_1_1_params" kindref="compound">Consensus::Params</ref> &amp;</type>
        <definition>const Consensus::Params &amp; GetConsensus</definition>
        <argsstring>() const</argsstring>
        <name>GetConsensus</name>
        <qualifiedname>node::BlockManager::GetConsensus</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="197" column="29" bodyfile="src/node/blockstorage.h" bodystart="197" bodyend="197"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a47e984734b41eb8a168e88746c9f3748" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool LoadBlockIndex</definition>
        <argsstring>(const std::optional&lt; uint256 &gt; &amp;snapshot_blockhash) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>LoadBlockIndex</name>
        <qualifiedname>node::BlockManager::LoadBlockIndex</qualifiedname>
        <param>
          <type>const std::optional&lt; <ref refid="classuint256" kindref="compound">uint256</ref> &gt; &amp;</type>
          <declname>snapshot_blockhash</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Load the blocktree off disk and into memory. Populate certain metadata per index entry (nStatus, nChainWork, nTimeMax, etc.) as well as peripheral collections like m_dirty_blockindex. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="203" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="422" bodyend="499"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a08538f7166faeb1fd457bdba7458bdfb" prot="private" static="no" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool FlushBlockFile</definition>
        <argsstring>(int blockfile_num, bool fFinalize, bool finalize_undo)</argsstring>
        <name>FlushBlockFile</name>
        <qualifiedname>node::BlockManager::FlushBlockFile</qualifiedname>
        <param>
          <type>int</type>
          <declname>blockfile_num</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fFinalize</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>finalize_undo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return false if block file or undo file flushing fails. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="207" column="11" bodyfile="src/node/blockstorage.cpp" bodystart="725" bodyend="752"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a784f737578530a77033dabdfb4f31229" prot="private" static="no" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool FlushUndoFile</definition>
        <argsstring>(int block_file, bool finalize=false)</argsstring>
        <name>FlushUndoFile</name>
        <qualifiedname>node::BlockManager::FlushUndoFile</qualifiedname>
        <param>
          <type>int</type>
          <declname>block_file</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>finalize</declname>
          <defval>false</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return false if undo file flushing fails. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="210" column="11" bodyfile="src/node/blockstorage.cpp" bodystart="715" bodyend="723"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a7f79db3a70f4c40cc9cf6b7c979d2385" prot="private" static="no" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref></type>
        <definition>FlatFilePos FindNextBlockPos</definition>
        <argsstring>(unsigned int nAddSize, unsigned int nHeight, uint64_t nTime)</argsstring>
        <name>FindNextBlockPos</name>
        <qualifiedname>node::BlockManager::FindNextBlockPos</qualifiedname>
        <param>
          <type>unsigned int</type>
          <declname>nAddSize</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>nHeight</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>nTime</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Helper function performing various preparations before a block can be saved to disk: Returns the correct position for the block to be saved, which may be in the current or a new block file depending on nAddSize. May flush the previous blockfile to disk if full, updates blockfile info, and checks if there is enough disk space to save the block.</para>
<para>The nAddSize argument passed to this function should include not just the size of the serialized <ref refid="class_c_block" kindref="compound">CBlock</ref>, but also the size of separator fields (STORAGE_HEADER_BYTES). </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="221" column="18" bodyfile="src/node/blockstorage.cpp" bodystart="816" bodyend="904"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a23673353adb104e3c8bfa9656b10fef7" prot="private" static="no" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool FlushChainstateBlockFile</definition>
        <argsstring>(int tip_height)</argsstring>
        <name>FlushChainstateBlockFile</name>
        <qualifiedname>node::BlockManager::FlushChainstateBlockFile</qualifiedname>
        <param>
          <type>int</type>
          <declname>tip_height</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="222" column="11" bodyfile="src/node/blockstorage.cpp" bodystart="762" bodyend="774"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a9efb6cfb5a7b963d2fc6806db57541f1" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool FindUndoPos</definition>
        <argsstring>(BlockValidationState &amp;state, int nFile, FlatFilePos &amp;pos, unsigned int nAddSize)</argsstring>
        <name>FindUndoPos</name>
        <qualifiedname>node::BlockManager::FindUndoPos</qualifiedname>
        <param>
          <type><ref refid="class_block_validation_state" kindref="compound">BlockValidationState</ref> &amp;</type>
          <declname>state</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nFile</declname>
        </param>
        <param>
          <type><ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> &amp;</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>nAddSize</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="223" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="928" bodyend="948"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a3e0d5652be7aa93b18f3184cf14e967b" prot="private" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_auto_file" kindref="compound">AutoFile</ref></type>
        <definition>AutoFile OpenUndoFile</definition>
        <argsstring>(const FlatFilePos &amp;pos, bool fReadOnly=false) const</argsstring>
        <name>OpenUndoFile</name>
        <qualifiedname>node::BlockManager::OpenUndoFile</qualifiedname>
        <param>
          <type>const <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> &amp;</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fReadOnly</declname>
          <defval>false</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Open an undo file (rev?????.dat) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="225" column="14" bodyfile="src/node/blockstorage.cpp" bodystart="806" bodyend="809"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1aaaffd348ab83ded6432266d35a8cf6be" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FindFilesToPruneManual</definition>
        <argsstring>(std::set&lt; int &gt; &amp;setFilesToPrune, int nManualPruneHeight, const Chainstate &amp;chain)</argsstring>
        <name>FindFilesToPruneManual</name>
        <qualifiedname>node::BlockManager::FindFilesToPruneManual</qualifiedname>
        <param>
          <type>std::set&lt; int &gt; &amp;</type>
          <declname>setFilesToPrune</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nManualPruneHeight</declname>
        </param>
        <param>
          <type>const <ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>chain</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="228" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="291" bodyend="318"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a18fb77c4af2cf1f0db5609e151f84b66" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FindFilesToPrune</definition>
        <argsstring>(std::set&lt; int &gt; &amp;setFilesToPrune, int last_prune, const Chainstate &amp;chain, ChainstateManager &amp;chainman)</argsstring>
        <name>FindFilesToPrune</name>
        <qualifiedname>node::BlockManager::FindFilesToPrune</qualifiedname>
        <param>
          <type>std::set&lt; int &gt; &amp;</type>
          <declname>setFilesToPrune</declname>
        </param>
        <param>
          <type>int</type>
          <declname>last_prune</declname>
        </param>
        <param>
          <type>const <ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>chain</declname>
        </param>
        <param>
          <type><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> &amp;</type>
          <declname>chainman</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Prune block and undo files (blk???.dat and rev???.dat) so that the disk space used is less than a user-defined target. The user sets the target (in MB) on the command line or in config file. This will be run on startup and whenever new space is allocated in a block or undo file, staying below the target. Changing back to unpruned requires a reindex (which in this case means the blockchain must be re-downloaded.)</para>
<para>Pruning functions are called from FlushStateToDisk when the m_check_for_pruning flag has been set. Block and undo files are deleted in lock-step (when blk00003.dat is deleted, so is rev00003.dat.) Pruning cannot take place until the longest chain is at least a certain length (<ref refid="class_c_chain_params_1a33afb91e9d02f5e077f8693140883473" kindref="member">CChainParams::nPruneAfterHeight</ref>). Pruning will never delete a block within a defined distance (currently 288) from the active chain&apos;s tip. The block index is updated by unsetting HAVE_DATA and HAVE_UNDO for any blocks that were stored in the deleted files. A db flag records the fact that at least some block files have been pruned.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="out">setFilesToPrune</parametername>
</parameternamelist>
<parameterdescription>
<para>The set of file indices that can be unlinked will be returned </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>last_prune</parametername>
</parameternamelist>
<parameterdescription>
<para>The last height we&apos;re able to prune, according to the prune locks </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="249" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="320" bodyend="399"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a4268ec02f7714ef129b357a1a34fa99d" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::array&lt; std::optional&lt; <ref refid="structnode_1_1_blockfile_cursor" kindref="compound">BlockfileCursor</ref> &gt;, <ref refid="namespacenode_1a98a425e6239438bd079e4dff7f66122da56b5eb4b51d971098daad29eb2c08aa7" kindref="member">BlockfileType::NUM_TYPES</ref> &gt; m_blockfile_cursors</type>
        <definition>std::array&lt; std::optional&lt; BlockfileCursor &gt;, BlockfileType::NUM_TYPES &gt; m_blockfile_cursors GUARDED_BY</definition>
        <argsstring>(cs_LastBlockFile)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>node::BlockManager::GUARDED_BY</qualifiedname>
        <param>
          <type>cs_LastBlockFile</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Since assumedvalid chainstates may be syncing a range of the chain that is very far away from the normal/background validation process, we should segment blockfiles for assumed chainstates. Otherwise, we might have wildly different height ranges mixed into the same block files, which would impair our ability to prune effectively.</para>
<para>This data structure maintains separate blockfile number cursors for each <ref refid="namespacenode_1a98a425e6239438bd079e4dff7f66122d" kindref="member">BlockfileType</ref>. The ASSUMED state is initialized, when necessary, in FindNextBlockPos().</para>
<para>The first element is the NORMAL cursor, second is ASSUMED. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="268" column="29"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a747e2a0e362958e8d2f4586f461932e5" prot="private" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>int</type>
        <definition>int MaxBlockfileNum</definition>
        <argsstring>() const EXCLUSIVE_LOCKS_REQUIRED(cs_LastBlockFile)</argsstring>
        <name>MaxBlockfileNum</name>
        <qualifiedname>node::BlockManager::MaxBlockfileNum</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="272" column="9" bodyfile="src/node/blockstorage.h" bodystart="272" bodyend="278"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1ad5e5bccb8a6753949b5baa8c304543a0" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::unordered_map&lt; std::string, <ref refid="structnode_1_1_prune_lock_info" kindref="compound">PruneLockInfo</ref> &gt; m_prune_locks</type>
        <definition>std::unordered_map&lt; std::string, PruneLockInfo &gt; m_prune_locks GUARDED_BY</definition>
        <argsstring>(::cs_main)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>node::BlockManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Map from external index name to oldest block that must not be pruned.</para>
<para><simplesect kind="note"><para>Internally, only blocks at height (height_first - PRUNE_LOCK_BUFFER - 1) and below will be pruned, but callers should avoid assuming any particular buffer size. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="296" column="38"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a8a8463b1fd8829b8c1af247830e6ee23" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacenode_1a98a425e6239438bd079e4dff7f66122d" kindref="member">BlockfileType</ref></type>
        <definition>BlockfileType BlockfileTypeForHeight</definition>
        <argsstring>(int height)</argsstring>
        <name>BlockfileTypeForHeight</name>
        <qualifiedname>node::BlockManager::BlockfileTypeForHeight</qualifiedname>
        <param>
          <type>int</type>
          <declname>height</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="298" column="19" bodyfile="src/node/blockstorage.cpp" bodystart="754" bodyend="760"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="classnode_1_1_block_manager_1a5a7ab0002709da74f13f76921377c42c" prot="public" static="no" const="no" explicit="yes" inline="no" virt="non-virtual">
        <type></type>
        <definition>BlockManager</definition>
        <argsstring>(const util::SignalInterrupt &amp;interrupt, Options opts)</argsstring>
        <name>BlockManager</name>
        <qualifiedname>node::BlockManager::BlockManager</qualifiedname>
        <param>
          <type>const <ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref> &amp;</type>
          <declname>interrupt</declname>
        </param>
        <param>
          <type><ref refid="classnode_1_1_block_manager_1a9d388cded97cd9f86c06358bb29abfad" kindref="member">Options</ref><ref refid="struct_options" kindref="compound">Options</ref></type>
          <declname>opts</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="318" column="14" bodyfile="src/node/blockstorage.cpp" bodystart="1207" bodyend="1225"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a3b953f400cc4e659ab9651c3dea79da5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacenode_1acee0086a0c833617dd1532caf93206a3" kindref="member">BlockMap</ref> m_block_index</type>
        <definition>BlockMap m_block_index GUARDED_BY</definition>
        <argsstring>(cs_main)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>node::BlockManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="331" column="28"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1ad06570b26658d12ac3ad08750e3b8f7c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::unique_ptr&lt; <ref refid="classkernel_1_1_block_tree_d_b" kindref="compound">BlockTreeDB</ref> &gt; m_block_tree_db</type>
        <definition>std::unique_ptr&lt; BlockTreeDB &gt; m_block_tree_db GUARDED_BY</definition>
        <argsstring>(::cs_main)</argsstring>
        <name>GUARDED_BY</name>
        <qualifiedname>node::BlockManager::GUARDED_BY</qualifiedname>
        <param>
          <type><ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="355" column="37"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1aa95eeae5f69857893eacc49700873255" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
        <definition>CBlockIndex * InsertBlockIndex</definition>
        <argsstring>(const uint256 &amp;hash) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>InsertBlockIndex</name>
        <qualifiedname>node::BlockManager::InsertBlockIndex</qualifiedname>
        <param>
          <type>const <ref refid="classuint256" kindref="compound">uint256</ref> &amp;</type>
          <declname>hash</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create a new block index entry for a given block hash </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="370" column="17" bodyfile="src/node/blockstorage.cpp" bodystart="406" bodyend="420"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a6ebc263091ba81ceaa3ec37d1000bf9b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void PruneOneBlockFile</definition>
        <argsstring>(const int fileNumber) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>PruneOneBlockFile</name>
        <qualifiedname>node::BlockManager::PruneOneBlockFile</qualifiedname>
        <param>
          <type>const int</type>
          <declname>fileNumber</declname>
        </param>
        <briefdescription>
<para>Mark one block file as pruned (modify associated database entries). </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="373" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="257" bodyend="289"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a87eab19fb1a7e025715c13377ebfd356" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
        <definition>CBlockIndex * LookupBlockIndex</definition>
        <argsstring>(const uint256 &amp;hash) EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>LookupBlockIndex</name>
        <qualifiedname>node::BlockManager::LookupBlockIndex</qualifiedname>
        <param>
          <type>const <ref refid="classuint256" kindref="compound">uint256</ref> &amp;</type>
          <declname>hash</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="375" column="17" bodyfile="src/node/blockstorage.cpp" bodystart="209" bodyend="214"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1afc9665be19b586880b275f0ccf17c8bb" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> *</type>
        <definition>const CBlockIndex * LookupBlockIndex</definition>
        <argsstring>(const uint256 &amp;hash) const EXCLUSIVE_LOCKS_REQUIRED(cs_main)</argsstring>
        <name>LookupBlockIndex</name>
        <qualifiedname>node::BlockManager::LookupBlockIndex</qualifiedname>
        <param>
          <type>const <ref refid="classuint256" kindref="compound">uint256</ref> &amp;</type>
          <declname>hash</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="376" column="23" bodyfile="src/node/blockstorage.cpp" bodystart="216" bodyend="221"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a524e9acdceb9fae201dbe36bd66c80e7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="class_c_block_file_info" kindref="compound">CBlockFileInfo</ref> *</type>
        <definition>CBlockFileInfo * GetBlockFileInfo</definition>
        <argsstring>(size_t n)</argsstring>
        <name>GetBlockFileInfo</name>
        <qualifiedname>node::BlockManager::GetBlockFileInfo</qualifiedname>
        <param>
          <type>size_t</type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get block file info entry for one block file </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="379" column="20" bodyfile="src/node/blockstorage.cpp" bodystart="673" bodyend="678"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1ac998253c8454e8f69d78c62fba7a5253" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void UpdateBlockInfo</definition>
        <argsstring>(const CBlock &amp;block, unsigned int nHeight, const FlatFilePos &amp;pos)</argsstring>
        <name>UpdateBlockInfo</name>
        <qualifiedname>node::BlockManager::UpdateBlockInfo</qualifiedname>
        <param>
          <type>const <ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>nHeight</declname>
        </param>
        <param>
          <type>const <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> &amp;</type>
          <declname>pos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Update blockfile info while processing a block during reindex. The block must be available on disk.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">block</parametername>
</parameternamelist>
<parameterdescription>
<para>the block being processed </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">nHeight</parametername>
</parameternamelist>
<parameterdescription>
<para>the height of the block </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">pos</parametername>
</parameternamelist>
<parameterdescription>
<para>the position of the serialized <ref refid="class_c_block" kindref="compound">CBlock</ref> on disk </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="400" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="906" bodyend="926"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1ad03fd92fad95bb7f82ef78cc467cb12b" prot="public" static="no" nodiscard="yes" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool IsPruneMode</definition>
        <argsstring>() const</argsstring>
        <name>IsPruneMode</name>
        <qualifiedname>node::BlockManager::IsPruneMode</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Whether running in -prune mode. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="403" column="11" bodyfile="src/node/blockstorage.h" bodystart="403" bodyend="403"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a95455271ec88dfcc93e411237b36a57c" prot="public" static="no" nodiscard="yes" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>uint64_t</type>
        <definition>uint64_t GetPruneTarget</definition>
        <argsstring>() const</argsstring>
        <name>GetPruneTarget</name>
        <qualifiedname>node::BlockManager::GetPruneTarget</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Attempt to stay below this number of bytes of block files. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="406" column="15" bodyfile="src/node/blockstorage.h" bodystart="406" bodyend="406"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1acef48b2a0b8aa252efa69928192b4d5a" prot="public" static="no" nodiscard="yes" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool LoadingBlocks</definition>
        <argsstring>() const</argsstring>
        <name>LoadingBlocks</name>
        <qualifiedname>node::BlockManager::LoadingBlocks</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="409" column="11" bodyfile="src/node/blockstorage.h" bodystart="409" bodyend="409"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a5d513fc954905589bc2a99da7d51e923" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint64_t</type>
        <definition>uint64_t CalculateCurrentUsage</definition>
        <argsstring>()</argsstring>
        <name>CalculateCurrentUsage</name>
        <qualifiedname>node::BlockManager::CalculateCurrentUsage</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Calculate the amount of disk space the block &amp; undo files currently use </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="412" column="14" bodyfile="src/node/blockstorage.cpp" bodystart="776" bodyend="785"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a375f39dd7a25d0087c57ee6704eb7953" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classfs_1_1path" kindref="compound">fs::path</ref></type>
        <definition>fs::path GetBlockPosFilename</definition>
        <argsstring>(const FlatFilePos &amp;pos) const</argsstring>
        <name>GetBlockPosFilename</name>
        <qualifiedname>node::BlockManager::GetBlockPosFilename</qualifiedname>
        <param>
          <type>const <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> &amp;</type>
          <declname>pos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Translation to a filesystem path </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="460" column="14" bodyfile="src/node/blockstorage.cpp" bodystart="811" bodyend="814"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a0592de206bb3aa3070fb685e6c0b8923" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void UnlinkPrunedFiles</definition>
        <argsstring>(const std::set&lt; int &gt; &amp;setFilesToPrune) const</argsstring>
        <name>UnlinkPrunedFiles</name>
        <qualifiedname>node::BlockManager::UnlinkPrunedFiles</qualifiedname>
        <param>
          <type>const std::set&lt; int &gt; &amp;</type>
          <declname>setFilesToPrune</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Actually unlink the specified files </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="465" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="787" bodyend="798"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1ad59bbdccdaca9da495b6b6e80c481a1a" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ReadBlock</definition>
        <argsstring>(CBlock &amp;block, const FlatFilePos &amp;pos, const std::optional&lt; uint256 &gt; &amp;expected_hash) const</argsstring>
        <name>ReadBlock</name>
        <qualifiedname>node::BlockManager::ReadBlock</qualifiedname>
        <param>
          <type><ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type>const <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> &amp;</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>const std::optional&lt; <ref refid="classuint256" kindref="compound">uint256</ref> &gt; &amp;</type>
          <declname>expected_hash</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Functions for disk access for blocks </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="468" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="1019" bodyend="1058"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a5637a4074380a9138c49742f8d0f39b8" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ReadBlock</definition>
        <argsstring>(CBlock &amp;block, const CBlockIndex &amp;index) const</argsstring>
        <name>ReadBlock</name>
        <qualifiedname>node::BlockManager::ReadBlock</qualifiedname>
        <param>
          <type><ref refid="class_c_block" kindref="compound">CBlock</ref> &amp;</type>
          <declname>block</declname>
        </param>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;</type>
          <declname>index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="469" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="1060" bodyend="1064"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a0bfb8d6c21eed2929e6a388578ceae4d" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classnode_1_1_block_manager_1ae44324a3c3aae8cdb9bdecd43260b98f" kindref="member">ReadRawBlockResult</ref></type>
        <definition>BlockManager::ReadRawBlockResult ReadRawBlock</definition>
        <argsstring>(const FlatFilePos &amp;pos, std::optional&lt; std::pair&lt; size_t, size_t &gt; &gt; block_part=std::nullopt) const</argsstring>
        <name>ReadRawBlock</name>
        <qualifiedname>node::BlockManager::ReadRawBlock</qualifiedname>
        <param>
          <type>const <ref refid="struct_flat_file_pos" kindref="compound">FlatFilePos</ref> &amp;</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>std::optional&lt; std::pair&lt; size_t, size_t &gt; &gt;</type>
          <declname>block_part</declname>
          <defval>std::nullopt</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="470" column="24" bodyfile="src/node/blockstorage.cpp" bodystart="1066" bodyend="1115"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1a054cbf50f4e5cb582fd744927f9ace7a" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ReadBlockUndo</definition>
        <argsstring>(CBlockUndo &amp;blockundo, const CBlockIndex &amp;index) const</argsstring>
        <name>ReadBlockUndo</name>
        <qualifiedname>node::BlockManager::ReadBlockUndo</qualifiedname>
        <param>
          <type><ref refid="class_c_block_undo" kindref="compound">CBlockUndo</ref> &amp;</type>
          <declname>blockundo</declname>
        </param>
        <param>
          <type>const <ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref> &amp;</type>
          <declname>index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="472" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="680" bodyend="713"/>
      </memberdef>
      <memberdef kind="function" id="classnode_1_1_block_manager_1aabaa6172d403bb91657add7f42f3b371" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void CleanupBlockRevFiles</definition>
        <argsstring>() const</argsstring>
        <name>CleanupBlockRevFiles</name>
        <qualifiedname>node::BlockManager::CleanupBlockRevFiles</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/blockstorage.h" line="474" column="10" bodyfile="src/node/blockstorage.cpp" bodystart="637" bodyend="671"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>Maintains a tree of blocks (stored in <computeroutput>m_block_index</computeroutput>) which is consulted to determine where the most-work tip is.</para>
<para>This data is used mostly in <computeroutput><ref refid="class_chainstate" kindref="compound">Chainstate</ref></computeroutput> - information about, e.g., candidate tips is not maintained here. </para>
    </detaileddescription>
    <inheritancegraph>
      <node id="1">
        <label>BlockManager</label>
        <link refid="classnode_1_1_block_manager"/>
      </node>
      <node id="2">
        <label>TestBlockManager</label>
        <link refid="struct_test_block_manager"/>
        <childnode refid="1" relation="public-inheritance">
        </childnode>
      </node>
    </inheritancegraph>
    <collaborationgraph>
      <node id="1">
        <label>BlockManager</label>
        <link refid="classnode_1_1_block_manager"/>
        <childnode refid="2" relation="usage">
          <edgelabel>m_interrupt</edgelabel>
        </childnode>
        <childnode refid="3" relation="usage">
          <edgelabel>AddToBlockIndex</edgelabel>
          <edgelabel>OpenBlockFile</edgelabel>
          <edgelabel>m_have_pruned</edgelabel>
        </childnode>
        <childnode refid="8" relation="usage">
          <edgelabel>WriteBlock</edgelabel>
        </childnode>
      </node>
      <node id="3">
        <label>CBlockIndex</label>
        <link refid="class_c_block_index"/>
        <childnode refid="4" relation="usage">
          <edgelabel>hashMerkleRoot</edgelabel>
          <edgelabel>phashBlock</edgelabel>
        </childnode>
        <childnode refid="3" relation="usage">
          <edgelabel>pprev</edgelabel>
          <edgelabel>pskip</edgelabel>
        </childnode>
        <childnode refid="6" relation="usage">
          <edgelabel>nChainWork</edgelabel>
        </childnode>
      </node>
      <node id="8">
        <label>CBlockUndo</label>
        <link refid="class_c_block_undo"/>
      </node>
      <node id="6">
        <label>arith_uint256</label>
        <link refid="classarith__uint256"/>
        <childnode refid="7" relation="public-inheritance">
        </childnode>
      </node>
      <node id="5">
        <label>base_blob&lt; 256 &gt;</label>
        <link refid="classbase__blob"/>
      </node>
      <node id="7">
        <label>base_uint&lt; 256 &gt;</label>
        <link refid="classbase__uint"/>
      </node>
      <node id="4">
        <label>uint256</label>
        <link refid="classuint256"/>
        <childnode refid="5" relation="public-inheritance">
        </childnode>
        <childnode refid="4" relation="usage">
          <edgelabel>ONE</edgelabel>
          <edgelabel>ZERO</edgelabel>
        </childnode>
      </node>
      <node id="2">
        <label>SignalInterrupt</label>
        <link refid="classutil_1_1_signal_interrupt"/>
      </node>
    </collaborationgraph>
    <location file="src/node/blockstorage.h" line="190" column="1" bodyfile="src/node/blockstorage.h" bodystart="191" bodyend="475"/>
    <listofallmembers>
      <member refid="classnode_1_1_block_manager_1aa23f0a6c8540ce84e6526e2a7fe6aeec" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>AddToBlockIndex</name></member>
      <member refid="classnode_1_1_block_manager_1a8a8463b1fd8829b8c1af247830e6ee23" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>BlockfileTypeForHeight</name></member>
      <member refid="classnode_1_1_block_manager_1a5a7ab0002709da74f13f76921377c42c" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>BlockManager</name></member>
      <member refid="classnode_1_1_block_manager_1a5d513fc954905589bc2a99da7d51e923" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>CalculateCurrentUsage</name></member>
      <member refid="classnode_1_1_block_manager_1aec2b33bddea5115456ac467a642e22a6" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>Chainstate</name></member>
      <member refid="classnode_1_1_block_manager_1aef632cd8e6ac307eaa354c8828302691" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>ChainstateManager</name></member>
      <member refid="classnode_1_1_block_manager_1aabaa6172d403bb91657add7f42f3b371" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>CleanupBlockRevFiles</name></member>
      <member refid="classnode_1_1_block_manager_1a7566058f4b3955d72411c59e98e7419b" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>cs_LastBlockFile</name></member>
      <member refid="classnode_1_1_block_manager_1a18fb77c4af2cf1f0db5609e151f84b66" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>FindFilesToPrune</name></member>
      <member refid="classnode_1_1_block_manager_1aaaffd348ab83ded6432266d35a8cf6be" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>FindFilesToPruneManual</name></member>
      <member refid="classnode_1_1_block_manager_1a7f79db3a70f4c40cc9cf6b7c979d2385" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>FindNextBlockPos</name></member>
      <member refid="classnode_1_1_block_manager_1a9efb6cfb5a7b963d2fc6806db57541f1" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>FindUndoPos</name></member>
      <member refid="classnode_1_1_block_manager_1a08538f7166faeb1fd457bdba7458bdfb" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>FlushBlockFile</name></member>
      <member refid="classnode_1_1_block_manager_1a23673353adb104e3c8bfa9656b10fef7" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>FlushChainstateBlockFile</name></member>
      <member refid="classnode_1_1_block_manager_1a784f737578530a77033dabdfb4f31229" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>FlushUndoFile</name></member>
      <member refid="classnode_1_1_block_manager_1a524e9acdceb9fae201dbe36bd66c80e7" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>GetBlockFileInfo</name></member>
      <member refid="classnode_1_1_block_manager_1a375f39dd7a25d0087c57ee6704eb7953" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>GetBlockPosFilename</name></member>
      <member refid="classnode_1_1_block_manager_1ae77f209722ff1370ed18dc073d3d373f" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>GetConsensus</name></member>
      <member refid="classnode_1_1_block_manager_1a9fc4893dda46aba09dbcd01e3387ca6f" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>GetParams</name></member>
      <member refid="classnode_1_1_block_manager_1a95455271ec88dfcc93e411237b36a57c" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>GetPruneTarget</name></member>
      <member refid="classnode_1_1_block_manager_1a4268ec02f7714ef129b357a1a34fa99d" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>GUARDED_BY</name></member>
      <member refid="classnode_1_1_block_manager_1ad5e5bccb8a6753949b5baa8c304543a0" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>GUARDED_BY</name></member>
      <member refid="classnode_1_1_block_manager_1a3b953f400cc4e659ab9651c3dea79da5" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>GUARDED_BY</name></member>
      <member refid="classnode_1_1_block_manager_1ad06570b26658d12ac3ad08750e3b8f7c" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>GUARDED_BY</name></member>
      <member refid="classnode_1_1_block_manager_1aa95eeae5f69857893eacc49700873255" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>InsertBlockIndex</name></member>
      <member refid="classnode_1_1_block_manager_1ad03fd92fad95bb7f82ef78cc467cb12b" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>IsPruneMode</name></member>
      <member refid="classnode_1_1_block_manager_1a47e984734b41eb8a168e88746c9f3748" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>LoadBlockIndex</name></member>
      <member refid="classnode_1_1_block_manager_1acef48b2a0b8aa252efa69928192b4d5a" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>LoadingBlocks</name></member>
      <member refid="classnode_1_1_block_manager_1a87eab19fb1a7e025715c13377ebfd356" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>LookupBlockIndex</name></member>
      <member refid="classnode_1_1_block_manager_1afc9665be19b586880b275f0ccf17c8bb" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>LookupBlockIndex</name></member>
      <member refid="classnode_1_1_block_manager_1a891c5fe806f29120c00b4542b33c96be" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>m_block_file_seq</name></member>
      <member refid="classnode_1_1_block_manager_1afb9d51fced31a067a652b9b2f419de53" prot="protected" virt="non-virtual"><scope>node::BlockManager</scope><name>m_blockfile_info</name></member>
      <member refid="classnode_1_1_block_manager_1a5627151c890af8526b512ff75f09eba1" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>m_blockfiles_indexed</name></member>
      <member refid="classnode_1_1_block_manager_1a1a2028bdb52a8d052b7ccc0fae0888be" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>m_blocks_unlinked</name></member>
      <member refid="classnode_1_1_block_manager_1adc48b6e32d8b8cda80d3862a0089a7c7" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>m_check_for_pruning</name></member>
      <member refid="classnode_1_1_block_manager_1a19dc9f19ce6715ed2227bdb3eabfa468" prot="protected" virt="non-virtual"><scope>node::BlockManager</scope><name>m_dirty_blockindex</name></member>
      <member refid="classnode_1_1_block_manager_1a741acf23cdde1715d7589530c0bf2758" prot="protected" virt="non-virtual"><scope>node::BlockManager</scope><name>m_dirty_fileinfo</name></member>
      <member refid="classnode_1_1_block_manager_1abd422059799bb41da624c4b8c4878381" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>m_have_pruned</name></member>
      <member refid="classnode_1_1_block_manager_1a394b5b401d4fcd3c693dea7d6314ec7d" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>m_importing</name></member>
      <member refid="classnode_1_1_block_manager_1a2163d8ef789c585b196a3ec7f468244b" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>m_interrupt</name></member>
      <member refid="classnode_1_1_block_manager_1a03c470666bfd4e8bc6270d79e2a5a320" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>m_obfuscation</name></member>
      <member refid="classnode_1_1_block_manager_1a680a2becb2430a6321cb3c10bd2ad701" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>m_opts</name></member>
      <member refid="classnode_1_1_block_manager_1a23f365e7796bd335fc7e8d7790cf69ad" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>m_prune_mode</name></member>
      <member refid="classnode_1_1_block_manager_1a4768bb381991af0538ef921446f5ae92" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>m_snapshot_height</name></member>
      <member refid="classnode_1_1_block_manager_1ab22b23a32a5d850a2f519b81a739d341" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>m_undo_file_seq</name></member>
      <member refid="classnode_1_1_block_manager_1a747e2a0e362958e8d2f4586f461932e5" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>MaxBlockfileNum</name></member>
      <member refid="classnode_1_1_block_manager_1af94e2a1297df45c04d2802ab5b5813b2" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>OpenBlockFile</name></member>
      <member refid="classnode_1_1_block_manager_1a3e0d5652be7aa93b18f3184cf14e967b" prot="private" virt="non-virtual"><scope>node::BlockManager</scope><name>OpenUndoFile</name></member>
      <member refid="classnode_1_1_block_manager_1a9d388cded97cd9f86c06358bb29abfad" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>Options</name></member>
      <member refid="classnode_1_1_block_manager_1ad763c65be9451609b0f3d7ecd7bd4e3c" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>PRUNE_TARGET_MANUAL</name></member>
      <member refid="classnode_1_1_block_manager_1a6ebc263091ba81ceaa3ec37d1000bf9b" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>PruneOneBlockFile</name></member>
      <member refid="classnode_1_1_block_manager_1ad59bbdccdaca9da495b6b6e80c481a1a" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>ReadBlock</name></member>
      <member refid="classnode_1_1_block_manager_1a5637a4074380a9138c49742f8d0f39b8" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>ReadBlock</name></member>
      <member refid="classnode_1_1_block_manager_1a054cbf50f4e5cb582fd744927f9ace7a" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>ReadBlockUndo</name></member>
      <member refid="classnode_1_1_block_manager_1a0bfb8d6c21eed2929e6a388578ceae4d" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>ReadRawBlock</name></member>
      <member refid="classnode_1_1_block_manager_1ae44324a3c3aae8cdb9bdecd43260b98f" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>ReadRawBlockResult</name></member>
      <member refid="classnode_1_1_block_manager_1a0592de206bb3aa3070fb685e6c0b8923" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>UnlinkPrunedFiles</name></member>
      <member refid="classnode_1_1_block_manager_1ac998253c8454e8f69d78c62fba7a5253" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>UpdateBlockInfo</name></member>
      <member refid="classnode_1_1_block_manager_1ae70b06aaf862d5ee0b31de6bab121136" prot="public" virt="non-virtual"><scope>node::BlockManager</scope><name>WriteBlock</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
