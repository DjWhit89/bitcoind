<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="init_8cpp" kind="file" language="C++">
    <compoundname>init.cpp</compoundname>
    <includes local="no">bitcoin-build-config.h</includes>
    <includes refid="init_8h" local="no">init.h</includes>
    <includes refid="checks_8h" local="no">kernel/checks.h</includes>
    <includes refid="addrman_8h" local="no">addrman.h</includes>
    <includes refid="banman_8h" local="no">banman.h</includes>
    <includes refid="blockfilter_8h" local="no">blockfilter.h</includes>
    <includes refid="chain_8h" local="no">chain.h</includes>
    <includes refid="chainparams_8h" local="no">chainparams.h</includes>
    <includes refid="chainparamsbase_8h" local="no">chainparamsbase.h</includes>
    <includes refid="clientversion_8h" local="no">clientversion.h</includes>
    <includes refid="args_8h" local="no">common/args.h</includes>
    <includes refid="system_8h" local="no">common/system.h</includes>
    <includes refid="amount_8h" local="no">consensus/amount.h</includes>
    <includes refid="consensus_8h" local="no">consensus/consensus.h</includes>
    <includes refid="deploymentstatus_8h" local="no">deploymentstatus.h</includes>
    <includes refid="hash_8h" local="no">hash.h</includes>
    <includes refid="httprpc_8h" local="no">httprpc.h</includes>
    <includes refid="httpserver_8h" local="no">httpserver.h</includes>
    <includes refid="blockfilterindex_8h" local="no">index/blockfilterindex.h</includes>
    <includes refid="coinstatsindex_8h" local="no">index/coinstatsindex.h</includes>
    <includes refid="txindex_8h" local="no">index/txindex.h</includes>
    <includes refid="init_2common_8h" local="no">init/common.h</includes>
    <includes refid="interfaces_2chain_8h" local="no">interfaces/chain.h</includes>
    <includes refid="interfaces_2init_8h" local="no">interfaces/init.h</includes>
    <includes refid="ipc_8h" local="no">interfaces/ipc.h</includes>
    <includes refid="interfaces_2mining_8h" local="no">interfaces/mining.h</includes>
    <includes refid="node_8h" local="no">interfaces/node.h</includes>
    <includes refid="ipc_2exception_8h" local="no">ipc/exception.h</includes>
    <includes refid="kernel_2caches_8h" local="no">kernel/caches.h</includes>
    <includes refid="kernel_2context_8h" local="no">kernel/context.h</includes>
    <includes refid="key_8h" local="no">key.h</includes>
    <includes refid="logging_8h" local="no">logging.h</includes>
    <includes refid="mapport_8h" local="no">mapport.h</includes>
    <includes refid="net_8h" local="no">net.h</includes>
    <includes refid="net__permissions_8h" local="no">net_permissions.h</includes>
    <includes refid="net__processing_8h" local="no">net_processing.h</includes>
    <includes refid="netbase_8h" local="no">netbase.h</includes>
    <includes refid="netgroup_8h" local="no">netgroup.h</includes>
    <includes refid="blockmanager__args_8h" local="no">node/blockmanager_args.h</includes>
    <includes refid="blockstorage_8h" local="no">node/blockstorage.h</includes>
    <includes refid="node_2caches_8h" local="no">node/caches.h</includes>
    <includes refid="node_2chainstate_8h" local="no">node/chainstate.h</includes>
    <includes refid="chainstatemanager__args_8h" local="no">node/chainstatemanager_args.h</includes>
    <includes refid="node_2context_8h" local="no">node/context.h</includes>
    <includes refid="interface__ui_8h" local="no">node/interface_ui.h</includes>
    <includes refid="kernel__notifications_8h" local="no">node/kernel_notifications.h</includes>
    <includes refid="mempool__args_8h" local="no">node/mempool_args.h</includes>
    <includes refid="mempool__persist_8h" local="no">node/mempool_persist.h</includes>
    <includes refid="mempool__persist__args_8h" local="no">node/mempool_persist_args.h</includes>
    <includes refid="miner_8h" local="no">node/miner.h</includes>
    <includes refid="peerman__args_8h" local="no">node/peerman_args.h</includes>
    <includes refid="feerate_8h" local="no">policy/feerate.h</includes>
    <includes refid="block__policy__estimator_8h" local="no">policy/fees/block_policy_estimator.h</includes>
    <includes refid="block__policy__estimator__args_8h" local="no">policy/fees/block_policy_estimator_args.h</includes>
    <includes refid="policy_8h" local="no">policy/policy.h</includes>
    <includes refid="policy_2settings_8h" local="no">policy/settings.h</includes>
    <includes refid="protocol_8h" local="no">protocol.h</includes>
    <includes refid="blockchain_8h" local="no">rpc/blockchain.h</includes>
    <includes refid="register_8h" local="no">rpc/register.h</includes>
    <includes refid="server_8h" local="no">rpc/server.h</includes>
    <includes refid="rpc_2util_8h" local="no">rpc/util.h</includes>
    <includes refid="scheduler_8h" local="no">scheduler.h</includes>
    <includes refid="sigcache_8h" local="no">script/sigcache.h</includes>
    <includes refid="sync_8h" local="no">sync.h</includes>
    <includes refid="torcontrol_8h" local="no">torcontrol.h</includes>
    <includes refid="txdb_8h" local="no">txdb.h</includes>
    <includes refid="txmempool_8h" local="no">txmempool.h</includes>
    <includes refid="asmap_8h" local="no">util/asmap.h</includes>
    <includes refid="batchpriority_8h" local="no">util/batchpriority.h</includes>
    <includes refid="chaintype_8h" local="no">util/chaintype.h</includes>
    <includes refid="check_8h" local="no">util/check.h</includes>
    <includes refid="fs_8h" local="no">util/fs.h</includes>
    <includes refid="fs__helpers_8h" local="no">util/fs_helpers.h</includes>
    <includes refid="moneystr_8h" local="no">util/moneystr.h</includes>
    <includes refid="result_8h" local="no">util/result.h</includes>
    <includes refid="signalinterrupt_8h" local="no">util/signalinterrupt.h</includes>
    <includes refid="strencodings_8h" local="no">util/strencodings.h</includes>
    <includes refid="string_8h" local="no">util/string.h</includes>
    <includes refid="syserror_8h" local="no">util/syserror.h</includes>
    <includes refid="thread_8h" local="no">util/thread.h</includes>
    <includes refid="threadnames_8h" local="no">util/threadnames.h</includes>
    <includes refid="util_2time_8h" local="no">util/time.h</includes>
    <includes refid="translation_8h" local="no">util/translation.h</includes>
    <includes refid="validation_8h" local="no">validation.h</includes>
    <includes refid="validationinterface_8h" local="no">validationinterface.h</includes>
    <includes refid="walletinitinterface_8h" local="no">walletinitinterface.h</includes>
    <includes local="no">algorithm</includes>
    <includes local="no">cerrno</includes>
    <includes local="no">condition_variable</includes>
    <includes local="no">cstdint</includes>
    <includes local="no">cstdio</includes>
    <includes local="no">fstream</includes>
    <includes local="no">functional</includes>
    <includes local="no">set</includes>
    <includes local="no">string</includes>
    <includes local="no">thread</includes>
    <includes local="no">vector</includes>
    <includes local="no">csignal</includes>
    <includes local="no">sys/stat.h</includes>
    <includes local="no">boost/signals2/signal.hpp</includes>
    <incdepgraph>
      <node id="104">
        <label>addrdb.h</label>
        <link refid="addrdb_8h"/>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="175">
        <label>addresstype.h</label>
        <link refid="addresstype_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="176" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="30">
        <label>addrman.h</label>
        <link refid="addrman_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="114">
        <label>arith_uint256.h</label>
        <link refid="arith__uint256_8h"/>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>attributes.h</label>
        <link refid="attributes_8h"/>
      </node>
      <node id="103">
        <label>banman.h</label>
        <link refid="banman_8h"/>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="106" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
      </node>
      <node id="189">
        <label>bip324.h</label>
        <link refid="bip324_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="190" relation="include">
        </childnode>
        <childnode refid="185" relation="include">
        </childnode>
        <childnode refid="176" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="111">
        <label>blockfilter.h</label>
        <link refid="blockfilter_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
      </node>
      <node id="113">
        <label>chain.h</label>
        <link refid="chain_8h"/>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="121">
        <label>chainparams.h</label>
        <link refid="chainparams_8h"/>
        <childnode refid="122" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
      </node>
      <node id="126">
        <label>chainparamsbase.h</label>
        <link refid="chainparamsbase_8h"/>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="284">
        <label>checkqueue.h</label>
        <link refid="checkqueue_8h"/>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="282" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="127">
        <label>clientversion.h</label>
        <link refid="clientversion_8h"/>
        <childnode refid="108" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="258">
        <label>coins.h</label>
        <link refid="coins_8h"/>
        <childnode refid="259" relation="include">
        </childnode>
        <childnode refid="260" relation="include">
        </childnode>
        <childnode refid="261" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="263" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
      </node>
      <node id="128">
        <label>common/args.h</label>
        <link refid="args_8h"/>
        <childnode refid="129" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="106">
        <label>common/bloom.h</label>
        <link refid="bloom_8h"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="241">
        <label>common/messages.h</label>
        <link refid="messages_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="129">
        <label>common/settings.h</label>
        <link refid="common_2settings_8h"/>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="177">
        <label>common/signmessage.h</label>
        <link refid="signmessage_8h"/>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="131">
        <label>common/system.h</label>
        <link refid="system_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="67">
        <label>compat/assumptions.h</label>
        <link refid="compat_2assumptions_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
      </node>
      <node id="53">
        <label>compat/byteswap.h</label>
        <link refid="byteswap_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="32">
        <label>compat/compat.h</label>
        <link refid="compat_8h"/>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
      </node>
      <node id="52">
        <label>compat/endian.h</label>
        <link refid="endian_8h"/>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="259">
        <label>compressor.h</label>
        <link refid="compressor_8h"/>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="76">
        <label>consensus/amount.h</label>
        <link refid="amount_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="132">
        <label>consensus/consensus.h</label>
        <link refid="consensus_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="115">
        <label>consensus/params.h</label>
        <link refid="params_8h"/>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="203">
        <label>consensus/validation.h</label>
        <link refid="consensus_2validation_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="132" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
      </node>
      <node id="233">
        <label>core_io.h</label>
        <link refid="core__io_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="260">
        <label>core_memusage.h</label>
        <link refid="core__memusage_8h"/>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="261" relation="include">
        </childnode>
      </node>
      <node id="50">
        <label>crypto/chacha20.h</label>
        <link refid="chacha20_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="190">
        <label>crypto/chacha20poly1305.h</label>
        <link refid="chacha20poly1305_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="191" relation="include">
        </childnode>
      </node>
      <node id="51">
        <label>crypto/common.h</label>
        <link refid="crypto_2common_8h"/>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="58">
        <label>crypto/hex_base.h</label>
        <link refid="hex__base_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="159">
        <label>crypto/muhash.h</label>
        <link refid="muhash_8h"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
      </node>
      <node id="191">
        <label>crypto/poly1305.h</label>
        <link refid="poly1305_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
      </node>
      <node id="136">
        <label>crypto/ripemd160.h</label>
        <link refid="ripemd160_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="137">
        <label>crypto/sha256.h</label>
        <link refid="sha256_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="45">
        <label>crypto/siphash.h</label>
        <link refid="siphash_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
      </node>
      <node id="251">
        <label>cuckoocache.h</label>
        <link refid="cuckoocache_8h"/>
        <childnode refid="252" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="253" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="143">
        <label>dbwrapper.h</label>
        <link refid="dbwrapper_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="144" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="133">
        <label>deploymentstatus.h</label>
        <link refid="deploymentstatus_8h"/>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="134" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
      </node>
      <node id="117">
        <label>flatfile.h</label>
        <link refid="flatfile_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
      </node>
      <node id="135">
        <label>hash.h</label>
        <link refid="hash_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="136" relation="include">
        </childnode>
        <childnode refid="137" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="138">
        <label>httprpc.h</label>
        <link refid="httprpc_8h"/>
        <childnode refid="139" relation="include">
        </childnode>
      </node>
      <node id="140">
        <label>httpserver.h</label>
        <link refid="httpserver_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="192">
        <label>i2p.h</label>
        <link refid="i2p_8h"/>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="169" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="170" relation="include">
        </childnode>
        <childnode refid="171" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="142">
        <label>index/base.h</label>
        <link refid="base_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="143" relation="include">
        </childnode>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="156" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
      </node>
      <node id="141">
        <label>index/blockfilterindex.h</label>
        <link refid="blockfilterindex_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="142" relation="include">
        </childnode>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="158">
        <label>index/coinstatsindex.h</label>
        <link refid="coinstatsindex_8h"/>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="159" relation="include">
        </childnode>
        <childnode refid="142" relation="include">
        </childnode>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="160">
        <label>index/txindex.h</label>
        <link refid="txindex_8h"/>
        <childnode refid="142" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
      </node>
      <node id="262">
        <label>indirectmap.h</label>
        <link refid="indirectmap_8h"/>
        <childnode refid="69" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>src/init.cpp</label>
        <link refid="init_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="111" relation="include">
        </childnode>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="121" relation="include">
        </childnode>
        <childnode refid="126" relation="include">
        </childnode>
        <childnode refid="127" relation="include">
        </childnode>
        <childnode refid="128" relation="include">
        </childnode>
        <childnode refid="131" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="132" relation="include">
        </childnode>
        <childnode refid="133" relation="include">
        </childnode>
        <childnode refid="135" relation="include">
        </childnode>
        <childnode refid="138" relation="include">
        </childnode>
        <childnode refid="140" relation="include">
        </childnode>
        <childnode refid="141" relation="include">
        </childnode>
        <childnode refid="158" relation="include">
        </childnode>
        <childnode refid="160" relation="include">
        </childnode>
        <childnode refid="161" relation="include">
        </childnode>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="162" relation="include">
        </childnode>
        <childnode refid="179" relation="include">
        </childnode>
        <childnode refid="164" relation="include">
        </childnode>
        <childnode refid="166" relation="include">
        </childnode>
        <childnode refid="181" relation="include">
        </childnode>
        <childnode refid="182" relation="include">
        </childnode>
        <childnode refid="184" relation="include">
        </childnode>
        <childnode refid="185" relation="include">
        </childnode>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="187" relation="include">
        </childnode>
        <childnode refid="188" relation="include">
        </childnode>
        <childnode refid="193" relation="include">
        </childnode>
        <childnode refid="201" relation="include">
        </childnode>
        <childnode refid="169" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="205" relation="include">
        </childnode>
        <childnode refid="206" relation="include">
        </childnode>
        <childnode refid="210" relation="include">
        </childnode>
        <childnode refid="211" relation="include">
        </childnode>
        <childnode refid="213" relation="include">
        </childnode>
        <childnode refid="214" relation="include">
        </childnode>
        <childnode refid="215" relation="include">
        </childnode>
        <childnode refid="216" relation="include">
        </childnode>
        <childnode refid="217" relation="include">
        </childnode>
        <childnode refid="218" relation="include">
        </childnode>
        <childnode refid="219" relation="include">
        </childnode>
        <childnode refid="220" relation="include">
        </childnode>
        <childnode refid="227" relation="include">
        </childnode>
        <childnode refid="196" relation="include">
        </childnode>
        <childnode refid="228" relation="include">
        </childnode>
        <childnode refid="230" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="231" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="232" relation="include">
        </childnode>
        <childnode refid="234" relation="include">
        </childnode>
        <childnode refid="235" relation="include">
        </childnode>
        <childnode refid="239" relation="include">
        </childnode>
        <childnode refid="248" relation="include">
        </childnode>
        <childnode refid="250" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="255" relation="include">
        </childnode>
        <childnode refid="257" relation="include">
        </childnode>
        <childnode refid="265" relation="include">
        </childnode>
        <childnode refid="275" relation="include">
        </childnode>
        <childnode refid="276" relation="include">
        </childnode>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="277" relation="include">
        </childnode>
        <childnode refid="278" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="279" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="281" relation="include">
        </childnode>
        <childnode refid="282" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="283" relation="include">
        </childnode>
        <childnode refid="156" relation="include">
        </childnode>
        <childnode refid="286" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="287" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="288" relation="include">
        </childnode>
        <childnode refid="289" relation="include">
        </childnode>
        <childnode refid="290" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>init.h</label>
        <link refid="init_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="161">
        <label>init/common.h</label>
        <link refid="init_2common_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="145">
        <label>interfaces/chain.h</label>
        <link refid="interfaces_2chain_8h"/>
        <childnode refid="146" relation="include">
        </childnode>
        <childnode refid="129" relation="include">
        </childnode>
        <childnode refid="147" relation="include">
        </childnode>
        <childnode refid="148" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="163">
        <label>interfaces/echo.h</label>
        <link refid="echo_8h"/>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="162">
        <label>interfaces/init.h</label>
        <link refid="interfaces_2init_8h"/>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="163" relation="include">
        </childnode>
        <childnode refid="164" relation="include">
        </childnode>
        <childnode refid="166" relation="include">
        </childnode>
        <childnode refid="174" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
      </node>
      <node id="179">
        <label>interfaces/ipc.h</label>
        <link refid="ipc_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="180" relation="include">
        </childnode>
      </node>
      <node id="164">
        <label>interfaces/mining.h</label>
        <link refid="interfaces_2mining_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="165" relation="include">
        </childnode>
        <childnode refid="148" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="166">
        <label>interfaces/node.h</label>
        <link refid="node_8h"/>
        <childnode refid="129" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="167" relation="include">
        </childnode>
        <childnode refid="168" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="169" relation="include">
        </childnode>
        <childnode refid="172" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="165">
        <label>interfaces/types.h</label>
        <link refid="interfaces_2types_8h"/>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="174">
        <label>interfaces/wallet.h</label>
        <link refid="interfaces_2wallet_8h"/>
        <childnode refid="175" relation="include">
        </childnode>
        <childnode refid="177" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="176" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="172" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="178" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="181">
        <label>ipc/exception.h</label>
        <link refid="ipc_2exception_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="208">
        <label>kernel/blockmanager_opts.h</label>
        <link refid="blockmanager__opts_8h"/>
        <childnode refid="143" relation="include">
        </childnode>
        <childnode refid="209" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="182">
        <label>kernel/caches.h</label>
        <link refid="kernel_2caches_8h"/>
        <childnode refid="183" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="147">
        <label>kernel/chain.h</label>
        <link refid="kernel_2chain_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="122">
        <label>kernel/chainparams.h</label>
        <link refid="kernel_2chainparams_8h"/>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="124" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="285">
        <label>kernel/chainstatemanager_opts.h</label>
        <link refid="chainstatemanager__opts_8h"/>
        <childnode refid="209" relation="include">
        </childnode>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="143" relation="include">
        </childnode>
        <childnode refid="250" relation="include">
        </childnode>
        <childnode refid="257" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>kernel/checks.h</label>
        <link refid="checks_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="184">
        <label>kernel/context.h</label>
        <link refid="kernel_2context_8h"/>
      </node>
      <node id="118">
        <label>kernel/cs_main.h</label>
        <link refid="cs__main_8h"/>
        <childnode refid="107" relation="include">
        </childnode>
      </node>
      <node id="266">
        <label>kernel/mempool_entry.h</label>
        <link refid="mempool__entry_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="203" relation="include">
        </childnode>
        <childnode refid="260" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="231" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="267" relation="include">
        </childnode>
        <childnode refid="268" relation="include">
        </childnode>
        <childnode refid="101" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="269">
        <label>kernel/mempool_limits.h</label>
        <link refid="mempool__limits_8h"/>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="270">
        <label>kernel/mempool_options.h</label>
        <link refid="mempool__options_8h"/>
        <childnode refid="269" relation="include">
        </childnode>
        <childnode refid="196" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="271">
        <label>kernel/mempool_removal_reason.h</label>
        <link refid="mempool__removal__reason_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="74">
        <label>kernel/messagestartchars.h</label>
        <link refid="messagestartchars_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="209">
        <label>kernel/notifications_interface.h</label>
        <link refid="notifications__interface_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="185">
        <label>key.h</label>
        <link refid="key_8h"/>
        <childnode refid="186" relation="include">
        </childnode>
        <childnode refid="176" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="172" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="85">
        <label>logging.h</label>
        <link refid="logging_8h"/>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="187">
        <label>mapport.h</label>
        <link refid="mapport_8h"/>
      </node>
      <node id="261">
        <label>memusage.h</label>
        <link refid="memusage_8h"/>
        <childnode refid="262" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="263" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
      </node>
      <node id="186">
        <label>musig.h</label>
        <link refid="musig_8h"/>
        <childnode refid="176" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="188">
        <label>net.h</label>
        <link refid="net_8h"/>
        <childnode refid="189" relation="include">
        </childnode>
        <childnode refid="121" relation="include">
        </childnode>
        <childnode refid="106" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="135" relation="include">
        </childnode>
        <childnode refid="192" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="193" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="169" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="194" relation="include">
        </childnode>
        <childnode refid="195" relation="include">
        </childnode>
        <childnode refid="196" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="197" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="170" relation="include">
        </childnode>
        <childnode refid="171" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="199" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="200" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="193">
        <label>net_permissions.h</label>
        <link refid="net__permissions_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="169" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="201">
        <label>net_processing.h</label>
        <link refid="net__processing_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="188" relation="include">
        </childnode>
        <childnode refid="202" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="204" relation="include">
        </childnode>
        <childnode refid="156" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="105">
        <label>net_types.h</label>
        <link refid="net__types_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
      </node>
      <node id="31">
        <label>netaddress.h</label>
        <link refid="netaddress_8h"/>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="169">
        <label>netbase.h</label>
        <link refid="netbase_8h"/>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="170" relation="include">
        </childnode>
        <childnode refid="171" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="72">
        <label>netgroup.h</label>
        <link refid="netgroup_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="205">
        <label>node/blockmanager_args.h</label>
        <link refid="blockmanager__args_8h"/>
        <childnode refid="206" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="206">
        <label>node/blockstorage.h</label>
        <link refid="blockstorage_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="207" relation="include">
        </childnode>
        <childnode refid="143" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="208" relation="include">
        </childnode>
        <childnode refid="122" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="204" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="210">
        <label>node/caches.h</label>
        <link refid="node_2caches_8h"/>
        <childnode refid="182" relation="include">
        </childnode>
        <childnode refid="183" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="211">
        <label>node/chainstate.h</label>
        <link refid="node_2chainstate_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="212" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
      </node>
      <node id="213">
        <label>node/chainstatemanager_args.h</label>
        <link refid="chainstatemanager__args_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="212" relation="include">
        </childnode>
      </node>
      <node id="194">
        <label>node/connection_types.h</label>
        <link refid="connection__types_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="214">
        <label>node/context.h</label>
        <link refid="node_2context_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="215">
        <label>node/interface_ui.h</label>
        <link refid="interface__ui_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="216">
        <label>node/kernel_notifications.h</label>
        <link refid="kernel__notifications_8h"/>
        <childnode refid="209" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="217">
        <label>node/mempool_args.h</label>
        <link refid="mempool__args_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="218">
        <label>node/mempool_persist.h</label>
        <link refid="mempool__persist_8h"/>
        <childnode refid="88" relation="include">
        </childnode>
      </node>
      <node id="219">
        <label>node/mempool_persist_args.h</label>
        <link refid="mempool__persist__args_8h"/>
        <childnode refid="88" relation="include">
        </childnode>
      </node>
      <node id="220">
        <label>node/miner.h</label>
        <link refid="miner_8h"/>
        <childnode refid="165" relation="include">
        </childnode>
        <childnode refid="148" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="221" relation="include">
        </childnode>
        <childnode refid="154" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="222" relation="include">
        </childnode>
        <childnode refid="223" relation="include">
        </childnode>
        <childnode refid="224" relation="include">
        </childnode>
        <childnode refid="225" relation="include">
        </childnode>
        <childnode refid="226" relation="include">
        </childnode>
      </node>
      <node id="227">
        <label>node/peerman_args.h</label>
        <link refid="peerman__args_8h"/>
        <childnode refid="201" relation="include">
        </childnode>
      </node>
      <node id="195">
        <label>node/protocol_version.h</label>
        <link refid="protocol__version_8h"/>
      </node>
      <node id="240">
        <label>node/transaction.h</label>
        <link refid="node_2transaction_8h"/>
        <childnode refid="241" relation="include">
        </childnode>
        <childnode refid="148" relation="include">
        </childnode>
        <childnode refid="196" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
      </node>
      <node id="202">
        <label>node/txorphanage.h</label>
        <link refid="txorphanage_8h"/>
        <childnode refid="203" relation="include">
        </childnode>
        <childnode refid="168" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="148">
        <label>node/types.h</label>
        <link refid="node_2types_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
      </node>
      <node id="242">
        <label>outputtype.h</label>
        <link refid="outputtype_8h"/>
        <childnode refid="175" relation="include">
        </childnode>
        <childnode refid="243" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="196">
        <label>policy/feerate.h</label>
        <link refid="feerate_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="154" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="228">
        <label>policy/fees/block_policy_estimator.h</label>
        <link refid="block__policy__estimator_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="196" relation="include">
        </childnode>
        <childnode refid="229" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="156" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="230">
        <label>policy/fees/block_policy_estimator_args.h</label>
        <link refid="block__policy__estimator__args_8h"/>
        <childnode refid="88" relation="include">
        </childnode>
      </node>
      <node id="272">
        <label>policy/packages.h</label>
        <link refid="packages_8h"/>
        <childnode refid="132" relation="include">
        </childnode>
        <childnode refid="203" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="149">
        <label>policy/policy.h</label>
        <link refid="policy_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="132" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="153" relation="include">
        </childnode>
        <childnode refid="154" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="231">
        <label>policy/settings.h</label>
        <link refid="policy_2settings_8h"/>
      </node>
      <node id="46">
        <label>prevector.h</label>
        <link refid="prevector_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="119">
        <label>primitives/block.h</label>
        <link refid="primitives_2block_8h"/>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
      </node>
      <node id="75">
        <label>primitives/transaction.h</label>
        <link refid="primitives_2transaction_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="77">
        <label>primitives/transaction_identifier.h</label>
        <link refid="transaction__identifier_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="73">
        <label>protocol.h</label>
        <link refid="protocol_8h"/>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="176">
        <label>pubkey.h</label>
        <link refid="pubkey_8h"/>
        <childnode refid="135" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="49">
        <label>random.h</label>
        <link refid="random_8h"/>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="232">
        <label>rpc/blockchain.h</label>
        <link refid="blockchain_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="233" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="212" relation="include">
        </childnode>
        <childnode refid="139" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="245">
        <label>rpc/protocol.h</label>
        <link refid="rpc_2protocol_8h"/>
      </node>
      <node id="234">
        <label>rpc/register.h</label>
        <link refid="register_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="236">
        <label>rpc/request.h</label>
        <link refid="request_8h"/>
        <childnode refid="139" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="237" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
      </node>
      <node id="235">
        <label>rpc/server.h</label>
        <link refid="server_8h"/>
        <childnode refid="236" relation="include">
        </childnode>
        <childnode refid="238" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="237" relation="include">
        </childnode>
      </node>
      <node id="239">
        <label>rpc/util.h</label>
        <link refid="rpc_2util_8h"/>
        <childnode refid="175" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="240" relation="include">
        </childnode>
        <childnode refid="242" relation="include">
        </childnode>
        <childnode refid="176" relation="include">
        </childnode>
        <childnode refid="245" relation="include">
        </childnode>
        <childnode refid="236" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="246" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="237" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="125" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="248">
        <label>scheduler.h</label>
        <link refid="scheduler_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="249" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="150">
        <label>script/interpreter.h</label>
        <link refid="interpreter_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="151" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="152" relation="include">
        </childnode>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="244">
        <label>script/keyorigin.h</label>
        <link refid="keyorigin_8h"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="81">
        <label>script/script.h</label>
        <link refid="script_2script_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="152">
        <label>script/script_error.h</label>
        <link refid="script__error_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="250">
        <label>script/sigcache.h</label>
        <link refid="sigcache_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="137" relation="include">
        </childnode>
        <childnode refid="251" relation="include">
        </childnode>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="254" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="246">
        <label>script/sign.h</label>
        <link refid="sign_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="247" relation="include">
        </childnode>
        <childnode refid="151" relation="include">
        </childnode>
        <childnode refid="176" relation="include">
        </childnode>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="244" relation="include">
        </childnode>
        <childnode refid="243" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="243">
        <label>script/signingprovider.h</label>
        <link refid="signingprovider_8h"/>
        <childnode refid="175" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="185" relation="include">
        </childnode>
        <childnode refid="186" relation="include">
        </childnode>
        <childnode refid="176" relation="include">
        </childnode>
        <childnode refid="244" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="153">
        <label>script/solver.h</label>
        <link refid="solver_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="116">
        <label>script/verify_flags.h</label>
        <link refid="verify__flags_8h"/>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="197">
        <label>semaphore_grant.h</label>
        <link refid="semaphore__grant_8h"/>
        <childnode refid="198" relation="include">
        </childnode>
      </node>
      <node id="66">
        <label>serialize.h</label>
        <link refid="serialize_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="15">
        <label>span.h</label>
        <link refid="span_8h"/>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="84">
        <label>streams.h</label>
        <link refid="streams_8h"/>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="101" relation="include">
        </childnode>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="263">
        <label>support/allocators/pool.h</label>
        <link refid="pool_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="264" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
      </node>
      <node id="172">
        <label>support/allocators/secure.h</label>
        <link refid="secure_8h"/>
        <childnode refid="173" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="97">
        <label>support/allocators/zeroafterfree.h</label>
        <link refid="zeroafterfree_8h"/>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="98">
        <label>support/cleanse.h</label>
        <link refid="cleanse_8h"/>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="173">
        <label>support/lockedpool.h</label>
        <link refid="lockedpool_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
      </node>
      <node id="107">
        <label>sync.h</label>
        <link refid="sync_8h"/>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="108" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
      </node>
      <node id="86">
        <label>threadsafety.h</label>
        <link refid="threadsafety_8h"/>
        <childnode refid="87" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>tinyformat.h</label>
        <link refid="tinyformat_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
      </node>
      <node id="255">
        <label>torcontrol.h</label>
        <link refid="torcontrol_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="256" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="199" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="257">
        <label>txdb.h</label>
        <link refid="txdb_8h"/>
        <childnode refid="258" relation="include">
        </childnode>
        <childnode refid="143" relation="include">
        </childnode>
        <childnode refid="182" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="267">
        <label>txgraph.h</label>
        <link refid="txgraph_8h"/>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="154" relation="include">
        </childnode>
      </node>
      <node id="265">
        <label>txmempool.h</label>
        <link refid="txmempool_8h"/>
        <childnode refid="258" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="262" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="266" relation="include">
        </childnode>
        <childnode refid="269" relation="include">
        </childnode>
        <childnode refid="270" relation="include">
        </childnode>
        <childnode refid="271" relation="include">
        </childnode>
        <childnode refid="196" relation="include">
        </childnode>
        <childnode refid="272" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="267" relation="include">
        </childnode>
        <childnode refid="268" relation="include">
        </childnode>
        <childnode refid="154" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="273" relation="include">
        </childnode>
        <childnode refid="222" relation="include">
        </childnode>
        <childnode refid="223" relation="include">
        </childnode>
        <childnode refid="224" relation="include">
        </childnode>
        <childnode refid="274" relation="include">
        </childnode>
        <childnode refid="225" relation="include">
        </childnode>
        <childnode refid="226" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="56">
        <label>uint256.h</label>
        <link refid="uint256_8h"/>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="237">
        <label>univalue.h</label>
        <link refid="univalue_8h"/>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="275">
        <label>util/asmap.h</label>
        <link refid="asmap_8h"/>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="276">
        <label>util/batchpriority.h</label>
        <link refid="batchpriority_8h"/>
      </node>
      <node id="183">
        <label>util/byte_units.h</label>
        <link refid="byte__units_8h"/>
        <childnode refid="101" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="112">
        <label>util/bytevectorhash.h</label>
        <link refid="bytevectorhash_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="123">
        <label>util/chaintype.h</label>
        <link refid="chaintype_8h"/>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="63">
        <label>util/check.h</label>
        <link refid="check_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="268">
        <label>util/epochguard.h</label>
        <link refid="epochguard_8h"/>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="108" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
      </node>
      <node id="204">
        <label>util/expected.h</label>
        <link refid="expected_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="252">
        <label>util/fastrange.h</label>
        <link refid="fastrange_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="154">
        <label>util/feefrac.h</label>
        <link refid="feefrac_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="88">
        <label>util/fs.h</label>
        <link refid="fs_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="92" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="277">
        <label>util/fs_helpers.h</label>
        <link refid="fs__helpers_8h"/>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="82">
        <label>util/hash_type.h</label>
        <link refid="hash__type_8h"/>
      </node>
      <node id="157">
        <label>util/hasher.h</label>
        <link refid="hasher_8h"/>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="108">
        <label>util/macros.h</label>
        <link refid="macros_8h"/>
      </node>
      <node id="278">
        <label>util/moneystr.h</label>
        <link refid="moneystr_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="99">
        <label>util/obfuscation.h</label>
        <link refid="obfuscation_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="100" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
      </node>
      <node id="101">
        <label>util/overflow.h</label>
        <link refid="overflow_8h"/>
        <childnode refid="100" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>util/result.h</label>
        <link refid="result_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="279">
        <label>util/signalinterrupt.h</label>
        <link refid="signalinterrupt_8h"/>
        <childnode refid="280" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="170">
        <label>util/sock.h</label>
        <link refid="sock_8h"/>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
      </node>
      <node id="57">
        <label>util/strencodings.h</label>
        <link refid="strencodings_8h"/>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>util/string.h</label>
        <link refid="string_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="102">
        <label>util/syserror.h</label>
        <link refid="syserror_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="249">
        <label>util/task_runner.h</label>
        <link refid="task__runner_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="281">
        <label>util/thread.h</label>
        <link refid="thread_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="171">
        <label>util/threadinterrupt.h</label>
        <link refid="util_2threadinterrupt_8h"/>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
      </node>
      <node id="282">
        <label>util/threadnames.h</label>
        <link refid="threadnames_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="93">
        <label>util/time.h</label>
        <link refid="util_2time_8h"/>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="280">
        <label>util/tokenpipe.h</label>
        <link refid="tokenpipe_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>util/translation.h</label>
        <link refid="translation_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="78">
        <label>util/types.h</label>
        <link refid="util_2types_8h"/>
      </node>
      <node id="178">
        <label>util/ui_change_type.h</label>
        <link refid="ui__change__type_8h"/>
      </node>
      <node id="124">
        <label>util/vector.h</label>
        <link refid="vector_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="125" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="283">
        <label>validation.h</label>
        <link refid="validation_8h"/>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="284" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="251" relation="include">
        </childnode>
        <childnode refid="133" relation="include">
        </childnode>
        <childnode refid="147" relation="include">
        </childnode>
        <childnode refid="122" relation="include">
        </childnode>
        <childnode refid="285" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="206" relation="include">
        </childnode>
        <childnode refid="196" relation="include">
        </childnode>
        <childnode refid="272" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="152" relation="include">
        </childnode>
        <childnode refid="250" relation="include">
        </childnode>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="257" relation="include">
        </childnode>
        <childnode refid="265" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="183" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="134" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="156">
        <label>validationinterface.h</label>
        <link refid="validationinterface_8h"/>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="134">
        <label>versionbits.h</label>
        <link refid="versionbits_8h"/>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="286">
        <label>walletinitinterface.h</label>
        <link refid="walletinitinterface_8h"/>
      </node>
      <node id="10">
        <label>algorithm</label>
      </node>
      <node id="139">
        <label>any</label>
      </node>
      <node id="33">
        <label>arpa/inet.h</label>
      </node>
      <node id="21">
        <label>array</label>
      </node>
      <node id="4">
        <label>atomic</label>
      </node>
      <node id="54">
        <label>bit</label>
      </node>
      <node id="2">
        <label>bitcoin-build-config.h</label>
      </node>
      <node id="146">
        <label>blockfilter.h</label>
      </node>
      <node id="273">
        <label>boost/multi_index/hashed_index.hpp</label>
      </node>
      <node id="222">
        <label>boost/multi_index/identity.hpp</label>
      </node>
      <node id="223">
        <label>boost/multi_index/indexed_by.hpp</label>
      </node>
      <node id="224">
        <label>boost/multi_index/ordered_index.hpp</label>
      </node>
      <node id="274">
        <label>boost/multi_index/sequenced_index.hpp</label>
      </node>
      <node id="225">
        <label>boost/multi_index/tag.hpp</label>
      </node>
      <node id="226">
        <label>boost/multi_index_container.hpp</label>
      </node>
      <node id="290">
        <label>boost/signals2/signal.hpp</label>
      </node>
      <node id="16">
        <label>cassert</label>
      </node>
      <node id="44">
        <label>cerrno</label>
      </node>
      <node id="207">
        <label>chain.h</label>
      </node>
      <node id="59">
        <label>charconv</label>
      </node>
      <node id="65">
        <label>chrono</label>
      </node>
      <node id="100">
        <label>climits</label>
      </node>
      <node id="253">
        <label>cmath</label>
      </node>
      <node id="247">
        <label>coins.h</label>
      </node>
      <node id="79">
        <label>compare</label>
      </node>
      <node id="55">
        <label>concepts</label>
      </node>
      <node id="109">
        <label>condition_variable</label>
      </node>
      <node id="288">
        <label>csignal</label>
      </node>
      <node id="17">
        <label>cstddef</label>
      </node>
      <node id="22">
        <label>cstdint</label>
      </node>
      <node id="89">
        <label>cstdio</label>
      </node>
      <node id="47">
        <label>cstdlib</label>
      </node>
      <node id="23">
        <label>cstring</label>
      </node>
      <node id="199">
        <label>deque</label>
      </node>
      <node id="256">
        <label>event2/util.h</label>
      </node>
      <node id="144">
        <label>exception</label>
      </node>
      <node id="34">
        <label>fcntl.h</label>
      </node>
      <node id="90">
        <label>filesystem</label>
      </node>
      <node id="287">
        <label>fstream</label>
      </node>
      <node id="28">
        <label>functional</label>
      </node>
      <node id="151">
        <label>hash.h</label>
      </node>
      <node id="125">
        <label>initializer_list</label>
      </node>
      <node id="91">
        <label>iomanip</label>
      </node>
      <node id="68">
        <label>ios</label>
      </node>
      <node id="130">
        <label>iosfwd</label>
      </node>
      <node id="11">
        <label>iostream</label>
      </node>
      <node id="48">
        <label>iterator</label>
      </node>
      <node id="60">
        <label>limits</label>
      </node>
      <node id="94">
        <label>list</label>
      </node>
      <node id="24">
        <label>locale</label>
      </node>
      <node id="167">
        <label>logging.h</label>
      </node>
      <node id="69">
        <label>map</label>
      </node>
      <node id="70">
        <label>memory</label>
      </node>
      <node id="87">
        <label>mutex</label>
      </node>
      <node id="168">
        <label>net.h</label>
      </node>
      <node id="35">
        <label>net/if.h</label>
      </node>
      <node id="36">
        <label>netdb.h</label>
      </node>
      <node id="37">
        <label>netinet/in.h</label>
      </node>
      <node id="38">
        <label>netinet/tcp.h</label>
      </node>
      <node id="264">
        <label>new</label>
      </node>
      <node id="83">
        <label>numeric</label>
      </node>
      <node id="61">
        <label>optional</label>
      </node>
      <node id="92">
        <label>ostream</label>
      </node>
      <node id="200">
        <label>queue</label>
      </node>
      <node id="229">
        <label>random.h</label>
      </node>
      <node id="238">
        <label>rpc/util.h</label>
      </node>
      <node id="198">
        <label>semaphore</label>
      </node>
      <node id="71">
        <label>set</label>
      </node>
      <node id="254">
        <label>shared_mutex</label>
      </node>
      <node id="64">
        <label>source_location</label>
      </node>
      <node id="18">
        <label>span</label>
      </node>
      <node id="12">
        <label>sstream</label>
      </node>
      <node id="13">
        <label>stdexcept</label>
      </node>
      <node id="25">
        <label>string</label>
      </node>
      <node id="26">
        <label>string_view</label>
      </node>
      <node id="39">
        <label>sys/mman.h</label>
      </node>
      <node id="40">
        <label>sys/select.h</label>
      </node>
      <node id="41">
        <label>sys/socket.h</label>
      </node>
      <node id="289">
        <label>sys/stat.h</label>
      </node>
      <node id="42">
        <label>sys/types.h</label>
      </node>
      <node id="62">
        <label>system_error</label>
      </node>
      <node id="110">
        <label>thread</label>
      </node>
      <node id="80">
        <label>tuple</label>
      </node>
      <node id="221">
        <label>txmempool.h</label>
      </node>
      <node id="19">
        <label>type_traits</label>
      </node>
      <node id="180">
        <label>typeindex</label>
      </node>
      <node id="43">
        <label>unistd.h</label>
      </node>
      <node id="95">
        <label>unordered_map</label>
      </node>
      <node id="96">
        <label>unordered_set</label>
      </node>
      <node id="155">
        <label>util/threadinterrupt.h</label>
      </node>
      <node id="120">
        <label>util/time.h</label>
      </node>
      <node id="20">
        <label>utility</label>
      </node>
      <node id="212">
        <label>validation.h</label>
      </node>
      <node id="29">
        <label>variant</label>
      </node>
      <node id="27">
        <label>vector</label>
      </node>
    </incdepgraph>
    <innerclass refid="class_block_manager" prot="public">BlockManager</innerclass>
    <innerclass refid="class_kernel_notifications" prot="public">KernelNotifications</innerclass>
    <sectiondef kind="define">
      <memberdef kind="define" id="init_8cpp_1ac372050472af1ae8e857874e0321396d" prot="public" static="no">
        <name>MIN_LEVELDB_FDS</name>
        <initializer>150</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="157" column="10" bodyfile="src/init.cpp" bodystart="157" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="var">
      <memberdef kind="variable" id="init_8cpp_1a67f29744d0fcd2d9963be0d4b821e289" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>bool</type>
        <definition>bool DEFAULT_PROXYRANDOMIZE</definition>
        <argsstring></argsstring>
        <name>DEFAULT_PROXYRANDOMIZE</name>
        <initializer>{true}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="146" column="23" bodyfile="src/init.cpp" bodystart="146" bodyend="146"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1ab830fc144f52633703c0f9811ed2311d" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>bool</type>
        <definition>bool DEFAULT_REST_ENABLE</definition>
        <argsstring></argsstring>
        <name>DEFAULT_REST_ENABLE</name>
        <initializer>{false}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="147" column="23" bodyfile="src/init.cpp" bodystart="147" bodyend="147"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1ad6e72d72741ee9f7fda2df744a98e876" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>bool</type>
        <definition>bool DEFAULT_I2P_ACCEPT_INCOMING</definition>
        <argsstring></argsstring>
        <name>DEFAULT_I2P_ACCEPT_INCOMING</name>
        <initializer>{true}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="148" column="23" bodyfile="src/init.cpp" bodystart="148" bodyend="148"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1aad8a0c7db0e369eaa3b9f7934f8f000a" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>bool</type>
        <definition>bool DEFAULT_STOPAFTERBLOCKIMPORT</definition>
        <argsstring></argsstring>
        <name>DEFAULT_STOPAFTERBLOCKIMPORT</name>
        <initializer>{false}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="149" column="23" bodyfile="src/init.cpp" bodystart="149" bodyend="149"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1a369f7dcc2187f80c8228a7f5f8b328fd" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>int</type>
        <definition>int MIN_CORE_FDS</definition>
        <argsstring></argsstring>
        <name>MIN_CORE_FDS</name>
        <initializer>= <ref refid="init_8cpp_1ac372050472af1ae8e857874e0321396d" kindref="member">MIN_LEVELDB_FDS</ref> + NUM_FDS_MESSAGE_CAPTURE</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="160" column="22" bodyfile="src/init.cpp" bodystart="160" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1a17ca3d49155ce6bd2cab21ab7163b79e" prot="public" static="yes" mutable="no">
        <type>const char *</type>
        <definition>const char* BITCOIN_PID_FILENAME</definition>
        <argsstring></argsstring>
        <name>BITCOIN_PID_FILENAME</name>
        <initializer>= &quot;bitcoind.pid&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The PID file facilities. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="165" column="19" bodyfile="src/init.cpp" bodystart="165" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1a1a4669adbbd7720b401b7a6aa965991a" prot="public" static="yes" mutable="no">
        <type>bool</type>
        <definition>bool g_generated_pid</definition>
        <argsstring></argsstring>
        <name>g_generated_pid</name>
        <initializer>{false}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>True if this process has created a PID file. Used to determine whether we should remove the PID file on shutdown. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="170" column="13" bodyfile="src/init.cpp" bodystart="170" bodyend="170"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1a1aa7b0f59c22b9326b67719c9923dd48" prot="public" static="yes" mutable="no">
        <type>std::optional&lt; <ref refid="classutil_1_1_signal_interrupt" kindref="compound">util::SignalInterrupt</ref> &gt;</type>
        <definition>std::optional&lt;util::SignalInterrupt&gt; g_shutdown</definition>
        <argsstring></argsstring>
        <name>g_shutdown</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="205" column="22" bodyfile="src/init.cpp" bodystart="205" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1a54a6e954a9787703d1eedf48e7370f92" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>bool</type>
        <definition>bool DEFAULT_PERSIST_MEMPOOL</definition>
        <argsstring></argsstring>
        <name>DEFAULT_PERSIST_MEMPOOL</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Default for -persistmempool, indicating whether the node should attempt to automatically load the mempool on start and save to disk on shutdown </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="130" column="1" bodyfile="src/node/mempool_persist_args.h" bodystart="18" bodyend="18"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1a6c1615e5fb91cbf96d39e2bad9bb5ab7" prot="public" static="yes" mutable="no">
        <type>const bool</type>
        <definition>const bool DEFAULT_PRINT_MODIFIED_FEE</definition>
        <argsstring></argsstring>
        <name>DEFAULT_PRINT_MODIFIED_FEE</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="131" column="1" bodyfile="src/node/miner.h" bodystart="40" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="init_8cpp_1aa9aa7c55ac04fde79d3c8aae4f5afd25" prot="public" static="yes" constexpr="yes" mutable="no">
        <type>int</type>
        <definition>int DEFAULT_STOPATHEIGHT</definition>
        <argsstring></argsstring>
        <name>DEFAULT_STOPATHEIGHT</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="132" column="1" bodyfile="src/node/kernel_notifications.h" bodystart="30" bodyend="30"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="init_8cpp_1a61b7e0ab0910caa1b6bef0e30167a527" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classfs_1_1path" kindref="compound">fs::path</ref></type>
        <definition>static fs::path GetPidFile</definition>
        <argsstring>(const ArgsManager &amp;args)</argsstring>
        <name>GetPidFile</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="172" column="17" bodyfile="src/init.cpp" bodystart="172" bodyend="175"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a19cd7ef2790c0ebcfbf9d3a0e49a1823" prot="public" static="yes" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool CreatePidFile</definition>
        <argsstring>(const ArgsManager &amp;args)</argsstring>
        <name>CreatePidFile</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="177" column="14" bodyfile="src/init.cpp" bodystart="177" bodyend="193"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a25b76aa8543e9a5faf1dd8dafdcc7f75" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void RemovePidFile</definition>
        <argsstring>(const ArgsManager &amp;args)</argsstring>
        <name>RemovePidFile</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="195" column="13" bodyfile="src/init.cpp" bodystart="195" bodyend="203"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1adcda85dcd5b886ad27a3298f094f09aa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void InitContext</definition>
        <argsstring>(NodeContext &amp;node)</argsstring>
        <name>InitContext</name>
        <param>
          <type><ref refid="structnode_1_1_node_context" kindref="compound">node::NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Initialize node context shutdown and args variables. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="207" column="6" bodyfile="src/init.cpp" bodystart="207" bodyend="219"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a83987d355ea0aea808522caa78633ee9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ShutdownRequested</definition>
        <argsstring>(node::NodeContext &amp;node)</argsstring>
        <name>ShutdownRequested</name>
        <param>
          <type><ref refid="structnode_1_1_node_context" kindref="compound">node::NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return whether node shutdown was requested. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="244" column="6" bodyfile="src/init.cpp" bodystart="244" bodyend="247"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a27f6301208add8d8af85c9c23a26ed8e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Interrupt</definition>
        <argsstring>(NodeContext &amp;node)</argsstring>
        <name>Interrupt</name>
        <param>
          <type><ref refid="structnode_1_1_node_context" kindref="compound">node::NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Interrupt threads </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="262" column="6" bodyfile="src/init.cpp" bodystart="262" bodyend="280"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a441fc2acf4e8b6940f4f936fe60464bf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Shutdown</definition>
        <argsstring>(NodeContext &amp;node)</argsstring>
        <name>Shutdown</name>
        <param>
          <type><ref refid="struct_node_context" kindref="compound">NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
<para>Note: <ref refid="bitcoind_8cpp_1ac68f1623a4eeeeed78cad488e88f3e9c" kindref="member">Shutdown()</ref> must be able to handle cases in which initialization failed part of the way, for example if the data directory was found to be locked. Be sure that anything that writes files or flushes caches only does this if the respective module was initialized.</para>
        </inbodydescription>
        <location file="src/init.cpp" line="282" column="6" bodyfile="src/init.cpp" bodystart="282" bodyend="410"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a44329b052cda0cc6572ff0cbc08443e9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void HandleSIGTERM</definition>
        <argsstring>(int)</argsstring>
        <name>HandleSIGTERM</name>
        <param>
          <type>int</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Signal handlers are very limited in what they are allowed to do. The execution context the handler is invoked in is not guaranteed, so we restrict handler operations to just touching variables: </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="418" column="13" bodyfile="src/init.cpp" bodystart="418" bodyend="423"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a56a13b38fca742cac6d4413b5876584a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void HandleSIGHUP</definition>
        <argsstring>(int)</argsstring>
        <name>HandleSIGHUP</name>
        <param>
          <type>int</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="425" column="13" bodyfile="src/init.cpp" bodystart="425" bodyend="428"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1ac3d788e1deba7e811f0b430d0736d8d2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void registerSignalHandler</definition>
        <argsstring>(int signal, void(*handler)(int))</argsstring>
        <name>registerSignalHandler</name>
        <param>
          <type>int</type>
          <declname>signal</declname>
        </param>
        <param>
          <type>void(*)(int)</type>
          <declname>handler</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="442" column="13" bodyfile="src/init.cpp" bodystart="442" bodyend="449"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1ad8967187dd520b3ded61ab2c601ac4a0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SetupServerArgs</definition>
        <argsstring>(ArgsManager &amp;argsman, bool can_listen_ipc)</argsstring>
        <name>SetupServerArgs</name>
        <param>
          <type><ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>argsman</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>can_listen_ipc</declname>
          <defval>false</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Register all arguments with the <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="452" column="6" bodyfile="src/init.cpp" bodystart="452" bodyend="712"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a29beb68bc259d98d5c425eb14f63ea81" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool AppInitServers</definition>
        <argsstring>(NodeContext &amp;node)</argsstring>
        <name>AppInitServers</name>
        <param>
          <type><ref refid="struct_node_context" kindref="compound">NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="725" column="13" bodyfile="src/init.cpp" bodystart="725" bodyend="738"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1ab222cb064a4abc9505e066efd0657272" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void InitParameterInteraction</definition>
        <argsstring>(ArgsManager &amp;args)</argsstring>
        <name>InitParameterInteraction</name>
        <param>
          <type><ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <briefdescription>
<para>Parameter interaction: change current parameters depending on various rules. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="741" column="6" bodyfile="src/init.cpp" bodystart="741" bodyend="822"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a286ce90239b47c7b17eb9cfeba0a73e0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void InitLogging</definition>
        <argsstring>(const ArgsManager &amp;args)</argsstring>
        <name>InitLogging</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <briefdescription>
<para>Initialize the logging infrastructure. </para>
        </briefdescription>
        <detaileddescription>
<para>Initialize global loggers.</para>
<para>Note that this is called very early in the process lifetime, so you should be careful about what global state you rely on here. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="830" column="6" bodyfile="src/init.cpp" bodystart="830" bodyend="834"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1adf49210afd10927c7de15672178c455a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void new_handler_terminate</definition>
        <argsstring>()</argsstring>
        <name>new_handler_terminate</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="846" column="14" bodyfile="src/init.cpp" bodystart="846" bodyend="857"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a5b5f1ab392c850a66f0d7204518dbabd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool AppInitBasicSetup</definition>
        <argsstring>(const ArgsManager &amp;args, std::atomic&lt; int &gt; &amp;exit_status)</argsstring>
        <name>AppInitBasicSetup</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <param>
          <type>std::atomic&lt; int &gt; &amp;</type>
          <declname>exit_status</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Initialize bitcoin core: Basic context setup. <simplesect kind="note"><para>This can be done before daemonization. Do not call <ref refid="init_8h_1a10995e350a8bfcc6747200be234af3da" kindref="member">Shutdown()</ref> if this function fails. </para>
</simplesect>
<simplesect kind="pre"><para>Parameters should be parsed and config file should be read. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="859" column="6" bodyfile="src/init.cpp" bodystart="859" bodyend="894"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1aaa92337b42c631fb6b24a979685bf615" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool AppInitParameterInteraction</definition>
        <argsstring>(const ArgsManager &amp;args)</argsstring>
        <name>AppInitParameterInteraction</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Initialization: parameter interaction. <simplesect kind="note"><para>This can be done before daemonization. Do not call <ref refid="init_8h_1a10995e350a8bfcc6747200be234af3da" kindref="member">Shutdown()</ref> if this function fails. </para>
</simplesect>
<simplesect kind="pre"><para>Parameters should be parsed and config file should be read, AppInitBasicSetup should have been called. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="896" column="6" bodyfile="src/init.cpp" bodystart="896" bodyend="1128"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a0a618c782bd399fe35f229bccf05d693" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool LockDirectory</definition>
        <argsstring>(const fs::path &amp;dir, bool probeOnly)</argsstring>
        <name>LockDirectory</name>
        <param>
          <type>const <ref refid="classfs_1_1path" kindref="compound">fs::path</ref> &amp;</type>
          <declname>dir</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>probeOnly</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1130" column="13" bodyfile="src/init.cpp" bodystart="1130" bodyend="1141"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a35d78596f894f38544ee774e68461c4a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool LockDirectories</definition>
        <argsstring>(bool probeOnly)</argsstring>
        <name>LockDirectories</name>
        <param>
          <type>bool</type>
          <declname>probeOnly</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1142" column="13" bodyfile="src/init.cpp" bodystart="1142" bodyend="1146"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1afa8d4773e646f79107c4601cc4ead2c7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool AppInitSanityChecks</definition>
        <argsstring>(const kernel::Context &amp;kernel)</argsstring>
        <name>AppInitSanityChecks</name>
        <param>
          <type>const <ref refid="structkernel_1_1_context" kindref="compound">kernel::Context</ref> &amp;</type>
          <declname>kernel</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Initialization sanity checks. <simplesect kind="note"><para>This can be done before daemonization. Do not call <ref refid="init_8h_1a10995e350a8bfcc6747200be234af3da" kindref="member">Shutdown()</ref> if this function fails. </para>
</simplesect>
<simplesect kind="pre"><para>Parameters should be parsed and config file should be read, AppInitParameterInteraction should have been called. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1148" column="6" bodyfile="src/init.cpp" bodystart="1148" bodyend="1165"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1ad7a0678a36062fdda97ef2c38a58ea51" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool AppInitLockDirectories</definition>
        <argsstring>()</argsstring>
        <name>AppInitLockDirectories</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Lock bitcoin core critical directories. <simplesect kind="note"><para>This should only be done after daemonization. Do not call <ref refid="init_8h_1a10995e350a8bfcc6747200be234af3da" kindref="member">Shutdown()</ref> if this function fails. </para>
</simplesect>
<simplesect kind="pre"><para>Parameters should be parsed and config file should be read, AppInitSanityChecks should have been called. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1167" column="6" bodyfile="src/init.cpp" bodystart="1167" bodyend="1177"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1aaca7ea0edc2edfc74365965f9db39293" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool AppInitInterfaces</definition>
        <argsstring>(NodeContext &amp;node)</argsstring>
        <name>AppInitInterfaces</name>
        <param>
          <type><ref refid="structnode_1_1_node_context" kindref="compound">node::NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Initialize node and wallet interface pointers. Has no prerequisites or side effects besides allocating memory. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1179" column="6" bodyfile="src/init.cpp" bodystart="1179" bodyend="1184"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a69962e54b4f086a0f85762e4fb950282" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool CheckHostPortOptions</definition>
        <argsstring>(const ArgsManager &amp;args)</argsstring>
        <name>CheckHostPortOptions</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1186" column="6" bodyfile="src/init.cpp" bodystart="1186" bodyend="1233"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a7e92e4972b5e05dfce2e7e7f3e716160" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::optional&lt; <ref refid="class_c_service" kindref="compound">CService</ref> &gt;</type>
        <definition>static std::optional&lt; CService &gt; CheckBindingConflicts</definition>
        <argsstring>(const CConnman::Options &amp;conn_options)</argsstring>
        <name>CheckBindingConflicts</name>
        <param>
          <type>const <ref refid="struct_c_connman_1_1_options" kindref="compound">CConnman::Options</ref> &amp;</type>
          <declname>conn_options</declname>
        </param>
        <briefdescription>
<para>Checks for duplicate bindings across all binding configurations. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">conn_options</parametername>
</parameternamelist>
<parameterdescription>
<para>Connection options containing the binding vectors to check </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>std::optional&lt;CService&gt; containing the first duplicate found, or std::nullopt if no duplicates </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1241" column="22" bodyfile="src/init.cpp" bodystart="1241" bodyend="1267"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a81ce44401d57d8148f4b13f6ba0443e4" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacenode_1a32a0f7eb760387e8c7bb445014017062" kindref="member">ChainstateLoadResult</ref></type>
        <definition>static ChainstateLoadResult InitAndLoadChainstate</definition>
        <argsstring>(NodeContext &amp;node, bool do_reindex, const bool do_reindex_chainstate, const kernel::CacheSizes &amp;cache_sizes, const ArgsManager &amp;args)</argsstring>
        <name>InitAndLoadChainstate</name>
        <param>
          <type><ref refid="struct_node_context" kindref="compound">NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>do_reindex</declname>
        </param>
        <param>
          <type>const bool</type>
          <declname>do_reindex_chainstate</declname>
        </param>
        <param>
          <type>const <ref refid="structkernel_1_1_cache_sizes" kindref="compound">kernel::CacheSizes</ref> &amp;</type>
          <declname>cache_sizes</declname>
        </param>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1271" column="29" bodyfile="src/init.cpp" bodystart="1271" bodyend="1392"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1ad2bfca84e560eb87fbfbe9c20f893374" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool AppInitMain</definition>
        <argsstring>(NodeContext &amp;node, interfaces::BlockAndHeaderTipInfo *tip_info)</argsstring>
        <name>AppInitMain</name>
        <param>
          <type><ref refid="structnode_1_1_node_context" kindref="compound">node::NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <param>
          <type><ref refid="structinterfaces_1_1_block_and_header_tip_info" kindref="compound">interfaces::BlockAndHeaderTipInfo</ref> *</type>
          <declname>tip_info</declname>
          <defval>nullptr</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Bitcoin core main initialization. <simplesect kind="note"><para>This should only be done after daemonization. Call <ref refid="init_8h_1a10995e350a8bfcc6747200be234af3da" kindref="member">Shutdown()</ref> if this function fails. </para>
</simplesect>
<simplesect kind="pre"><para>Parameters should be parsed and config file should be read, AppInitLockDirectories should have been called. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="1394" column="6" bodyfile="src/init.cpp" bodystart="1394" bodyend="2225"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a9dea410c95e31d9b2505d421ad7c791b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool StartIndexBackgroundSync</definition>
        <argsstring>(NodeContext &amp;node)</argsstring>
        <name>StartIndexBackgroundSync</name>
        <param>
          <type><ref refid="structnode_1_1_node_context" kindref="compound">node::NodeContext</ref> &amp;</type>
          <declname>node</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Validates requirements to run the indexes and spawns each index initial sync thread </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="2227" column="6" bodyfile="src/init.cpp" bodystart="2227" bodyend="2270"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a5bfdbde590f74817cddf14212b156d19" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref></type>
        <definition>bilingual_str AmountErrMsg</definition>
        <argsstring>(const std::string &amp;optname, const std::string &amp;strValue)</argsstring>
        <name>AmountErrMsg</name>
        <param>
          <type>const std::string &amp;</type>
          <declname>optname</declname>
        </param>
        <param>
          <type>const std::string &amp;</type>
          <declname>strValue</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="121" column="1" bodyfile="src/common/messages.cpp" bodystart="168" bodyend="171"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1aeb737684e2a2da0e1190fed1229d7990" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref></type>
        <definition>bilingual_str InvalidPortErrMsg</definition>
        <argsstring>(const std::string &amp;optname, const std::string &amp;invalid_value)</argsstring>
        <name>InvalidPortErrMsg</name>
        <param>
          <type>const std::string &amp;</type>
          <declname>optname</declname>
        </param>
        <param>
          <type>const std::string &amp;</type>
          <declname>invalid_value</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="122" column="1" bodyfile="src/common/messages.cpp" bodystart="158" bodyend="161"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a7c0e28b32cb9ba19dc62500e20082284" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref></type>
        <definition>bilingual_str ResolveErrMsg</definition>
        <argsstring>(const std::string &amp;optname, const std::string &amp;strBind)</argsstring>
        <name>ResolveErrMsg</name>
        <param>
          <type>const std::string &amp;</type>
          <declname>optname</declname>
        </param>
        <param>
          <type>const std::string &amp;</type>
          <declname>strBind</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="123" column="1" bodyfile="src/common/messages.cpp" bodystart="153" bodyend="156"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a6426f2baab5b795996c215224a46506b" prot="public" static="no" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classutil_1_1_result" kindref="compound">util::Result</ref>&lt; void &gt;</type>
        <definition>util::Result&lt; void &gt; ApplyArgsManOptions</definition>
        <argsstring>(const ArgsManager &amp;args, BlockManager::Options &amp;opts)</argsstring>
        <name>ApplyArgsManOptions</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <param>
          <type><ref refid="class_block_manager_1a9d388cded97cd9f86c06358bb29abfad" kindref="member">BlockManager::Options</ref> &amp;</type>
          <declname>opts</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="125" column="1" bodyfile="src/node/blockmanager_args.cpp" bodystart="18" bodyend="41"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1aa1c9faa8f74afc4645721e442c54b9c6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="struct_cache_sizes" kindref="compound">CacheSizes</ref></type>
        <definition>CacheSizes CalculateCacheSizes</definition>
        <argsstring>(const ArgsManager &amp;args, size_t n_indexes)</argsstring>
        <name>CalculateCacheSizes</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>args</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>n_indexes</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="127" column="1" bodyfile="src/node/caches.cpp" bodystart="40" bodyend="53"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1ab50998edc0bcd4e1b0990d891b7ee90b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool DumpMempool</definition>
        <argsstring>(const CTxMemPool &amp;pool, const fs::path &amp;dump_path, FopenFn mockable_fopen_function, bool skip_file_commit)</argsstring>
        <name>DumpMempool</name>
        <param>
          <type>const <ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref> &amp;</type>
          <declname>pool</declname>
        </param>
        <param>
          <type>const <ref refid="classfs_1_1path" kindref="compound">fs::path</ref> &amp;</type>
          <declname>dump_path</declname>
        </param>
        <param>
          <type><ref refid="namespacefsbridge_1a37b0fd82fe2a81c8cf4ecedc6f083cd5" kindref="member">FopenFn</ref></type>
          <declname>mockable_fopen_function</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>skip_file_commit</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Dump the mempool to a file. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="133" column="1" bodyfile="src/node/mempool_persist.cpp" bodystart="153" bodyend="231"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a50030ce5206985e346250590dabd6d88" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ImportBlocks</definition>
        <argsstring>(ChainstateManager &amp;chainman, std::span&lt; const fs::path &gt; import_paths)</argsstring>
        <name>ImportBlocks</name>
        <param>
          <type><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> &amp;</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>std::span&lt; const <ref refid="classfs_1_1path" kindref="compound">fs::path</ref> &gt;</type>
          <declname>import_paths</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="134" column="1" bodyfile="src/node/blockstorage.cpp" bodystart="1244" bodyend="1299"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a2d650cf978844ae65f6667c85fc53ede" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="init_8cpp_1a32a0f7eb760387e8c7bb445014017062" kindref="member">ChainstateLoadResult</ref></type>
        <definition>ChainstateLoadResult LoadChainstate</definition>
        <argsstring>(ChainstateManager &amp;chainman, const CacheSizes &amp;cache_sizes, const ChainstateLoadOptions &amp;options)</argsstring>
        <name>LoadChainstate</name>
        <param>
          <type><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> &amp;</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>const <ref refid="struct_cache_sizes" kindref="compound">CacheSizes</ref> &amp;</type>
          <declname>cache_sizes</declname>
        </param>
        <param>
          <type>const ChainstateLoadOptions &amp;</type>
          <declname>options</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="136" column="1" bodyfile="src/node/chainstate.cpp" bodystart="144" bodyend="231"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1ab2381316504e955ba03329e6eae581cc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool LoadMempool</definition>
        <argsstring>(CTxMemPool &amp;pool, const fs::path &amp;load_path, Chainstate &amp;active_chainstate, ImportMempoolOptions &amp;&amp;opts)</argsstring>
        <name>LoadMempool</name>
        <param>
          <type><ref refid="class_c_tx_mem_pool" kindref="compound">CTxMemPool</ref> &amp;</type>
          <declname>pool</declname>
        </param>
        <param>
          <type>const <ref refid="classfs_1_1path" kindref="compound">fs::path</ref> &amp;</type>
          <declname>load_path</declname>
        </param>
        <param>
          <type><ref refid="class_chainstate" kindref="compound">Chainstate</ref> &amp;</type>
          <declname>active_chainstate</declname>
        </param>
        <param>
          <type>ImportMempoolOptions &amp;&amp;</type>
          <declname>opts</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Import the file and attempt to add its contents to the mempool. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="137" column="1" bodyfile="src/node/mempool_persist.cpp" bodystart="43" bodyend="151"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a33310f5279d28a2f9fcc1b3a51cf53ff" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classfs_1_1path" kindref="compound">fs::path</ref></type>
        <definition>fs::path MempoolPath</definition>
        <argsstring>(const ArgsManager &amp;argsman)</argsstring>
        <name>MempoolPath</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>argsman</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="138" column="1" bodyfile="src/node/mempool_persist_args.cpp" bodystart="18" bodyend="21"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1a2ca33310929752f44f32a912fc1634ba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ShouldPersistMempool</definition>
        <argsstring>(const ArgsManager &amp;argsman)</argsstring>
        <name>ShouldPersistMempool</name>
        <param>
          <type>const <ref refid="class_args_manager" kindref="compound">ArgsManager</ref> &amp;</type>
          <declname>argsman</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="140" column="1" bodyfile="src/node/mempool_persist_args.cpp" bodystart="13" bodyend="16"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1aa25a7902215e7a3de72f3b19a4372167" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="init_8cpp_1a32a0f7eb760387e8c7bb445014017062" kindref="member">ChainstateLoadResult</ref></type>
        <definition>ChainstateLoadResult VerifyLoadedChainstate</definition>
        <argsstring>(ChainstateManager &amp;chainman, const ChainstateLoadOptions &amp;options)</argsstring>
        <name>VerifyLoadedChainstate</name>
        <param>
          <type><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref> &amp;</type>
          <declname>chainman</declname>
        </param>
        <param>
          <type>const ChainstateLoadOptions &amp;</type>
          <declname>options</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="141" column="1" bodyfile="src/node/chainstate.cpp" bodystart="233" bodyend="272"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1aff2a33f4c8a8ebd77cf6e0630bd1dbe3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename C</type>
          </param>
          <param>
            <type>typename <ref refid="precomputed__ecmult_8c_1a36ad60f7189b5fdcb306d9b5f3998e2a" kindref="member">S</ref></type>
          </param>
          <param>
            <type>typename UnaryOp</type>
          </param>
        </templateparamlist>
        <type>auto</type>
        <definition>auto Join</definition>
        <argsstring>(const C &amp;container, const S &amp;separator, UnaryOp unary_op)</argsstring>
        <name>Join</name>
        <param>
          <type>const C &amp;</type>
          <declname>container</declname>
        </param>
        <param>
          <type>const <ref refid="precomputed__ecmult_8c_1a36ad60f7189b5fdcb306d9b5f3998e2a" kindref="member">S</ref> &amp;</type>
          <declname>separator</declname>
        </param>
        <param>
          <type>UnaryOp</type>
          <declname>unary_op</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Join all container items. Typically used to concatenate strings but accepts containers with elements of any type.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>container</parametername>
</parameternamelist>
<parameterdescription>
<para>The items to join </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>separator</parametername>
</parameternamelist>
<parameterdescription>
<para>The separator </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>unary_op</parametername>
</parameternamelist>
<parameterdescription>
<para>Apply this operator to each item </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="142" column="1" bodyfile="src/util/string.h" bodystart="204" bodyend="214"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1ac3615d6e25683cb921a19c421c2f558b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ReplaceAll</definition>
        <argsstring>(std::string &amp;in_out, const std::string &amp;search, const std::string &amp;substitute)</argsstring>
        <name>ReplaceAll</name>
        <param>
          <type>std::string &amp;</type>
          <declname>in_out</declname>
        </param>
        <param>
          <type>const std::string &amp;</type>
          <declname>search</declname>
        </param>
        <param>
          <type>const std::string &amp;</type>
          <declname>substitute</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="143" column="1" bodyfile="src/util/string.cpp" bodystart="11" bodyend="15"/>
      </memberdef>
      <memberdef kind="function" id="init_8cpp_1aec2c30b1707eac00ff7e4fb5b3f7a92d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename <ref refid="hash__tests_8cpp_1ad4971a985148c784a362f962d42aa012" kindref="member">T</ref></type>
          </param>
        </templateparamlist>
        <type>std::string</type>
        <definition>std::string ToString</definition>
        <argsstring>(const T &amp;t)</argsstring>
        <name>ToString</name>
        <param>
          <type>const <ref refid="hash__tests_8cpp_1ad4971a985148c784a362f962d42aa012" kindref="member">T</ref> &amp;</type>
          <declname>t</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Locale-independent version of std::to_string </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="144" column="1" bodyfile="src/util/string.h" bodystart="245" bodyend="251"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="typedef">
      <memberdef kind="typedef" id="init_8cpp_1a32a0f7eb760387e8c7bb445014017062" prot="public" static="no">
        <type>std::tuple&lt; <ref refid="init_8cpp_1a779805e7cdbdeb11f4034a67cffd8cc9" kindref="member">ChainstateLoadStatus</ref>, <ref refid="structbilingual__str" kindref="compound">bilingual_str</ref> &gt;</type>
        <definition>using ChainstateLoadResult =  std::tuple&lt;ChainstateLoadStatus, bilingual_str&gt;</definition>
        <argsstring></argsstring>
        <name>ChainstateLoadResult</name>
        <briefdescription>
<para><ref refid="class_chainstate" kindref="compound">Chainstate</ref> load status code and optional error string. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="128" column="1" bodyfile="src/node/chainstate.h" bodystart="54" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="enum">
      <memberdef kind="enum" id="init_8cpp_1a779805e7cdbdeb11f4034a67cffd8cc9" prot="public" static="no" strong="yes">
        <type></type>
        <name>ChainstateLoadStatus</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><ref refid="class_chainstate" kindref="compound">Chainstate</ref> load status. Simple applications can just check for the success case, and treat other cases as errors. More complex applications may want to try reindexing in the generic failure case, and pass an interrupt callback and exit cleanly in the interrupted case. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/init.cpp" line="129" column="1" bodyfile="src/node/chainstate.h" bodystart="44" bodyend="51"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2009-2010<sp/>Satoshi<sp/>Nakamoto</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2009-present<sp/>The<sp/>Bitcoin<sp/>Core<sp/>developers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Distributed<sp/>under<sp/>the<sp/>MIT<sp/>software<sp/>license,<sp/>see<sp/>the<sp/>accompanying</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>file<sp/>COPYING<sp/>or<sp/>http://www.opensource.org/licenses/mit-license.php.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;bitcoin-build-config.h&gt;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>IWYU<sp/>pragma:<sp/>keep</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="init_8h" kindref="compound">init.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="checks_8h" kindref="compound">kernel/checks.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="addrman_8h" kindref="compound">addrman.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="banman_8h" kindref="compound">banman.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="blockfilter_8h" kindref="compound">blockfilter.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="chain_8h" kindref="compound">chain.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="chainparams_8h" kindref="compound">chainparams.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="chainparamsbase_8h" kindref="compound">chainparamsbase.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="clientversion_8h" kindref="compound">clientversion.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="args_8h" kindref="compound">common/args.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="system_8h" kindref="compound">common/system.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="amount_8h" kindref="compound">consensus/amount.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="consensus_8h" kindref="compound">consensus/consensus.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="deploymentstatus_8h" kindref="compound">deploymentstatus.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="hash_8h" kindref="compound">hash.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="httprpc_8h" kindref="compound">httprpc.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="httpserver_8h" kindref="compound">httpserver.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="blockfilterindex_8h" kindref="compound">index/blockfilterindex.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="coinstatsindex_8h" kindref="compound">index/coinstatsindex.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="txindex_8h" kindref="compound">index/txindex.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="init_2common_8h" kindref="compound">init/common.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="interfaces_2chain_8h" kindref="compound">interfaces/chain.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="interfaces_2init_8h" kindref="compound">interfaces/init.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="ipc_8h" kindref="compound">interfaces/ipc.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="interfaces_2mining_8h" kindref="compound">interfaces/mining.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="node_8h" kindref="compound">interfaces/node.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="ipc_2exception_8h" kindref="compound">ipc/exception.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel_2caches_8h" kindref="compound">kernel/caches.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel_2context_8h" kindref="compound">kernel/context.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="key_8h" kindref="compound">key.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="logging_8h" kindref="compound">logging.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="mapport_8h" kindref="compound">mapport.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="net_8h" kindref="compound">net.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="net__permissions_8h" kindref="compound">net_permissions.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="net__processing_8h" kindref="compound">net_processing.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="netbase_8h" kindref="compound">netbase.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="netgroup_8h" kindref="compound">netgroup.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="blockmanager__args_8h" kindref="compound">node/blockmanager_args.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="blockstorage_8h" kindref="compound">node/blockstorage.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="node_2caches_8h" kindref="compound">node/caches.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="node_2chainstate_8h" kindref="compound">node/chainstate.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="chainstatemanager__args_8h" kindref="compound">node/chainstatemanager_args.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="node_2context_8h" kindref="compound">node/context.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="interface__ui_8h" kindref="compound">node/interface_ui.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kernel__notifications_8h" kindref="compound">node/kernel_notifications.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="mempool__args_8h" kindref="compound">node/mempool_args.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="mempool__persist_8h" kindref="compound">node/mempool_persist.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="mempool__persist__args_8h" kindref="compound">node/mempool_persist_args.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="miner_8h" kindref="compound">node/miner.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="peerman__args_8h" kindref="compound">node/peerman_args.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="feerate_8h" kindref="compound">policy/feerate.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="block__policy__estimator_8h" kindref="compound">policy/fees/block_policy_estimator.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="block__policy__estimator__args_8h" kindref="compound">policy/fees/block_policy_estimator_args.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="policy_8h" kindref="compound">policy/policy.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="policy_2settings_8h" kindref="compound">policy/settings.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="protocol_8h" kindref="compound">protocol.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="blockchain_8h" kindref="compound">rpc/blockchain.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="register_8h" kindref="compound">rpc/register.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="server_8h" kindref="compound">rpc/server.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="rpc_2util_8h" kindref="compound">rpc/util.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="scheduler_8h" kindref="compound">scheduler.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="sigcache_8h" kindref="compound">script/sigcache.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="sync_8h" kindref="compound">sync.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="torcontrol_8h" kindref="compound">torcontrol.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="txdb_8h" kindref="compound">txdb.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="txmempool_8h" kindref="compound">txmempool.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="asmap_8h" kindref="compound">util/asmap.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="batchpriority_8h" kindref="compound">util/batchpriority.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="chaintype_8h" kindref="compound">util/chaintype.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="check_8h" kindref="compound">util/check.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="fs_8h" kindref="compound">util/fs.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="fs__helpers_8h" kindref="compound">util/fs_helpers.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="moneystr_8h" kindref="compound">util/moneystr.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="result_8h" kindref="compound">util/result.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="signalinterrupt_8h" kindref="compound">util/signalinterrupt.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="strencodings_8h" kindref="compound">util/strencodings.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="string_8h" kindref="compound">util/string.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="syserror_8h" kindref="compound">util/syserror.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="thread_8h" kindref="compound">util/thread.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="threadnames_8h" kindref="compound">util/threadnames.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="util_2time_8h" kindref="compound">util/time.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="translation_8h" kindref="compound">util/translation.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="validation_8h" kindref="compound">validation.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="validationinterface_8h" kindref="compound">validationinterface.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="walletinitinterface_8h" kindref="compound">walletinitinterface.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;algorithm&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cerrno&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;condition_variable&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cstdint&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cstdio&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;fstream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;functional&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;set&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;thread&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>WIN32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;csignal&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/stat.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;boost/signals2/signal.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ENABLE_ZMQ</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="zmqabstractnotifier_8h" kindref="compound">zmq/zmqabstractnotifier.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="zmqnotificationinterface_8h" kindref="compound">zmq/zmqnotificationinterface.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="zmqrpc_8h" kindref="compound">zmq/zmqrpc.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacecommon_1a5bfdbde590f74817cddf14212b156d19" kindref="member">common::AmountErrMsg</ref>;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacecommon_1aeb737684e2a2da0e1190fed1229d7990" kindref="member">common::InvalidPortErrMsg</ref>;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacecommon_1a7c0e28b32cb9ba19dc62500e20082284" kindref="member">common::ResolveErrMsg</ref>;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1a6426f2baab5b795996c215224a46506b" kindref="member">node::ApplyArgsManOptions</ref>;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="classnode_1_1_block_manager" kindref="compound">node::BlockManager</ref>;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1aa1c9faa8f74afc4645721e442c54b9c6" kindref="member">node::CalculateCacheSizes</ref>;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1a32a0f7eb760387e8c7bb445014017062" kindref="member">node::ChainstateLoadResult</ref>;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1a779805e7cdbdeb11f4034a67cffd8cc9" kindref="member">node::ChainstateLoadStatus</ref>;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">node::DEFAULT_PERSIST_MEMPOOL;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">node::DEFAULT_PRINT_MODIFIED_FEE;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">node::DEFAULT_STOPATHEIGHT;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1ab50998edc0bcd4e1b0990d891b7ee90b" kindref="member">node::DumpMempool</ref>;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1a50030ce5206985e346250590dabd6d88" kindref="member">node::ImportBlocks</ref>;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="classnode_1_1_kernel_notifications" kindref="compound">node::KernelNotifications</ref>;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1a2d650cf978844ae65f6667c85fc53ede" kindref="member">node::LoadChainstate</ref>;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1ab2381316504e955ba03329e6eae581cc" kindref="member">node::LoadMempool</ref>;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1a33310f5279d28a2f9fcc1b3a51cf53ff" kindref="member">node::MempoolPath</ref>;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="structnode_1_1_node_context" kindref="compound">node::NodeContext</ref>;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1a2ca33310929752f44f32a912fc1634ba" kindref="member">node::ShouldPersistMempool</ref>;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespacenode_1aa25a7902215e7a3de72f3b19a4372167" kindref="member">node::VerifyLoadedChainstate</ref>;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespaceutil_1aff2a33f4c8a8ebd77cf6e0630bd1dbe3" kindref="member">util::Join</ref>;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespaceutil_1ac3615d6e25683cb921a19c421c2f558b" kindref="member">util::ReplaceAll</ref>;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="namespaceutil_1aec2c30b1707eac00ff7e4fb5b3f7a92d" kindref="member">util::ToString</ref>;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>DEFAULT_PROXYRANDOMIZE{</highlight><highlight class="keyword">true</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>DEFAULT_REST_ENABLE{</highlight><highlight class="keyword">false</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>DEFAULT_I2P_ACCEPT_INCOMING{</highlight><highlight class="keyword">true</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>DEFAULT_STOPAFTERBLOCKIMPORT{</highlight><highlight class="keyword">false</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WIN32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Win32<sp/>LevelDB<sp/>doesn&apos;t<sp/>use<sp/>filedescriptors,<sp/>and<sp/>the<sp/>ones<sp/>used<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight><highlight class="comment">//<sp/>accessing<sp/>block<sp/>files<sp/>don&apos;t<sp/>count<sp/>towards<sp/>the<sp/>fd_set<sp/>size<sp/>limit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="comment">//<sp/>anyway.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIN_LEVELDB_FDS<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIN_LEVELDB_FDS<sp/>150</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>MIN_CORE_FDS<sp/>=<sp/><ref refid="init_8cpp_1ac372050472af1ae8e857874e0321396d" kindref="member">MIN_LEVELDB_FDS</ref><sp/>+<sp/>NUM_FDS_MESSAGE_CAPTURE;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>BITCOIN_PID_FILENAME<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;bitcoind.pid&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>g_generated_pid{</highlight><highlight class="keyword">false</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>fs::path<sp/>GetPidFile(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="173"><highlight class="normal">{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="args_8h_1a6f84123dc7a5beb44428149800b45850" kindref="member">AbsPathForConfigVal</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetPathArg(</highlight><highlight class="stringliteral">&quot;-pid&quot;</highlight><highlight class="normal">,<sp/>BITCOIN_PID_FILENAME));</highlight></codeline>
<codeline lineno="175"><highlight class="normal">}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal">[[nodiscard]]<sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>CreatePidFile(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="178"><highlight class="normal">{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgNegated(</highlight><highlight class="stringliteral">&quot;-pid&quot;</highlight><highlight class="normal">))<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>std::ofstream<sp/>file{GetPidFile(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>).std_path()};</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file)<sp/>{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WIN32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetinyformat_1a94e672659dfe070f7905299d1f170931" kindref="member">tfm::format</ref>(file,<sp/></highlight><highlight class="stringliteral">&quot;%d\n&quot;</highlight><highlight class="normal">,<sp/>GetCurrentProcessId());</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetinyformat_1a94e672659dfe070f7905299d1f170931" kindref="member">tfm::format</ref>(file,<sp/></highlight><highlight class="stringliteral">&quot;%d\n&quot;</highlight><highlight class="normal">,<sp/>getpid());</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_generated_pid<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>create<sp/>the<sp/>PID<sp/>file<sp/>&apos;%s&apos;:<sp/>%s&quot;</highlight><highlight class="normal">),<sp/>fs::PathToString(GetPidFile(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)),<sp/><ref refid="syserror_8cpp_1aed54b21219b1bf6d2e7367bd5ece9482" kindref="member">SysErrorString</ref>(errno)));</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="193"><highlight class="normal">}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RemovePidFile(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="196"><highlight class="normal">{</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!g_generated_pid)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>pid_path{GetPidFile(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)};</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(std::error_code<sp/>error;<sp/>!fs::remove(pid_path,<sp/>error))<sp/>{</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="namespacetests__wycheproof__generate__ecdsa_1a10a0f35066079abd150539d0d13dbf3e" kindref="member">msg</ref>{error<sp/>?<sp/>error.message()<sp/>:<sp/></highlight><highlight class="stringliteral">&quot;File<sp/>does<sp/>not<sp/>exist&quot;</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a2c6c3e9c356e14fb4a7139acf4fa7b18" kindref="member">LogWarning</ref>(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>remove<sp/>PID<sp/>file<sp/>(%s):<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>fs::PathToString(pid_path),<sp/>msg);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="203"><highlight class="normal">}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>std::optional&lt;util::SignalInterrupt&gt;<sp/>g_shutdown;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1adcda85dcd5b886ad27a3298f094f09aa" kindref="member">InitContext</ref>(<ref refid="structnode_1_1_node_context" kindref="compound">NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>)</highlight></codeline>
<codeline lineno="208"><highlight class="normal">{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!g_shutdown);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>g_shutdown.emplace();</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.args<sp/>=<sp/>&amp;<ref refid="args_8cpp_1a934b7735a5308149ab1bf3ca9fc4d694" kindref="member">gArgs</ref>;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.shutdown_signal<sp/>=<sp/>&amp;*g_shutdown;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.shutdown_request<sp/>=<sp/>[&amp;<ref refid="namespacenode" kindref="compound">node</ref>]<sp/>{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_signal);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(*<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_signal)())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="219"><highlight class="normal">}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Shutdown</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Thread<sp/>management<sp/>and<sp/>startup/shutdown:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>network-processing<sp/>threads<sp/>are<sp/>all<sp/>part<sp/>of<sp/>a<sp/>thread<sp/>group</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="comment">//<sp/>created<sp/>by<sp/>AppInit()<sp/>or<sp/>the<sp/>Qt<sp/>main()<sp/>function.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight><highlight class="comment">//<sp/>A<sp/>clean<sp/>exit<sp/>happens<sp/>when<sp/>the<sp/>SignalInterrupt<sp/>object<sp/>is<sp/>triggered,<sp/>which</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight><highlight class="comment">//<sp/>makes<sp/>the<sp/>main<sp/>thread&apos;s<sp/>SignalInterrupt::wait()<sp/>call<sp/>return,<sp/>and<sp/>join<sp/>all</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight><highlight class="comment">//<sp/>other<sp/>ongoing<sp/>threads<sp/>in<sp/>the<sp/>thread<sp/>group<sp/>to<sp/>the<sp/>main<sp/>thread.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Shutdown()<sp/>is<sp/>then<sp/>called<sp/>to<sp/>clean<sp/>up<sp/>database<sp/>connections,<sp/>and<sp/>stop<sp/>other</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight><highlight class="comment">//<sp/>threads<sp/>that<sp/>should<sp/>only<sp/>be<sp/>stopped<sp/>after<sp/>the<sp/>main<sp/>network-processing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="comment">//<sp/>threads<sp/>have<sp/>exited.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Shutdown<sp/>for<sp/>Qt<sp/>is<sp/>very<sp/>similar,<sp/>only<sp/>it<sp/>uses<sp/>a<sp/>QTimer<sp/>to<sp/>detect</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight><highlight class="comment">//<sp/>ShutdownRequested()<sp/>getting<sp/>set,<sp/>and<sp/>then<sp/>does<sp/>the<sp/>normal<sp/>Qt</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight><highlight class="comment">//<sp/>shutdown<sp/>thing.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1a83987d355ea0aea808522caa78633ee9" kindref="member">ShutdownRequested</ref>(<ref refid="structnode_1_1_node_context" kindref="compound">node::NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>)</highlight></codeline>
<codeline lineno="245"><highlight class="normal">{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">{*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_signal)};</highlight></codeline>
<codeline lineno="247"><highlight class="normal">}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_SYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ShutdownNotify(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="251"><highlight class="normal">{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;std::thread&gt;<sp/>threads;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/><ref refid="bitcoin-util_8cpp_1a5c94e7e06b4d8c5a4f77ac7b8019ec31" kindref="member">cmd</ref><sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-shutdownnotify&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>threads.emplace_back(runCommand,<sp/><ref refid="bitcoin-util_8cpp_1a5c94e7e06b4d8c5a4f77ac7b8019ec31" kindref="member">cmd</ref>);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/><ref refid="strencodings_8h_1a7a8fe8e8ebe30d3329bb57478f49ae2cae358efa489f58062f10dd7316b65649e" kindref="member">t</ref><sp/>:<sp/>threads)<sp/>{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="strencodings_8h_1a7a8fe8e8ebe30d3329bb57478f49ae2cae358efa489f58062f10dd7316b65649e" kindref="member">t</ref>.join();</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="259"><highlight class="normal">}</highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1a27f6301208add8d8af85c9c23a26ed8e" kindref="member">Interrupt</ref>(<ref refid="structnode_1_1_node_context" kindref="compound">NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>)</highlight></codeline>
<codeline lineno="263"><highlight class="normal">{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_SYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>ShutdownNotify(*<ref refid="namespacenode" kindref="compound">node</ref>.args);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Wake<sp/>any<sp/>threads<sp/>that<sp/>may<sp/>be<sp/>waiting<sp/>for<sp/>the<sp/>tip<sp/>to<sp/>change.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.notifications)<sp/><ref refid="sync_8h_1ab3029e545f54f330170cbf37f0819693" kindref="member">WITH_LOCK</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.notifications-&gt;m_tip_block_mutex,<sp/><ref refid="namespacenode" kindref="compound">node</ref>.notifications-&gt;m_tip_block_cv.notify_all());</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="httpserver_8cpp_1a0a02b6576090c9fde2eed21b9aa7dc0c" kindref="member">InterruptHTTPServer</ref>();</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="httprpc_8cpp_1a44465681e657da4c937c546967f60a32" kindref="member">InterruptHTTPRPC</ref>();</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="server_8cpp_1a9fb02940fce37b3228c69c74e706e3ae" kindref="member">InterruptRPC</ref>();</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="httprpc_8h_1aaf0700868c430b2f0fdd719977f4b115" kindref="member">InterruptREST</ref>();</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="torcontrol_8cpp_1aa3f2e0ce7300bbbedc6da69566e426e6" kindref="member">InterruptTorControl</ref>();</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapport_8cpp_1acad6f7f5cf86480487dbf26f8dc701f4" kindref="member">InterruptMapPort</ref>();</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.connman)</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.connman-&gt;Interrupt();</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">*<sp/>index<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes)<sp/>{</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index-&gt;Interrupt();</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal">}</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1a441fc2acf4e8b6940f4f936fe60464bf" kindref="member">Shutdown</ref>(<ref refid="structnode_1_1_node_context" kindref="compound">NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>)</highlight></codeline>
<codeline lineno="283"><highlight class="normal">{</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="sync_8h_1a326d1d46ce05b5316d8ebe2694a10a6e" kindref="member">Mutex</ref><sp/>g_shutdown_mutex;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1aca08e7299069c2d60b8aa726fc550612" kindref="member">TRY_LOCK</ref>(g_shutdown_mutex,<sp/>lock_shutdown);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!lock_shutdown)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Shutdown<sp/>in<sp/>progress...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.args);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceutil_1a0b501a2cc08ebe4c0d9073938a5a0731" kindref="member">util::ThreadRename</ref>(</highlight><highlight class="stringliteral">&quot;shutoff&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.mempool)<sp/><ref refid="namespacenode" kindref="compound">node</ref>.mempool-&gt;AddTransactionsUpdated(1);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="httprpc_8cpp_1a468267ed2746bd43035a0e294ec5ebd3" kindref="member">StopHTTPRPC</ref>();</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="httprpc_8h_1a85472e8d58ccbe1aaf2c239ae0d7d185" kindref="member">StopREST</ref>();</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="server_8cpp_1a5757a50329a35771e60c8afb470e53be" kindref="member">StopRPC</ref>();</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="httpserver_8cpp_1ad95d08d62c15b43d52fdba7b7ecaa0aa" kindref="member">StopHTTPServer</ref>();</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>client<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.chain_clients)<sp/>{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>client-&gt;stop();</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classipc_1_1_exception" kindref="compound">ipc::Exception</ref>&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1adeb58140a1c97947ad5d0c641415f1fc" kindref="member">LogDebug</ref>(<ref refid="namespace_b_c_log_1a2731eb4660a2a1b8dfab2a4f94ae7395ac6a9a066fc3318f0f20e262c7d1d6462" kindref="member">BCLog::IPC</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Chain<sp/>client<sp/>did<sp/>not<sp/>disconnect<sp/>cleanly:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>e.what());</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>client.reset();</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapport_8cpp_1a4ec0644ab7c157895f988051ecea31c7" kindref="member">StopMapPort</ref>();</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Because<sp/>these<sp/>depend<sp/>on<sp/>each-other,<sp/>we<sp/>make<sp/>sure<sp/>that<sp/>neither<sp/>can<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>using<sp/>the<sp/>other<sp/>before<sp/>destroying<sp/>them.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.peerman<sp/>&amp;&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals)<sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals-&gt;UnregisterValidationInterface(<ref refid="namespacenode" kindref="compound">node</ref>.peerman.get());</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.connman)<sp/><ref refid="namespacenode" kindref="compound">node</ref>.connman-&gt;Stop();</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="torcontrol_8cpp_1af056d7647453338e57eca61f23aebb14" kindref="member">StopTorControl</ref>();</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.background_init_thread.joinable())<sp/><ref refid="namespacenode" kindref="compound">node</ref>.background_init_thread.join();</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>After<sp/>everything<sp/>has<sp/>been<sp/>shut<sp/>down,<sp/>but<sp/>before<sp/>things<sp/>get<sp/>flushed,<sp/>stop<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>scheduler.<sp/>After<sp/>this<sp/>point,<sp/>SyncWithValidationInterfaceQueue()<sp/>should<sp/>not<sp/>be<sp/>called<sp/>anymore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>as<sp/>this<sp/>would<sp/>prevent<sp/>the<sp/>shutdown<sp/>from<sp/>completing.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.scheduler)<sp/><ref refid="namespacenode" kindref="compound">node</ref>.scheduler-&gt;stop();</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>After<sp/>the<sp/>threads<sp/>that<sp/>potentially<sp/>access<sp/>these<sp/>pointers<sp/>have<sp/>been<sp/>stopped,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>destruct<sp/>and<sp/>reset<sp/>all<sp/>to<sp/>nullptr.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.peerman.reset();</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.connman.reset();</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.banman.reset();</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.addrman.reset();</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.netgroupman.reset();</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.mempool<sp/>&amp;&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>.mempool-&gt;GetLoadTried()<sp/>&amp;&amp;<sp/><ref refid="init_8cpp_1a2ca33310929752f44f32a912fc1634ba" kindref="member">ShouldPersistMempool</ref>(*<ref refid="namespacenode" kindref="compound">node</ref>.args))<sp/>{</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="init_8cpp_1ab50998edc0bcd4e1b0990d891b7ee90b" kindref="member">DumpMempool</ref>(*<ref refid="namespacenode" kindref="compound">node</ref>.mempool,<sp/><ref refid="init_8cpp_1a33310f5279d28a2f9fcc1b3a51cf53ff" kindref="member">MempoolPath</ref>(*<ref refid="namespacenode" kindref="compound">node</ref>.args));</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Drop<sp/>transactions<sp/>we<sp/>were<sp/>still<sp/>watching,<sp/>record<sp/>fee<sp/>estimations<sp/>and<sp/>unregister</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>fee<sp/>estimator<sp/>from<sp/>validation<sp/>interface.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.fee_estimator)<sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.fee_estimator-&gt;Flush();</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.validation_signals)<sp/>{</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals-&gt;UnregisterValidationInterface(<ref refid="namespacenode" kindref="compound">node</ref>.fee_estimator.get());</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>FlushStateToDisk<sp/>generates<sp/>a<sp/>ChainStateFlushed<sp/>callback,<sp/>which<sp/>we<sp/>should<sp/>avoid<sp/>missing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.chainman)<sp/>{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>chainstate<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.chainman-&gt;m_chainstates)<sp/>{</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chainstate-&gt;CanFlushToDisk())<sp/>{</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainstate-&gt;ForceFlushStateToDisk();</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>After<sp/>there<sp/>are<sp/>no<sp/>more<sp/>peers/RPC<sp/>left<sp/>to<sp/>give<sp/>us<sp/>new<sp/>data<sp/>which<sp/>may<sp/>generate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>CValidationInterface<sp/>callbacks,<sp/>flush<sp/>them...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.validation_signals)<sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals-&gt;FlushBackgroundCallbacks();</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Stop<sp/>and<sp/>delete<sp/>all<sp/>indexes<sp/>only<sp/>after<sp/>flushing<sp/>background<sp/>callbacks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">*<sp/>index<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes)<sp/>index-&gt;Stop();</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="txindex_8cpp_1ac83d374395921acb8e38628025b3f6c1" kindref="member">g_txindex</ref>)<sp/><ref refid="txindex_8cpp_1ac83d374395921acb8e38628025b3f6c1" kindref="member">g_txindex</ref>.reset();</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="coinstatsindex_8cpp_1a5b682939ad608624a8f6f968618aa6f7" kindref="member">g_coin_stats_index</ref>)<sp/><ref refid="coinstatsindex_8cpp_1a5b682939ad608624a8f6f968618aa6f7" kindref="member">g_coin_stats_index</ref>.reset();</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="blockfilterindex_8cpp_1a5809c1c43a5b3c1d77f10e25a506a565" kindref="member">DestroyAllBlockFilterIndexes</ref>();</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes.clear();<sp/></highlight><highlight class="comment">//<sp/>all<sp/>instances<sp/>are<sp/>nullptr<sp/>now</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Any<sp/>future<sp/>callbacks<sp/>will<sp/>be<sp/>dropped.<sp/>This<sp/>should<sp/>absolutely<sp/>be<sp/>safe<sp/>-<sp/>if</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>missing<sp/>a<sp/>callback<sp/>results<sp/>in<sp/>an<sp/>unrecoverable<sp/>situation,<sp/>unclean<sp/>shutdown</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>would<sp/>too.<sp/>The<sp/>only<sp/>reason<sp/>to<sp/>do<sp/>the<sp/>above<sp/>flushes<sp/>is<sp/>to<sp/>let<sp/>the<sp/>wallet<sp/>catch</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>up<sp/>with<sp/>our<sp/>current<sp/>chain<sp/>to<sp/>avoid<sp/>any<sp/>strange<sp/>pruning<sp/>edge<sp/>cases<sp/>and<sp/>make</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>next<sp/>startup<sp/>faster<sp/>by<sp/>avoiding<sp/>rescan.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.chainman)<sp/>{</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>chainstate<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.chainman-&gt;m_chainstates)<sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chainstate-&gt;CanFlushToDisk())<sp/>{</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainstate-&gt;ForceFlushStateToDisk();</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainstate-&gt;ResetCoinsViews();</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>any<sp/>-ipcbind<sp/>clients<sp/>are<sp/>still<sp/>connected,<sp/>disconnect<sp/>them<sp/>now<sp/>so<sp/>they</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>not<sp/>block<sp/>shutdown.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classinterfaces_1_1_ipc" kindref="compound">interfaces::Ipc</ref>*<sp/><ref refid="namespaceipc" kindref="compound">ipc</ref><sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.init-&gt;ipc())<sp/>{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceipc" kindref="compound">ipc</ref>-&gt;disconnectIncoming();</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ENABLE_ZMQ</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="zmqnotificationinterface_8cpp_1afa2d5782c583a3eeeb4acf4670acf8a3" kindref="member">g_zmq_notification_interface</ref>)<sp/>{</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.validation_signals)<sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals-&gt;UnregisterValidationInterface(<ref refid="zmqnotificationinterface_8cpp_1afa2d5782c583a3eeeb4acf4670acf8a3" kindref="member">g_zmq_notification_interface</ref>.get());</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="zmqnotificationinterface_8cpp_1afa2d5782c583a3eeeb4acf4670acf8a3" kindref="member">g_zmq_notification_interface</ref>.reset();</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.chain_clients.clear();</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.validation_signals)<sp/>{</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals-&gt;UnregisterAllValidationInterfaces();</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.mempool.reset();</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.fee_estimator.reset();</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.chainman.reset();</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals.reset();</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.scheduler.reset();</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.ecc_context.reset();</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.kernel.reset();</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>RemovePidFile(*<ref refid="namespacenode" kindref="compound">node</ref>.args);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Shutdown<sp/>done&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="410"><highlight class="normal">}</highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>WIN32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>HandleSIGTERM(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="419"><highlight class="normal">{</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Return<sp/>value<sp/>is<sp/>intentionally<sp/>ignored<sp/>because<sp/>there<sp/>is<sp/>not<sp/>a<sp/>better<sp/>way</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>handling<sp/>this<sp/>failure<sp/>in<sp/>a<sp/>signal<sp/>handler.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)(*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(g_shutdown))();</highlight></codeline>
<codeline lineno="423"><highlight class="normal">}</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>HandleSIGHUP(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="426"><highlight class="normal">{</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1a06c70ecd393b6105dffe4c9011435959" kindref="member">m_reopen_file</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="428"><highlight class="normal">}</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>BOOL<sp/>WINAPI<sp/>consoleCtrlHandler(DWORD<sp/>dwCtrlType)</highlight></codeline>
<codeline lineno="431"><highlight class="normal">{</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(g_shutdown))())<sp/>{</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>send<sp/>shutdown<sp/>signal<sp/>on<sp/>Ctrl-C\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/>Sleep(INFINITE);</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="438"><highlight class="normal">}</highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>WIN32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>registerSignalHandler(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>signal,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">(*<ref refid="rest_8cpp_1a69e29ff93cc45cfc17d3be13aa2e2182" kindref="member">handler</ref>)(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="443"><highlight class="normal">{</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">sigaction<sp/>sa;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/>sa.sa_handler<sp/>=<sp/><ref refid="rest_8cpp_1a69e29ff93cc45cfc17d3be13aa2e2182" kindref="member">handler</ref>;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>sigemptyset(&amp;sa.sa_mask);</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>sa.sa_flags<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>sigaction(signal,<sp/>&amp;sa,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="449"><highlight class="normal">}</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1ad8967187dd520b3ded61ab2c601ac4a0" kindref="member">SetupServerArgs</ref>(<ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/>argsman,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>can_listen_ipc)</highlight></codeline>
<codeline lineno="453"><highlight class="normal">{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="args_8cpp_1a0ff31367c16c02baefa03b65f8b4a639" kindref="member">SetupHelpOptions</ref>(argsman);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-help-debug&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Print<sp/>help<sp/>message<sp/>with<sp/>debugging<sp/>options<sp/>and<sp/>exit&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);<sp/></highlight><highlight class="comment">//<sp/>server-only<sp/>for<sp/>now</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceinit_1a1d23978f2ba4a2b54c9e4492e3b492e5" kindref="member">init::AddLoggingArgs</ref>(argsman);</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>defaultBaseParams<sp/>=<sp/><ref refid="chainparamsbase_8cpp_1a0d3c3d2cd9ffb24ae0588e5505018947" kindref="member">CreateBaseChainParams</ref>(<ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7a186495f7da296bf880df3a22a492b378" kindref="member">ChainType::MAIN</ref>);</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>testnetBaseParams<sp/>=<sp/><ref refid="chainparamsbase_8cpp_1a0d3c3d2cd9ffb24ae0588e5505018947" kindref="member">CreateBaseChainParams</ref>(<ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ace8400aeb0c47ce5cd8e37a3a54e557b" kindref="member">ChainType::TESTNET</ref>);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>testnet4BaseParams<sp/>=<sp/><ref refid="chainparamsbase_8cpp_1a0d3c3d2cd9ffb24ae0588e5505018947" kindref="member">CreateBaseChainParams</ref>(<ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ad1cebcf3da42643534f71a073f938674" kindref="member">ChainType::TESTNET4</ref>);</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>signetBaseParams<sp/>=<sp/><ref refid="chainparamsbase_8cpp_1a0d3c3d2cd9ffb24ae0588e5505018947" kindref="member">CreateBaseChainParams</ref>(<ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7a14a0e9505f79e61b424e967035766720" kindref="member">ChainType::SIGNET</ref>);</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>regtestBaseParams<sp/>=<sp/><ref refid="chainparamsbase_8cpp_1a0d3c3d2cd9ffb24ae0588e5505018947" kindref="member">CreateBaseChainParams</ref>(<ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ad10d9759c6b71ea71a78e3a55bafc4d5" kindref="member">ChainType::REGTEST</ref>);</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>defaultChainParams<sp/>=<sp/><ref refid="chainparams_8cpp_1a895794a1c2afcd46381b76f6eecd9b1e" kindref="member">CreateChainParams</ref>(argsman,<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7a186495f7da296bf880df3a22a492b378" kindref="member">ChainType::MAIN</ref>);</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>testnetChainParams<sp/>=<sp/><ref refid="chainparams_8cpp_1a895794a1c2afcd46381b76f6eecd9b1e" kindref="member">CreateChainParams</ref>(argsman,<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ace8400aeb0c47ce5cd8e37a3a54e557b" kindref="member">ChainType::TESTNET</ref>);</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>testnet4ChainParams<sp/>=<sp/><ref refid="chainparams_8cpp_1a895794a1c2afcd46381b76f6eecd9b1e" kindref="member">CreateChainParams</ref>(argsman,<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ad1cebcf3da42643534f71a073f938674" kindref="member">ChainType::TESTNET4</ref>);</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>signetChainParams<sp/>=<sp/><ref refid="chainparams_8cpp_1a895794a1c2afcd46381b76f6eecd9b1e" kindref="member">CreateChainParams</ref>(argsman,<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7a14a0e9505f79e61b424e967035766720" kindref="member">ChainType::SIGNET</ref>);</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>regtestChainParams<sp/>=<sp/><ref refid="chainparams_8cpp_1a895794a1c2afcd46381b76f6eecd9b1e" kindref="member">CreateChainParams</ref>(argsman,<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ad10d9759c6b71ea71a78e3a55bafc4d5" kindref="member">ChainType::REGTEST</ref>);</highlight></codeline>
<codeline lineno="469"><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Hidden<sp/>Options</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;std::string&gt;<sp/>hidden_args<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-dbcrashratio&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;-forcecompactdb&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>GUI<sp/>args.<sp/>These<sp/>will<sp/>be<sp/>overwritten<sp/>by<sp/>SetupUIArgs<sp/>for<sp/>the<sp/>GUI</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-choosedatadir&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;-lang=&lt;lang&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;-min&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;-resetguisettings&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;-splash&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;-uiplatform&quot;</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-version&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Print<sp/>version<sp/>and<sp/>exit&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="477"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_SYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-alertnotify=&lt;cmd&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Execute<sp/>command<sp/>when<sp/>an<sp/>alert<sp/>is<sp/>raised<sp/>(%s<sp/>in<sp/>cmd<sp/>is<sp/>replaced<sp/>by<sp/>message)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-assumevalid=&lt;hex&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;If<sp/>this<sp/>block<sp/>is<sp/>in<sp/>the<sp/>chain<sp/>assume<sp/>that<sp/>it<sp/>and<sp/>its<sp/>ancestors<sp/>are<sp/>valid<sp/>and<sp/>potentially<sp/>skip<sp/>their<sp/>script<sp/>verification<sp/>(0<sp/>to<sp/>verify<sp/>all,<sp/>default:<sp/>%s,<sp/>testnet3:<sp/>%s,<sp/>testnet4:<sp/>%s,<sp/>signet:<sp/>%s)&quot;</highlight><highlight class="normal">,<sp/>defaultChainParams-&gt;GetConsensus().defaultAssumeValid.GetHex(),<sp/>testnetChainParams-&gt;GetConsensus().defaultAssumeValid.GetHex(),<sp/>testnet4ChainParams-&gt;GetConsensus().defaultAssumeValid.GetHex(),<sp/>signetChainParams-&gt;GetConsensus().defaultAssumeValid.GetHex()),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blocksdir=&lt;dir&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Specify<sp/>directory<sp/>to<sp/>hold<sp/>blocks<sp/>subdirectory<sp/>for<sp/>*.dat<sp/>files<sp/>(default:<sp/>&lt;datadir&gt;)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blocksxor&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Whether<sp/>an<sp/>XOR-key<sp/>applies<sp/>to<sp/>blocksdir<sp/>*.dat<sp/>files.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;The<sp/>created<sp/>XOR-key<sp/>will<sp/>be<sp/>zeros<sp/>for<sp/>an<sp/>existing<sp/>blocksdir<sp/>or<sp/>when<sp/>`-blocksxor=0`<sp/>is<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;set,<sp/>and<sp/>random<sp/>for<sp/>a<sp/>freshly<sp/>initialized<sp/>blocksdir.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;(default:<sp/>%u)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel::DEFAULT_XOR_BLOCKSDIR),</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-fastprune&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Use<sp/>smaller<sp/>block<sp/>files<sp/>and<sp/>lower<sp/>minimum<sp/>prune<sp/>height<sp/>for<sp/>testing<sp/>purposes&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_SYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blocknotify=&lt;cmd&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Execute<sp/>command<sp/>when<sp/>the<sp/>best<sp/>block<sp/>changes<sp/>(%s<sp/>in<sp/>cmd<sp/>is<sp/>replaced<sp/>by<sp/>block<sp/>hash)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blockreconstructionextratxn=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Extra<sp/>transactions<sp/>to<sp/>keep<sp/>in<sp/>memory<sp/>for<sp/>compact<sp/>block<sp/>reconstructions<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCK_RECONSTRUCTION_EXTRA_TXN),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blocksonly&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Whether<sp/>to<sp/>reject<sp/>transactions<sp/>from<sp/>network<sp/>peers.<sp/>Disables<sp/>automatic<sp/>broadcast<sp/>and<sp/>rebroadcast<sp/>of<sp/>transactions,<sp/>unless<sp/>the<sp/>source<sp/>peer<sp/>has<sp/>the<sp/>&apos;forcerelay&apos;<sp/>permission.<sp/>RPC<sp/>transactions<sp/>are<sp/>not<sp/>affected.<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCKSONLY),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-coinstatsindex&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maintain<sp/>coinstats<sp/>index<sp/>used<sp/>by<sp/>the<sp/>gettxoutsetinfo<sp/>RPC<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_COINSTATSINDEX),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-conf=&lt;file&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Specify<sp/>path<sp/>to<sp/>read-only<sp/>configuration<sp/>file.<sp/>Relative<sp/>paths<sp/>will<sp/>be<sp/>prefixed<sp/>by<sp/>datadir<sp/>location<sp/>(only<sp/>useable<sp/>from<sp/>command<sp/>line,<sp/>not<sp/>configuration<sp/>file)<sp/>(default:<sp/>%s)&quot;</highlight><highlight class="normal">,<sp/><ref refid="args_8cpp_1abf57498ee2b7213f49662a019744a74d" kindref="member">BITCOIN_CONF_FILENAME</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-datadir=&lt;dir&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Specify<sp/>data<sp/>directory&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a7811304bfac819a379b7ad3384bddfee" kindref="member">ArgsManager::DISALLOW_NEGATION</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-dbbatchsize&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maximum<sp/>database<sp/>write<sp/>batch<sp/>size<sp/>in<sp/>bytes<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_DB_CACHE_BATCH),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-dbcache=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maximum<sp/>database<sp/>cache<sp/>size<sp/>&lt;n&gt;<sp/>MiB<sp/>(minimum<sp/>%d,<sp/>default:<sp/>%d).<sp/>Make<sp/>sure<sp/>you<sp/>have<sp/>enough<sp/>RAM.<sp/>In<sp/>addition,<sp/>unused<sp/>memory<sp/>allocated<sp/>to<sp/>the<sp/>mempool<sp/>is<sp/>shared<sp/>with<sp/>this<sp/>cache<sp/>(see<sp/>-maxmempool).&quot;</highlight><highlight class="normal">,<sp/>MIN_DB_CACHE<sp/>&gt;&gt;<sp/>20,<sp/>DEFAULT_DB_CACHE<sp/>&gt;&gt;<sp/>20),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-includeconf=&lt;file&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Specify<sp/>additional<sp/>configuration<sp/>file,<sp/>relative<sp/>to<sp/>the<sp/>-datadir<sp/>path<sp/>(only<sp/>useable<sp/>from<sp/>configuration<sp/>file,<sp/>not<sp/>command<sp/>line)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-allowignoredconf&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;For<sp/>backwards<sp/>compatibility,<sp/>treat<sp/>an<sp/>unused<sp/>%s<sp/>file<sp/>in<sp/>the<sp/>datadir<sp/>as<sp/>a<sp/>warning,<sp/>not<sp/>an<sp/>error.&quot;</highlight><highlight class="normal">,<sp/><ref refid="args_8cpp_1abf57498ee2b7213f49662a019744a74d" kindref="member">BITCOIN_CONF_FILENAME</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-loadblock=&lt;file&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Imports<sp/>blocks<sp/>from<sp/>external<sp/>file<sp/>on<sp/>startup&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-maxmempool=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Keep<sp/>the<sp/>transaction<sp/>memory<sp/>pool<sp/>below<sp/>&lt;n&gt;<sp/>megabytes<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAX_MEMPOOL_SIZE_MB),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-mempoolexpiry=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Do<sp/>not<sp/>keep<sp/>transactions<sp/>in<sp/>the<sp/>mempool<sp/>longer<sp/>than<sp/>&lt;n&gt;<sp/>hours<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MEMPOOL_EXPIRY_HOURS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-minimumchainwork=&lt;hex&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Minimum<sp/>work<sp/>assumed<sp/>to<sp/>exist<sp/>on<sp/>a<sp/>valid<sp/>chain<sp/>in<sp/>hex<sp/>(default:<sp/>%s,<sp/>testnet3:<sp/>%s,<sp/>testnet4:<sp/>%s,<sp/>signet:<sp/>%s)&quot;</highlight><highlight class="normal">,<sp/>defaultChainParams-&gt;GetConsensus().nMinimumChainWork.GetHex(),<sp/>testnetChainParams-&gt;GetConsensus().nMinimumChainWork.GetHex(),<sp/>testnet4ChainParams-&gt;GetConsensus().nMinimumChainWork.GetHex(),<sp/>signetChainParams-&gt;GetConsensus().nMinimumChainWork.GetHex()),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-par=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>the<sp/>number<sp/>of<sp/>script<sp/>verification<sp/>threads<sp/>(0<sp/>=<sp/>auto,<sp/>up<sp/>to<sp/>%d,<sp/>&lt;0<sp/>=<sp/>leave<sp/>that<sp/>many<sp/>cores<sp/>free,<sp/>default:<sp/>%d)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MAX_SCRIPTCHECK_THREADS,<sp/>DEFAULT_SCRIPTCHECK_THREADS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-persistmempool&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Whether<sp/>to<sp/>save<sp/>the<sp/>mempool<sp/>on<sp/>shutdown<sp/>and<sp/>load<sp/>on<sp/>restart<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PERSIST_MEMPOOL),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-persistmempoolv1&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Whether<sp/>a<sp/>mempool.dat<sp/>file<sp/>created<sp/>by<sp/>-persistmempool<sp/>or<sp/>the<sp/>savemempool<sp/>RPC<sp/>will<sp/>be<sp/>written<sp/>in<sp/>the<sp/>legacy<sp/>format<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;(version<sp/>1)<sp/>or<sp/>the<sp/>current<sp/>format<sp/>(version<sp/>2).<sp/>This<sp/>temporary<sp/>option<sp/>will<sp/>be<sp/>removed<sp/>in<sp/>the<sp/>future.<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DEFAULT_PERSIST_V1_DAT),</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-pid=&lt;file&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Specify<sp/>pid<sp/>file.<sp/>Relative<sp/>paths<sp/>will<sp/>be<sp/>prefixed<sp/>by<sp/>a<sp/>net-specific<sp/>datadir<sp/>location.<sp/>(default:<sp/>%s)&quot;</highlight><highlight class="normal">,<sp/>BITCOIN_PID_FILENAME),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-prune=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Reduce<sp/>storage<sp/>requirements<sp/>by<sp/>enabling<sp/>pruning<sp/>(deleting)<sp/>of<sp/>old<sp/>blocks.<sp/>This<sp/>allows<sp/>the<sp/>pruneblockchain<sp/>RPC<sp/>to<sp/>be<sp/>called<sp/>to<sp/>delete<sp/>specific<sp/>blocks<sp/>and<sp/>enables<sp/>automatic<sp/>pruning<sp/>of<sp/>old<sp/>blocks<sp/>if<sp/>a<sp/>target<sp/>size<sp/>in<sp/>MiB<sp/>is<sp/>provided.<sp/>This<sp/>mode<sp/>is<sp/>incompatible<sp/>with<sp/>-txindex.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Warning:<sp/>Reverting<sp/>this<sp/>setting<sp/>requires<sp/>re-downloading<sp/>the<sp/>entire<sp/>blockchain.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;(default:<sp/>0<sp/>=<sp/>disable<sp/>pruning<sp/>blocks,<sp/>1<sp/>=<sp/>allow<sp/>manual<sp/>pruning<sp/>via<sp/>RPC,<sp/>&gt;=%u<sp/>=<sp/>automatically<sp/>prune<sp/>block<sp/>files<sp/>to<sp/>stay<sp/>under<sp/>the<sp/>specified<sp/>target<sp/>size<sp/>in<sp/>MiB)&quot;</highlight><highlight class="normal">,<sp/>MIN_DISK_SPACE_FOR_BLOCK_FILES<sp/>/<sp/>1024<sp/>/<sp/>1024),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-reindex&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;If<sp/>enabled,<sp/>wipe<sp/>chain<sp/>state<sp/>and<sp/>block<sp/>index,<sp/>and<sp/>rebuild<sp/>them<sp/>from<sp/>blk*.dat<sp/>files<sp/>on<sp/>disk.<sp/>Also<sp/>wipe<sp/>and<sp/>rebuild<sp/>other<sp/>optional<sp/>indexes<sp/>that<sp/>are<sp/>active.<sp/>If<sp/>an<sp/>assumeutxo<sp/>snapshot<sp/>was<sp/>loaded,<sp/>its<sp/>chainstate<sp/>will<sp/>be<sp/>wiped<sp/>as<sp/>well.<sp/>The<sp/>snapshot<sp/>can<sp/>then<sp/>be<sp/>reloaded<sp/>via<sp/>RPC.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-reindex-chainstate&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;If<sp/>enabled,<sp/>wipe<sp/>chain<sp/>state,<sp/>and<sp/>rebuild<sp/>it<sp/>from<sp/>blk*.dat<sp/>files<sp/>on<sp/>disk.<sp/>If<sp/>an<sp/>assumeutxo<sp/>snapshot<sp/>was<sp/>loaded,<sp/>its<sp/>chainstate<sp/>will<sp/>be<sp/>wiped<sp/>as<sp/>well.<sp/>The<sp/>snapshot<sp/>can<sp/>then<sp/>be<sp/>reloaded<sp/>via<sp/>RPC.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-settings=&lt;file&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Specify<sp/>path<sp/>to<sp/>dynamic<sp/>settings<sp/>data<sp/>file.<sp/>Can<sp/>be<sp/>disabled<sp/>with<sp/>-nosettings.<sp/>File<sp/>is<sp/>written<sp/>at<sp/>runtime<sp/>and<sp/>not<sp/>meant<sp/>to<sp/>be<sp/>edited<sp/>by<sp/>users<sp/>(use<sp/>%s<sp/>instead<sp/>for<sp/>custom<sp/>settings).<sp/>Relative<sp/>paths<sp/>will<sp/>be<sp/>prefixed<sp/>by<sp/>datadir<sp/>location.<sp/>(default:<sp/>%s)&quot;</highlight><highlight class="normal">,<sp/><ref refid="args_8cpp_1abf57498ee2b7213f49662a019744a74d" kindref="member">BITCOIN_CONF_FILENAME</ref>,<sp/><ref refid="args_8cpp_1a330154777c90859524c56e2dbf3fdb4f" kindref="member">BITCOIN_SETTINGS_FILENAME</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_SYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-startupnotify=&lt;cmd&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Execute<sp/>command<sp/>on<sp/>startup.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-shutdownnotify=&lt;cmd&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Execute<sp/>command<sp/>immediately<sp/>before<sp/>beginning<sp/>shutdown.<sp/>The<sp/>need<sp/>for<sp/>shutdown<sp/>may<sp/>be<sp/>urgent,<sp/>so<sp/>be<sp/>careful<sp/>not<sp/>to<sp/>delay<sp/>it<sp/>long<sp/>(if<sp/>the<sp/>command<sp/>doesn&apos;t<sp/>require<sp/>interaction<sp/>with<sp/>the<sp/>server,<sp/>consider<sp/>having<sp/>it<sp/>fork<sp/>into<sp/>the<sp/>background).&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-txindex&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maintain<sp/>a<sp/>full<sp/>transaction<sp/>index,<sp/>used<sp/>by<sp/>the<sp/>getrawtransaction<sp/>rpc<sp/>call<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_TXINDEX),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blockfilterindex=&lt;type&gt;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maintain<sp/>an<sp/>index<sp/>of<sp/>compact<sp/>filters<sp/>by<sp/>block<sp/>(default:<sp/>%s,<sp/>values:<sp/>%s).&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCKFILTERINDEX,<sp/><ref refid="blockfilter_8cpp_1ac7458411931fe16388c0e1ae44d98b6b" kindref="member">ListBlockFilterTypes</ref>())<sp/>+</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>If<sp/>&lt;type&gt;<sp/>is<sp/>not<sp/>supplied<sp/>or<sp/>if<sp/>&lt;type&gt;<sp/>=<sp/>1,<sp/>indexes<sp/>for<sp/>all<sp/>known<sp/>types<sp/>are<sp/>enabled.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-addnode=&lt;ip&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Add<sp/>a<sp/>node<sp/>to<sp/>connect<sp/>to<sp/>and<sp/>attempt<sp/>to<sp/>keep<sp/>the<sp/>connection<sp/>open<sp/>(see<sp/>the<sp/>addnode<sp/>RPC<sp/>help<sp/>for<sp/>more<sp/>info).<sp/>This<sp/>option<sp/>can<sp/>be<sp/>specified<sp/>multiple<sp/>times<sp/>to<sp/>add<sp/>multiple<sp/>nodes;<sp/>connections<sp/>are<sp/>limited<sp/>to<sp/>%u<sp/>at<sp/>a<sp/>time<sp/>and<sp/>are<sp/>counted<sp/>separately<sp/>from<sp/>the<sp/>-maxconnections<sp/>limit.&quot;</highlight><highlight class="normal">,<sp/>MAX_ADDNODE_CONNECTIONS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253acf8add6ec2eb702fc3078f9a2aea6423" kindref="member">ArgsManager::NETWORK_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-asmap=&lt;file&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Specify<sp/>asn<sp/>mapping<sp/>used<sp/>for<sp/>bucketing<sp/>of<sp/>the<sp/>peers.<sp/>Relative<sp/>paths<sp/>will<sp/>be<sp/>prefixed<sp/>by<sp/>the<sp/>net-specific<sp/>datadir<sp/>location.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-bantime=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Default<sp/>duration<sp/>(in<sp/>seconds)<sp/>of<sp/>manually<sp/>configured<sp/>bans<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MISBEHAVING_BANTIME),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-bind=&lt;addr&gt;[:&lt;port&gt;][=onion]&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Bind<sp/>to<sp/>given<sp/>address<sp/>and<sp/>always<sp/>listen<sp/>on<sp/>it<sp/>(default:<sp/>0.0.0.0).<sp/>Use<sp/>[host]:port<sp/>notation<sp/>for<sp/>IPv6.<sp/>Append<sp/>=onion<sp/>to<sp/>tag<sp/>any<sp/>incoming<sp/>connections<sp/>to<sp/>that<sp/>address<sp/>and<sp/>port<sp/>as<sp/>incoming<sp/>Tor<sp/>connections<sp/>(default:<sp/>127.0.0.1:%u=onion,<sp/>testnet3:<sp/>127.0.0.1:%u=onion,<sp/>testnet4:<sp/>127.0.0.1:%u=onion,<sp/>signet:<sp/>127.0.0.1:%u=onion,<sp/>regtest:<sp/>127.0.0.1:%u=onion)&quot;</highlight><highlight class="normal">,<sp/>defaultChainParams-&gt;GetDefaultPort()<sp/>+<sp/>1,<sp/>testnetChainParams-&gt;GetDefaultPort()<sp/>+<sp/>1,<sp/>testnet4ChainParams-&gt;GetDefaultPort()<sp/>+<sp/>1,<sp/>signetChainParams-&gt;GetDefaultPort()<sp/>+<sp/>1,<sp/>regtestChainParams-&gt;GetDefaultPort()<sp/>+<sp/>1),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253acf8add6ec2eb702fc3078f9a2aea6423" kindref="member">ArgsManager::NETWORK_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-cjdnsreachable&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;If<sp/>set,<sp/>then<sp/>this<sp/>host<sp/>is<sp/>configured<sp/>for<sp/>CJDNS<sp/>(connecting<sp/>to<sp/>fc00::/8<sp/>addresses<sp/>would<sp/>lead<sp/>us<sp/>to<sp/>the<sp/>CJDNS<sp/>network,<sp/>see<sp/>doc/cjdns.md)<sp/>(default:<sp/>0)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-connect=&lt;ip&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Connect<sp/>only<sp/>to<sp/>the<sp/>specified<sp/>node;<sp/>-noconnect<sp/>disables<sp/>automatic<sp/>connections<sp/>(the<sp/>rules<sp/>for<sp/>this<sp/>peer<sp/>are<sp/>the<sp/>same<sp/>as<sp/>for<sp/>-addnode).<sp/>This<sp/>option<sp/>can<sp/>be<sp/>specified<sp/>multiple<sp/>times<sp/>to<sp/>connect<sp/>to<sp/>multiple<sp/>nodes.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253acf8add6ec2eb702fc3078f9a2aea6423" kindref="member">ArgsManager::NETWORK_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-discover&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Discover<sp/>own<sp/>IP<sp/>addresses<sp/>(default:<sp/>1<sp/>when<sp/>listening<sp/>and<sp/>no<sp/>-externalip<sp/>or<sp/>-proxy)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-dns&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Allow<sp/>DNS<sp/>lookups<sp/>for<sp/>-addnode,<sp/>-seednode<sp/>and<sp/>-connect<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_NAME_LOOKUP),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-dnsseed&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Query<sp/>for<sp/>peer<sp/>addresses<sp/>via<sp/>DNS<sp/>lookup,<sp/>if<sp/>low<sp/>on<sp/>addresses<sp/>(default:<sp/>%u<sp/>unless<sp/>-connect<sp/>used<sp/>or<sp/>-maxconnections=0)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_DNSSEED),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-externalip=&lt;ip&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Specify<sp/>your<sp/>own<sp/>public<sp/>address&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-fixedseeds&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Allow<sp/>fixed<sp/>seeds<sp/>if<sp/>DNS<sp/>seeds<sp/>don&apos;t<sp/>provide<sp/>peers<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_FIXEDSEEDS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-forcednsseed&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Always<sp/>query<sp/>for<sp/>peer<sp/>addresses<sp/>via<sp/>DNS<sp/>lookup<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_FORCEDNSSEED),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Accept<sp/>connections<sp/>from<sp/>outside<sp/>(default:<sp/>%u<sp/>if<sp/>no<sp/>-proxy,<sp/>-connect<sp/>or<sp/>-maxconnections=0)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-listenonion&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Automatically<sp/>create<sp/>Tor<sp/>onion<sp/>service<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN_ONION),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-maxconnections=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maintain<sp/>at<sp/>most<sp/>&lt;n&gt;<sp/>automatic<sp/>connections<sp/>to<sp/>peers<sp/>(default:<sp/>%u).<sp/>This<sp/>limit<sp/>does<sp/>not<sp/>apply<sp/>to<sp/>connections<sp/>manually<sp/>added<sp/>via<sp/>-addnode<sp/>or<sp/>the<sp/>addnode<sp/>RPC,<sp/>which<sp/>have<sp/>a<sp/>separate<sp/>limit<sp/>of<sp/>%u.&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAX_PEER_CONNECTIONS,<sp/>MAX_ADDNODE_CONNECTIONS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-maxreceivebuffer=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maximum<sp/>per-connection<sp/>receive<sp/>buffer,<sp/>&lt;n&gt;*1000<sp/>bytes<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAXRECEIVEBUFFER),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-maxsendbuffer=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maximum<sp/>per-connection<sp/>memory<sp/>usage<sp/>for<sp/>the<sp/>send<sp/>buffer,<sp/>&lt;n&gt;*1000<sp/>bytes<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAXSENDBUFFER),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-maxuploadtarget=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Tries<sp/>to<sp/>keep<sp/>outbound<sp/>traffic<sp/>under<sp/>the<sp/>given<sp/>target<sp/>per<sp/>24h.<sp/>Limit<sp/>does<sp/>not<sp/>apply<sp/>to<sp/>peers<sp/>with<sp/>&apos;download&apos;<sp/>permission<sp/>or<sp/>blocks<sp/>created<sp/>within<sp/>past<sp/>week.<sp/>0<sp/>=<sp/>no<sp/>limit<sp/>(default:<sp/>%s).<sp/>Optional<sp/>suffix<sp/>units<sp/>[k|K|m|M|g|G|t|T]<sp/>(default:<sp/>M).<sp/>Lowercase<sp/>is<sp/>1000<sp/>base<sp/>while<sp/>uppercase<sp/>is<sp/>1024<sp/>base&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAX_UPLOAD_TARGET),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="549"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_SOCKADDR_UN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-onion=&lt;ip:port|path&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Use<sp/>separate<sp/>SOCKS5<sp/>proxy<sp/>to<sp/>reach<sp/>peers<sp/>via<sp/>Tor<sp/>onion<sp/>services,<sp/>set<sp/>-noonion<sp/>to<sp/>disable<sp/>(default:<sp/>-proxy).<sp/>May<sp/>be<sp/>a<sp/>local<sp/>file<sp/>path<sp/>prefixed<sp/>with<sp/>&apos;unix:&apos;.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-onion=&lt;ip:port&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Use<sp/>separate<sp/>SOCKS5<sp/>proxy<sp/>to<sp/>reach<sp/>peers<sp/>via<sp/>Tor<sp/>onion<sp/>services,<sp/>set<sp/>-noonion<sp/>to<sp/>disable<sp/>(default:<sp/>-proxy)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-i2psam=&lt;ip:port&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;I2P<sp/>SAM<sp/>proxy<sp/>to<sp/>reach<sp/>I2P<sp/>peers<sp/>and<sp/>accept<sp/>I2P<sp/>connections&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-i2pacceptincoming&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Whether<sp/>to<sp/>accept<sp/>inbound<sp/>I2P<sp/>connections<sp/>(default:<sp/>%i).<sp/>Ignored<sp/>if<sp/>-i2psam<sp/>is<sp/>not<sp/>set.<sp/>Listening<sp/>for<sp/>inbound<sp/>I2P<sp/>connections<sp/>is<sp/>done<sp/>through<sp/>the<sp/>SAM<sp/>proxy,<sp/>not<sp/>by<sp/>binding<sp/>to<sp/>a<sp/>local<sp/>address<sp/>and<sp/>port.&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_I2P_ACCEPT_INCOMING),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-onlynet=&lt;net&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Make<sp/>automatic<sp/>outbound<sp/>connections<sp/>only<sp/>to<sp/>network<sp/>&lt;net&gt;<sp/>(&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="init_8cpp_1aff2a33f4c8a8ebd77cf6e0630bd1dbe3" kindref="member">Join</ref>(<ref refid="netbase_8cpp_1afce09ac112758f89ea8a5bd76a230781" kindref="member">GetNetworkNames</ref>(),<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;).<sp/>Inbound<sp/>and<sp/>manual<sp/>connections<sp/>are<sp/>not<sp/>affected<sp/>by<sp/>this<sp/>option.<sp/>It<sp/>can<sp/>be<sp/>specified<sp/>multiple<sp/>times<sp/>to<sp/>allow<sp/>multiple<sp/>networks.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-v2transport&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Support<sp/>v2<sp/>transport<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_V2_TRANSPORT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-peerbloomfilters&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Support<sp/>filtering<sp/>of<sp/>blocks<sp/>and<sp/>transaction<sp/>with<sp/>bloom<sp/>filters<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PEERBLOOMFILTERS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-peerblockfilters&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Serve<sp/>compact<sp/>block<sp/>filters<sp/>to<sp/>peers<sp/>per<sp/>BIP<sp/>157<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PEERBLOCKFILTERS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-txreconciliation&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Enable<sp/>transaction<sp/>reconciliations<sp/>per<sp/>BIP<sp/>330<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_TXRECONCILIATION_ENABLE),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-port=&lt;port&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Listen<sp/>for<sp/>connections<sp/>on<sp/>&lt;port&gt;<sp/>(default:<sp/>%u,<sp/>testnet3:<sp/>%u,<sp/>testnet4:<sp/>%u,<sp/>signet:<sp/>%u,<sp/>regtest:<sp/>%u).<sp/>Not<sp/>relevant<sp/>for<sp/>I2P<sp/>(see<sp/>doc/i2p.md).<sp/>If<sp/>set<sp/>to<sp/>a<sp/>value<sp/>x,<sp/>the<sp/>default<sp/>onion<sp/>listening<sp/>port<sp/>will<sp/>be<sp/>set<sp/>to<sp/>x+1.&quot;</highlight><highlight class="normal">,<sp/>defaultChainParams-&gt;GetDefaultPort(),<sp/>testnetChainParams-&gt;GetDefaultPort(),<sp/>testnet4ChainParams-&gt;GetDefaultPort(),<sp/>signetChainParams-&gt;GetDefaultPort(),<sp/>regtestChainParams-&gt;GetDefaultPort()),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253acf8add6ec2eb702fc3078f9a2aea6423" kindref="member">ArgsManager::NETWORK_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>proxy_doc_for_value<sp/>=</highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_SOCKADDR_UN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&lt;ip&gt;[:&lt;port&gt;]|unix:&lt;path&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="565"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&lt;ip&gt;[:&lt;port&gt;]&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>proxy_doc_for_unix_socket<sp/>=</highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_SOCKADDR_UN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;May<sp/>be<sp/>a<sp/>local<sp/>file<sp/>path<sp/>prefixed<sp/>with<sp/>&apos;unix:&apos;<sp/>if<sp/>the<sp/>proxy<sp/>supports<sp/>it.<sp/>&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-proxy=&quot;</highlight><highlight class="normal"><sp/>+<sp/>proxy_doc_for_value<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;[=&lt;network&gt;]&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Connect<sp/>through<sp/>SOCKS5<sp/>proxy,<sp/>set<sp/>-noproxy<sp/>to<sp/>disable.<sp/>&quot;</highlight><highlight class="normal"><sp/>+</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proxy_doc_for_unix_socket<sp/>+</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Could<sp/>end<sp/>in<sp/>=network<sp/>to<sp/>set<sp/>the<sp/>proxy<sp/>only<sp/>for<sp/>that<sp/>network.<sp/>&quot;</highlight><highlight class="normal"><sp/>+</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;The<sp/>network<sp/>can<sp/>be<sp/>any<sp/>of<sp/>ipv4,<sp/>ipv6,<sp/>tor<sp/>or<sp/>cjdns.<sp/>&quot;</highlight><highlight class="normal"><sp/>+</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;(default:<sp/>disabled)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253ad97eb24a1f42be6508462ef56ee69356" kindref="member">ArgsManager::DISALLOW_ELISION</ref>,</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-proxyrandomize&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Randomize<sp/>credentials<sp/>for<sp/>every<sp/>proxy<sp/>connection.<sp/>This<sp/>enables<sp/>Tor<sp/>stream<sp/>isolation<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PROXYRANDOMIZE),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-seednode=&lt;ip&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Connect<sp/>to<sp/>a<sp/>node<sp/>to<sp/>retrieve<sp/>peer<sp/>addresses,<sp/>and<sp/>disconnect.<sp/>This<sp/>option<sp/>can<sp/>be<sp/>specified<sp/>multiple<sp/>times<sp/>to<sp/>connect<sp/>to<sp/>multiple<sp/>nodes.<sp/>During<sp/>startup,<sp/>seednodes<sp/>will<sp/>be<sp/>tried<sp/>before<sp/>dnsseeds.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-networkactive&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Enable<sp/>all<sp/>P2P<sp/>network<sp/>activity<sp/>(default:<sp/>1).<sp/>Can<sp/>be<sp/>changed<sp/>by<sp/>the<sp/>setnetworkactive<sp/>RPC<sp/>command&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-timeout=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Specify<sp/>socket<sp/>connection<sp/>timeout<sp/>in<sp/>milliseconds.<sp/>If<sp/>an<sp/>initial<sp/>attempt<sp/>to<sp/>connect<sp/>is<sp/>unsuccessful<sp/>after<sp/>this<sp/>amount<sp/>of<sp/>time,<sp/>drop<sp/>it<sp/>(minimum:<sp/>1,<sp/>default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_CONNECT_TIMEOUT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-peertimeout=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Specify<sp/>a<sp/>p2p<sp/>connection<sp/>timeout<sp/>delay<sp/>in<sp/>seconds.<sp/>After<sp/>connecting<sp/>to<sp/>a<sp/>peer,<sp/>wait<sp/>this<sp/>amount<sp/>of<sp/>time<sp/>before<sp/>considering<sp/>disconnection<sp/>based<sp/>on<sp/>inactivity<sp/>(minimum:<sp/>1,<sp/>default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PEER_CONNECT_TIMEOUT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-torcontrol=&lt;ip&gt;:&lt;port&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Tor<sp/>control<sp/>host<sp/>and<sp/>port<sp/>to<sp/>use<sp/>if<sp/>onion<sp/>listening<sp/>enabled<sp/>(default:<sp/>%s).<sp/>If<sp/>no<sp/>port<sp/>is<sp/>specified,<sp/>the<sp/>default<sp/>port<sp/>of<sp/>%i<sp/>will<sp/>be<sp/>used.&quot;</highlight><highlight class="normal">,<sp/><ref refid="torcontrol_8cpp_1a48ca9f53bd923a35d926ac7d60f3bdd7" kindref="member">DEFAULT_TOR_CONTROL</ref>,<sp/><ref refid="torcontrol_8h_1a8b65c3101abbeebf38536b96609d3120" kindref="member">DEFAULT_TOR_CONTROL_PORT</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-torpassword=&lt;pass&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Tor<sp/>control<sp/>port<sp/>password<sp/>(default:<sp/>empty)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a1a2d9a044f09c18201d73e0a97b6d93d" kindref="member">ArgsManager::SENSITIVE</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-natpmp&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Use<sp/>PCP<sp/>or<sp/>NAT-PMP<sp/>to<sp/>map<sp/>the<sp/>listening<sp/>port<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_NATPMP),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-whitebind=&lt;[permissions@]addr&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Bind<sp/>to<sp/>the<sp/>given<sp/>address<sp/>and<sp/>add<sp/>permission<sp/>flags<sp/>to<sp/>the<sp/>peers<sp/>connecting<sp/>to<sp/>it.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Use<sp/>[host]:port<sp/>notation<sp/>for<sp/>IPv6.<sp/>Allowed<sp/>permissions:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="init_8cpp_1aff2a33f4c8a8ebd77cf6e0630bd1dbe3" kindref="member">Join</ref>(<ref refid="net__permissions_8cpp_1adcf6dc8d69710f6c138eeabb79966083" kindref="member">NET_PERMISSIONS_DOC</ref>,<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Specify<sp/>multiple<sp/>permissions<sp/>separated<sp/>by<sp/>commas<sp/>(default:<sp/>download,noban,mempool,relay).<sp/>Can<sp/>be<sp/>specified<sp/>multiple<sp/>times.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-whitelist=&lt;[permissions@]IP<sp/>address<sp/>or<sp/>network&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Add<sp/>permission<sp/>flags<sp/>to<sp/>the<sp/>peers<sp/>using<sp/>the<sp/>given<sp/>IP<sp/>address<sp/>(e.g.<sp/>1.2.3.4)<sp/>or<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CIDR-notated<sp/>network<sp/>(e.g.<sp/>1.2.3.0/24).<sp/>Uses<sp/>the<sp/>same<sp/>permissions<sp/>as<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-whitebind.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Additional<sp/>flags<sp/>\&quot;in\&quot;<sp/>and<sp/>\&quot;out\&quot;<sp/>control<sp/>whether<sp/>permissions<sp/>apply<sp/>to<sp/>incoming<sp/>connections<sp/>and/or<sp/>manual<sp/>(default:<sp/>incoming<sp/>only).<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Can<sp/>be<sp/>specified<sp/>multiple<sp/>times.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdaf877da16e0c12743466e4059018d0d98" kindref="member">OptionsCategory::CONNECTION</ref>);</highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dummywallet_8cpp_1ae7426cfaef29389c022117e0842f8aba" kindref="member">g_wallet_init_interface</ref>.AddWalletOptions(argsman);</highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ENABLE_ZMQ</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubhashblock=&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Enable<sp/>publish<sp/>hash<sp/>block<sp/>in<sp/>&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubhashtx=&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Enable<sp/>publish<sp/>hash<sp/>transaction<sp/>in<sp/>&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubrawblock=&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Enable<sp/>publish<sp/>raw<sp/>block<sp/>in<sp/>&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubrawtx=&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Enable<sp/>publish<sp/>raw<sp/>transaction<sp/>in<sp/>&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubsequence=&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Enable<sp/>publish<sp/>hash<sp/>block<sp/>and<sp/>tx<sp/>sequence<sp/>in<sp/>&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubhashblockhwm=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>publish<sp/>hash<sp/>block<sp/>outbound<sp/>message<sp/>high<sp/>water<sp/>mark<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_z_m_q_abstract_notifier_1a4b39dcc911377510ddf785f9a019a2b2" kindref="member">CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubhashtxhwm=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>publish<sp/>hash<sp/>transaction<sp/>outbound<sp/>message<sp/>high<sp/>water<sp/>mark<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_z_m_q_abstract_notifier_1a4b39dcc911377510ddf785f9a019a2b2" kindref="member">CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubrawblockhwm=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>publish<sp/>raw<sp/>block<sp/>outbound<sp/>message<sp/>high<sp/>water<sp/>mark<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_z_m_q_abstract_notifier_1a4b39dcc911377510ddf785f9a019a2b2" kindref="member">CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubrawtxhwm=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>publish<sp/>raw<sp/>transaction<sp/>outbound<sp/>message<sp/>high<sp/>water<sp/>mark<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_z_m_q_abstract_notifier_1a4b39dcc911377510ddf785f9a019a2b2" kindref="member">CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-zmqpubsequencehwm=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>publish<sp/>hash<sp/>sequence<sp/>message<sp/>high<sp/>water<sp/>mark<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_z_m_q_abstract_notifier_1a4b39dcc911377510ddf785f9a019a2b2" kindref="member">CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda38cf8f016825407fb4e79e319d87bd5e" kindref="member">OptionsCategory::ZMQ</ref>);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubhashblock=&lt;address&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubhashtx=&lt;address&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubrawblock=&lt;address&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubrawtx=&lt;address&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubsequence=&lt;n&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubhashblockhwm=&lt;n&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubhashtxhwm=&lt;n&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubrawblockhwm=&lt;n&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubrawtxhwm=&lt;n&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-zmqpubsequencehwm=&lt;n&gt;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="624"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-checkblocks=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;How<sp/>many<sp/>blocks<sp/>to<sp/>check<sp/>at<sp/>startup<sp/>(default:<sp/>%u,<sp/>0<sp/>=<sp/>all)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_CHECKBLOCKS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-checklevel=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;How<sp/>thorough<sp/>the<sp/>block<sp/>verification<sp/>of<sp/>-checkblocks<sp/>is:<sp/>%s<sp/>(0-4,<sp/>default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/><ref refid="init_8cpp_1aff2a33f4c8a8ebd77cf6e0630bd1dbe3" kindref="member">Join</ref>(<ref refid="validation_8cpp_1aa6bf79aa2e37d5ce26771d5af135cf51" kindref="member">CHECKLEVEL_DOC</ref>,<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal">),<sp/>DEFAULT_CHECKLEVEL),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-checkblockindex&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Do<sp/>a<sp/>consistency<sp/>check<sp/>for<sp/>the<sp/>block<sp/>tree,<sp/>chainstate,<sp/>and<sp/>other<sp/>validation<sp/>data<sp/>structures<sp/>every<sp/>&lt;n&gt;<sp/>operations.<sp/>Use<sp/>0<sp/>to<sp/>disable.<sp/>(default:<sp/>%u,<sp/>regtest:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>defaultChainParams-&gt;DefaultConsistencyChecks(),<sp/>regtestChainParams-&gt;DefaultConsistencyChecks()),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-checkaddrman=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Run<sp/>addrman<sp/>consistency<sp/>checks<sp/>every<sp/>&lt;n&gt;<sp/>operations.<sp/>Use<sp/>0<sp/>to<sp/>disable.<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_ADDRMAN_CONSISTENCY_CHECKS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-checkmempool=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Run<sp/>mempool<sp/>consistency<sp/>checks<sp/>every<sp/>&lt;n&gt;<sp/>transactions.<sp/>Use<sp/>0<sp/>to<sp/>disable.<sp/>(default:<sp/>%u,<sp/>regtest:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>defaultChainParams-&gt;DefaultConsistencyChecks(),<sp/>regtestChainParams-&gt;DefaultConsistencyChecks()),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Checkpoints<sp/>were<sp/>removed.<sp/>We<sp/>keep<sp/>`-checkpoints`<sp/>as<sp/>a<sp/>hidden<sp/>arg<sp/>to<sp/>display<sp/>a<sp/>more<sp/>user<sp/>friendly<sp/>error<sp/>when<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-checkpoints&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda347e628a8f72626a0611ef842fe9d304" kindref="member">OptionsCategory::HIDDEN</ref>);</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-deprecatedrpc=&lt;method&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Allows<sp/>deprecated<sp/>RPC<sp/>method(s)<sp/>to<sp/>be<sp/>used&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-stopafterblockimport&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Stop<sp/>running<sp/>after<sp/>importing<sp/>blocks<sp/>from<sp/>disk<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_STOPAFTERBLOCKIMPORT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-stopatheight&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Stop<sp/>running<sp/>after<sp/>reaching<sp/>the<sp/>given<sp/>height<sp/>in<sp/>the<sp/>main<sp/>chain<sp/>(default:<sp/>%u).<sp/>Blocks<sp/>after<sp/>target<sp/>height<sp/>may<sp/>be<sp/>processed<sp/>during<sp/>shutdown.&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_STOPATHEIGHT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-limitancestorcount=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Deprecated<sp/>setting<sp/>to<sp/>not<sp/>accept<sp/>transactions<sp/>if<sp/>number<sp/>of<sp/>in-mempool<sp/>ancestors<sp/>is<sp/>&lt;n&gt;<sp/>or<sp/>more<sp/>(default:<sp/>%u);<sp/>replaced<sp/>by<sp/>cluster<sp/>limits<sp/>(see<sp/>-limitclustercount)<sp/>and<sp/>only<sp/>used<sp/>by<sp/>wallet<sp/>for<sp/>coin<sp/>selection&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_ANCESTOR_LIMIT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ancestor<sp/>and<sp/>descendant<sp/>size<sp/>limits<sp/>were<sp/>removed.<sp/>We<sp/>keep</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-limitancestorsize/-limitdescendantsize<sp/>as<sp/>hidden<sp/>args<sp/>to<sp/>display<sp/>a<sp/>more</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>user<sp/>friendly<sp/>error<sp/>when<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-limitancestorsize&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda347e628a8f72626a0611ef842fe9d304" kindref="member">OptionsCategory::HIDDEN</ref>);</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-limitdescendantsize&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda347e628a8f72626a0611ef842fe9d304" kindref="member">OptionsCategory::HIDDEN</ref>);</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-limitdescendantcount=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Deprecated<sp/>setting<sp/>to<sp/>not<sp/>accept<sp/>transactions<sp/>if<sp/>any<sp/>ancestor<sp/>would<sp/>have<sp/>&lt;n&gt;<sp/>or<sp/>more<sp/>in-mempool<sp/>descendants<sp/>(default:<sp/>%u);<sp/>replaced<sp/>by<sp/>cluster<sp/>limits<sp/>(see<sp/>-limitclustercount)<sp/>and<sp/>only<sp/>used<sp/>by<sp/>wallet<sp/>for<sp/>coin<sp/>selection&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_DESCENDANT_LIMIT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-test=&lt;option&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Pass<sp/>a<sp/>test-only<sp/>option.<sp/>Options<sp/>include<sp/>:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="init_8cpp_1aff2a33f4c8a8ebd77cf6e0630bd1dbe3" kindref="member">Join</ref>(<ref refid="args_8cpp_1a0407a17456b8daea6c8ccdd632342a5f" kindref="member">TEST_OPTIONS_DOC</ref>,<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-limitclustercount=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Do<sp/>not<sp/>accept<sp/>transactions<sp/>into<sp/>mempool<sp/>which<sp/>are<sp/>directly<sp/>or<sp/>indirectly<sp/>connected<sp/>to<sp/>&lt;n&gt;<sp/>or<sp/>more<sp/>other<sp/>unconfirmed<sp/>transactions<sp/>(default:<sp/>%u,<sp/>maximum:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_CLUSTER_LIMIT,<sp/>MAX_CLUSTER_COUNT_LIMIT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-limitclustersize=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Do<sp/>not<sp/>accept<sp/>transactions<sp/>whose<sp/>virtual<sp/>size<sp/>with<sp/>all<sp/>in-mempool<sp/>connected<sp/>transactions<sp/>exceeds<sp/>&lt;n&gt;<sp/>kilobytes<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_CLUSTER_SIZE_LIMIT_KVB),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-capturemessages&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Capture<sp/>all<sp/>P2P<sp/>messages<sp/>to<sp/>disk&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-mocktime=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Replace<sp/>actual<sp/>time<sp/>with<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="rpc_2util_8cpp_1aad676cc5fc482fffa78911b8d7d9d32d" kindref="member">UNIX_EPOCH_TIME</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>(default:<sp/>0)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-maxsigcachesize=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Limit<sp/>sum<sp/>of<sp/>signature<sp/>cache<sp/>and<sp/>script<sp/>execution<sp/>cache<sp/>sizes<sp/>to<sp/>&lt;n&gt;<sp/>MiB<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_VALIDATION_CACHE_BYTES<sp/>&gt;&gt;<sp/>20),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-maxtipage=&lt;n&gt;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Maximum<sp/>tip<sp/>age<sp/>in<sp/>seconds<sp/>to<sp/>consider<sp/>node<sp/>in<sp/>initial<sp/>block<sp/>download<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="util_2time_8h_1ac04088c2a91199afcf20f9536bcbb60e" kindref="member">Ticks&lt;std::chrono::seconds&gt;</ref>(DEFAULT_MAX_TIP_AGE)),</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-printpriority&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Log<sp/>transaction<sp/>fee<sp/>rate<sp/>in<sp/>%s/kvB<sp/>when<sp/>mining<sp/>blocks<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/><ref refid="feerate_8h_1aea7f12c6759c81efa2b9c7154708a4ca" kindref="member">CURRENCY_UNIT</ref>,<sp/>DEFAULT_PRINT_MODIFIED_FEE),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-uacomment=&lt;cmt&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Append<sp/>comment<sp/>to<sp/>the<sp/>user<sp/>agent<sp/>string&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="chainparamsbase_8cpp_1a31acaa5990c6b65d5d112c16e02ced65" kindref="member">SetupChainParamsBaseOptions</ref>(argsman);</highlight></codeline>
<codeline lineno="657"><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-acceptnonstdtxn&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Relay<sp/>and<sp/>mine<sp/>\&quot;non-standard\&quot;<sp/>transactions<sp/>(test<sp/>networks<sp/>only;<sp/>default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_ACCEPT_NON_STD_TXN),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-incrementalrelayfee=&lt;amt&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Fee<sp/>rate<sp/>(in<sp/>%s/kvB)<sp/>used<sp/>to<sp/>define<sp/>cost<sp/>of<sp/>relay,<sp/>used<sp/>for<sp/>mempool<sp/>limiting<sp/>and<sp/>replacement<sp/>policy.<sp/>(default:<sp/>%s)&quot;</highlight><highlight class="normal">,<sp/><ref refid="feerate_8h_1aea7f12c6759c81efa2b9c7154708a4ca" kindref="member">CURRENCY_UNIT</ref>,<sp/><ref refid="moneystr_8cpp_1a1ef0729147807284909e10785955672b" kindref="member">FormatMoney</ref>(DEFAULT_INCREMENTAL_RELAY_FEE)),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-dustrelayfee=&lt;amt&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Fee<sp/>rate<sp/>(in<sp/>%s/kvB)<sp/>used<sp/>to<sp/>define<sp/>dust,<sp/>the<sp/>value<sp/>of<sp/>an<sp/>output<sp/>such<sp/>that<sp/>it<sp/>will<sp/>cost<sp/>more<sp/>than<sp/>its<sp/>value<sp/>in<sp/>fees<sp/>at<sp/>this<sp/>fee<sp/>rate<sp/>to<sp/>spend<sp/>it.<sp/>(default:<sp/>%s)&quot;</highlight><highlight class="normal">,<sp/><ref refid="feerate_8h_1aea7f12c6759c81efa2b9c7154708a4ca" kindref="member">CURRENCY_UNIT</ref>,<sp/><ref refid="moneystr_8cpp_1a1ef0729147807284909e10785955672b" kindref="member">FormatMoney</ref>(DUST_RELAY_TX_FEE)),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-acceptstalefeeestimates&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Read<sp/>fee<sp/>estimates<sp/>even<sp/>if<sp/>they<sp/>are<sp/>stale<sp/>(%sdefault:<sp/>%u)<sp/>fee<sp/>estimates<sp/>are<sp/>considered<sp/>stale<sp/>if<sp/>they<sp/>are<sp/>%s<sp/>hours<sp/>old&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;regtest<sp/>only;<sp/>&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_ACCEPT_STALE_FEE_ESTIMATES,<sp/><ref refid="util_2time_8h_1ac04088c2a91199afcf20f9536bcbb60e" kindref="member">Ticks&lt;std::chrono::hours&gt;</ref>(MAX_FILE_AGE)),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac3a3aaee2fcfbe8134fc0103c0e8a922" kindref="member">OptionsCategory::DEBUG_TEST</ref>);</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-bytespersigop&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Equivalent<sp/>bytes<sp/>per<sp/>sigop<sp/>in<sp/>transactions<sp/>for<sp/>relay<sp/>and<sp/>mining<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BYTES_PER_SIGOP),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-datacarrier&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Relay<sp/>and<sp/>mine<sp/>data<sp/>carrier<sp/>transactions<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_ACCEPT_DATACARRIER),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-datacarriersize&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Relay<sp/>and<sp/>mine<sp/>transactions<sp/>whose<sp/>data-carrying<sp/>raw<sp/>scriptPubKeys<sp/>in<sp/>aggregate<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;are<sp/>of<sp/>this<sp/>size<sp/>or<sp/>less,<sp/>allowing<sp/>multiple<sp/>outputs<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MAX_OP_RETURN_RELAY),</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-permitbaremultisig&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Relay<sp/>transactions<sp/>creating<sp/>non-P2SH<sp/>multisig<sp/>outputs<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PERMIT_BAREMULTISIG),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-minrelaytxfee=&lt;amt&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Fees<sp/>(in<sp/>%s/kvB)<sp/>smaller<sp/>than<sp/>this<sp/>are<sp/>considered<sp/>zero<sp/>fee<sp/>for<sp/>relaying,<sp/>mining<sp/>and<sp/>transaction<sp/>creation<sp/>(default:<sp/>%s)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="feerate_8h_1aea7f12c6759c81efa2b9c7154708a4ca" kindref="member">CURRENCY_UNIT</ref>,<sp/><ref refid="moneystr_8cpp_1a1ef0729147807284909e10785955672b" kindref="member">FormatMoney</ref>(DEFAULT_MIN_RELAY_TX_FEE)),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-whitelistforcerelay&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Add<sp/>&apos;forcerelay&apos;<sp/>permission<sp/>to<sp/>whitelisted<sp/>peers<sp/>with<sp/>default<sp/>permissions.<sp/>This<sp/>will<sp/>relay<sp/>transactions<sp/>even<sp/>if<sp/>the<sp/>transactions<sp/>were<sp/>already<sp/>in<sp/>the<sp/>mempool.<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/><ref refid="net__permissions_8h_1a3ee783f70414e73dd21c013fd22ef453" kindref="member">DEFAULT_WHITELISTFORCERELAY</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-whitelistrelay&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Add<sp/>&apos;relay&apos;<sp/>permission<sp/>to<sp/>whitelisted<sp/>peers<sp/>with<sp/>default<sp/>permissions.<sp/>This<sp/>will<sp/>accept<sp/>relayed<sp/>transactions<sp/>even<sp/>when<sp/>not<sp/>relaying<sp/>transactions<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/><ref refid="net__permissions_8h_1a4b925f78e1becf5a76af02b5853a2fb7" kindref="member">DEFAULT_WHITELISTRELAY</ref>),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6059cf38f7a4c366ccc159da234797d9" kindref="member">OptionsCategory::NODE_RELAY</ref>);</highlight></codeline>
<codeline lineno="675"><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blockmaxweight=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>maximum<sp/>BIP141<sp/>block<sp/>weight<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCK_MAX_WEIGHT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda9fb78486ea1b0af77fab07a32abf6896" kindref="member">OptionsCategory::BLOCK_CREATION</ref>);</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blockreservedweight=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Reserve<sp/>space<sp/>for<sp/>the<sp/>fixed-size<sp/>block<sp/>header<sp/>plus<sp/>the<sp/>largest<sp/>coinbase<sp/>transaction<sp/>the<sp/>mining<sp/>software<sp/>may<sp/>add<sp/>to<sp/>the<sp/>block.<sp/>(default:<sp/>%d).&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCK_RESERVED_WEIGHT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda9fb78486ea1b0af77fab07a32abf6896" kindref="member">OptionsCategory::BLOCK_CREATION</ref>);</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blockmintxfee=&lt;amt&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>lowest<sp/>fee<sp/>rate<sp/>(in<sp/>%s/kvB)<sp/>for<sp/>transactions<sp/>to<sp/>be<sp/>included<sp/>in<sp/>block<sp/>creation.<sp/>(default:<sp/>%s)&quot;</highlight><highlight class="normal">,<sp/><ref refid="feerate_8h_1aea7f12c6759c81efa2b9c7154708a4ca" kindref="member">CURRENCY_UNIT</ref>,<sp/><ref refid="moneystr_8cpp_1a1ef0729147807284909e10785955672b" kindref="member">FormatMoney</ref>(DEFAULT_BLOCK_MIN_TX_FEE)),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda9fb78486ea1b0af77fab07a32abf6896" kindref="member">OptionsCategory::BLOCK_CREATION</ref>);</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-blockversion=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Override<sp/>block<sp/>version<sp/>to<sp/>test<sp/>forking<sp/>scenarios&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda9fb78486ea1b0af77fab07a32abf6896" kindref="member">OptionsCategory::BLOCK_CREATION</ref>);</highlight></codeline>
<codeline lineno="681"><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rest&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Accept<sp/>public<sp/>REST<sp/>requests<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_REST_ENABLE),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcallowip=&lt;ip&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Allow<sp/>JSON-RPC<sp/>connections<sp/>from<sp/>specified<sp/>source.<sp/>Valid<sp/>values<sp/>for<sp/>&lt;ip&gt;<sp/>are<sp/>a<sp/>single<sp/>IP<sp/>(e.g.<sp/>1.2.3.4),<sp/>a<sp/>network/netmask<sp/>(e.g.<sp/>1.2.3.4/255.255.255.0),<sp/>a<sp/>network/CIDR<sp/>(e.g.<sp/>1.2.3.4/24),<sp/>all<sp/>ipv4<sp/>(0.0.0.0/0),<sp/>or<sp/>all<sp/>ipv6<sp/>(::/0).<sp/>RFC4193<sp/>is<sp/>allowed<sp/>only<sp/>if<sp/>-cjdnsreachable=0.<sp/>This<sp/>option<sp/>can<sp/>be<sp/>specified<sp/>multiple<sp/>times&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcauth=&lt;userpw&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Username<sp/>and<sp/>HMAC-SHA-256<sp/>hashed<sp/>password<sp/>for<sp/>JSON-RPC<sp/>connections.<sp/>The<sp/>field<sp/>&lt;userpw&gt;<sp/>comes<sp/>in<sp/>the<sp/>format:<sp/>&lt;USERNAME&gt;:&lt;SALT&gt;$&lt;HASH&gt;.<sp/>A<sp/>canonical<sp/>python<sp/>script<sp/>is<sp/>included<sp/>in<sp/>share/rpcauth.<sp/>The<sp/>client<sp/>then<sp/>connects<sp/>normally<sp/>using<sp/>the<sp/>rpcuser=&lt;USERNAME&gt;/rpcpassword=&lt;PASSWORD&gt;<sp/>pair<sp/>of<sp/>arguments.<sp/>This<sp/>option<sp/>can<sp/>be<sp/>specified<sp/>multiple<sp/>times&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a1a2d9a044f09c18201d73e0a97b6d93d" kindref="member">ArgsManager::SENSITIVE</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcbind=&lt;addr&gt;[:port]&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Bind<sp/>to<sp/>given<sp/>address<sp/>to<sp/>listen<sp/>for<sp/>JSON-RPC<sp/>connections.<sp/>Do<sp/>not<sp/>expose<sp/>the<sp/>RPC<sp/>server<sp/>to<sp/>untrusted<sp/>networks<sp/>such<sp/>as<sp/>the<sp/>public<sp/>internet!<sp/>This<sp/>option<sp/>is<sp/>ignored<sp/>unless<sp/>-rpcallowip<sp/>is<sp/>also<sp/>passed.<sp/>Port<sp/>is<sp/>optional<sp/>and<sp/>overrides<sp/>-rpcport.<sp/>Use<sp/>[host]:port<sp/>notation<sp/>for<sp/>IPv6.<sp/>This<sp/>option<sp/>can<sp/>be<sp/>specified<sp/>multiple<sp/>times<sp/>(default:<sp/>127.0.0.1<sp/>and<sp/>::1<sp/>i.e.,<sp/>localhost)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253acf8add6ec2eb702fc3078f9a2aea6423" kindref="member">ArgsManager::NETWORK_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcdoccheck&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Throw<sp/>a<sp/>non-fatal<sp/>error<sp/>at<sp/>runtime<sp/>if<sp/>the<sp/>documentation<sp/>for<sp/>an<sp/>RPC<sp/>is<sp/>incorrect<sp/>(default:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_RPC_DOC_CHECK),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpccookiefile=&lt;loc&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Location<sp/>of<sp/>the<sp/>auth<sp/>cookie.<sp/>Relative<sp/>paths<sp/>will<sp/>be<sp/>prefixed<sp/>by<sp/>a<sp/>net-specific<sp/>datadir<sp/>location.<sp/>(default:<sp/>data<sp/>dir)&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpccookieperms=&lt;readable-by&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>permissions<sp/>on<sp/>the<sp/>RPC<sp/>auth<sp/>cookie<sp/>file<sp/>so<sp/>that<sp/>it<sp/>is<sp/>readable<sp/>by<sp/>[owner|group|all]<sp/>(default:<sp/>owner<sp/>[via<sp/>umask<sp/>0077])&quot;</highlight><highlight class="normal">),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcpassword=&lt;pw&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Password<sp/>for<sp/>JSON-RPC<sp/>connections&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a1a2d9a044f09c18201d73e0a97b6d93d" kindref="member">ArgsManager::SENSITIVE</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcport=&lt;port&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Listen<sp/>for<sp/>JSON-RPC<sp/>connections<sp/>on<sp/>&lt;port&gt;<sp/>(default:<sp/>%u,<sp/>testnet3:<sp/>%u,<sp/>testnet4:<sp/>%u,<sp/>signet:<sp/>%u,<sp/>regtest:<sp/>%u)&quot;</highlight><highlight class="normal">,<sp/>defaultBaseParams-&gt;RPCPort(),<sp/>testnetBaseParams-&gt;RPCPort(),<sp/>testnet4BaseParams-&gt;RPCPort(),<sp/>signetBaseParams-&gt;RPCPort(),<sp/>regtestBaseParams-&gt;RPCPort()),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253acf8add6ec2eb702fc3078f9a2aea6423" kindref="member">ArgsManager::NETWORK_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcservertimeout=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Timeout<sp/>during<sp/>HTTP<sp/>requests<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_HTTP_SERVER_TIMEOUT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcthreads=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>the<sp/>number<sp/>of<sp/>threads<sp/>to<sp/>service<sp/>RPC<sp/>calls<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_HTTP_THREADS),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcuser=&lt;user&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Username<sp/>for<sp/>JSON-RPC<sp/>connections&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a1a2d9a044f09c18201d73e0a97b6d93d" kindref="member">ArgsManager::SENSITIVE</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcwhitelist=&lt;whitelist&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Set<sp/>a<sp/>whitelist<sp/>to<sp/>filter<sp/>incoming<sp/>RPC<sp/>calls<sp/>for<sp/>a<sp/>specific<sp/>user.<sp/>The<sp/>field<sp/>&lt;whitelist&gt;<sp/>comes<sp/>in<sp/>the<sp/>format:<sp/>&lt;USERNAME&gt;:&lt;rpc<sp/>1&gt;,&lt;rpc<sp/>2&gt;,...,&lt;rpc<sp/>n&gt;.<sp/>If<sp/>multiple<sp/>whitelists<sp/>are<sp/>set<sp/>for<sp/>a<sp/>given<sp/>user,<sp/>they<sp/>are<sp/>set-intersected.<sp/>See<sp/>-rpcwhitelistdefault<sp/>documentation<sp/>for<sp/>information<sp/>on<sp/>default<sp/>whitelist<sp/>behavior.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcwhitelistdefault&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Sets<sp/>default<sp/>behavior<sp/>for<sp/>rpc<sp/>whitelisting.<sp/>Unless<sp/>rpcwhitelistdefault<sp/>is<sp/>set<sp/>to<sp/>0,<sp/>if<sp/>any<sp/>-rpcwhitelist<sp/>is<sp/>set,<sp/>the<sp/>rpc<sp/>server<sp/>acts<sp/>as<sp/>if<sp/>all<sp/>rpc<sp/>users<sp/>are<sp/>subject<sp/>to<sp/>empty-unless-otherwise-specified<sp/>whitelists.<sp/>If<sp/>rpcwhitelistdefault<sp/>is<sp/>set<sp/>to<sp/>1<sp/>and<sp/>no<sp/>-rpcwhitelist<sp/>is<sp/>set,<sp/>rpc<sp/>server<sp/>acts<sp/>as<sp/>if<sp/>all<sp/>rpc<sp/>users<sp/>are<sp/>subject<sp/>to<sp/>empty<sp/>whitelists.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-rpcworkqueue=&lt;n&gt;&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Set<sp/>the<sp/>maximum<sp/>depth<sp/>of<sp/>the<sp/>work<sp/>queue<sp/>to<sp/>service<sp/>RPC<sp/>calls<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_HTTP_WORKQUEUE),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref><sp/>|<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a31e62203dc3a6c078434035bfd86bd41" kindref="member">ArgsManager::DEBUG_ONLY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-server&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Accept<sp/>command<sp/>line<sp/>and<sp/>JSON-RPC<sp/>commands&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda6defe438c8cba7575d04f8a4e24467ad" kindref="member">OptionsCategory::RPC</ref>);</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(can_listen_ipc)<sp/>{</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-ipcbind=&lt;address&gt;&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Bind<sp/>to<sp/>Unix<sp/>socket<sp/>address<sp/>and<sp/>listen<sp/>for<sp/>incoming<sp/>connections.<sp/>Valid<sp/>address<sp/>values<sp/>are<sp/>\&quot;unix\&quot;<sp/>to<sp/>listen<sp/>on<sp/>the<sp/>default<sp/>path,<sp/>&lt;datadir&gt;/node.sock,<sp/>or<sp/>\&quot;unix:/custom/path\&quot;<sp/>to<sp/>specify<sp/>a<sp/>custom<sp/>path.<sp/>Can<sp/>be<sp/>specified<sp/>multiple<sp/>times<sp/>to<sp/>listen<sp/>on<sp/>multiple<sp/>paths.<sp/>Default<sp/>behavior<sp/>is<sp/>not<sp/>to<sp/>listen<sp/>on<sp/>any<sp/>path.<sp/>If<sp/>relative<sp/>paths<sp/>are<sp/>specified,<sp/>they<sp/>are<sp/>interpreted<sp/>relative<sp/>to<sp/>the<sp/>network<sp/>data<sp/>directory.<sp/>If<sp/>paths<sp/>include<sp/>any<sp/>parent<sp/>directory<sp/>components<sp/>and<sp/>the<sp/>parent<sp/>directories<sp/>do<sp/>not<sp/>exist,<sp/>they<sp/>will<sp/>be<sp/>created.&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbdac8660c6d72e7323867ec800d6bb953df" kindref="member">OptionsCategory::IPC</ref>);</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="701"><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_DECL_FORK</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-daemon&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Run<sp/>in<sp/>the<sp/>background<sp/>as<sp/>a<sp/>daemon<sp/>and<sp/>accept<sp/>commands<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_DAEMON),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a4c015845828bce705544391648ffacb4" kindref="member">AddArg</ref>(</highlight><highlight class="stringliteral">&quot;-daemonwait&quot;</highlight><highlight class="normal">,<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Wait<sp/>for<sp/>initialization<sp/>to<sp/>be<sp/>finished<sp/>before<sp/>exiting.<sp/>This<sp/>implies<sp/>-daemon<sp/>(default:<sp/>%d)&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_DAEMONWAIT),<sp/><ref refid="class_args_manager_1af028c074e1f093469d6718205957c253a2fe643b0574c5348568c9d2feae82ec9" kindref="member">ArgsManager::ALLOW_ANY</ref>,<sp/><ref refid="args_8h_1a317721a7331c499cfe39b49b39c26cbda164dd62adb30ca051b5289672a572f9b" kindref="member">OptionsCategory::OPTIONS</ref>);</highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-daemon&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/>hidden_args.emplace_back(</highlight><highlight class="stringliteral">&quot;-daemonwait&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>the<sp/>hidden<sp/>options</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/>argsman.<ref refid="class_args_manager_1a0c10959e90893d86301d4e2059f1d0aa" kindref="member">AddHiddenArgs</ref>(hidden_args);</highlight></codeline>
<codeline lineno="712"><highlight class="normal">}</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_SYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>StartupNotify(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="716"><highlight class="normal">{</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="bitcoin-util_8cpp_1a5c94e7e06b4d8c5a4f77ac7b8019ec31" kindref="member">cmd</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-startupnotify&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="bitcoin-util_8cpp_1a5c94e7e06b4d8c5a4f77ac7b8019ec31" kindref="member">cmd</ref>.empty())<sp/>{</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::thread<sp/><ref refid="strencodings_8h_1a7a8fe8e8ebe30d3329bb57478f49ae2cae358efa489f58062f10dd7316b65649e" kindref="member">t</ref>(runCommand,<sp/><ref refid="bitcoin-util_8cpp_1a5c94e7e06b4d8c5a4f77ac7b8019ec31" kindref="member">cmd</ref>);</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="strencodings_8h_1a7a8fe8e8ebe30d3329bb57478f49ae2cae358efa489f58062f10dd7316b65649e" kindref="member">t</ref>.detach();<sp/></highlight><highlight class="comment">//<sp/>thread<sp/>runs<sp/>free</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="722"><highlight class="normal">}</highlight></codeline>
<codeline lineno="723"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>AppInitServers(<ref refid="structnode_1_1_node_context" kindref="compound">NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>)</highlight></codeline>
<codeline lineno="726"><highlight class="normal">{</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref><sp/>=<sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.args);</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="httpserver_8cpp_1aa5183260b12c1ce706dad5b454a44cec" kindref="member">InitHTTPServer</ref>(*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_signal)))<sp/>{</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="server_8cpp_1a34113cf005742899fdeff322f00e0a94" kindref="member">StartRPC</ref>();</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.rpc_interruption_point<sp/>=<sp/><ref refid="server_8cpp_1afeeef3a15dd2f63626ae35766cec97b3" kindref="member">RpcInterruptionPoint</ref>;</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="httprpc_8cpp_1a7a66db5c484adc366756130b55893f01" kindref="member">StartHTTPRPC</ref>(&amp;<ref refid="namespacenode" kindref="compound">node</ref>))</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-rest&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_REST_ENABLE))<sp/><ref refid="httprpc_8h_1a5dbd9c0ad05ffbd52b3780aa6d1316a1" kindref="member">StartREST</ref>(&amp;<ref refid="namespacenode" kindref="compound">node</ref>);</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="httpserver_8cpp_1a4fd74612426e28d4678557f401066d96" kindref="member">StartHTTPServer</ref>();</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="738"><highlight class="normal">}</highlight></codeline>
<codeline lineno="739"><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Parameter<sp/>interaction<sp/>based<sp/>on<sp/>rules</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1ab222cb064a4abc9505e066efd0657272" kindref="member">InitParameterInteraction</ref>(<ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="742"><highlight class="normal">{</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>specifying<sp/>an<sp/>explicit<sp/>binding<sp/>address,<sp/>you<sp/>want<sp/>to<sp/>listen<sp/>on<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>even<sp/>when<sp/>-connect<sp/>or<sp/>-proxy<sp/>is<sp/>specified</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-bind&quot;</highlight><highlight class="normal">).empty())<sp/>{</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-bind<sp/>set<sp/>-&gt;<sp/>setting<sp/>-listen=1\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-whitebind&quot;</highlight><highlight class="normal">).empty())<sp/>{</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-whitebind<sp/>set<sp/>-&gt;<sp/>setting<sp/>-listen=1\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="753"><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-connect&quot;</highlight><highlight class="normal">).empty()<sp/>||<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgNegated(</highlight><highlight class="stringliteral">&quot;-connect&quot;</highlight><highlight class="normal">)<sp/>||<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-maxconnections&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAX_PEER_CONNECTIONS)<sp/>&lt;=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>only<sp/>connecting<sp/>to<sp/>trusted<sp/>nodes,<sp/>do<sp/>not<sp/>seed<sp/>via<sp/>DNS,<sp/>or<sp/>listen<sp/>by<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>the<sp/>same<sp/>when<sp/>connections<sp/>are<sp/>disabled</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-dnsseed&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-connect<sp/>or<sp/>-maxconnections=0<sp/>set<sp/>-&gt;<sp/>setting<sp/>-dnsseed=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-connect<sp/>or<sp/>-maxconnections=0<sp/>set<sp/>-&gt;<sp/>setting<sp/>-listen=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="762"><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>proxy_arg<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-proxy&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(proxy_arg<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>proxy_arg<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;0&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>protect<sp/>privacy,<sp/>do<sp/>not<sp/>listen<sp/>by<sp/>default<sp/>if<sp/>a<sp/>default<sp/>proxy<sp/>server<sp/>is<sp/>specified</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-proxy<sp/>set<sp/>-&gt;<sp/>setting<sp/>-listen=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>protect<sp/>privacy,<sp/>do<sp/>not<sp/>map<sp/>ports<sp/>when<sp/>a<sp/>proxy<sp/>is<sp/>set.<sp/>The<sp/>user<sp/>may<sp/>still<sp/>specify<sp/>-listen=1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>listen<sp/>locally,<sp/>so<sp/>don&apos;t<sp/>rely<sp/>on<sp/>this<sp/>happening<sp/>through<sp/>-listen<sp/>below.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-natpmp&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-proxy<sp/>set<sp/>-&gt;<sp/>setting<sp/>-natpmp=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>protect<sp/>privacy,<sp/>do<sp/>not<sp/>discover<sp/>addresses<sp/>by<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-discover&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-proxy<sp/>set<sp/>-&gt;<sp/>setting<sp/>-discover=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="777"><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN))<sp/>{</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>not<sp/>map<sp/>ports<sp/>or<sp/>try<sp/>to<sp/>retrieve<sp/>public<sp/>IP<sp/>when<sp/>not<sp/>listening<sp/>(pointless)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-natpmp&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-listen=0<sp/>-&gt;<sp/>setting<sp/>-natpmp=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-discover&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-listen=0<sp/>-&gt;<sp/>setting<sp/>-discover=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-listenonion&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-listen=0<sp/>-&gt;<sp/>setting<sp/>-listenonion=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-i2pacceptincoming&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-listen=0<sp/>-&gt;<sp/>setting<sp/>-i2pacceptincoming=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="791"><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-externalip&quot;</highlight><highlight class="normal">).empty())<sp/>{</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>an<sp/>explicit<sp/>public<sp/>IP<sp/>is<sp/>specified,<sp/>do<sp/>not<sp/>try<sp/>to<sp/>find<sp/>others</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-discover&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-externalip<sp/>set<sp/>-&gt;<sp/>setting<sp/>-discover=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-blocksonly&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCKSONLY))<sp/>{</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>disable<sp/>whitelistrelay<sp/>in<sp/>blocksonly<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-whitelistrelay&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-blocksonly=1<sp/>-&gt;<sp/>setting<sp/>-whitelistrelay=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Reduce<sp/>default<sp/>mempool<sp/>size<sp/>in<sp/>blocksonly<sp/>mode<sp/>to<sp/>avoid<sp/>unexpected<sp/>resource<sp/>usage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetArg(</highlight><highlight class="stringliteral">&quot;-maxmempool&quot;</highlight><highlight class="normal">,<sp/><ref refid="bitcoin-cli_8cpp_1aec2c30b1707eac00ff7e4fb5b3f7a92d" kindref="member">ToString</ref>(DEFAULT_BLOCKSONLY_MAX_MEMPOOL_SIZE_MB)))</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-blocksonly=1<sp/>-&gt;<sp/>setting<sp/>-maxmempool=%d\n&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCKSONLY_MAX_MEMPOOL_SIZE_MB);</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="806"><highlight class="normal"></highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Forcing<sp/>relay<sp/>from<sp/>whitelisted<sp/>hosts<sp/>implies<sp/>we<sp/>will<sp/>accept<sp/>relays<sp/>from<sp/>them<sp/>in<sp/>the<sp/>first<sp/>place.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-whitelistforcerelay&quot;</highlight><highlight class="normal">,<sp/><ref refid="net__permissions_8h_1a3ee783f70414e73dd21c013fd22ef453" kindref="member">DEFAULT_WHITELISTFORCERELAY</ref>))<sp/>{</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-whitelistrelay&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-whitelistforcerelay=1<sp/>-&gt;<sp/>setting<sp/>-whitelistrelay=1\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>onlynets<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-onlynet&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!onlynets.empty())<sp/>{</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>clearnet_reachable<sp/>=<sp/>std::any_of(onlynets.begin(),<sp/>onlynets.end(),<sp/>[](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>net)<sp/>{</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>const<sp/>auto<sp/>n<sp/>=<sp/>ParseNetwork(net);</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>n<sp/>==<sp/>NET_IPV4<sp/>||<sp/>n<sp/>==<sp/>NET_IPV6;</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!clearnet_reachable<sp/>&amp;&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.SoftSetBoolArg(</highlight><highlight class="stringliteral">&quot;-dnsseed&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;parameter<sp/>interaction:<sp/>-onlynet<sp/>excludes<sp/>IPv4<sp/>and<sp/>IPv6<sp/>-&gt;<sp/>setting<sp/>-dnsseed=0\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="822"><highlight class="normal">}</highlight></codeline>
<codeline lineno="823"><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1a286ce90239b47c7b17eb9cfeba0a73e0" kindref="member">InitLogging</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="831"><highlight class="normal">{</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceinit_1a482e5f145d9d094455873b2c9743364b" kindref="member">init::SetLoggingOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>);</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceinit_1a074bf02478f8dac7851d6cad440d1618" kindref="member">init::LogPackageVersion</ref>();</highlight></codeline>
<codeline lineno="834"><highlight class="normal">}</highlight></codeline>
<codeline lineno="835"><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="comment">//<sp/>Variables<sp/>internal<sp/>to<sp/>initialization<sp/>process<sp/>only</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nMaxConnections;</highlight></codeline>
<codeline lineno="839"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>available_fds;</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537" kindref="member">ServiceFlags</ref><sp/>g_local_services<sp/>=<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537" kindref="member">ServiceFlags</ref>(<ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537a8294ff7e8ff77692c2fb330df0a3c372" kindref="member">NODE_NETWORK_LIMITED</ref><sp/>|<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537a749f25f8cdb0125f7a479627b4944696" kindref="member">NODE_WITNESS</ref>);</highlight></codeline>
<codeline lineno="841"><highlight class="normal">int64_t<sp/>peer_connect_timeout;</highlight></codeline>
<codeline lineno="842"><highlight class="normal">std::set&lt;BlockFilterType&gt;<sp/>g_enabled_filter_types;</highlight></codeline>
<codeline lineno="843"><highlight class="normal"></highlight></codeline>
<codeline lineno="844"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="845"><highlight class="normal"></highlight></codeline>
<codeline lineno="846"><highlight class="normal">[[noreturn]]<sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>new_handler_terminate()</highlight></codeline>
<codeline lineno="847"><highlight class="normal">{</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Rather<sp/>than<sp/>throwing<sp/>std::bad-alloc<sp/>if<sp/>allocation<sp/>fails,<sp/>terminate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>immediately<sp/>to<sp/>(try<sp/>to)<sp/>avoid<sp/>chain<sp/>corruption.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Since<sp/>logging<sp/>may<sp/>itself<sp/>allocate<sp/>memory,<sp/>set<sp/>the<sp/>handler<sp/>directly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>terminate<sp/>first.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/>std::set_new_handler(std::terminate);</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Out<sp/>of<sp/>memory.<sp/>Terminating.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>log<sp/>was<sp/>successful,<sp/>terminate<sp/>now.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/>std::terminate();</highlight></codeline>
<codeline lineno="857"><highlight class="normal">};</highlight></codeline>
<codeline lineno="858"><highlight class="normal"></highlight></codeline>
<codeline lineno="859"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1a5b5f1ab392c850a66f0d7204518dbabd" kindref="member">AppInitBasicSetup</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>std::atomic&lt;int&gt;&amp;<sp/><ref refid="bitcoin-wallet_8cpp_1a114f54577326074dd16381e5be8df76a" kindref="member">exit_status</ref>)</highlight></codeline>
<codeline lineno="860"><highlight class="normal">{</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>1:<sp/>setup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Turn<sp/>off<sp/>Microsoft<sp/>heap<sp/>dump<sp/>noise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/>_CrtSetReportMode(_CRT_WARN,<sp/>_CRTDBG_MODE_FILE);</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/>_CrtSetReportFile(_CRT_WARN,<sp/>CreateFileA(</highlight><highlight class="stringliteral">&quot;NUL&quot;</highlight><highlight class="normal">,<sp/>GENERIC_WRITE,<sp/>0,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/>OPEN_EXISTING,<sp/>0,<sp/>0));</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Disable<sp/>confusing<sp/>&quot;helpful&quot;<sp/>text<sp/>message<sp/>on<sp/>abort,<sp/>Ctrl-C</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/>_set_abort_behavior(0,<sp/>_WRITE_ABORT_MSG<sp/>|<sp/>_CALL_REPORTFAULT);</highlight></codeline>
<codeline lineno="868"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="869"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WIN32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Enable<sp/>heap<sp/>terminate-on-corruption</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/>HeapSetInformation(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/>HeapEnableTerminationOnCorruption,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/>0);</highlight></codeline>
<codeline lineno="872"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="common_2system_8cpp_1a66791919e137c59061e988d2d87ee9a1" kindref="member">SetupNetworking</ref>())<sp/>{</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>networking<sp/>failed.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="876"><highlight class="normal"></highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>WIN32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Clean<sp/>shutdown<sp/>on<sp/>SIGTERM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/>registerSignalHandler(SIGTERM,<sp/>HandleSIGTERM);</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/>registerSignalHandler(SIGINT,<sp/>HandleSIGTERM);</highlight></codeline>
<codeline lineno="881"><highlight class="normal"></highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Reopen<sp/>debug.log<sp/>on<sp/>SIGHUP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/>registerSignalHandler(SIGHUP,<sp/>HandleSIGHUP);</highlight></codeline>
<codeline lineno="884"><highlight class="normal"></highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ignore<sp/>SIGPIPE,<sp/>otherwise<sp/>it<sp/>will<sp/>bring<sp/>the<sp/>daemon<sp/>down<sp/>if<sp/>the<sp/>client<sp/>closes<sp/>unexpectedly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/>signal(SIGPIPE,<sp/>SIG_IGN);</highlight></codeline>
<codeline lineno="887"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/>SetConsoleCtrlHandler(consoleCtrlHandler,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="889"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="890"><highlight class="normal"></highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/>std::set_new_handler(new_handler_terminate);</highlight></codeline>
<codeline lineno="892"><highlight class="normal"></highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="894"><highlight class="normal">}</highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1aaa92337b42c631fb6b24a979685bf615" kindref="member">AppInitParameterInteraction</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="897"><highlight class="normal">{</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>&amp;<sp/>chainparams<sp/>=<sp/><ref refid="chainparams_8cpp_1ad82533eea3b187c1ac5b7c54d8c6f121" kindref="member">Params</ref>();</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>2:<sp/>parameter<sp/>interactions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="900"><highlight class="normal"></highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>also<sp/>see:<sp/>InitParameterInteraction()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="902"><highlight class="normal"></highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>removed<sp/>checkpoints<sp/>but<sp/>keep<sp/>the<sp/>option<sp/>to<sp/>warn<sp/>users<sp/>who<sp/>still<sp/>have<sp/>it<sp/>in<sp/>their<sp/>config.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-checkpoints&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Option<sp/>&apos;-checkpoints&apos;<sp/>is<sp/>set<sp/>but<sp/>checkpoints<sp/>were<sp/>removed.<sp/>This<sp/>option<sp/>has<sp/>no<sp/>effect.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-limitancestorsize&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Option<sp/>&apos;-limitancestorsize&apos;<sp/>is<sp/>given<sp/>but<sp/>ancestor<sp/>size<sp/>limits<sp/>have<sp/>been<sp/>replaced<sp/>with<sp/>cluster<sp/>size<sp/>limits<sp/>(see<sp/>-limitclustersize).<sp/>This<sp/>option<sp/>has<sp/>no<sp/>effect.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-limitdescendantsize&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Option<sp/>&apos;-limitdescendantsize&apos;<sp/>is<sp/>given<sp/>but<sp/>descendant<sp/>size<sp/>limits<sp/>have<sp/>been<sp/>replaced<sp/>with<sp/>cluster<sp/>size<sp/>limits<sp/>(see<sp/>-limitclustersize).<sp/>This<sp/>option<sp/>has<sp/>no<sp/>effect.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="913"><highlight class="normal"></highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Error<sp/>if<sp/>network-specific<sp/>options<sp/>(-addnode,<sp/>-connect,<sp/>etc)<sp/>are</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>specified<sp/>in<sp/>default<sp/>section<sp/>of<sp/>config<sp/>file,<sp/>but<sp/>not<sp/>overridden</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>on<sp/>the<sp/>command<sp/>line<sp/>or<sp/>in<sp/>this<sp/>chain&apos;s<sp/>section<sp/>of<sp/>the<sp/>config<sp/>file.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7" kindref="member">ChainType</ref><sp/>chain<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetChainType();</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chain<sp/>==<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7a14a0e9505f79e61b424e967035766720" kindref="member">ChainType::SIGNET</ref>)<sp/>{</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Signet<sp/>derived<sp/>magic<sp/>(message<sp/>start):<sp/>%s&quot;</highlight><highlight class="normal">,<sp/><ref refid="hex__base_8cpp_1ac2c88b156e9e245fa3d0a66105ecd371" kindref="member">HexStr</ref>(chainparams.<ref refid="class_c_chain_params_1a9e20d3bce808ed051e558e9661c6075b" kindref="member">MessageStart</ref>()));</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref><sp/>errors;</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>arg<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetUnsuitableSectionOnlyArgs())<sp/>{</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>errors<sp/>+=<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Config<sp/>setting<sp/>for<sp/>%s<sp/>only<sp/>applied<sp/>on<sp/>%s<sp/>network<sp/>when<sp/>in<sp/>[%s]<sp/>section.&quot;</highlight><highlight class="normal">),<sp/>arg,<sp/><ref refid="chaintype_8cpp_1ad09df4a0d8b96703e52f801f505e7a0e" kindref="member">ChainTypeToString</ref>(chain),<sp/><ref refid="chaintype_8cpp_1ad09df4a0d8b96703e52f801f505e7a0e" kindref="member">ChainTypeToString</ref>(chain))<sp/>+<sp/><ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="925"><highlight class="normal"></highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!errors.<ref refid="structbilingual__str_1a644718bb2fb240de962dc3c9a1fdf0dc" kindref="member">empty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(errors);</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="929"><highlight class="normal"></highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Testnet3<sp/>deprecation<sp/>warning</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chain<sp/>==<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ace8400aeb0c47ce5cd8e37a3a54e557b" kindref="member">ChainType::TESTNET</ref>)<sp/>{</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Warning:<sp/>Support<sp/>for<sp/>testnet3<sp/>is<sp/>deprecated<sp/>and<sp/>will<sp/>be<sp/>removed<sp/>in<sp/>an<sp/>upcoming<sp/>release.<sp/>Consider<sp/>switching<sp/>to<sp/>testnet4.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="934"><highlight class="normal"></highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Warn<sp/>if<sp/>unrecognized<sp/>section<sp/>name<sp/>are<sp/>present<sp/>in<sp/>the<sp/>config<sp/>file.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref><sp/>warnings;</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>section<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetUnrecognizedSections())<sp/>{</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings<sp/>+=<sp/><ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;%s:%i<sp/>&quot;</highlight><highlight class="normal">,<sp/>section.m_file,<sp/>section.m_line))<sp/>+<sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Section<sp/>[%s]<sp/>is<sp/>not<sp/>recognized.&quot;</highlight><highlight class="normal">),<sp/>section.m_name)<sp/>+<sp/><ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!warnings.<ref refid="structbilingual__str_1a644718bb2fb240de962dc3c9a1fdf0dc" kindref="member">empty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(warnings);</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="944"><highlight class="normal"></highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fs::is_directory(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath()))<sp/>{</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Specified<sp/>blocks<sp/>directory<sp/>\&quot;%s\&quot;<sp/>does<sp/>not<sp/>exist.&quot;</highlight><highlight class="normal">),<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-blocksdir&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="948"><highlight class="normal"></highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>and<sp/>validate<sp/>enabled<sp/>filter<sp/>types</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>blockfilterindex_value<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-blockfilterindex&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCKFILTERINDEX);</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blockfilterindex_value<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/>||<sp/>blockfilterindex_value<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;1&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_enabled_filter_types<sp/>=<sp/><ref refid="blockfilter_8cpp_1a83cf5dae87a02a9ec9770949cb6b8e1f" kindref="member">AllBlockFilterTypes</ref>();</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blockfilterindex_value<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;0&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;std::string&gt;<sp/>names<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-blockfilterindex&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/><ref refid="rest_8cpp_1a8f8f80d37794cde9472343e4487ba3eb" kindref="member">name</ref><sp/>:<sp/>names)<sp/>{</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="blockfilter_8h_1a530bf73ca0d532a142641644a1605250" kindref="member">BlockFilterType</ref><sp/>filter_type;</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="blockfilter_8cpp_1a8f7cf2edfa40a230112826d01620276d" kindref="member">BlockFilterTypeByName</ref>(<ref refid="rest_8cpp_1a8f8f80d37794cde9472343e4487ba3eb" kindref="member">name</ref>,<sp/>filter_type))<sp/>{</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Unknown<sp/>-blockfilterindex<sp/>value<sp/>%s.&quot;</highlight><highlight class="normal">),<sp/><ref refid="rest_8cpp_1a8f8f80d37794cde9472343e4487ba3eb" kindref="member">name</ref>));</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_enabled_filter_types.insert(filter_type);</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="963"><highlight class="normal"></highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Signal<sp/>NODE_P2P_V2<sp/>if<sp/>BIP324<sp/>v2<sp/>transport<sp/>is<sp/>enabled.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-v2transport&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_V2_TRANSPORT))<sp/>{</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_local_services<sp/>=<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537" kindref="member">ServiceFlags</ref>(g_local_services<sp/>|<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537a6cec5ba21c2e7665e42eca13ea37dd75" kindref="member">NODE_P2P_V2</ref>);</highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="968"><highlight class="normal"></highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Signal<sp/>NODE_COMPACT_FILTERS<sp/>if<sp/>peerblockfilters<sp/>and<sp/>basic<sp/>filters<sp/>index<sp/>are<sp/>both<sp/>enabled.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-peerblockfilters&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PEERBLOCKFILTERS))<sp/>{</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!g_enabled_filter_types.contains(<ref refid="blockfilter_8h_1a530bf73ca0d532a142641644a1605250ae4ac03f6c9f00665644e868dd1fb9f1e" kindref="member">BlockFilterType::BASIC</ref>))<sp/>{</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>set<sp/>-peerblockfilters<sp/>without<sp/>-blockfilterindex.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="974"><highlight class="normal"></highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_local_services<sp/>=<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537" kindref="member">ServiceFlags</ref>(g_local_services<sp/>|<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537ad279240d0624d58813461a7790873e46" kindref="member">NODE_COMPACT_FILTERS</ref>);</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="977"><highlight class="normal"></highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-prune&quot;</highlight><highlight class="normal">,<sp/>0))<sp/>{</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-txindex&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_TXINDEX))</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Prune<sp/>mode<sp/>is<sp/>incompatible<sp/>with<sp/>-txindex.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-reindex-chainstate&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Prune<sp/>mode<sp/>is<sp/>incompatible<sp/>with<sp/>-reindex-chainstate.<sp/>Use<sp/>full<sp/>-reindex<sp/>instead.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="985"><highlight class="normal"></highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>-forcednsseed<sp/>is<sp/>set<sp/>to<sp/>true,<sp/>ensure<sp/>-dnsseed<sp/>has<sp/>not<sp/>been<sp/>set<sp/>to<sp/>false</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-forcednsseed&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_FORCEDNSSEED)<sp/>&amp;&amp;<sp/>!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-dnsseed&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_DNSSEED)){</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>set<sp/>-forcednsseed<sp/>to<sp/>true<sp/>when<sp/>setting<sp/>-dnsseed<sp/>to<sp/>false.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="990"><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-bind<sp/>and<sp/>-whitebind<sp/>can&apos;t<sp/>be<sp/>set<sp/>when<sp/>not<sp/>listening</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nUserBind<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-bind&quot;</highlight><highlight class="normal">).size()<sp/>+<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-whitebind&quot;</highlight><highlight class="normal">).size();</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nUserBind<sp/>!=<sp/>0<sp/>&amp;&amp;<sp/>!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN))<sp/>{</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>set<sp/>-bind<sp/>or<sp/>-whitebind<sp/>together<sp/>with<sp/>-listen=0&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="996"><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>listen=0,<sp/>then<sp/>disallow<sp/>listenonion=1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN)<sp/>&amp;&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-listenonion&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN_ONION))<sp/>{</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>set<sp/>-listen=0<sp/>together<sp/>with<sp/>-listenonion=1&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"></highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Make<sp/>sure<sp/>enough<sp/>file<sp/>descriptors<sp/>are<sp/>available.<sp/>We<sp/>need<sp/>to<sp/>reserve<sp/>enough<sp/>FDs<sp/>to<sp/>account<sp/>for<sp/>the<sp/>bare<sp/>minimum,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>plus<sp/>all<sp/>manual<sp/>connections<sp/>and<sp/>all<sp/>bound<sp/>interfaces.<sp/>Any<sp/>remainder<sp/>will<sp/>be<sp/>available<sp/>for<sp/>connection<sp/>sockets</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1004"><highlight class="normal"></highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Number<sp/>of<sp/>bound<sp/>interfaces<sp/>(we<sp/>have<sp/>at<sp/>least<sp/>one)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nBind<sp/>=<sp/>std::max(nUserBind,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">(1));</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Maximum<sp/>number<sp/>of<sp/>connections<sp/>with<sp/>other<sp/>nodes,<sp/>this<sp/>accounts<sp/>for<sp/>all<sp/>types<sp/>of<sp/>outbounds<sp/>and<sp/>inbounds<sp/>except<sp/>for<sp/>manual</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>user_max_connection<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-maxconnections&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAX_PEER_CONNECTIONS);</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(user_max_connection<sp/>&lt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;-maxconnections<sp/>must<sp/>be<sp/>greater<sp/>or<sp/>equal<sp/>than<sp/>zero&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Reserve<sp/>enough<sp/>FDs<sp/>to<sp/>account<sp/>for<sp/>the<sp/>bare<sp/>minimum,<sp/>plus<sp/>any<sp/>manual<sp/>connections,<sp/>plus<sp/>the<sp/>bound<sp/>interfaces</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>min_required_fds<sp/>=<sp/>MIN_CORE_FDS<sp/>+<sp/>MAX_ADDNODE_CONNECTIONS<sp/>+<sp/>nBind;</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"></highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Try<sp/>raising<sp/>the<sp/>FD<sp/>limit<sp/>to<sp/>what<sp/>we<sp/>need<sp/>(available_fds<sp/>may<sp/>be<sp/>smaller<sp/>than<sp/>the<sp/>requested<sp/>amount<sp/>if<sp/>this<sp/>fails)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/>available_fds<sp/>=<sp/><ref refid="fs__helpers_8cpp_1a756a5c49a4bb607d16d9842f8f3ede4f" kindref="member">RaiseFileDescriptorLimit</ref>(user_max_connection<sp/>+<sp/>min_required_fds);</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>we<sp/>are<sp/>using<sp/>select<sp/>instead<sp/>of<sp/>poll,<sp/>our<sp/>actual<sp/>limit<sp/>may<sp/>be<sp/>even<sp/>smaller</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1018"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>USE_POLL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/>available_fds<sp/>=<sp/>std::min(FD_SETSIZE,<sp/>available_fds);</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(available_fds<sp/>&lt;<sp/>min_required_fds)</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Not<sp/>enough<sp/>file<sp/>descriptors<sp/>available.<sp/>%d<sp/>available,<sp/>%d<sp/>required.&quot;</highlight><highlight class="normal">),<sp/>available_fds,<sp/>min_required_fds));</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Trim<sp/>requested<sp/>connection<sp/>counts,<sp/>to<sp/>fit<sp/>into<sp/>system<sp/>limitations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/>nMaxConnections<sp/>=<sp/>std::min(available_fds<sp/>-<sp/>min_required_fds,<sp/>user_max_connection);</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"></highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nMaxConnections<sp/>&lt;<sp/>user_max_connection)</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Reducing<sp/>-maxconnections<sp/>from<sp/>%d<sp/>to<sp/>%d,<sp/>because<sp/>of<sp/>system<sp/>limitations.&quot;</highlight><highlight class="normal">),<sp/>user_max_connection,<sp/>nMaxConnections));</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"></highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>3:<sp/>parameter-to-internal-flags</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result{<ref refid="namespaceinit_1a891b87548db2e3ead1a26238cab06a13" kindref="member">init::SetLoggingCategories</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)};<sp/>!result)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="namespaceutil_1adbcebd9741ba34de94c8384025e54825" kindref="member">util::ErrorString</ref>(result));</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result{<ref refid="namespaceinit_1a18a0e5b332874516847798f2364c556b" kindref="member">init::SetLoggingLevel</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)};<sp/>!result)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="namespaceutil_1adbcebd9741ba34de94c8384025e54825" kindref="member">util::ErrorString</ref>(result));</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"></highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1ac8115c6e2874217f2e487b5391cbe963" kindref="member">nConnectTimeout</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-timeout&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_CONNECT_TIMEOUT);</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="netbase_8cpp_1ac8115c6e2874217f2e487b5391cbe963" kindref="member">nConnectTimeout</ref><sp/>&lt;=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1ac8115c6e2874217f2e487b5391cbe963" kindref="member">nConnectTimeout</ref><sp/>=<sp/>DEFAULT_CONNECT_TIMEOUT;</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"></highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/>peer_connect_timeout<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-peertimeout&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PEER_CONNECT_TIMEOUT);</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(peer_connect_timeout<sp/>&lt;=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;peertimeout<sp/>must<sp/>be<sp/>a<sp/>positive<sp/>integer.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"></highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>arg{<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-blockmintxfee&quot;</highlight><highlight class="normal">)})<sp/>{</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="moneystr_8cpp_1a16727cd03d1cb77057b87ff703908256" kindref="member">ParseMoney</ref>(*arg))<sp/>{</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="init_8cpp_1a5bfdbde590f74817cddf14212b156d19" kindref="member">AmountErrMsg</ref>(</highlight><highlight class="stringliteral">&quot;blockmintxfee&quot;</highlight><highlight class="normal">,<sp/>*arg));</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"></highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>max_block_weight<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-blockmaxweight&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCK_MAX_WEIGHT);</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(max_block_weight<sp/>&gt;<sp/>MAX_BLOCK_WEIGHT)<sp/>{</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Specified<sp/>-blockmaxweight<sp/>(%d)<sp/>exceeds<sp/>consensus<sp/>maximum<sp/>block<sp/>weight<sp/>(%d)&quot;</highlight><highlight class="normal">),<sp/>max_block_weight,<sp/>MAX_BLOCK_WEIGHT));</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>block_reserved_weight<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-blockreservedweight&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_BLOCK_RESERVED_WEIGHT);</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(block_reserved_weight<sp/>&gt;<sp/>MAX_BLOCK_WEIGHT)<sp/>{</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Specified<sp/>-blockreservedweight<sp/>(%d)<sp/>exceeds<sp/>consensus<sp/>maximum<sp/>block<sp/>weight<sp/>(%d)&quot;</highlight><highlight class="normal">),<sp/>block_reserved_weight,<sp/>MAX_BLOCK_WEIGHT));</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(block_reserved_weight<sp/>&lt;<sp/>MINIMUM_BLOCK_RESERVED_WEIGHT)<sp/>{</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Specified<sp/>-blockreservedweight<sp/>(%d)<sp/>is<sp/>lower<sp/>than<sp/>minimum<sp/>safety<sp/>value<sp/>of<sp/>(%d)&quot;</highlight><highlight class="normal">),<sp/>block_reserved_weight,<sp/>MINIMUM_BLOCK_RESERVED_WEIGHT));</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"></highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="policy_2settings_8cpp_1ad8af4b01d966b18d48d8c21858cd7ffb" kindref="member">nBytesPerSigOp</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-bytespersigop&quot;</highlight><highlight class="normal">,<sp/><ref refid="policy_2settings_8cpp_1ad8af4b01d966b18d48d8c21858cd7ffb" kindref="member">nBytesPerSigOp</ref>);</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"></highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="dummywallet_8cpp_1ae7426cfaef29389c022117e0842f8aba" kindref="member">g_wallet_init_interface</ref>.ParameterInteraction())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"></highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Option<sp/>to<sp/>startup<sp/>with<sp/>mocktime<sp/>set<sp/>(used<sp/>for<sp/>regression<sp/>testing):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>mocktime{<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-mocktime&quot;</highlight><highlight class="normal">)})<sp/>{</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="util_2time_8cpp_1a79d4c36b511d6690ab0bbde0e0da9251" kindref="member">SetMockTime</ref>(std::chrono::seconds{*mocktime});</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"></highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-peerbloomfilters&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PEERBLOOMFILTERS))</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_local_services<sp/>=<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537" kindref="member">ServiceFlags</ref>(g_local_services<sp/>|<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537a9ca74e44e29a412c070750bdbf2380bb" kindref="member">NODE_BLOOM</ref>);</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"></highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;std::string&gt;<sp/>test_options<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-test&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!test_options.empty())<sp/>{</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chainparams.<ref refid="class_c_chain_params_1a004ce6bc50b4989ce4571e3b83821213" kindref="member">GetChainType</ref>()<sp/>!=<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ad10d9759c6b71ea71a78e3a55bafc4d5" kindref="member">ChainType::REGTEST</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;-test=&lt;option&gt;<sp/>can<sp/>only<sp/>be<sp/>used<sp/>with<sp/>regtest&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>option<sp/>:<sp/>test_options)<sp/>{</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/>std::find_if(<ref refid="args_8cpp_1a0407a17456b8daea6c8ccdd632342a5f" kindref="member">TEST_OPTIONS_DOC</ref>.begin(),<sp/><ref refid="args_8cpp_1a0407a17456b8daea6c8ccdd632342a5f" kindref="member">TEST_OPTIONS_DOC</ref>.end(),<sp/>[&amp;option](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>doc_option)<sp/>{</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size_t<sp/>pos<sp/>=<sp/>doc_option.find(</highlight><highlight class="stringliteral">&quot;<sp/>(&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>(pos<sp/>!=<sp/>std::string::npos)<sp/>&amp;&amp;<sp/>(doc_option.substr(0,<sp/>pos)<sp/>==<sp/>option);</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>==<sp/><ref refid="args_8cpp_1a0407a17456b8daea6c8ccdd632342a5f" kindref="member">TEST_OPTIONS_DOC</ref>.end())<sp/>{</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Unrecognised<sp/>option<sp/>\&quot;%s\&quot;<sp/>provided<sp/>in<sp/>-test=&lt;option&gt;.&quot;</highlight><highlight class="normal">),<sp/>option));</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"></highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Also<sp/>report<sp/>errors<sp/>from<sp/>parsing<sp/>before<sp/>daemonization</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classkernel_1_1_notifications" kindref="compound">kernel::Notifications</ref><sp/>notifications{};</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" kindref="member">ChainstateManager::Options</ref><sp/>chainman_opts_dummy{</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.chainparams<sp/>=<sp/>chainparams,</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.datadir<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet(),</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.notifications<sp/>=<sp/>notifications,</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>chainman_result{<ref refid="init_8cpp_1a6426f2baab5b795996c215224a46506b" kindref="member">ApplyArgsManOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>chainman_opts_dummy)};</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!chainman_result)<sp/>{</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="namespaceutil_1adbcebd9741ba34de94c8384025e54825" kindref="member">util::ErrorString</ref>(chainman_result));</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_block_manager_1a9d388cded97cd9f86c06358bb29abfad" kindref="member">BlockManager::Options</ref><sp/>blockman_opts_dummy{</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.chainparams<sp/>=<sp/>chainman_opts_dummy.<ref refid="structkernel_1_1_chainstate_manager_opts_1a43262b52910142a96a937d29de048196" kindref="member">chainparams</ref>,</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.blocks_dir<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath(),</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.notifications<sp/>=<sp/>chainman_opts_dummy.<ref refid="structkernel_1_1_chainstate_manager_opts_1a06cd080bf3e13297dab40d5c5b1bee77" kindref="member">notifications</ref>,</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.block_tree_db_params<sp/>=<sp/><ref refid="struct_d_b_params" kindref="compound">DBParams</ref>{</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.path<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet()<sp/>/<sp/></highlight><highlight class="stringliteral">&quot;blocks&quot;</highlight><highlight class="normal"><sp/>/<sp/></highlight><highlight class="stringliteral">&quot;index&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.cache_bytes<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>blockman_result{<ref refid="init_8cpp_1a6426f2baab5b795996c215224a46506b" kindref="member">ApplyArgsManOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>blockman_opts_dummy)};</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!blockman_result)<sp/>{</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="namespaceutil_1adbcebd9741ba34de94c8384025e54825" kindref="member">util::ErrorString</ref>(blockman_result));</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_tx_mem_pool_1a181c4ec7f3c173e8ab60665e6cc5f400" kindref="member">CTxMemPool::Options</ref><sp/>mempool_opts{};</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>mempool_result{<ref refid="init_8cpp_1a6426f2baab5b795996c215224a46506b" kindref="member">ApplyArgsManOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>chainparams,<sp/>mempool_opts)};</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!mempool_result)<sp/>{</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="namespaceutil_1adbcebd9741ba34de94c8384025e54825" kindref="member">util::ErrorString</ref>(mempool_result));</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"></highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1128"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"></highlight></codeline>
<codeline lineno="1130"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>LockDirectory(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>fs::path&amp;<sp/>dir,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>probeOnly)</highlight></codeline>
<codeline lineno="1131"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Make<sp/>sure<sp/>only<sp/>a<sp/>single<sp/>process<sp/>is<sp/>using<sp/>the<sp/>directory.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="namespaceutil_1a4e0b24c45776b5599a02005ef0a189dd" kindref="member">util::LockDirectory</ref>(dir,<sp/></highlight><highlight class="stringliteral">&quot;.lock&quot;</highlight><highlight class="normal">,<sp/>probeOnly))<sp/>{</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespaceutil_1a3520a91e926bf45bc7230610c2e893f3a05f9fd8b78a01625a2df427c3413488d" kindref="member">util::LockResult::ErrorWrite</ref>:</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>write<sp/>to<sp/>directory<sp/>&apos;%s&apos;;<sp/>check<sp/>permissions.&quot;</highlight><highlight class="normal">),<sp/>fs::PathToString(dir)));</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespaceutil_1a3520a91e926bf45bc7230610c2e893f3a6dc3e93d1a7110731aaec2df1cfc93b8" kindref="member">util::LockResult::ErrorLock</ref>:</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>obtain<sp/>a<sp/>lock<sp/>on<sp/>directory<sp/>%s.<sp/>%s<sp/>is<sp/>probably<sp/>already<sp/>running.&quot;</highlight><highlight class="normal">),<sp/>fs::PathToString(dir),<sp/>CLIENT_NAME));</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespaceutil_1a3520a91e926bf45bc7230610c2e893f3a505a83f220c02df2f85c3810cd9ceb38" kindref="member">util::LockResult::Success</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>no<sp/>default<sp/>case,<sp/>so<sp/>the<sp/>compiler<sp/>can<sp/>warn<sp/>about<sp/>missing<sp/>cases</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1141"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>LockDirectories(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>probeOnly)</highlight></codeline>
<codeline lineno="1143"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>LockDirectory(<ref refid="args_8cpp_1a934b7735a5308149ab1bf3ca9fc4d694" kindref="member">gArgs</ref>.GetDataDirNet(),<sp/>probeOnly)<sp/>&amp;&amp;<sp/>\</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LockDirectory(<ref refid="args_8cpp_1a934b7735a5308149ab1bf3ca9fc4d694" kindref="member">gArgs</ref>.GetBlocksDirPath(),<sp/>probeOnly);</highlight></codeline>
<codeline lineno="1146"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"></highlight></codeline>
<codeline lineno="1148"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1afa8d4773e646f79107c4601cc4ead2c7" kindref="member">AppInitSanityChecks</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structkernel_1_1_context" kindref="compound">kernel::Context</ref>&amp;<sp/><ref refid="namespacekernel" kindref="compound">kernel</ref>)</highlight></codeline>
<codeline lineno="1149"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>4:<sp/>sanity<sp/>checks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result{<ref refid="namespacekernel_1aba3bff775c6eab71ce3029cc36d594f0" kindref="member">kernel::SanityChecks</ref>(<ref refid="namespacekernel" kindref="compound">kernel</ref>)};</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!result)<sp/>{</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="namespaceutil_1adbcebd9741ba34de94c8384025e54825" kindref="member">util::ErrorString</ref>(result));</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Initialization<sp/>sanity<sp/>check<sp/>failed.<sp/>%s<sp/>is<sp/>shutting<sp/>down.&quot;</highlight><highlight class="normal">),<sp/>CLIENT_NAME));</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"></highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="key_8cpp_1adc8d142f5bcd2ca6646462fb45a7945d" kindref="member">ECC_InitSanityCheck</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Elliptic<sp/>curve<sp/>cryptography<sp/>sanity<sp/>check<sp/>failure.<sp/>%s<sp/>is<sp/>shutting<sp/>down.&quot;</highlight><highlight class="normal">),<sp/>CLIENT_NAME));</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"></highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Probe<sp/>the<sp/>directory<sp/>locks<sp/>to<sp/>give<sp/>an<sp/>early<sp/>error<sp/>message,<sp/>if<sp/>possible</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>cannot<sp/>hold<sp/>the<sp/>directory<sp/>locks<sp/>here,<sp/>as<sp/>the<sp/>forking<sp/>for<sp/>daemon()<sp/>hasn&apos;t<sp/>yet<sp/>happened,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>a<sp/>fork<sp/>will<sp/>cause<sp/>weird<sp/>behavior<sp/>to<sp/>them.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>LockDirectories(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1165"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"></highlight></codeline>
<codeline lineno="1167"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1ad7a0678a36062fdda97ef2c38a58ea51" kindref="member">AppInitLockDirectories</ref>()</highlight></codeline>
<codeline lineno="1168"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>After<sp/>daemonization<sp/>get<sp/>the<sp/>directory<sp/>locks<sp/>again<sp/>and<sp/>hold<sp/>on<sp/>to<sp/>them<sp/>until<sp/>exit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>creates<sp/>a<sp/>slight<sp/>window<sp/>for<sp/>a<sp/>race<sp/>condition<sp/>to<sp/>happen,<sp/>however<sp/>this<sp/>condition<sp/>is<sp/>harmless:<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>will<sp/>at<sp/>most<sp/>make<sp/>us<sp/>exit<sp/>without<sp/>printing<sp/>a<sp/>message<sp/>to<sp/>console.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!LockDirectories(</highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Detailed<sp/>error<sp/>printed<sp/>inside<sp/>LockDirectory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1177"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"></highlight></codeline>
<codeline lineno="1179"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1aaca7ea0edc2edfc74365965f9db39293" kindref="member">AppInitInterfaces</ref>(<ref refid="structnode_1_1_node_context" kindref="compound">NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>)</highlight></codeline>
<codeline lineno="1180"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.chain<sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.init-&gt;makeChain();</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.mining<sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.init-&gt;makeMining();</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1184"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"></highlight></codeline>
<codeline lineno="1186"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1a69962e54b4f086a0f85762e4fb950282" kindref="member">CheckHostPortOptions</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>port_option<sp/>:<sp/>{</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-port&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-rpcport&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/>})<sp/>{</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>port{<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(port_option)})<sp/>{</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>n{<ref refid="strencodings_8h_1acbe33538863b94521b0092988981198f" kindref="member">ToIntegral&lt;uint16_t&gt;</ref>(*port)};</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!n<sp/>||<sp/>*n<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="init_8cpp_1aeb737684e2a2da0e1190fed1229d7990" kindref="member">InvalidPortErrMsg</ref>(port_option,<sp/>*port));</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"></highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>([[maybe_unused]]<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>[param_name,<sp/>unix,<sp/>suffix_allowed]<sp/>:<sp/>std::vector&lt;std::tuple&lt;std::string,<sp/>bool,<sp/>bool&gt;&gt;{</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>arg<sp/>name<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UNIX<sp/>socket<sp/>support<sp/><sp/>=suffix<sp/>allowed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-i2psam&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-onion&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-proxy&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-bind&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-rpcbind&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-torcontrol&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-whitebind&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-zmqpubhashblock&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-zmqpubhashtx&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-zmqpubrawblock&quot;</highlight><highlight class="normal">,<sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-zmqpubrawtx&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&quot;-zmqpubsequence&quot;</highlight><highlight class="normal">,<sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/>})<sp/>{</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>param_value<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(param_name))<sp/>{</highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>param_value_hostport{</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>suffix_allowed<sp/>?<sp/>param_value.substr(0,<sp/>param_value.rfind(</highlight><highlight class="charliteral">&apos;=&apos;</highlight><highlight class="normal">))<sp/>:<sp/>param_value};</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/>host_out;</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/>port_out{0};</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="util_2strencodings_8cpp_1ad3dd865469a228a338af78c000859b4f" kindref="member">SplitHostPort</ref>(param_value_hostport,<sp/>port_out,<sp/>host_out))<sp/>{</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_SOCKADDR_UN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Allow<sp/>unix<sp/>domain<sp/>sockets<sp/>for<sp/>some<sp/>options<sp/>e.g.<sp/>unix:/some/file/path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!unix<sp/>||<sp/>!param_value.starts_with(<ref refid="netbase_8h_1a7f8f9e6b9970456b8d2553c104188857" kindref="member">ADDR_PREFIX_UNIX</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="init_8cpp_1aeb737684e2a2da0e1190fed1229d7990" kindref="member">InvalidPortErrMsg</ref>(param_name,<sp/>param_value));</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="init_8cpp_1aeb737684e2a2da0e1190fed1229d7990" kindref="member">InvalidPortErrMsg</ref>(param_name,<sp/>param_value));</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"></highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1233"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"></highlight></codeline>
<codeline lineno="1241"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>std::optional&lt;CService&gt;<sp/>CheckBindingConflicts(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_c_connman_1_1_options" kindref="compound">CConnman::Options</ref>&amp;<sp/>conn_options)</highlight></codeline>
<codeline lineno="1242"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/>std::set&lt;CService&gt;<sp/>seen;</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"></highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>all<sp/>whitelisted<sp/>bindings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>wb<sp/>:<sp/>conn_options.<ref refid="struct_c_connman_1_1_options_1aa3c541ccb17160d34c7b3ce802550216" kindref="member">vWhiteBinds</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!seen.insert(wb.m_service).second)<sp/>{</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>wb.m_service;</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"></highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>regular<sp/>bindings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>bind<sp/>:<sp/>conn_options.<ref refid="struct_c_connman_1_1_options_1af1cd6f9809e44adf5e1ba7814ae2584e" kindref="member">vBinds</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!seen.insert(bind).second)<sp/>{</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>bind;</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"></highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>onion<sp/>bindings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>onion_bind<sp/>:<sp/>conn_options.<ref refid="struct_c_connman_1_1_options_1ad87c70e97f21812c347578824e42e5f7" kindref="member">onion_binds</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!seen.insert(onion_bind).second)<sp/>{</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>onion_bind;</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"></highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::nullopt;</highlight></codeline>
<codeline lineno="1267"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"></highlight></codeline>
<codeline lineno="1269"><highlight class="normal"></highlight><highlight class="comment">//<sp/>A<sp/>GUI<sp/>user<sp/>may<sp/>opt<sp/>to<sp/>retry<sp/>once<sp/>with<sp/>do_reindex<sp/>set<sp/>if<sp/>there<sp/>is<sp/>a<sp/>failure<sp/>during<sp/>chainstate<sp/>initialization.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1270"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>function<sp/>therefore<sp/>has<sp/>to<sp/>support<sp/>re-entry.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1271"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="namespacenode_1a32a0f7eb760387e8c7bb445014017062" kindref="member">ChainstateLoadResult</ref><sp/>InitAndLoadChainstate(</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structnode_1_1_node_context" kindref="compound">NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>,</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>do_reindex,</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>do_reindex_chainstate,</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structkernel_1_1_cache_sizes" kindref="compound">kernel::CacheSizes</ref>&amp;<sp/>cache_sizes,</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)</highlight></codeline>
<codeline lineno="1277"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>may<sp/>be<sp/>called<sp/>twice,<sp/>so<sp/>any<sp/>dirty<sp/>state<sp/>must<sp/>be<sp/>reset.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.notifications.reset();<sp/></highlight><highlight class="comment">//<sp/>Drop<sp/>state,<sp/>such<sp/>as<sp/>a<sp/>cached<sp/>tip<sp/>block</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.mempool.reset();</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.chainman.reset();<sp/></highlight><highlight class="comment">//<sp/>Drop<sp/>state,<sp/>such<sp/>as<sp/>an<sp/>initialized<sp/>m_block_tree_db</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1282"><highlight class="normal"></highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>&amp;<sp/>chainparams<sp/>=<sp/><ref refid="chainparams_8cpp_1ad82533eea3b187c1ac5b7c54d8c6f121" kindref="member">Params</ref>();</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"></highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.notifications);<sp/></highlight><highlight class="comment">//<sp/>Was<sp/>reset<sp/>above</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.notifications<sp/>=<sp/>std::make_unique&lt;KernelNotifications&gt;(<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_request),<sp/><ref refid="namespacenode" kindref="compound">node</ref>.exit_status,<sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.warnings));</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode_1acd82a235461d5587ce350b06c7fa3011" kindref="member">ReadNotificationArgs</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.notifications);</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"></highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_tx_mem_pool_1a181c4ec7f3c173e8ab60665e6cc5f400" kindref="member">CTxMemPool::Options</ref><sp/>mempool_opts{</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.check_ratio<sp/>=<sp/>chainparams.<ref refid="class_c_chain_params_1a4c3ac2dce01856f30acdb8b256859821" kindref="member">DefaultConsistencyChecks</ref>()<sp/>?<sp/>1<sp/>:<sp/>0,</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.signals<sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals.get(),</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="init_8cpp_1a6426f2baab5b795996c215224a46506b" kindref="member">ApplyArgsManOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>chainparams,<sp/>mempool_opts));<sp/></highlight><highlight class="comment">//<sp/>no<sp/>error<sp/>can<sp/>happen,<sp/>already<sp/>checked<sp/>in<sp/>AppInitParameterInteraction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref><sp/>mempool_error;</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.mempool);<sp/></highlight><highlight class="comment">//<sp/>Was<sp/>reset<sp/>above</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.mempool<sp/>=<sp/>std::make_unique&lt;CTxMemPool&gt;(mempool_opts,<sp/>mempool_error);</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!mempool_error.<ref refid="structbilingual__str_1a644718bb2fb240de962dc3c9a1fdf0dc" kindref="member">empty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{ChainstateLoadStatus::FAILURE_FATAL,<sp/>mempool_error};</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;*<sp/>Using<sp/>%.1f<sp/>MiB<sp/>for<sp/>in-memory<sp/>UTXO<sp/>set<sp/>(plus<sp/>up<sp/>to<sp/>%.1f<sp/>MiB<sp/>of<sp/>unused<sp/>mempool<sp/>space)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache_sizes.<ref refid="structkernel_1_1_cache_sizes_1ad8b0b63f28b6180a73704a1db812caa9" kindref="member">coins</ref><sp/>*<sp/>(1.0<sp/>/<sp/>1024<sp/>/<sp/>1024),</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mempool_opts.<ref refid="structkernel_1_1_mem_pool_options_1a873de13325b4ed85469853ac7e4d1887" kindref="member">max_size_bytes</ref><sp/>*<sp/>(1.0<sp/>/<sp/>1024<sp/>/<sp/>1024));</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate_manager_1a66bc0ee7102eaf1cbd62d3a9d7087e52" kindref="member">ChainstateManager::Options</ref><sp/>chainman_opts{</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.chainparams<sp/>=<sp/>chainparams,</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.datadir<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet(),</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.notifications<sp/>=<sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.notifications,</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.signals<sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals.get(),</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="init_8cpp_1a6426f2baab5b795996c215224a46506b" kindref="member">ApplyArgsManOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>chainman_opts));<sp/></highlight><highlight class="comment">//<sp/>no<sp/>error<sp/>can<sp/>happen,<sp/>already<sp/>checked<sp/>in<sp/>AppInitParameterInteraction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1310"><highlight class="normal"></highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_block_manager_1a9d388cded97cd9f86c06358bb29abfad" kindref="member">BlockManager::Options</ref><sp/>blockman_opts{</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.chainparams<sp/>=<sp/>chainman_opts.<ref refid="structkernel_1_1_chainstate_manager_opts_1a43262b52910142a96a937d29de048196" kindref="member">chainparams</ref>,</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.blocks_dir<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath(),</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.notifications<sp/>=<sp/>chainman_opts.<ref refid="structkernel_1_1_chainstate_manager_opts_1a06cd080bf3e13297dab40d5c5b1bee77" kindref="member">notifications</ref>,</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.block_tree_db_params<sp/>=<sp/><ref refid="struct_d_b_params" kindref="compound">DBParams</ref>{</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.path<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet()<sp/>/<sp/></highlight><highlight class="stringliteral">&quot;blocks&quot;</highlight><highlight class="normal"><sp/>/<sp/></highlight><highlight class="stringliteral">&quot;index&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.cache_bytes<sp/>=<sp/>cache_sizes.<ref refid="structkernel_1_1_cache_sizes_1a8d7db1bbe82defd1ccec9a96026600d0" kindref="member">block_tree_db</ref>,</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.wipe_data<sp/>=<sp/>do_reindex,</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="init_8cpp_1a6426f2baab5b795996c215224a46506b" kindref="member">ApplyArgsManOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>blockman_opts));<sp/></highlight><highlight class="comment">//<sp/>no<sp/>error<sp/>can<sp/>happen,<sp/>already<sp/>checked<sp/>in<sp/>AppInitParameterInteraction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1322"><highlight class="normal"></highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Creating<sp/>the<sp/>chainstate<sp/>manager<sp/>internally<sp/>creates<sp/>a<sp/>BlockManager,<sp/>opens</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>blocks<sp/>tree<sp/>db,<sp/>and<sp/>wipes<sp/>existing<sp/>block<sp/>files<sp/>in<sp/>case<sp/>of<sp/>a<sp/>reindex.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>coinsdb<sp/>is<sp/>opened<sp/>at<sp/>a<sp/>later<sp/>point<sp/>on<sp/>LoadChainstate.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.chainman);<sp/></highlight><highlight class="comment">//<sp/>Was<sp/>reset<sp/>above</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.chainman<sp/>=<sp/>std::make_unique&lt;ChainstateManager&gt;(*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_signal),<sp/>chainman_opts,<sp/>blockman_opts);</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(<ref refid="classdbwrapper__error" kindref="compound">dbwrapper_error</ref>&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;%s&quot;</highlight><highlight class="normal">,<sp/>e.what());</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{ChainstateLoadStatus::FAILURE,<sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Error<sp/>opening<sp/>block<sp/>database&quot;</highlight><highlight class="normal">)};</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(std::exception&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{ChainstateLoadStatus::FAILURE_FATAL,<sp/><ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>initialize<sp/>ChainstateManager:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>e.what()))};</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref>&amp;<sp/>chainman<sp/>=<sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.chainman;</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chainman.<ref refid="class_chainstate_manager_1a2163d8ef789c585b196a3ec7f468244b" kindref="member">m_interrupt</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{ChainstateLoadStatus::INTERRUPTED,<sp/>{}};</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"></highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>defined<sp/>and<sp/>set<sp/>here<sp/>instead<sp/>of<sp/>inline<sp/>in<sp/>validation.h<sp/>to<sp/>avoid<sp/>a<sp/>hard</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>dependency<sp/>between<sp/>validation<sp/>and<sp/>index/base,<sp/>since<sp/>the<sp/>latter<sp/>is<sp/>not<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>libbitcoinkernel.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/>chainman.<ref refid="class_chainstate_manager_1a36ac8c09fb965b0d78d5f12d1cac9f95" kindref="member">snapshot_download_completed</ref><sp/>=<sp/>[&amp;<ref refid="namespacenode" kindref="compound">node</ref>]()<sp/>{</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespacenode" kindref="compound">node</ref>.chainman-&gt;m_blockman.IsPruneMode())<sp/>{</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;[snapshot]<sp/>re-enabling<sp/>NODE_NETWORK<sp/>services&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.connman-&gt;AddLocalServices(<ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537a9d1154f0e7e56f183a5c8373abe2e86c" kindref="member">NODE_NETWORK</ref>);</highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;[snapshot]<sp/>restarting<sp/>indexes&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Drain<sp/>the<sp/>validation<sp/>interface<sp/>queue<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>old<sp/>indexes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>don&apos;t<sp/>have<sp/>any<sp/>pending<sp/>work.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.validation_signals)-&gt;SyncWithValidationInterfaceQueue();</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">*<sp/>index<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes)<sp/>{</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index-&gt;Interrupt();</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index-&gt;Stop();</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(index-&gt;Init()<sp/>&amp;&amp;<sp/>index-&gt;StartBackgroundSync()))<sp/>{</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a2c6c3e9c356e14fb4a7139acf4fa7b18" kindref="member">LogWarning</ref>(</highlight><highlight class="stringliteral">&quot;[snapshot]<sp/>Failed<sp/>to<sp/>restart<sp/>index<sp/>%s<sp/>on<sp/>snapshot<sp/>chain&quot;</highlight><highlight class="normal">,<sp/>index-&gt;GetName());</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structnode_1_1_chainstate_load_options" kindref="compound">node::ChainstateLoadOptions</ref><sp/>options;</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/>options.<ref refid="structnode_1_1_chainstate_load_options_1a39d64a372059dcf1bb18e26bb37f7117" kindref="member">mempool</ref><sp/>=<sp/><ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.mempool.get());</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/>options.<ref refid="structnode_1_1_chainstate_load_options_1ab10866a9769aa93f7838d70a63ca2c79" kindref="member">wipe_chainstate_db</ref><sp/>=<sp/>do_reindex<sp/>||<sp/>do_reindex_chainstate;</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/>options.<ref refid="structnode_1_1_chainstate_load_options_1a76df432e30c57f273f192c6f468be1fc" kindref="member">prune</ref><sp/>=<sp/>chainman.<ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.<ref refid="classnode_1_1_block_manager_1ad03fd92fad95bb7f82ef78cc467cb12b" kindref="member">IsPruneMode</ref>();</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/>options.<ref refid="structnode_1_1_chainstate_load_options_1a4889f44f41ca933e59799c3bef940279" kindref="member">check_blocks</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-checkblocks&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_CHECKBLOCKS);</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/>options.<ref refid="structnode_1_1_chainstate_load_options_1a5a66a14bdbbedb3c2bcfbc2a62acf826" kindref="member">check_level</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-checklevel&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_CHECKLEVEL);</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/>options.<ref refid="structnode_1_1_chainstate_load_options_1aba8ede24dc1eabb25435b41fcd70a105" kindref="member">require_full_verification</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-checkblocks&quot;</highlight><highlight class="normal">)<sp/>||<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-checklevel&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/>options.<ref refid="structnode_1_1_chainstate_load_options_1a8ee6fb5cc8a617bfbab102119ca4b997" kindref="member">coins_error_cb</ref><sp/>=<sp/>[]<sp/>{</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.ThreadSafeMessageBox(</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Error<sp/>reading<sp/>from<sp/>database,<sp/>shutting<sp/>down.&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_client_u_i_interface_1ab18f2de7469825b7c2fb98cae515ebb8a28aec242413d6eab32c014fd1cecc4f0" kindref="member">CClientUIInterface::MSG_ERROR</ref>);</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.InitMessage(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>block<sp/>index&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>catch_exceptions<sp/>=<sp/>[](</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;&amp;<sp/>f)<sp/>-&gt;<sp/><ref refid="namespacenode_1a32a0f7eb760387e8c7bb445014017062" kindref="member">ChainstateLoadResult</ref><sp/>{</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f();</highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::exception&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;%s\n&quot;</highlight><highlight class="normal">,<sp/>e.what());</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::make_tuple(<ref refid="namespacenode_1a779805e7cdbdeb11f4034a67cffd8cc9a36fc6065a3e970bc3e6b2e59da52bf2a" kindref="member">node::ChainstateLoadStatus::FAILURE</ref>,<sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Error<sp/>loading<sp/>databases&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>[status,<sp/>error]<sp/>=<sp/>catch_exceptions([&amp;]<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1a2d650cf978844ae65f6667c85fc53ede" kindref="member">LoadChainstate</ref>(chainman,<sp/>cache_sizes,<sp/>options);<sp/>});</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/><ref refid="namespacenode_1a779805e7cdbdeb11f4034a67cffd8cc9ad0749aaba8b833466dfcbb0428e4f89c" kindref="member">node::ChainstateLoadStatus::SUCCESS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.InitMessage(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Verifying<sp/>blocks&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chainman.<ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.<ref refid="classnode_1_1_block_manager_1abd422059799bb41da624c4b8c4878381" kindref="member">m_have_pruned</ref><sp/>&amp;&amp;<sp/>options.<ref refid="structnode_1_1_chainstate_load_options_1a4889f44f41ca933e59799c3bef940279" kindref="member">check_blocks</ref><sp/>&gt;<sp/>MIN_BLOCKS_TO_KEEP)<sp/>{</highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a2c6c3e9c356e14fb4a7139acf4fa7b18" kindref="member">LogWarning</ref>(</highlight><highlight class="stringliteral">&quot;pruned<sp/>datadir<sp/>may<sp/>not<sp/>have<sp/>more<sp/>than<sp/>%d<sp/>blocks;<sp/>only<sp/>checking<sp/>available<sp/>blocks\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MIN_BLOCKS_TO_KEEP);</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::tie(status,<sp/>error)<sp/>=<sp/>catch_exceptions([&amp;]<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1aa25a7902215e7a3de72f3b19a4372167" kindref="member">VerifyLoadedChainstate</ref>(chainman,<sp/>options);<sp/>});</highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/><ref refid="namespacenode_1a779805e7cdbdeb11f4034a67cffd8cc9ad0749aaba8b833466dfcbb0428e4f89c" kindref="member">node::ChainstateLoadStatus::SUCCESS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Block<sp/>index<sp/>and<sp/>chainstate<sp/>loaded&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{status,<sp/>error};</highlight></codeline>
<codeline lineno="1392"><highlight class="normal">};</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"></highlight></codeline>
<codeline lineno="1394"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1ad2bfca84e560eb87fbfbe9c20f893374" kindref="member">AppInitMain</ref>(<ref refid="structnode_1_1_node_context" kindref="compound">NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>,<sp/><ref refid="structinterfaces_1_1_block_and_header_tip_info" kindref="compound">interfaces::BlockAndHeaderTipInfo</ref>*<sp/>tip_info)</highlight></codeline>
<codeline lineno="1395"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_args_manager" kindref="compound">ArgsManager</ref>&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref><sp/>=<sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.args);</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_chain_params" kindref="compound">CChainParams</ref>&amp;<sp/>chainparams<sp/>=<sp/><ref refid="chainparams_8cpp_1ad82533eea3b187c1ac5b7c54d8c6f121" kindref="member">Params</ref>();</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"></highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>opt_max_upload<sp/>=<sp/><ref refid="util_2strencodings_8cpp_1ae89e79da81174d0900ca12cc82d04e04" kindref="member">ParseByteUnits</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-maxuploadtarget&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAX_UPLOAD_TARGET),<sp/><ref refid="strencodings_8h_1a7a8fe8e8ebe30d3329bb57478f49ae2ca69691c7bdcc3ce6d5d8a1361f22d04ac" kindref="member">ByteUnit::M</ref>);</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!opt_max_upload)<sp/>{</highlight></codeline>
<codeline lineno="1401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>parse<sp/>-maxuploadtarget:<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal">),<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-maxuploadtarget&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"></highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>4a:<sp/>application<sp/>initialization</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!CreatePidFile(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Detailed<sp/>error<sp/>printed<sp/>inside<sp/>CreatePidFile().</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespaceinit_1a309a57bd0d682481d9b3d281be164360" kindref="member">init::StartLogging</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Detailed<sp/>error<sp/>printed<sp/>inside<sp/>StartLogging().</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"></highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Using<sp/>at<sp/>most<sp/>%i<sp/>automatic<sp/>connections<sp/>(%i<sp/>file<sp/>descriptors<sp/>available)&quot;</highlight><highlight class="normal">,<sp/>nMaxConnections,<sp/>available_fds);</highlight></codeline>
<codeline lineno="1415"><highlight class="normal"></highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Warn<sp/>about<sp/>relative<sp/>-datadir<sp/>path.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-datadir&quot;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetPathArg(</highlight><highlight class="stringliteral">&quot;-datadir&quot;</highlight><highlight class="normal">).is_absolute())<sp/>{</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a2c6c3e9c356e14fb4a7139acf4fa7b18" kindref="member">LogWarning</ref>(</highlight><highlight class="stringliteral">&quot;Relative<sp/>datadir<sp/>option<sp/>&apos;%s&apos;<sp/>specified,<sp/>which<sp/>will<sp/>be<sp/>interpreted<sp/>relative<sp/>to<sp/>the<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;current<sp/>working<sp/>directory<sp/>&apos;%s&apos;.<sp/>This<sp/>is<sp/>fragile,<sp/>because<sp/>if<sp/>bitcoin<sp/>is<sp/>started<sp/>in<sp/>the<sp/>future<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;from<sp/>a<sp/>different<sp/>location,<sp/>it<sp/>will<sp/>be<sp/>unable<sp/>to<sp/>locate<sp/>the<sp/>current<sp/>data<sp/>files.<sp/>There<sp/>could<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;also<sp/>be<sp/>data<sp/>loss<sp/>if<sp/>bitcoin<sp/>is<sp/>started<sp/>while<sp/>in<sp/>a<sp/>temporary<sp/>directory.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-datadir&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),<sp/>fs::PathToString(fs::current_path()));</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"></highlight></codeline>
<codeline lineno="1425"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.scheduler);</highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.scheduler<sp/>=<sp/>std::make_unique&lt;CScheduler&gt;();</highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>scheduler<sp/>=<sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.scheduler;</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"></highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Start<sp/>the<sp/>lightweight<sp/>task<sp/>scheduler<sp/>thread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1430"><highlight class="normal"><sp/><sp/><sp/><sp/>scheduler.m_service_thread<sp/>=<sp/>std::thread(<ref refid="namespaceutil_1ad983ac5f9865491ceb166699d95b0599" kindref="member">util::TraceThread</ref>,<sp/></highlight><highlight class="stringliteral">&quot;scheduler&quot;</highlight><highlight class="normal">,<sp/>[&amp;]<sp/>{<sp/>scheduler.serviceQueue();<sp/>});</highlight></codeline>
<codeline lineno="1431"><highlight class="normal"></highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Gather<sp/>some<sp/>entropy<sp/>once<sp/>per<sp/>minute.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1433"><highlight class="normal"><sp/><sp/><sp/><sp/>scheduler.scheduleEvery([]{</highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="random_8cpp_1a315ac9735459c7f7ba575faa0810d03e" kindref="member">RandAddPeriodic</ref>();</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/><sp/><sp/>},<sp/>std::chrono::minutes{1});</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"></highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>disk<sp/>space<sp/>every<sp/>5<sp/>minutes<sp/>to<sp/>avoid<sp/>db<sp/>corruption.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1438"><highlight class="normal"><sp/><sp/><sp/><sp/>scheduler.scheduleEvery([&amp;<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>&amp;<ref refid="namespacenode" kindref="compound">node</ref>]{</highlight></codeline>
<codeline lineno="1439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/>uint64_t<sp/>min_disk_space<sp/>=<sp/>50<sp/>&lt;&lt;<sp/>20;<sp/></highlight><highlight class="comment">//<sp/>50<sp/>MB</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="fs__helpers_8cpp_1aafef764388e19a399584b65ef3d97b99" kindref="member">CheckDiskSpace</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath(),<sp/>min_disk_space))<sp/>{</highlight></codeline>
<codeline lineno="1441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Shutting<sp/>down<sp/>due<sp/>to<sp/>lack<sp/>of<sp/>disk<sp/>space!\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_request))())<sp/>{</highlight></codeline>
<codeline lineno="1443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>send<sp/>shutdown<sp/>signal<sp/>after<sp/>disk<sp/>space<sp/>check\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/><sp/>},<sp/>std::chrono::minutes{5});</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"></highlight></codeline>
<codeline lineno="1448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-logratelimit&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespace_b_c_log_1a104e0d5fdae72b846722fbe4a347ba22" kindref="member">BCLog::DEFAULT_LOGRATELIMIT</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8cpp_1a7ef55b61ba6d5bb4d828041cc1cd0f39" kindref="member">LogInstance</ref>().<ref refid="class_b_c_log_1_1_logger_1ac26935db437bbc05be74cee57eac9b50" kindref="member">SetRateLimiting</ref>(<ref refid="class_b_c_log_1_1_log_rate_limiter_1a55fcaa8e1e77f26828e4a5bb3f38dad9" kindref="member">BCLog::LogRateLimiter::Create</ref>(</highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&amp;scheduler](</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>func,<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>window)<sp/>{<sp/>scheduler.scheduleEvery(std::move(func),<sp/>window);<sp/>},</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_b_c_log_1a2dcabaa85c5c6c0ef551f99821599352" kindref="member">BCLog::RATELIMIT_MAX_BYTES</ref>,</highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_b_c_log_1aa94ed76bc311b59df9cdc3659d96ec0c" kindref="member">BCLog::RATELIMIT_WINDOW</ref>));</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Log<sp/>rate<sp/>limiting<sp/>disabled&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"></highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.validation_signals);</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.validation_signals<sp/>=<sp/>std::make_unique&lt;ValidationSignals&gt;(std::make_unique&lt;SerialTaskRunner&gt;(scheduler));</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>validation_signals<sp/>=<sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.validation_signals;</highlight></codeline>
<codeline lineno="1460"><highlight class="normal"></highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>client<sp/>interfaces<sp/>for<sp/>wallets<sp/>that<sp/>are<sp/>supposed<sp/>to<sp/>be<sp/>loaded</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>according<sp/>to<sp/>-wallet<sp/>and<sp/>-disablewallet<sp/>options.<sp/>This<sp/>only<sp/>constructs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>interfaces,<sp/>it<sp/>doesn&apos;t<sp/>load<sp/>wallet<sp/>data.<sp/>Wallets<sp/>actually<sp/>get<sp/>loaded</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>load()<sp/>and<sp/>start()<sp/>interface<sp/>methods<sp/>are<sp/>called<sp/>below.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1465"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dummywallet_8cpp_1ae7426cfaef29389c022117e0842f8aba" kindref="member">g_wallet_init_interface</ref>.Construct(<ref refid="namespacenode" kindref="compound">node</ref>);</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.InitWallet();</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"></highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classinterfaces_1_1_ipc" kindref="compound">interfaces::Ipc</ref>*<sp/><ref refid="namespaceipc" kindref="compound">ipc</ref><sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.init-&gt;ipc())<sp/>{</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(std::string<sp/>address<sp/>:<sp/><ref refid="args_8cpp_1a934b7735a5308149ab1bf3ca9fc4d694" kindref="member">gArgs</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-ipcbind&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceipc" kindref="compound">ipc</ref>-&gt;listenAddress(address);</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::exception&amp;<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>bind<sp/>to<sp/>IPC<sp/>address<sp/>&apos;%s&apos;.<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>address,<sp/>e.what())));</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Listening<sp/>for<sp/>IPC<sp/>requests<sp/>on<sp/>address<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>address);</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"></highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Register<sp/>RPC<sp/>commands<sp/>regardless<sp/>of<sp/>-server<sp/>setting<sp/>so<sp/>they<sp/>will<sp/>be</highlight></codeline>
<codeline lineno="1480"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>available<sp/>in<sp/>the<sp/>GUI<sp/>RPC<sp/>console<sp/>even<sp/>if<sp/>external<sp/>calls<sp/>are<sp/>disabled.</highlight></codeline>
<codeline lineno="1481"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/>RegisterAllCoreRPCCommands(<ref refid="server_8cpp_1af4e97588a14afbdff4d03c180bc5bac0" kindref="member">tableRPC</ref>);</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>client<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.chain_clients)<sp/>{</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>client-&gt;registerRpcs();</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ENABLE_ZMQ</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="zmqrpc_8cpp_1a80448a329af4cc0aee7b4b3b9fb19201" kindref="member">RegisterZMQRPCCommands</ref>(<ref refid="server_8cpp_1af4e97588a14afbdff4d03c180bc5bac0" kindref="member">tableRPC</ref>);</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1489"><highlight class="normal"></highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>port<sp/>numbers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="init_8cpp_1a69962e54b4f086a0f85762e4fb950282" kindref="member">CheckHostPortOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>))<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"></highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Configure<sp/>reachable<sp/>networks<sp/>before<sp/>we<sp/>start<sp/>the<sp/>RPC<sp/>server.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>necessary<sp/>for<sp/>-rpcallowip<sp/>to<sp/>distinguish<sp/>CJDNS<sp/>from<sp/>other<sp/>RFC4193</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1495"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>onlynets<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-onlynet&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!onlynets.empty())<sp/>{</highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.RemoveAll();</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>snet<sp/>:<sp/>onlynets)<sp/>{</highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3" kindref="member">Network</ref><sp/>net<sp/>=<sp/><ref refid="netbase_8cpp_1a692bdf31b5d2f5a5270364cf4a090633" kindref="member">ParseNetwork</ref>(snet);</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(net<sp/>==<sp/><ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3af66f60a80e2a5d99813c3f322cf8a6e1" kindref="member">NET_UNROUTABLE</ref>)</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Unknown<sp/>network<sp/>specified<sp/>in<sp/>-onlynet:<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal">),<sp/>snet));</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Add(net);</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"></highlight></codeline>
<codeline lineno="1506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-cjdnsreachable&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!onlynets.empty()<sp/>&amp;&amp;<sp/><ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Contains(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a16bdaeec24a970c2a88fe66cf82e48a3" kindref="member">NET_CJDNS</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(</highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Outbound<sp/>connections<sp/>restricted<sp/>to<sp/>CJDNS<sp/>(-onlynet=cjdns)<sp/>but<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-cjdnsreachable<sp/>is<sp/>not<sp/>provided&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Remove(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a16bdaeec24a970c2a88fe66cf82e48a3" kindref="member">NET_CJDNS</ref>);</highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>g_reachable_nets.Contains(NET_CJDNS)<sp/>is<sp/>true<sp/>if:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>1.<sp/>-cjdnsreachable<sp/>is<sp/>given<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>2.1.<sp/>-onlynet<sp/>is<sp/>not<sp/>given<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>2.2.<sp/>-onlynet=cjdns<sp/>is<sp/>given</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1518"><highlight class="normal"></highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>the<sp/>RPC<sp/>server<sp/>already.<sp/><sp/>It<sp/>will<sp/>be<sp/>started<sp/>in<sp/>&quot;warmup&quot;<sp/>mode</highlight></codeline>
<codeline lineno="1520"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>and<sp/>not<sp/>really<sp/>process<sp/>calls<sp/>already<sp/>(but<sp/>it<sp/>will<sp/>signify<sp/>connections</highlight></codeline>
<codeline lineno="1521"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>that<sp/>the<sp/>server<sp/>is<sp/>there<sp/>and<sp/>will<sp/>be<sp/>ready<sp/>later).<sp/><sp/>Warmup<sp/>mode<sp/>will</highlight></codeline>
<codeline lineno="1522"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>be<sp/>disabled<sp/>when<sp/>initialisation<sp/>is<sp/>finished.</highlight></codeline>
<codeline lineno="1523"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-server&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.InitMessage_connect(<ref refid="server_8cpp_1aeff535d4f2cca2e52debc19711ca4406" kindref="member">SetRPCWarmupStatus</ref>);</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!AppInitServers(<ref refid="namespacenode" kindref="compound">node</ref>))</highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>start<sp/>HTTP<sp/>server.<sp/>See<sp/>debug<sp/>log<sp/>for<sp/>details.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"></highlight></codeline>
<codeline lineno="1530"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>5:<sp/>verify<sp/>wallet<sp/>database<sp/>integrity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>client<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.chain_clients)<sp/>{</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!client-&gt;verify())<sp/>{</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1536"><highlight class="normal"></highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>6:<sp/>network<sp/>initialization</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Note<sp/>that<sp/>we<sp/>absolutely<sp/>cannot<sp/>open<sp/>any<sp/>actual<sp/>connections</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>until<sp/>the<sp/>very<sp/>end<sp/>(&quot;start<sp/>node&quot;)<sp/>as<sp/>the<sp/>UTXO/block<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>is<sp/>not<sp/>yet<sp/>setup<sp/>and<sp/>may<sp/>end<sp/>up<sp/>being<sp/>set<sp/>up<sp/>twice<sp/>if<sp/>we</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>need<sp/>to<sp/>reindex<sp/>later.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1542"><highlight class="normal"></highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="net_8cpp_1a5067f8b9215406011fa3461be92d819c" kindref="member">fListen</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-listen&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN);</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="net_8cpp_1a37089835ec27ad8bf945a458708165b9" kindref="member">fDiscover</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-discover&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1545"><highlight class="normal"></highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_peer_manager_1_1_options" kindref="compound">PeerManager::Options</ref><sp/>peerman_opts{};</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="init_8cpp_1a6426f2baab5b795996c215224a46506b" kindref="member">ApplyArgsManOptions</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>peerman_opts);</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"></highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"></highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Read<sp/>asmap<sp/>file<sp/>if<sp/>configured</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;bool&gt;<sp/>asmap;</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-asmap&quot;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgNegated(</highlight><highlight class="stringliteral">&quot;-asmap&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fs::path<sp/>asmap_path<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetPathArg(</highlight><highlight class="stringliteral">&quot;-asmap&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(asmap_path.empty())<sp/>{</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;-asmap<sp/>requires<sp/>a<sp/>file<sp/>path.<sp/>Use<sp/>-asmap=&lt;file&gt;.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!asmap_path.is_absolute())<sp/>{</highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asmap_path<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet()<sp/>/<sp/>asmap_path;</highlight></codeline>
<codeline lineno="1561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fs::exists(asmap_path))<sp/>{</highlight></codeline>
<codeline lineno="1563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>find<sp/>asmap<sp/>file<sp/>%s&quot;</highlight><highlight class="normal">),<sp/>fs::quoted(fs::PathToString(asmap_path))));</highlight></codeline>
<codeline lineno="1564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asmap<sp/>=<sp/><ref refid="util_2asmap_8cpp_1a78c74ef0b08108522c7b08f8352a7038" kindref="member">DecodeAsmap</ref>(asmap_path);</highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(asmap.size()<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>parse<sp/>asmap<sp/>file<sp/>%s&quot;</highlight><highlight class="normal">),<sp/>fs::quoted(fs::PathToString(asmap_path))));</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>asmap_version<sp/>=<sp/>(<ref refid="class_hash_writer" kindref="compound">HashWriter</ref>{}<sp/>&lt;&lt;<sp/>asmap).GetHash();</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Using<sp/>asmap<sp/>version<sp/>%s<sp/>for<sp/>IP<sp/>bucketing&quot;</highlight><highlight class="normal">,<sp/>asmap_version.<ref refid="classbase__blob_1ab877381b343dbe2a2b32922da6951ed6" kindref="member">ToString</ref>());</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Using<sp/>/16<sp/>prefix<sp/>for<sp/>IP<sp/>bucketing&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"></highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>netgroup<sp/>manager</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.netgroupman);</highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.netgroupman<sp/>=<sp/>std::make_unique&lt;NetGroupManager&gt;(std::move(asmap));</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"></highlight></codeline>
<codeline lineno="1581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>addrman</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.addrman);</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.InitMessage(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>P2P<sp/>addresses&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>addrman{<ref refid="addrdb_8cpp_1a905ae35e03b9c0948edce984db148606" kindref="member">LoadAddrman</ref>(*<ref refid="namespacenode" kindref="compound">node</ref>.netgroupman,<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)};</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!addrman)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="namespaceutil_1adbcebd9741ba34de94c8384025e54825" kindref="member">util::ErrorString</ref>(addrman));</highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.addrman<sp/>=<sp/>std::move(*addrman);</highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1588"><highlight class="normal"></highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_fast_random_context" kindref="compound">FastRandomContext</ref><sp/>rng;</highlight></codeline>
<codeline lineno="1590"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.banman);</highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.banman<sp/>=<sp/>std::make_unique&lt;BanMan&gt;(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet()<sp/>/<sp/></highlight><highlight class="stringliteral">&quot;banlist&quot;</highlight><highlight class="normal">,<sp/>&amp;<ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>,<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-bantime&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MISBEHAVING_BANTIME));</highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.connman);</highlight></codeline>
<codeline lineno="1593"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.connman<sp/>=<sp/>std::make_unique&lt;CConnman&gt;(rng.<ref refid="class_fast_random_context_1ab2e5c4d228e9b9a704cdb2caa72a3af7" kindref="member">rand64</ref>(),</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rng.<ref refid="class_fast_random_context_1ab2e5c4d228e9b9a704cdb2caa72a3af7" kindref="member">rand64</ref>(),</highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.addrman,<sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.netgroupman,<sp/>chainparams,<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-networkactive&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1596"><highlight class="normal"></highlight></codeline>
<codeline lineno="1597"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.fee_estimator);</highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Don&apos;t<sp/>initialize<sp/>fee<sp/>estimation<sp/>with<sp/>old<sp/>data<sp/>if<sp/>we<sp/>don&apos;t<sp/>relay<sp/>transactions,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>as<sp/>they<sp/>would<sp/>never<sp/>get<sp/>updated.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!peerman_opts.<ref refid="struct_peer_manager_1_1_options_1a80d76d21f4731deeaf1499a98c9f3550" kindref="member">ignore_incoming_txs</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>read_stale_estimates<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-acceptstalefeeestimates&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_ACCEPT_STALE_FEE_ESTIMATES);</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(read_stale_estimates<sp/>&amp;&amp;<sp/>(chainparams.<ref refid="class_c_chain_params_1a004ce6bc50b4989ce4571e3b83821213" kindref="member">GetChainType</ref>()<sp/>!=<sp/><ref refid="chaintype_8h_1a697252c7d3bf770f98b0fa46f338d5a7ad10d9759c6b71ea71a78e3a55bafc4d5" kindref="member">ChainType::REGTEST</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;acceptstalefeeestimates<sp/>is<sp/>not<sp/>supported<sp/>on<sp/>%s<sp/>chain.&quot;</highlight><highlight class="normal">),<sp/>chainparams.<ref refid="class_c_chain_params_1abf9a18d2726cd79117b53acea7fd2656" kindref="member">GetChainTypeString</ref>()));</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.fee_estimator<sp/>=<sp/>std::make_unique&lt;CBlockPolicyEstimator&gt;(<ref refid="block__policy__estimator__args_8cpp_1a926e7994dd13aff208893d4636b7fa3f" kindref="member">FeeestPath</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>),<sp/>read_stale_estimates);</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"></highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Flush<sp/>estimates<sp/>to<sp/>disk<sp/>periodically</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_block_policy_estimator" kindref="compound">CBlockPolicyEstimator</ref>*<sp/>fee_estimator<sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.fee_estimator.get();</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scheduler.scheduleEvery([fee_estimator]<sp/>{<sp/>fee_estimator-&gt;<ref refid="class_c_block_policy_estimator_1a39973876d07137743f37456b71c5711b" kindref="member">FlushFeeEstimates</ref>();<sp/>},<sp/>FEE_FLUSH_INTERVAL);</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validation_signals.RegisterValidationInterface(fee_estimator);</highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"></highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>socket_addr<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-bind&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/>host_out;</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/>port_out{0};</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/>bind_socket_addr<sp/>=<sp/>socket_addr.substr(0,<sp/>socket_addr.rfind(</highlight><highlight class="charliteral">&apos;=&apos;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="util_2strencodings_8cpp_1ad3dd865469a228a338af78c000859b4f" kindref="member">SplitHostPort</ref>(bind_socket_addr,<sp/>port_out,<sp/>host_out))<sp/>{</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="init_8cpp_1aeb737684e2a2da0e1190fed1229d7990" kindref="member">InvalidPortErrMsg</ref>(</highlight><highlight class="stringliteral">&quot;-bind&quot;</highlight><highlight class="normal">,<sp/>socket_addr));</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1620"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1621"><highlight class="normal"></highlight></codeline>
<codeline lineno="1622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>sanitize<sp/>comments<sp/>per<sp/>BIP-0014,<sp/>format<sp/>user<sp/>agent<sp/>and<sp/>check<sp/>total<sp/>size</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;std::string&gt;<sp/>uacomments;</highlight></codeline>
<codeline lineno="1624"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>cmt<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-uacomment&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cmt<sp/>!=<sp/><ref refid="util_2strencodings_8cpp_1af661610872e92731fc31facae4d42361" kindref="member">SanitizeString</ref>(cmt,<sp/><ref refid="strencodings_8h_1aecdd292e3acadfcc5ffe4fabe452cfefa2a2aa00945928521532f643f93a685b4" kindref="member">SAFE_CHARS_UA_COMMENT</ref>))</highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;User<sp/>Agent<sp/>comment<sp/>(%s)<sp/>contains<sp/>unsafe<sp/>characters.&quot;</highlight><highlight class="normal">),<sp/>cmt));</highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uacomments.push_back(cmt);</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="net_8cpp_1a6c58f8ccc4c93105a44caf588562d609" kindref="member">strSubVersion</ref><sp/>=<sp/><ref refid="clientversion_8cpp_1a7e6809cdbfc7f83b46f83caea740894d" kindref="member">FormatSubVersion</ref>(<ref refid="clientversion_8h_1a19a3421e15387a4d940b4d6fe2f07d88" kindref="member">UA_NAME</ref>,<sp/>CLIENT_VERSION,<sp/>uacomments);</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="net_8cpp_1a6c58f8ccc4c93105a44caf588562d609" kindref="member">strSubVersion</ref>.size()<sp/>&gt;<sp/>MAX_SUBVERSION_LENGTH)<sp/>{</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Total<sp/>length<sp/>of<sp/>network<sp/>version<sp/>string<sp/>(%i)<sp/>exceeds<sp/>maximum<sp/>length<sp/>(%i).<sp/>Reduce<sp/>the<sp/>number<sp/>or<sp/>size<sp/>of<sp/>uacomments.&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="net_8cpp_1a6c58f8ccc4c93105a44caf588562d609" kindref="member">strSubVersion</ref>.size(),<sp/>MAX_SUBVERSION_LENGTH));</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1634"><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Requesting<sp/>DNS<sp/>seeds<sp/>entails<sp/>connecting<sp/>to<sp/>IPv4/IPv6,<sp/>which<sp/>-onlynet<sp/>options<sp/>may<sp/>prohibit:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>-dnsseed=1<sp/>is<sp/>explicitly<sp/>specified,<sp/>abort.<sp/>If<sp/>it&apos;s<sp/>left<sp/>unspecified<sp/>by<sp/>the<sp/>user,<sp/>we<sp/>skip</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>DNS<sp/>seeds<sp/>by<sp/>adjusting<sp/>-dnsseed<sp/>in<sp/>InitParameterInteraction.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-dnsseed&quot;</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>!<ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Contains(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3ae1598b317168b96919bc3131ee149ebb" kindref="member">NET_IPV4</ref>)<sp/>&amp;&amp;<sp/>!<ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Contains(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a9a9d9355a4923b33382f9894ba80688d" kindref="member">NET_IPV6</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Incompatible<sp/>options:<sp/>-dnsseed=1<sp/>was<sp/>explicitly<sp/>specified,<sp/>but<sp/>-onlynet<sp/>forbids<sp/>connections<sp/>to<sp/>IPv4/IPv6&quot;</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="1640"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1641"><highlight class="normal"></highlight></codeline>
<codeline lineno="1642"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>for<sp/>host<sp/>lookup<sp/>allowed<sp/>before<sp/>parsing<sp/>any<sp/>network<sp/>related<sp/>parameters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1ab5335ec17aee4d4fdd4c735b85707b56" kindref="member">fNameLookup</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-dns&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_NAME_LOOKUP);</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"></highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>proxyRandomize<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-proxyrandomize&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_PROXYRANDOMIZE);</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-proxy<sp/>sets<sp/>a<sp/>proxy<sp/>for<sp/>outgoing<sp/>network<sp/>traffic,<sp/>possibly<sp/>per<sp/>network.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-noproxy,<sp/>-proxy=0<sp/>or<sp/>-proxy=&quot;&quot;<sp/>can<sp/>be<sp/>used<sp/>to<sp/>remove<sp/>the<sp/>proxy<sp/>setting,<sp/>this<sp/>is<sp/>the<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_proxy" kindref="compound">Proxy</ref><sp/>ipv4_proxy;</highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_proxy" kindref="compound">Proxy</ref><sp/>ipv6_proxy;</highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_proxy" kindref="compound">Proxy</ref><sp/>onion_proxy;</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_proxy" kindref="compound">Proxy</ref><sp/>name_proxy;</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_proxy" kindref="compound">Proxy</ref><sp/>cjdns_proxy;</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>param_value<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-proxy&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>eq_pos{param_value.rfind(</highlight><highlight class="charliteral">&apos;=&apos;</highlight><highlight class="normal">)};</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>proxy_str{param_value.substr(0,<sp/>eq_pos)};<sp/></highlight><highlight class="comment">//<sp/>e.g.<sp/>127.0.0.1:9050=ipv4<sp/>-&gt;<sp/>127.0.0.1:9050</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/>net_str;</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(eq_pos<sp/>!=<sp/>std::string::npos)<sp/>{</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(eq_pos<sp/>+<sp/>1<sp/>==<sp/>param_value.length())<sp/>{</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>-proxy<sp/>address<sp/>or<sp/>hostname,<sp/>ends<sp/>with<sp/>&apos;=&apos;:<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal">),<sp/>param_value));</highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>net_str<sp/>=<sp/><ref refid="util_2strencodings_8cpp_1aeb77a2481cc26fe4f5976c908e2378fb" kindref="member">ToLower</ref>(param_value.substr(eq_pos<sp/>+<sp/>1));<sp/></highlight><highlight class="comment">//<sp/>e.g.<sp/>127.0.0.1:9050=ipv4<sp/>-&gt;<sp/>ipv4</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"></highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_proxy" kindref="compound">Proxy</ref><sp/>proxy;</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!proxy_str.empty()<sp/>&amp;&amp;<sp/>proxy_str<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;0&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="netbase_8cpp_1ae2f2f55cbee1b39ccb45260257e79409" kindref="member">IsUnixSocketPath</ref>(proxy_str))<sp/>{</highlight></codeline>
<codeline lineno="1667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proxy<sp/>=<sp/><ref refid="class_proxy" kindref="compound">Proxy</ref>{proxy_str,<sp/></highlight><highlight class="comment">/*tor_stream_isolation=*/</highlight><highlight class="normal">proxyRandomize};</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;CService&gt;<sp/>addr{<ref refid="netbase_8cpp_1a8da5675115ffbf04e579997076c1e68f" kindref="member">Lookup</ref>(proxy_str,<sp/><ref refid="torcontrol_8h_1a3213ad4529bf3b1a9a0665ce210d19b1" kindref="member">DEFAULT_TOR_SOCKS_PORT</ref>,<sp/><ref refid="netbase_8cpp_1ab5335ec17aee4d4fdd4c735b85707b56" kindref="member">fNameLookup</ref>)};</highlight></codeline>
<codeline lineno="1670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!addr.has_value())<sp/>{</highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>-proxy<sp/>address<sp/>or<sp/>hostname:<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal">),<sp/>proxy_str));</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proxy<sp/>=<sp/><ref refid="class_proxy" kindref="compound">Proxy</ref>{addr.value(),<sp/></highlight><highlight class="comment">/*tor_stream_isolation=*/</highlight><highlight class="normal">proxyRandomize};</highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!proxy.<ref refid="class_proxy_1ac532c4b500b1a85ea22217f2c65a70ed" kindref="member">IsValid</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>-proxy<sp/>address<sp/>or<sp/>hostname:<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal">),<sp/>proxy_str));</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"></highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(net_str.empty())<sp/>{<sp/></highlight><highlight class="comment">//<sp/>For<sp/>all<sp/>networks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ipv4_proxy<sp/>=<sp/>ipv6_proxy<sp/>=<sp/>name_proxy<sp/>=<sp/>cjdns_proxy<sp/>=<sp/>onion_proxy<sp/>=<sp/>proxy;</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(net_str<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;ipv4&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ipv4_proxy<sp/>=<sp/>name_proxy<sp/>=<sp/>proxy;</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(net_str<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;ipv6&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ipv6_proxy<sp/>=<sp/>name_proxy<sp/>=<sp/>proxy;</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(net_str<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;onion&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>onion_proxy<sp/>=<sp/>proxy;</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(net_str<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;cjdns&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cjdns_proxy<sp/>=<sp/>proxy;</highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Unrecognized<sp/>network<sp/>in<sp/>-proxy=&apos;%s&apos;:<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal">),<sp/>param_value,<sp/>net_str));</highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ipv4_proxy.<ref refid="class_proxy_1ac532c4b500b1a85ea22217f2c65a70ed" kindref="member">IsValid</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1a8a37e5574d7e2be5c6aa6b4cdddd8312" kindref="member">SetProxy</ref>(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3ae1598b317168b96919bc3131ee149ebb" kindref="member">NET_IPV4</ref>,<sp/>ipv4_proxy);</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ipv6_proxy.<ref refid="class_proxy_1ac532c4b500b1a85ea22217f2c65a70ed" kindref="member">IsValid</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1a8a37e5574d7e2be5c6aa6b4cdddd8312" kindref="member">SetProxy</ref>(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a9a9d9355a4923b33382f9894ba80688d" kindref="member">NET_IPV6</ref>,<sp/>ipv6_proxy);</highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(name_proxy.<ref refid="class_proxy_1ac532c4b500b1a85ea22217f2c65a70ed" kindref="member">IsValid</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1a51a7f08a45b54a927ca6f0d3ce5cf43d" kindref="member">SetNameProxy</ref>(name_proxy);</highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cjdns_proxy.<ref refid="class_proxy_1ac532c4b500b1a85ea22217f2c65a70ed" kindref="member">IsValid</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1a8a37e5574d7e2be5c6aa6b4cdddd8312" kindref="member">SetProxy</ref>(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a16bdaeec24a970c2a88fe66cf82e48a3" kindref="member">NET_CJDNS</ref>,<sp/>cjdns_proxy);</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"></highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>onlynet_used_with_onion{!onlynets.empty()<sp/>&amp;&amp;<sp/><ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Contains(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a74254f483ed8f948cd89e53ce36f484b" kindref="member">NET_ONION</ref>)};</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"></highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-onion<sp/>can<sp/>be<sp/>used<sp/>to<sp/>set<sp/>only<sp/>a<sp/>proxy<sp/>for<sp/>.onion,<sp/>or<sp/>override<sp/>normal<sp/>proxy<sp/>for<sp/>.onion<sp/>addresses</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-noonion<sp/>(or<sp/>-onion=0)<sp/>disables<sp/>connecting<sp/>to<sp/>.onion<sp/>entirely</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>An<sp/>empty<sp/>string<sp/>is<sp/>used<sp/>to<sp/>not<sp/>override<sp/>the<sp/>onion<sp/>proxy<sp/>(in<sp/>which<sp/>case<sp/>it<sp/>defaults<sp/>to<sp/>-proxy<sp/>set<sp/>above,<sp/>or<sp/>none)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>onionArg<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-onion&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(onionArg<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(onionArg<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;0&quot;</highlight><highlight class="normal">)<sp/>{<sp/></highlight><highlight class="comment">//<sp/>Handle<sp/>-noonion/-onion=0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>onion_proxy<sp/>=<sp/><ref refid="class_proxy" kindref="compound">Proxy</ref>{};</highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(onlynet_used_with_onion)<sp/>{</highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Outbound<sp/>connections<sp/>restricted<sp/>to<sp/>Tor<sp/>(-onlynet=onion)<sp/>but<sp/>the<sp/>proxy<sp/>for<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;reaching<sp/>the<sp/>Tor<sp/>network<sp/>is<sp/>explicitly<sp/>forbidden:<sp/>-onion=0&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="netbase_8cpp_1ae2f2f55cbee1b39ccb45260257e79409" kindref="member">IsUnixSocketPath</ref>(onionArg))<sp/>{</highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>onion_proxy<sp/>=<sp/><ref refid="class_proxy" kindref="compound">Proxy</ref>(onionArg,<sp/></highlight><highlight class="comment">/*tor_stream_isolation=*/</highlight><highlight class="normal">proxyRandomize);</highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;CService&gt;<sp/>addr{<ref refid="netbase_8cpp_1a8da5675115ffbf04e579997076c1e68f" kindref="member">Lookup</ref>(onionArg,<sp/><ref refid="torcontrol_8h_1a3213ad4529bf3b1a9a0665ce210d19b1" kindref="member">DEFAULT_TOR_SOCKS_PORT</ref>,<sp/><ref refid="netbase_8cpp_1ab5335ec17aee4d4fdd4c735b85707b56" kindref="member">fNameLookup</ref>)};</highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!addr.has_value()<sp/>||<sp/>!addr-&gt;IsValid())<sp/>{</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>-onion<sp/>address<sp/>or<sp/>hostname:<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal">),<sp/>onionArg));</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"></highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>onion_proxy<sp/>=<sp/><ref refid="class_proxy" kindref="compound">Proxy</ref>(addr.value(),<sp/></highlight><highlight class="comment">/*tor_stream_isolation=*/</highlight><highlight class="normal">proxyRandomize);</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"></highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(onion_proxy.<ref refid="class_proxy_1ac532c4b500b1a85ea22217f2c65a70ed" kindref="member">IsValid</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1a8a37e5574d7e2be5c6aa6b4cdddd8312" kindref="member">SetProxy</ref>(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a74254f483ed8f948cd89e53ce36f484b" kindref="member">NET_ONION</ref>,<sp/>onion_proxy);</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>-listenonion<sp/>is<sp/>set,<sp/>then<sp/>we<sp/>will<sp/>(try<sp/>to)<sp/>connect<sp/>to<sp/>the<sp/>Tor<sp/>control<sp/>port</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>later<sp/>from<sp/>the<sp/>torcontrol<sp/>thread<sp/>and<sp/>may<sp/>retrieve<sp/>the<sp/>onion<sp/>proxy<sp/>from<sp/>there.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>listenonion_disabled{!<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-listenonion&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN_ONION)};</highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(onlynet_used_with_onion<sp/>&amp;&amp;<sp/>listenonion_disabled)<sp/>{</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Outbound<sp/>connections<sp/>restricted<sp/>to<sp/>Tor<sp/>(-onlynet=onion)<sp/>but<sp/>the<sp/>proxy<sp/>for<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;reaching<sp/>the<sp/>Tor<sp/>network<sp/>is<sp/>not<sp/>provided:<sp/>none<sp/>of<sp/>-proxy,<sp/>-onion<sp/>or<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-listenonion<sp/>is<sp/>given&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Remove(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a74254f483ed8f948cd89e53ce36f484b" kindref="member">NET_ONION</ref>);</highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"></highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>strAddr<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-externalip&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;CService&gt;<sp/>addrLocal{<ref refid="netbase_8cpp_1a8da5675115ffbf04e579997076c1e68f" kindref="member">Lookup</ref>(strAddr,<sp/><ref refid="net_8cpp_1a0b987d6723d8ce3ee02e68a29f4c9905" kindref="member">GetListenPort</ref>(),<sp/><ref refid="netbase_8cpp_1ab5335ec17aee4d4fdd4c735b85707b56" kindref="member">fNameLookup</ref>)};</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(addrLocal.has_value()<sp/>&amp;&amp;<sp/>addrLocal-&gt;IsValid())</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="net_8cpp_1a4f6e53907e84dcb0c8ad532a0438d8e2" kindref="member">AddLocal</ref>(addrLocal.value(),<sp/><ref refid="net_8h_1a5618e5a4c38d4d24df5679d193086564a85f937846a9820dce1ac928efee52a91" kindref="member">LOCAL_MANUAL</ref>);</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="init_8cpp_1a7c0e28b32cb9ba19dc62500e20082284" kindref="member">ResolveErrMsg</ref>(</highlight><highlight class="stringliteral">&quot;externalip&quot;</highlight><highlight class="normal">,<sp/>strAddr));</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1757"><highlight class="normal"></highlight></codeline>
<codeline lineno="1758"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ENABLE_ZMQ</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1759"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="zmqnotificationinterface_8cpp_1afa2d5782c583a3eeeb4acf4670acf8a3" kindref="member">g_zmq_notification_interface</ref><sp/>=<sp/><ref refid="class_c_z_m_q_notification_interface_1a2beb22259c719ea619acbf1bd1b3dd3b" kindref="member">CZMQNotificationInterface::Create</ref>(</highlight></codeline>
<codeline lineno="1760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[&amp;chainman<sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.chainman](std::vector&lt;std::byte&gt;&amp;<sp/>block,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>&amp;<sp/>index)<sp/>{</highlight></codeline>
<codeline lineno="1761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assert(chainman);</highlight></codeline>
<codeline lineno="1762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(auto<sp/>ret{chainman-&gt;m_blockman.ReadRawBlock(WITH_LOCK(cs_main,<sp/>return<sp/>index.GetBlockPos()))})<sp/>{</highlight></codeline>
<codeline lineno="1763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>block<sp/>=<sp/>std::move(*<ref refid="bitcoin-cli_8cpp_1a339672ff94e6199019102f50d317c3d7" kindref="member">ret</ref>);</highlight></codeline>
<codeline lineno="1764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"></highlight></codeline>
<codeline lineno="1769"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="zmqnotificationinterface_8cpp_1afa2d5782c583a3eeeb4acf4670acf8a3" kindref="member">g_zmq_notification_interface</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validation_signals.RegisterValidationInterface(<ref refid="zmqnotificationinterface_8cpp_1afa2d5782c583a3eeeb4acf4670acf8a3" kindref="member">g_zmq_notification_interface</ref>.get());</highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1773"><highlight class="normal"></highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>7:<sp/>load<sp/>block<sp/>chain</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1775"><highlight class="normal"></highlight></codeline>
<codeline lineno="1776"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>cache<sp/>size<sp/>calculations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1777"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode_1a0156a0d2c3be07b28980d8ad967263ee" kindref="member">node::LogOversizedDbCache</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>);</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>[index_cache_sizes,<sp/>kernel_cache_sizes]<sp/>=<sp/><ref refid="init_8cpp_1aa1c9faa8f74afc4645721e442c54b9c6" kindref="member">CalculateCacheSizes</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>g_enabled_filter_types.size());</highlight></codeline>
<codeline lineno="1779"><highlight class="normal"></highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Cache<sp/>configuration:&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;*<sp/>Using<sp/>%.1f<sp/>MiB<sp/>for<sp/>block<sp/>index<sp/>database&quot;</highlight><highlight class="normal">,<sp/>kernel_cache_sizes.block_tree_db<sp/>*<sp/>(1.0<sp/>/<sp/>1024<sp/>/<sp/>1024));</highlight></codeline>
<codeline lineno="1782"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-txindex&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_TXINDEX))<sp/>{</highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;*<sp/>Using<sp/>%.1f<sp/>MiB<sp/>for<sp/>transaction<sp/>index<sp/>database&quot;</highlight><highlight class="normal">,<sp/>index_cache_sizes.tx_index<sp/>*<sp/>(1.0<sp/>/<sp/>1024<sp/>/<sp/>1024));</highlight></codeline>
<codeline lineno="1784"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="blockfilter_8h_1a530bf73ca0d532a142641644a1605250" kindref="member">BlockFilterType</ref><sp/>filter_type<sp/>:<sp/>g_enabled_filter_types)<sp/>{</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;*<sp/>Using<sp/>%.1f<sp/>MiB<sp/>for<sp/>%s<sp/>block<sp/>filter<sp/>index<sp/>database&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index_cache_sizes.filter_index<sp/>*<sp/>(1.0<sp/>/<sp/>1024<sp/>/<sp/>1024),<sp/><ref refid="blockfilter_8cpp_1a75df3661184c3291fc4d612d4f99d3ad" kindref="member">BlockFilterTypeName</ref>(filter_type));</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;*<sp/>Using<sp/>%.1f<sp/>MiB<sp/>for<sp/>chain<sp/>state<sp/>database&quot;</highlight><highlight class="normal">,<sp/>kernel_cache_sizes.coins_db<sp/>*<sp/>(1.0<sp/>/<sp/>1024<sp/>/<sp/>1024));</highlight></codeline>
<codeline lineno="1790"><highlight class="normal"></highlight></codeline>
<codeline lineno="1791"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.mempool);</highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.chainman);</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"></highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>do_reindex{<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-reindex&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)};</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>do_reindex_chainstate{<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-reindex-chainstate&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)};</highlight></codeline>
<codeline lineno="1796"><highlight class="normal"></highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Chainstate<sp/>initialization<sp/>and<sp/>loading<sp/>may<sp/>be<sp/>retried<sp/>once<sp/>with<sp/>reindexing<sp/>by<sp/>GUI<sp/>users</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>[status,<sp/>error]<sp/>=<sp/>InitAndLoadChainstate(</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>,</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do_reindex,</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do_reindex_chainstate,</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel_cache_sizes,</highlight></codeline>
<codeline lineno="1803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>);</highlight></codeline>
<codeline lineno="1804"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>==<sp/>ChainstateLoadStatus::FAILURE<sp/>&amp;&amp;<sp/>!do_reindex<sp/>&amp;&amp;<sp/>!<ref refid="init_8cpp_1a83987d355ea0aea808522caa78633ee9" kindref="member">ShutdownRequested</ref>(<ref refid="namespacenode" kindref="compound">node</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>suggest<sp/>a<sp/>reindex</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>do_retry{<ref refid="args_8cpp_1aa42c2b171434ec3e853a1827816ec0a4" kindref="member">HasTestOption</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/></highlight><highlight class="stringliteral">&quot;reindex_after_failure_noninteractive_yes&quot;</highlight><highlight class="normal">)<sp/>||</highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.ThreadSafeQuestion(</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error<sp/>+<sp/><ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(</highlight><highlight class="stringliteral">&quot;.\n\n&quot;</highlight><highlight class="normal">)<sp/>+<sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Do<sp/>you<sp/>want<sp/>to<sp/>rebuild<sp/>the<sp/>databases<sp/>now?&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error.<ref refid="structbilingual__str_1ab9617c9d0390836c14d40e0aa6e84ab3" kindref="member">original</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.\nPlease<sp/>restart<sp/>with<sp/>-reindex<sp/>or<sp/>-reindex-chainstate<sp/>to<sp/>recover.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_client_u_i_interface_1ab18f2de7469825b7c2fb98cae515ebb8a28aec242413d6eab32c014fd1cecc4f0" kindref="member">CClientUIInterface::MSG_ERROR</ref><sp/>|<sp/><ref refid="class_c_client_u_i_interface_1ab18f2de7469825b7c2fb98cae515ebb8a9a37c1f08a5958268bde34819734cc88" kindref="member">CClientUIInterface::BTN_ABORT</ref>)};</highlight></codeline>
<codeline lineno="1811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!do_retry)<sp/>{</highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do_reindex<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_signal)-&gt;reset())<sp/>{</highlight></codeline>
<codeline lineno="1816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Internal<sp/>error:<sp/>failed<sp/>to<sp/>reset<sp/>shutdown<sp/>signal.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::tie(status,<sp/>error)<sp/>=<sp/>InitAndLoadChainstate(</highlight></codeline>
<codeline lineno="1819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>,</highlight></codeline>
<codeline lineno="1820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do_reindex,</highlight></codeline>
<codeline lineno="1821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do_reindex_chainstate,</highlight></codeline>
<codeline lineno="1822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel_cache_sizes,</highlight></codeline>
<codeline lineno="1823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>);</highlight></codeline>
<codeline lineno="1824"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1825"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/>ChainstateLoadStatus::SUCCESS<sp/>&amp;&amp;<sp/>status<sp/>!=<sp/>ChainstateLoadStatus::INTERRUPTED)<sp/>{</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(error);</highlight></codeline>
<codeline lineno="1827"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1828"><highlight class="normal"></highlight></codeline>
<codeline lineno="1829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>As<sp/>LoadBlockIndex<sp/>can<sp/>take<sp/>several<sp/>minutes,<sp/>it&apos;s<sp/>possible<sp/>the<sp/>user</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>requested<sp/>to<sp/>kill<sp/>the<sp/>GUI<sp/>during<sp/>the<sp/>last<sp/>operation.<sp/>If<sp/>so,<sp/>exit.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1831"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="init_8cpp_1a83987d355ea0aea808522caa78633ee9" kindref="member">ShutdownRequested</ref>(<ref refid="namespacenode" kindref="compound">node</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Shutdown<sp/>requested.<sp/>Exiting.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"></highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref>&amp;<sp/>chainman<sp/>=<sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.chainman);</highlight></codeline>
<codeline lineno="1837"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>kernel_notifications{*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.notifications)};</highlight></codeline>
<codeline lineno="1838"><highlight class="normal"></highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="validation_8cpp_1afb7ea74ba028421697aa7f364741ee6c" kindref="member">assert</ref>(!<ref refid="namespacenode" kindref="compound">node</ref>.peerman);</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.peerman<sp/>=<sp/><ref refid="class_peer_manager_1a9d86f722d4111fed4e14deca63b5841e" kindref="member">PeerManager::make</ref>(*<ref refid="namespacenode" kindref="compound">node</ref>.connman,<sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.addrman,</highlight></codeline>
<codeline lineno="1841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.banman.get(),<sp/>chainman,</highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.mempool,<sp/>*<ref refid="namespacenode" kindref="compound">node</ref>.warnings,</highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>peerman_opts);</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/><sp/><sp/>validation_signals.RegisterValidationInterface(<ref refid="namespacenode" kindref="compound">node</ref>.peerman.get());</highlight></codeline>
<codeline lineno="1845"><highlight class="normal"></highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>8:<sp/>start<sp/>indexers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1847"><highlight class="normal"></highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-txindex&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_TXINDEX))<sp/>{</highlight></codeline>
<codeline lineno="1849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="txindex_8cpp_1ac83d374395921acb8e38628025b3f6c1" kindref="member">g_txindex</ref><sp/>=<sp/>std::make_unique&lt;TxIndex&gt;(<ref refid="namespaceinterfaces_1af9dd04aa9350af214777afaa2c2bdd65" kindref="member">interfaces::MakeChain</ref>(<ref refid="namespacenode" kindref="compound">node</ref>),<sp/>index_cache_sizes.tx_index,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>do_reindex);</highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes.emplace_back(<ref refid="txindex_8cpp_1ac83d374395921acb8e38628025b3f6c1" kindref="member">g_txindex</ref>.get());</highlight></codeline>
<codeline lineno="1851"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"></highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>filter_type<sp/>:<sp/>g_enabled_filter_types)<sp/>{</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="blockfilterindex_8cpp_1aca74aaaf3cd2da07d55e1b9354952c15" kindref="member">InitBlockFilterIndex</ref>([&amp;]{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceinterfaces_1af9dd04aa9350af214777afaa2c2bdd65" kindref="member">interfaces::MakeChain</ref>(<ref refid="namespacenode" kindref="compound">node</ref>);<sp/>},<sp/>filter_type,<sp/>index_cache_sizes.filter_index,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>do_reindex);</highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes.emplace_back(<ref refid="blockfilterindex_8cpp_1a7e5a7eafefd6511f8d95b2583bdb53b0" kindref="member">GetBlockFilterIndex</ref>(filter_type));</highlight></codeline>
<codeline lineno="1856"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1857"><highlight class="normal"></highlight></codeline>
<codeline lineno="1858"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-coinstatsindex&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_COINSTATSINDEX))<sp/>{</highlight></codeline>
<codeline lineno="1859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="coinstatsindex_8cpp_1a5b682939ad608624a8f6f968618aa6f7" kindref="member">g_coin_stats_index</ref><sp/>=<sp/>std::make_unique&lt;CoinStatsIndex&gt;(<ref refid="namespaceinterfaces_1af9dd04aa9350af214777afaa2c2bdd65" kindref="member">interfaces::MakeChain</ref>(<ref refid="namespacenode" kindref="compound">node</ref>),<sp/></highlight><highlight class="comment">/*cache_size=*/</highlight><highlight class="normal">0,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>do_reindex);</highlight></codeline>
<codeline lineno="1860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes.emplace_back(<ref refid="coinstatsindex_8cpp_1a5b682939ad608624a8f6f968618aa6f7" kindref="member">g_coin_stats_index</ref>.get());</highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1862"><highlight class="normal"></highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Init<sp/>indexes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1864"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>index<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!index-&gt;Init())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1865"><highlight class="normal"></highlight></codeline>
<codeline lineno="1866"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>9:<sp/>load<sp/>wallet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1867"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>client<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.chain_clients)<sp/>{</highlight></codeline>
<codeline lineno="1868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!client-&gt;load())<sp/>{</highlight></codeline>
<codeline lineno="1869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1871"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1872"><highlight class="normal"></highlight></codeline>
<codeline lineno="1873"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>10:<sp/>data<sp/>directory<sp/>maintenance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1874"><highlight class="normal"></highlight></codeline>
<codeline lineno="1875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>pruning,<sp/>perform<sp/>the<sp/>initial<sp/>blockstore<sp/>prune</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1876"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>after<sp/>any<sp/>wallet<sp/>rescanning<sp/>has<sp/>taken<sp/>place.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1877"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chainman.<ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.<ref refid="classnode_1_1_block_manager_1ad03fd92fad95bb7f82ef78cc467cb12b" kindref="member">IsPruneMode</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(chainman.<ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.<ref refid="classnode_1_1_block_manager_1a5627151c890af8526b512ff75f09eba1" kindref="member">m_blockfiles_indexed</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>);</highlight></codeline>
<codeline lineno="1880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>chainstate<sp/>:<sp/>chainman.m_chainstates)<sp/>{</highlight></codeline>
<codeline lineno="1881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.InitMessage(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Pruning<sp/>blockstore&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainstate-&gt;PruneAndFlush();</highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1885"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Prior<sp/>to<sp/>setting<sp/>NODE_NETWORK,<sp/>check<sp/>if<sp/>we<sp/>can<sp/>provide<sp/>historical<sp/>blocks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="sync_8h_1ab3029e545f54f330170cbf37f0819693" kindref="member">WITH_LOCK</ref>(chainman.<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>(),<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>chainman.<ref refid="class_chainstate_manager_1a1140f6d8b807be5796827fc4f7be03d7" kindref="member">HistoricalChainstate</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="1888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Setting<sp/>NODE_NETWORK<sp/>in<sp/>non-prune<sp/>mode&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_local_services<sp/>=<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537" kindref="member">ServiceFlags</ref>(g_local_services<sp/>|<sp/><ref refid="protocol_8h_1ad131f3177584caea787cdbf6f85a9537a9d1154f0e7e56f183a5c8373abe2e86c" kindref="member">NODE_NETWORK</ref>);</highlight></codeline>
<codeline lineno="1890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Running<sp/>node<sp/>in<sp/>NODE_NETWORK_LIMITED<sp/>mode<sp/>until<sp/>snapshot<sp/>background<sp/>sync<sp/>completes&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1894"><highlight class="normal"></highlight></codeline>
<codeline lineno="1895"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>11:<sp/>import<sp/>blocks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1896"><highlight class="normal"></highlight></codeline>
<codeline lineno="1897"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="fs__helpers_8cpp_1aafef764388e19a399584b65ef3d97b99" kindref="member">CheckDiskSpace</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet()))<sp/>{</highlight></codeline>
<codeline lineno="1898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Error:<sp/>Disk<sp/>space<sp/>is<sp/>low<sp/>for<sp/>%s&quot;</highlight><highlight class="normal">),<sp/>fs::quoted(fs::PathToString(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet()))));</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1900"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="fs__helpers_8cpp_1aafef764388e19a399584b65ef3d97b99" kindref="member">CheckDiskSpace</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath()))<sp/>{</highlight></codeline>
<codeline lineno="1902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Error:<sp/>Disk<sp/>space<sp/>is<sp/>low<sp/>for<sp/>%s&quot;</highlight><highlight class="normal">),<sp/>fs::quoted(fs::PathToString(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath()))));</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1904"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1905"><highlight class="normal"></highlight></codeline>
<codeline lineno="1906"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>chain_active_height<sp/>=<sp/><ref refid="sync_8h_1ab3029e545f54f330170cbf37f0819693" kindref="member">WITH_LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">cs_main</ref>,<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>chainman.<ref refid="class_chainstate_manager_1a8090a09f21aff3aa747263ae6b8268c1" kindref="member">ActiveChain</ref>().<ref refid="class_c_chain_1a837dbfdb2a835fa2626bfda6e2de0acc" kindref="member">Height</ref>());</highlight></codeline>
<codeline lineno="1907"><highlight class="normal"></highlight></codeline>
<codeline lineno="1908"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>first<sp/>startup,<sp/>warn<sp/>on<sp/>low<sp/>block<sp/>storage<sp/>space</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!do_reindex<sp/>&amp;&amp;<sp/>!do_reindex_chainstate<sp/>&amp;&amp;<sp/>chain_active_height<sp/>&lt;=<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="1910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint64_t<sp/>assumed_chain_bytes{chainparams.<ref refid="class_c_chain_params_1af048ce8a2f696437fc06982b05251498" kindref="member">AssumedBlockchainSize</ref>()<sp/>*<sp/>1024<sp/>*<sp/>1024<sp/>*<sp/>1024};</highlight></codeline>
<codeline lineno="1911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint64_t<sp/>additional_bytes_needed{</highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainman.<ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.<ref refid="classnode_1_1_block_manager_1ad03fd92fad95bb7f82ef78cc467cb12b" kindref="member">IsPruneMode</ref>()<sp/>?</highlight></codeline>
<codeline lineno="1913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::min(chainman.<ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.<ref refid="classnode_1_1_block_manager_1a95455271ec88dfcc93e411237b36a57c" kindref="member">GetPruneTarget</ref>(),<sp/>assumed_chain_bytes)<sp/>:</highlight></codeline>
<codeline lineno="1914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assumed_chain_bytes};</highlight></codeline>
<codeline lineno="1915"><highlight class="normal"></highlight></codeline>
<codeline lineno="1916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="fs__helpers_8cpp_1aafef764388e19a399584b65ef3d97b99" kindref="member">CheckDiskSpace</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath(),<sp/>additional_bytes_needed))<sp/>{</highlight></codeline>
<codeline lineno="1917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight></codeline>
<codeline lineno="1918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Disk<sp/>space<sp/>for<sp/>%s<sp/>may<sp/>not<sp/>accommodate<sp/>the<sp/>block<sp/>files.<sp/>&quot;</highlight><highlight class="normal"><sp/>\</highlight></codeline>
<codeline lineno="1919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Approximately<sp/>%u<sp/>GB<sp/>of<sp/>data<sp/>will<sp/>be<sp/>stored<sp/>in<sp/>this<sp/>directory.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline lineno="1921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fs::quoted(fs::PathToString(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath())),</highlight></codeline>
<codeline lineno="1922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainparams.<ref refid="class_c_chain_params_1af048ce8a2f696437fc06982b05251498" kindref="member">AssumedBlockchainSize</ref>()</highlight></codeline>
<codeline lineno="1923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>));</highlight></codeline>
<codeline lineno="1924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1925"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1926"><highlight class="normal"></highlight></codeline>
<codeline lineno="1927"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__APPLE__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1928"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>check_and_warn_fs{[&amp;](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>fs::path&amp;<sp/>path,<sp/>std::string_view<sp/>desc)<sp/>{</highlight></codeline>
<codeline lineno="1929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>path_desc{<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;%s<sp/>(\&quot;%s\&quot;)&quot;</highlight><highlight class="normal">,<sp/>desc,<sp/>fs::PathToString(path))};</highlight></codeline>
<codeline lineno="1930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(GetFilesystemType(path))<sp/>{</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>FSType::EXFAT:</highlight></codeline>
<codeline lineno="1932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;The<sp/>%s<sp/>path<sp/>uses<sp/>exFAT,<sp/>which<sp/>is<sp/>known<sp/>to<sp/>have<sp/>intermittent<sp/>corruption<sp/>problems<sp/>on<sp/>macOS.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Move<sp/>this<sp/>directory<sp/>to<sp/>a<sp/>different<sp/>filesystem<sp/>to<sp/>avoid<sp/>data<sp/>loss.&quot;</highlight><highlight class="normal">),<sp/>path_desc));</highlight></codeline>
<codeline lineno="1934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>FSType::ERROR:</highlight></codeline>
<codeline lineno="1936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>detect<sp/>filesystem<sp/>type<sp/>for<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>path_desc);</highlight></codeline>
<codeline lineno="1937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>FSType::OTHER:</highlight></codeline>
<codeline lineno="1939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1941"><highlight class="normal"><sp/><sp/><sp/><sp/>}};</highlight></codeline>
<codeline lineno="1942"><highlight class="normal"></highlight></codeline>
<codeline lineno="1943"><highlight class="normal"><sp/><sp/><sp/><sp/>check_and_warn_fs(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetDataDirNet(),<sp/></highlight><highlight class="stringliteral">&quot;data<sp/>directory&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/><sp/><sp/>check_and_warn_fs(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBlocksDirPath(),<sp/></highlight><highlight class="stringliteral">&quot;blocks<sp/>directory&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1945"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1946"><highlight class="normal"></highlight></codeline>
<codeline lineno="1947"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_SYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>block_notify<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-blocknotify&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!block_notify.empty())<sp/>{</highlight></codeline>
<codeline lineno="1950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.NotifyBlockTip_connect([block_notify](<ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219" kindref="member">SynchronizationState</ref><sp/>sync_state,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>&amp;<sp/>block,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>verification_progress<sp/>*/</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sync_state<sp/>!=<sp/><ref refid="validation_8h_1a6c3c8e6370214538a00a221a568b5219a90420c85ac74ebe4793694a7c4680b12" kindref="member">SynchronizationState::POST_INIT</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="bitcoin-wallet_8cpp_1a64b0c5844a38fc862dcb5b4e30b1ca49" kindref="member">command</ref><sp/>=<sp/>block_notify;</highlight></codeline>
<codeline lineno="1953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="init_8cpp_1ac3615d6e25683cb921a19c421c2f558b" kindref="member">ReplaceAll</ref>(<ref refid="bitcoin-wallet_8cpp_1a64b0c5844a38fc862dcb5b4e30b1ca49" kindref="member">command</ref>,<sp/></highlight><highlight class="stringliteral">&quot;%s&quot;</highlight><highlight class="normal">,<sp/>block.<ref refid="class_c_block_index_1af6ec213819803936fd0806fb068965df" kindref="member">GetBlockHash</ref>().<ref refid="classbase__blob_1ac07b7fe926f51da21f88c92cb4396a55" kindref="member">GetHex</ref>());</highlight></codeline>
<codeline lineno="1954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::thread<sp/><ref refid="strencodings_8h_1a7a8fe8e8ebe30d3329bb57478f49ae2cae358efa489f58062f10dd7316b65649e" kindref="member">t</ref>(runCommand,<sp/><ref refid="bitcoin-wallet_8cpp_1a64b0c5844a38fc862dcb5b4e30b1ca49" kindref="member">command</ref>);</highlight></codeline>
<codeline lineno="1955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="strencodings_8h_1a7a8fe8e8ebe30d3329bb57478f49ae2cae358efa489f58062f10dd7316b65649e" kindref="member">t</ref>.detach();<sp/></highlight><highlight class="comment">//<sp/>thread<sp/>runs<sp/>free</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1958"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1959"><highlight class="normal"></highlight></codeline>
<codeline lineno="1960"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;fs::path&gt;<sp/>vImportFiles;</highlight></codeline>
<codeline lineno="1961"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>strFile<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-loadblock&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vImportFiles.push_back(fs::PathFromString(strFile));</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1964"><highlight class="normal"></highlight></codeline>
<codeline lineno="1965"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacenode" kindref="compound">node</ref>.background_init_thread<sp/>=<sp/>std::thread(&amp;<ref refid="namespaceutil_1ad983ac5f9865491ceb166699d95b0599" kindref="member">util::TraceThread</ref>,<sp/></highlight><highlight class="stringliteral">&quot;initload&quot;</highlight><highlight class="normal">,<sp/>[=,<sp/>&amp;chainman,<sp/>&amp;<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>,<sp/>&amp;<ref refid="namespacenode" kindref="compound">node</ref>]<sp/>{</highlight></codeline>
<codeline lineno="1966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="batchpriority_8cpp_1a720dee05e91b24ce7f88af7fe8d7a315" kindref="member">ScheduleBatchPriority</ref>();</highlight></codeline>
<codeline lineno="1967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Import<sp/>blocks<sp/>and<sp/>ActivateBestChain()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="init_8cpp_1a50030ce5206985e346250590dabd6d88" kindref="member">ImportBlocks</ref>(chainman,<sp/>vImportFiles);</highlight></codeline>
<codeline lineno="1969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-stopafterblockimport&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_STOPAFTERBLOCKIMPORT))<sp/>{</highlight></codeline>
<codeline lineno="1970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Stopping<sp/>after<sp/>block<sp/>import&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.shutdown_request))())<sp/>{</highlight></codeline>
<codeline lineno="1972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a611dbbfa5c2f148b7190b97a12835b5e" kindref="member">LogError</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>send<sp/>shutdown<sp/>signal<sp/>after<sp/>finishing<sp/>block<sp/>import\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1976"><highlight class="normal"></highlight></codeline>
<codeline lineno="1977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Start<sp/>indexes<sp/>initial<sp/>sync</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="init_8cpp_1a9dea410c95e31d9b2505d421ad7c791b" kindref="member">StartIndexBackgroundSync</ref>(<ref refid="namespacenode" kindref="compound">node</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref><sp/>err_str<sp/>=<sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>start<sp/>indexes,<sp/>shutting<sp/>down&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chainman.<ref refid="class_chainstate_manager_1a30d910c43e6619c9596c077fd1e5518d" kindref="member">GetNotifications</ref>().<ref refid="classkernel_1_1_notifications_1a2998f041aae2f227bb4bba3d9cb7a292" kindref="member">fatalError</ref>(err_str);</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Load<sp/>mempool<sp/>from<sp/>disk</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">*<sp/>pool{chainman.<ref refid="class_chainstate_manager_1a0ed46908ea52e17d172f2fcc0ceb9964" kindref="member">ActiveChainstate</ref>().<ref refid="class_chainstate_1ac2dc9bde2175dbfb05382c6e8033db28" kindref="member">GetMempool</ref>()})<sp/>{</highlight></codeline>
<codeline lineno="1985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="init_8cpp_1ab2381316504e955ba03329e6eae581cc" kindref="member">LoadMempool</ref>(*pool,<sp/><ref refid="init_8cpp_1a2ca33310929752f44f32a912fc1634ba" kindref="member">ShouldPersistMempool</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)<sp/>?<sp/><ref refid="init_8cpp_1a33310f5279d28a2f9fcc1b3a51cf53ff" kindref="member">MempoolPath</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>)<sp/>:<sp/>fs::path{},<sp/>chainman.<ref refid="class_chainstate_manager_1a0ed46908ea52e17d172f2fcc0ceb9964" kindref="member">ActiveChainstate</ref>(),<sp/>{});</highlight></codeline>
<codeline lineno="1986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pool-&gt;SetLoadTried(!chainman.<ref refid="class_chainstate_manager_1a2163d8ef789c585b196a3ec7f468244b" kindref="member">m_interrupt</ref>);</highlight></codeline>
<codeline lineno="1987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1989"><highlight class="normal"></highlight></codeline>
<codeline lineno="1990"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1991"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>Wait<sp/>for<sp/>genesis<sp/>block<sp/>to<sp/>be<sp/>processed.<sp/>Typically<sp/>kernel_notifications.m_tip_block</highlight></codeline>
<codeline lineno="1992"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>has<sp/>already<sp/>been<sp/>set<sp/>by<sp/>a<sp/>call<sp/>to<sp/>LoadChainTip()<sp/>in<sp/>CompleteChainstateInitialization().</highlight></codeline>
<codeline lineno="1993"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>But<sp/>this<sp/>is<sp/>skipped<sp/>if<sp/>the<sp/>chainstate<sp/>doesn&apos;t<sp/>exist<sp/>yet<sp/>or<sp/>is<sp/>being<sp/>wiped:</highlight></codeline>
<codeline lineno="1994"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="1995"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>1.<sp/>first<sp/>startup<sp/>with<sp/>an<sp/>empty<sp/>datadir</highlight></codeline>
<codeline lineno="1996"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>2.<sp/>reindex</highlight></codeline>
<codeline lineno="1997"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>3.<sp/>reindex-chainstate</highlight></codeline>
<codeline lineno="1998"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="1999"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>In<sp/>these<sp/>case<sp/>it&apos;s<sp/>connected<sp/>by<sp/>a<sp/>call<sp/>to<sp/>ActivateBestChain()<sp/>in<sp/>the<sp/>initload<sp/>thread.</highlight></codeline>
<codeline lineno="2000"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2001"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a05166a687f0bfba57b8ea332c7dd57e0" kindref="member">WAIT_LOCK</ref>(kernel_notifications.m_tip_block_mutex,<sp/>lock);</highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel_notifications.m_tip_block_cv.wait(lock,<sp/>[&amp;]()<sp/><ref refid="thread__annotations_8h_1a0e2e86b0f11d9778240b0a0b263047b1" kindref="member">EXCLUSIVE_LOCKS_REQUIRED</ref>(kernel_notifications.m_tip_block_mutex)<sp/>{</highlight></codeline>
<codeline lineno="2004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>kernel_notifications.TipBlock()<sp/>||<sp/>ShutdownRequested(node);</highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2006"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2007"><highlight class="normal"></highlight></codeline>
<codeline lineno="2008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="init_8cpp_1a83987d355ea0aea808522caa78633ee9" kindref="member">ShutdownRequested</ref>(<ref refid="namespacenode" kindref="compound">node</ref>))<sp/>{</highlight></codeline>
<codeline lineno="2009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2010"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2011"><highlight class="normal"></highlight></codeline>
<codeline lineno="2012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>12:<sp/>start<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2013"><highlight class="normal"></highlight></codeline>
<codeline lineno="2014"><highlight class="normal"><sp/><sp/><sp/><sp/>int64_t<sp/>best_block_time{};</highlight></codeline>
<codeline lineno="2015"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(chainman.<ref refid="class_chainstate_manager_1af99ab8783b483abe3fef8ab596a3e6b6" kindref="member">GetMutex</ref>());</highlight></codeline>
<codeline lineno="2017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>tip{*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(chainman.<ref refid="class_chainstate_manager_1ac8dc81d17ce18093b02ef600686870b3" kindref="member">ActiveTip</ref>())};</highlight></codeline>
<codeline lineno="2018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;block<sp/>tree<sp/>size<sp/>=<sp/>%u&quot;</highlight><highlight class="normal">,<sp/>chainman.<ref refid="class_chainstate_manager_1a1568d8e47259466ecafd9ed7b411873a" kindref="member">BlockIndex</ref>().size());</highlight></codeline>
<codeline lineno="2019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chain_active_height<sp/>=<sp/>tip.nHeight;</highlight></codeline>
<codeline lineno="2020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_block_time<sp/>=<sp/>tip.GetBlockTime();</highlight></codeline>
<codeline lineno="2021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tip_info)<sp/>{</highlight></codeline>
<codeline lineno="2022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tip_info-&gt;<ref refid="structinterfaces_1_1_block_and_header_tip_info_1aee2a5f003642276d759cb0b8c9d43407" kindref="member">block_height</ref><sp/>=<sp/>chain_active_height;</highlight></codeline>
<codeline lineno="2023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tip_info-&gt;<ref refid="structinterfaces_1_1_block_and_header_tip_info_1a0c26e27f8cbe39588700e8ddf93fe21f" kindref="member">block_time</ref><sp/>=<sp/>best_block_time;</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tip_info-&gt;<ref refid="structinterfaces_1_1_block_and_header_tip_info_1a9eaeeac97fe6f797d0da851e550589c1" kindref="member">verification_progress</ref><sp/>=<sp/>chainman.<ref refid="class_chainstate_manager_1ab95b248ecacf42357d9d4ea19e696ff7" kindref="member">GuessVerificationProgress</ref>(&amp;tip);</highlight></codeline>
<codeline lineno="2025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tip_info<sp/>&amp;&amp;<sp/>chainman.m_best_header)<sp/>{</highlight></codeline>
<codeline lineno="2027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tip_info-&gt;<ref refid="structinterfaces_1_1_block_and_header_tip_info_1aed89ac5823f5b0b4f575342a70eb7902" kindref="member">header_height</ref><sp/>=<sp/>chainman.m_best_header-&gt;nHeight;</highlight></codeline>
<codeline lineno="2028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tip_info-&gt;<ref refid="structinterfaces_1_1_block_and_header_tip_info_1adf4232a9d3833995dbda0e7b3a929a89" kindref="member">header_time</ref><sp/>=<sp/>chainman.m_best_header-&gt;GetBlockTime();</highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;nBestHeight<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,<sp/>chain_active_height);</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.peerman)<sp/><ref refid="namespacenode" kindref="compound">node</ref>.peerman-&gt;SetBestBlock(chain_active_height,<sp/>std::chrono::seconds{best_block_time});</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"></highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Map<sp/>ports<sp/>with<sp/>NAT-PMP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2035"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapport_8cpp_1af05c77d2adecf9662e7b60288107ee82" kindref="member">StartMapPort</ref>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-natpmp&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_NATPMP));</highlight></codeline>
<codeline lineno="2036"><highlight class="normal"></highlight></codeline>
<codeline lineno="2037"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_connman_1_1_options" kindref="compound">CConnman::Options</ref><sp/>connOptions;</highlight></codeline>
<codeline lineno="2038"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a758afcb84fdf237f63c56a6957ed3e69" kindref="member">m_local_services</ref><sp/>=<sp/>g_local_services;</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1aae002cc8cb6887a3c7fd53032306b896" kindref="member">m_max_automatic_connections</ref><sp/>=<sp/>nMaxConnections;</highlight></codeline>
<codeline lineno="2040"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1afeffcf16633d7ea311d134e00c787245" kindref="member">uiInterface</ref><sp/>=<sp/>&amp;<ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>;</highlight></codeline>
<codeline lineno="2041"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a6f6909ffb27f44ed530681e29566ca9f" kindref="member">m_banman</ref><sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.banman.get();</highlight></codeline>
<codeline lineno="2042"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1ac883cf3f1fa8f25e2f044e59a26749c2" kindref="member">m_msgproc</ref><sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.peerman.get();</highlight></codeline>
<codeline lineno="2043"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1aaa0eee1353a945ef1a88fdbadd9d4aa8" kindref="member">nSendBufferMaxSize</ref><sp/>=<sp/>1000<sp/>*<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-maxsendbuffer&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAXSENDBUFFER);</highlight></codeline>
<codeline lineno="2044"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a27a8a8c3583c63620212bfe9acac068a" kindref="member">nReceiveFloodSize</ref><sp/>=<sp/>1000<sp/>*<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-maxreceivebuffer&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_MAXRECEIVEBUFFER);</highlight></codeline>
<codeline lineno="2045"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a342e011fdcca6775208f67863c3b3eb8" kindref="member">m_added_nodes</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-addnode&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2046"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a816338109be7fd098b4de87eb8222888" kindref="member">nMaxOutboundLimit</ref><sp/>=<sp/>*opt_max_upload;</highlight></codeline>
<codeline lineno="2047"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1aa4799ecfb619c84564471c6293b9ff21" kindref="member">m_peer_connect_timeout</ref><sp/>=<sp/>peer_connect_timeout;</highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1aaedec8189567f169488ca5f9e5fa2556" kindref="member">whitelist_forcerelay</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-whitelistforcerelay&quot;</highlight><highlight class="normal">,<sp/><ref refid="net__permissions_8h_1a3ee783f70414e73dd21c013fd22ef453" kindref="member">DEFAULT_WHITELISTFORCERELAY</ref>);</highlight></codeline>
<codeline lineno="2049"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1afeab262eb913731191b5dc8831274985" kindref="member">whitelist_relay</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-whitelistrelay&quot;</highlight><highlight class="normal">,<sp/><ref refid="net__permissions_8h_1a4b925f78e1becf5a76af02b5853a2fb7" kindref="member">DEFAULT_WHITELISTRELAY</ref>);</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1aec11d67ba8873d90305be161c8a65b85" kindref="member">m_capture_messages</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-capturemessages&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2051"><highlight class="normal"></highlight></codeline>
<codeline lineno="2052"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Port<sp/>to<sp/>bind<sp/>to<sp/>if<sp/>`-bind=addr`<sp/>is<sp/>provided<sp/>without<sp/>a<sp/>`:port`<sp/>suffix.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2053"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/>default_bind_port<sp/>=</highlight></codeline>
<codeline lineno="2054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal">uint16_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-port&quot;</highlight><highlight class="normal">,<sp/><ref refid="chainparams_8cpp_1ad82533eea3b187c1ac5b7c54d8c6f121" kindref="member">Params</ref>().GetDefaultPort()));</highlight></codeline>
<codeline lineno="2055"><highlight class="normal"></highlight></codeline>
<codeline lineno="2056"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/>default_bind_port_onion<sp/>=<sp/>default_bind_port<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="2057"><highlight class="normal"></highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>BadPortWarning<sp/>=<sp/>[](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="rest_8cpp_1a5b41c5ae4505891e6c53e26df197e02b" kindref="member">prefix</ref>,<sp/>uint16_t<sp/>port)<sp/>{</highlight></codeline>
<codeline lineno="2059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;%s<sp/>request<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>%u.<sp/>This<sp/>port<sp/>is<sp/>considered<sp/>\&quot;bad\&quot;<sp/>and<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;thus<sp/>it<sp/>is<sp/>unlikely<sp/>that<sp/>any<sp/>peer<sp/>will<sp/>connect<sp/>to<sp/>it.<sp/>See<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;doc/p2p-bad-ports.md<sp/>for<sp/>details<sp/>and<sp/>a<sp/>full<sp/>list.&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="2062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="rest_8cpp_1a5b41c5ae4505891e6c53e26df197e02b" kindref="member">prefix</ref>,</highlight></codeline>
<codeline lineno="2063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>port);</highlight></codeline>
<codeline lineno="2064"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="2065"><highlight class="normal"></highlight></codeline>
<codeline lineno="2066"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>bind_arg<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-bind&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="2067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::optional&lt;CService&gt;<sp/>bind_addr;</highlight></codeline>
<codeline lineno="2068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>bind_arg.rfind(</highlight><highlight class="charliteral">&apos;=&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>==<sp/>std::string::npos)<sp/>{</highlight></codeline>
<codeline lineno="2070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bind_addr<sp/>=<sp/><ref refid="netbase_8cpp_1a8da5675115ffbf04e579997076c1e68f" kindref="member">Lookup</ref>(bind_arg,<sp/>default_bind_port,<sp/></highlight><highlight class="comment">/*fAllowLookup=*/</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bind_addr.has_value())<sp/>{</highlight></codeline>
<codeline lineno="2072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1af1cd6f9809e44adf5e1ba7814ae2584e" kindref="member">vBinds</ref>.push_back(bind_addr.value());</highlight></codeline>
<codeline lineno="2073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="netbase_8cpp_1af0cfdd85ce07d32684fddf5ebe335221" kindref="member">IsBadPort</ref>(bind_addr.value().GetPort()))<sp/>{</highlight></codeline>
<codeline lineno="2074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(BadPortWarning(</highlight><highlight class="stringliteral">&quot;-bind&quot;</highlight><highlight class="normal">,<sp/>bind_addr.value().GetPort()));</highlight></codeline>
<codeline lineno="2075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>network_type<sp/>=<sp/>bind_arg.substr(index<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="2080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(network_type<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;onion&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="2081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>truncated_bind_arg<sp/>=<sp/>bind_arg.substr(0,<sp/>index);</highlight></codeline>
<codeline lineno="2082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bind_addr<sp/>=<sp/><ref refid="netbase_8cpp_1a8da5675115ffbf04e579997076c1e68f" kindref="member">Lookup</ref>(truncated_bind_arg,<sp/>default_bind_port_onion,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bind_addr.has_value())<sp/>{</highlight></codeline>
<codeline lineno="2084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1ad87c70e97f21812c347578824e42e5f7" kindref="member">onion_binds</ref>.push_back(bind_addr.value());</highlight></codeline>
<codeline lineno="2085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="init_8cpp_1a7c0e28b32cb9ba19dc62500e20082284" kindref="member">ResolveErrMsg</ref>(</highlight><highlight class="stringliteral">&quot;bind&quot;</highlight><highlight class="normal">,<sp/>bind_arg));</highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2091"><highlight class="normal"></highlight></codeline>
<codeline lineno="2092"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>strBind<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-whitebind&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="2093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_net_whitebind_permissions" kindref="compound">NetWhitebindPermissions</ref><sp/>whitebind;</highlight></codeline>
<codeline lineno="2094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref><sp/>error;</highlight></codeline>
<codeline lineno="2095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_net_whitebind_permissions_1abfab9ee7b4bafd6f74102ffdf3b2d51e" kindref="member">NetWhitebindPermissions::TryParse</ref>(strBind,<sp/>whitebind,<sp/>error))<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(error);</highlight></codeline>
<codeline lineno="2096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1aa3c541ccb17160d34c7b3ce802550216" kindref="member">vWhiteBinds</ref>.push_back(whitebind);</highlight></codeline>
<codeline lineno="2097"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2098"><highlight class="normal"></highlight></codeline>
<codeline lineno="2099"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>user<sp/>did<sp/>not<sp/>specify<sp/>-bind=<sp/>or<sp/>-whitebind=<sp/>then<sp/>we<sp/>bind</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>on<sp/>any<sp/>address<sp/>-<sp/>0.0.0.0<sp/>(IPv4)<sp/>and<sp/>::<sp/>(IPv6).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2101"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a0c7ce35a5402ed740f2ace1e698b6ee4" kindref="member">bind_on_any</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-bind&quot;</highlight><highlight class="normal">).empty()<sp/>&amp;&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-whitebind&quot;</highlight><highlight class="normal">).empty();</highlight></codeline>
<codeline lineno="2102"><highlight class="normal"></highlight></codeline>
<codeline lineno="2103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Emit<sp/>a<sp/>warning<sp/>if<sp/>a<sp/>bad<sp/>port<sp/>is<sp/>given<sp/>to<sp/>-port=<sp/>but<sp/>only<sp/>if<sp/>-bind<sp/>and<sp/>-whitebind<sp/>are<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>given,<sp/>because<sp/>if<sp/>they<sp/>are,<sp/>then<sp/>-port=<sp/>is<sp/>ignored.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(connOptions.<ref refid="struct_c_connman_1_1_options_1a0c7ce35a5402ed740f2ace1e698b6ee4" kindref="member">bind_on_any</ref><sp/>&amp;&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-port&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="2106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/>port_arg<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetIntArg(</highlight><highlight class="stringliteral">&quot;-port&quot;</highlight><highlight class="normal">,<sp/>0);</highlight></codeline>
<codeline lineno="2107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="netbase_8cpp_1af0cfdd85ce07d32684fddf5ebe335221" kindref="member">IsBadPort</ref>(port_arg))<sp/>{</highlight></codeline>
<codeline lineno="2108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(BadPortWarning(</highlight><highlight class="stringliteral">&quot;-port&quot;</highlight><highlight class="normal">,<sp/>port_arg));</highlight></codeline>
<codeline lineno="2109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2110"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2111"><highlight class="normal"></highlight></codeline>
<codeline lineno="2112"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_service" kindref="compound">CService</ref><sp/>onion_service_target;</highlight></codeline>
<codeline lineno="2113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!connOptions.<ref refid="struct_c_connman_1_1_options_1ad87c70e97f21812c347578824e42e5f7" kindref="member">onion_binds</ref>.empty())<sp/>{</highlight></codeline>
<codeline lineno="2114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>onion_service_target<sp/>=<sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1ad87c70e97f21812c347578824e42e5f7" kindref="member">onion_binds</ref>.front();</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!connOptions.<ref refid="struct_c_connman_1_1_options_1af1cd6f9809e44adf5e1ba7814ae2584e" kindref="member">vBinds</ref>.empty())<sp/>{</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>onion_service_target<sp/>=<sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1af1cd6f9809e44adf5e1ba7814ae2584e" kindref="member">vBinds</ref>.front();</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>onion_service_target<sp/>=<sp/><ref refid="torcontrol_8cpp_1ade4058f5c475a26cc598047c9250cb06" kindref="member">DefaultOnionServiceTarget</ref>(default_bind_port_onion);</highlight></codeline>
<codeline lineno="2119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1ad87c70e97f21812c347578824e42e5f7" kindref="member">onion_binds</ref>.push_back(onion_service_target);</highlight></codeline>
<codeline lineno="2120"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2121"><highlight class="normal"></highlight></codeline>
<codeline lineno="2122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-listenonion&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_LISTEN_ONION))<sp/>{</highlight></codeline>
<codeline lineno="2123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(connOptions.<ref refid="struct_c_connman_1_1_options_1ad87c70e97f21812c347578824e42e5f7" kindref="member">onion_binds</ref>.size()<sp/>&gt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="2124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a5214ba34529a65c58da944c5545c4ee2" kindref="member">InitWarning</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;More<sp/>than<sp/>one<sp/>onion<sp/>bind<sp/>address<sp/>is<sp/>provided.<sp/>Using<sp/>%s<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;for<sp/>the<sp/>automatically<sp/>created<sp/>Tor<sp/>onion<sp/>service.&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="2126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>onion_service_target.<ref refid="class_c_service_1aac5ca8b51c9b88aab6790964f43b0684" kindref="member">ToStringAddrPort</ref>()));</highlight></codeline>
<codeline lineno="2127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="torcontrol_8cpp_1aea858fac1029984bdd92142eca936f86" kindref="member">StartTorControl</ref>(onion_service_target);</highlight></codeline>
<codeline lineno="2129"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2130"><highlight class="normal"></highlight></codeline>
<codeline lineno="2131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(connOptions.<ref refid="struct_c_connman_1_1_options_1a0c7ce35a5402ed740f2ace1e698b6ee4" kindref="member">bind_on_any</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Only<sp/>add<sp/>all<sp/>IP<sp/>addresses<sp/>of<sp/>the<sp/>machine<sp/>if<sp/>we<sp/>would<sp/>be<sp/>listening<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>any<sp/>address<sp/>-<sp/>0.0.0.0<sp/>(IPv4)<sp/>and<sp/>::<sp/>(IPv6).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="net_8cpp_1af69db74c5fca7ac2e39ab3c412de3dd4" kindref="member">Discover</ref>();</highlight></codeline>
<codeline lineno="2135"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2136"><highlight class="normal"></highlight></codeline>
<codeline lineno="2137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>net<sp/>:<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-whitelist&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="2138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_net_whitelist_permissions" kindref="compound">NetWhitelistPermissions</ref><sp/>subnet;</highlight></codeline>
<codeline lineno="2139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8h_1a0fde1ff3d073cb77237ea08eea64d963" kindref="member">ConnectionDirection</ref><sp/>connection_direction;</highlight></codeline>
<codeline lineno="2140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structbilingual__str" kindref="compound">bilingual_str</ref><sp/>error;</highlight></codeline>
<codeline lineno="2141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_net_whitelist_permissions_1a11584a81df4664a72fdd65329b4a0a3b" kindref="member">NetWhitelistPermissions::TryParse</ref>(net,<sp/>subnet,<sp/>connection_direction,<sp/>error))<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(error);</highlight></codeline>
<codeline lineno="2142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(connection_direction<sp/>&amp;<sp/><ref refid="netbase_8h_1a0fde1ff3d073cb77237ea08eea64d963aefeb369cccbd560588a756610865664c" kindref="member">ConnectionDirection::In</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1ad12a085b4d3238edc1517a003bec9c4f" kindref="member">vWhitelistedRangeIncoming</ref>.push_back(subnet);</highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(connection_direction<sp/>&amp;<sp/><ref refid="netbase_8h_1a0fde1ff3d073cb77237ea08eea64d963a7c147cda9e49590f6abe83d118b7353b" kindref="member">ConnectionDirection::Out</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a0dcfdfd572068e1c1d6ce0db521b2bf3" kindref="member">vWhitelistedRangeOutgoing</ref>.push_back(subnet);</highlight></codeline>
<codeline lineno="2147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"></highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a25aca977a0ecb6478d50a878a62ddf17" kindref="member">vSeedNodes</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-seednode&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2151"><highlight class="normal"></highlight></codeline>
<codeline lineno="2152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>connect<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArgs(</highlight><highlight class="stringliteral">&quot;-connect&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!connect.empty()<sp/>||<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgNegated(</highlight><highlight class="stringliteral">&quot;-connect&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="2154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Do<sp/>not<sp/>initiate<sp/>other<sp/>outgoing<sp/>connections<sp/>when<sp/>connecting<sp/>to<sp/>trusted</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>nodes,<sp/>or<sp/>when<sp/>-noconnect<sp/>is<sp/>specified.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a40a864aa8f69549c2577c0ca8e1a61d6" kindref="member">m_use_addrman_outgoing</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2157"><highlight class="normal"></highlight></codeline>
<codeline lineno="2158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(connect.size()<sp/>!=<sp/>1<sp/>||<sp/>connect[0]<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;0&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="2159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1a0c173d291ac1c7012fcfdad3f411d535" kindref="member">m_specified_outgoing</ref><sp/>=<sp/>connect;</highlight></codeline>
<codeline lineno="2160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!connOptions.<ref refid="struct_c_connman_1_1_options_1a0c173d291ac1c7012fcfdad3f411d535" kindref="member">m_specified_outgoing</ref>.empty()<sp/>&amp;&amp;<sp/>!connOptions.<ref refid="struct_c_connman_1_1_options_1a25aca977a0ecb6478d50a878a62ddf17" kindref="member">vSeedNodes</ref>.empty())<sp/>{</highlight></codeline>
<codeline lineno="2162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;-seednode<sp/>is<sp/>ignored<sp/>when<sp/>-connect<sp/>is<sp/>used&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2164"><highlight class="normal"></highlight></codeline>
<codeline lineno="2165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-dnsseed&quot;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-dnsseed&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_DNSSEED)<sp/>&amp;&amp;<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.IsArgSet(</highlight><highlight class="stringliteral">&quot;-proxy&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="2166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="logging_8h_1a57eb3ffc98e6ad1bdbed0a980a54c484" kindref="member">LogInfo</ref>(</highlight><highlight class="stringliteral">&quot;-dnsseed<sp/>is<sp/>ignored<sp/>when<sp/>-connect<sp/>is<sp/>used<sp/>and<sp/>-proxy<sp/>is<sp/>specified&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2168"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2169"><highlight class="normal"></highlight></codeline>
<codeline lineno="2170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>i2psam_arg<sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetArg(</highlight><highlight class="stringliteral">&quot;-i2psam&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!i2psam_arg.empty())<sp/>{</highlight></codeline>
<codeline lineno="2172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::optional&lt;CService&gt;<sp/>addr{<ref refid="netbase_8cpp_1a8da5675115ffbf04e579997076c1e68f" kindref="member">Lookup</ref>(i2psam_arg,<sp/>7656,<sp/><ref refid="netbase_8cpp_1ab5335ec17aee4d4fdd4c735b85707b56" kindref="member">fNameLookup</ref>)};</highlight></codeline>
<codeline lineno="2173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!addr.has_value()<sp/>||<sp/>!addr-&gt;IsValid())<sp/>{</highlight></codeline>
<codeline lineno="2174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>-i2psam<sp/>address<sp/>or<sp/>hostname:<sp/>&apos;%s&apos;&quot;</highlight><highlight class="normal">),<sp/>i2psam_arg));</highlight></codeline>
<codeline lineno="2175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1a8a37e5574d7e2be5c6aa6b4cdddd8312" kindref="member">SetProxy</ref>(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a0cb8b5dbd08567fffe61bc1b3942aedd" kindref="member">NET_I2P</ref>,<sp/><ref refid="class_proxy" kindref="compound">Proxy</ref>{addr.value()});</highlight></codeline>
<codeline lineno="2177"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!onlynets.empty()<sp/>&amp;&amp;<sp/><ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Contains(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a0cb8b5dbd08567fffe61bc1b3942aedd" kindref="member">NET_I2P</ref>))<sp/>{</highlight></codeline>
<codeline lineno="2179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(</highlight></codeline>
<codeline lineno="2180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Outbound<sp/>connections<sp/>restricted<sp/>to<sp/>i2p<sp/>(-onlynet=i2p)<sp/>but<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;-i2psam<sp/>is<sp/>not<sp/>provided&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="netbase_8cpp_1aafd55770725b866c8a3129d37dca0244" kindref="member">g_reachable_nets</ref>.Remove(<ref refid="netaddress_8h_1acc9a38c714afe79b5035cb36f560dac3a0cb8b5dbd08567fffe61bc1b3942aedd" kindref="member">NET_I2P</ref>);</highlight></codeline>
<codeline lineno="2184"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2185"><highlight class="normal"></highlight></codeline>
<codeline lineno="2186"><highlight class="normal"><sp/><sp/><sp/><sp/>connOptions.<ref refid="struct_c_connman_1_1_options_1ad805208c23a7a9df3530c5f2426c65a4" kindref="member">m_i2p_accept_incoming</ref><sp/>=<sp/><ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>.GetBoolArg(</highlight><highlight class="stringliteral">&quot;-i2pacceptincoming&quot;</highlight><highlight class="normal">,<sp/>DEFAULT_I2P_ACCEPT_INCOMING);</highlight></codeline>
<codeline lineno="2187"><highlight class="normal"></highlight></codeline>
<codeline lineno="2188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>conflict<sp/>=<sp/>CheckBindingConflicts(connOptions))<sp/>{</highlight></codeline>
<codeline lineno="2189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight></codeline>
<codeline lineno="2190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Duplicate<sp/>binding<sp/>configuration<sp/>for<sp/>address<sp/>%s.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Please<sp/>check<sp/>your<sp/>-bind,<sp/>-bind=...=onion<sp/>and<sp/>-whitebind<sp/>settings.&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="2192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>conflict-&gt;ToStringAddrPort()));</highlight></codeline>
<codeline lineno="2193"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2194"><highlight class="normal"></highlight></codeline>
<codeline lineno="2195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespacenode" kindref="compound">node</ref>.connman-&gt;Start(scheduler,<sp/>connOptions))<sp/>{</highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2198"><highlight class="normal"></highlight></codeline>
<codeline lineno="2199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>*********************************************************<sp/>Step<sp/>13:<sp/>finished</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2200"><highlight class="normal"></highlight></codeline>
<codeline lineno="2201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>At<sp/>this<sp/>point,<sp/>the<sp/>RPC<sp/>is<sp/>&quot;started&quot;,<sp/>but<sp/>still<sp/>in<sp/>warmup,<sp/>which<sp/>means<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>cannot<sp/>yet<sp/>be<sp/>called.<sp/>Before<sp/>we<sp/>make<sp/>it<sp/>callable,<sp/>we<sp/>need<sp/>to<sp/>make<sp/>sure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>that<sp/>the<sp/>RPC&apos;s<sp/>view<sp/>of<sp/>the<sp/>best<sp/>block<sp/>is<sp/>valid<sp/>and<sp/>consistent<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ChainstateManager&apos;s<sp/>active<sp/>tip.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2205"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="server_8cpp_1a124bc19db90eb0d986647ecf8ad2df0f" kindref="member">SetRPCWarmupFinished</ref>();</highlight></codeline>
<codeline lineno="2206"><highlight class="normal"></highlight></codeline>
<codeline lineno="2207"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="interface__ui_8cpp_1a4fe31b510fc1c2b95321cedb9f89e8de" kindref="member">uiInterface</ref>.InitMessage(<ref refid="translation_8h_1a4f2d958035f4051a605124ebe248de38" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Done<sp/>loading&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2208"><highlight class="normal"></highlight></codeline>
<codeline lineno="2209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>client<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.chain_clients)<sp/>{</highlight></codeline>
<codeline lineno="2210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>client-&gt;start(scheduler);</highlight></codeline>
<codeline lineno="2211"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2212"><highlight class="normal"></highlight></codeline>
<codeline lineno="2213"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_ban_man" kindref="compound">BanMan</ref>*<sp/>banman<sp/>=<sp/><ref refid="namespacenode" kindref="compound">node</ref>.banman.get();</highlight></codeline>
<codeline lineno="2214"><highlight class="normal"><sp/><sp/><sp/><sp/>scheduler.scheduleEvery([banman]{</highlight></codeline>
<codeline lineno="2215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>banman-&gt;<ref refid="class_ban_man_1adb23050d20981e54fa5656810f3b8dbe" kindref="member">DumpBanlist</ref>();</highlight></codeline>
<codeline lineno="2216"><highlight class="normal"><sp/><sp/><sp/><sp/>},<sp/>DUMP_BANS_INTERVAL);</highlight></codeline>
<codeline lineno="2217"><highlight class="normal"></highlight></codeline>
<codeline lineno="2218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacenode" kindref="compound">node</ref>.peerman)<sp/><ref refid="namespacenode" kindref="compound">node</ref>.peerman-&gt;StartScheduledTasks(scheduler);</highlight></codeline>
<codeline lineno="2219"><highlight class="normal"></highlight></codeline>
<codeline lineno="2220"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HAVE_SYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2221"><highlight class="normal"><sp/><sp/><sp/><sp/>StartupNotify(<ref refid="bitcoind_8cpp_1a38fca8b1d65c4185736654ab56bcf691" kindref="member">args</ref>);</highlight></codeline>
<codeline lineno="2222"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2223"><highlight class="normal"></highlight></codeline>
<codeline lineno="2224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2225"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2226"><highlight class="normal"></highlight></codeline>
<codeline lineno="2227"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="init_8cpp_1a9dea410c95e31d9b2505d421ad7c791b" kindref="member">StartIndexBackgroundSync</ref>(<ref refid="structnode_1_1_node_context" kindref="compound">NodeContext</ref>&amp;<sp/><ref refid="namespacenode" kindref="compound">node</ref>)</highlight></codeline>
<codeline lineno="2228"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Find<sp/>the<sp/>oldest<sp/>block<sp/>among<sp/>all<sp/>indexes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>block<sp/>is<sp/>used<sp/>to<sp/>verify<sp/>that<sp/>we<sp/>have<sp/>the<sp/>required<sp/>blocks&apos;<sp/>data<sp/>stored<sp/>on<sp/>disk,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>starting<sp/>from<sp/>that<sp/>point<sp/>up<sp/>to<sp/>the<sp/>current<sp/>tip.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>indexes_start_block=&apos;nullptr&apos;<sp/>means<sp/>&quot;start<sp/>from<sp/>height<sp/>0&quot;.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2233"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;const<sp/>CBlockIndex*&gt;<sp/>indexes_start_block;</highlight></codeline>
<codeline lineno="2234"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>older_index_name;</highlight></codeline>
<codeline lineno="2235"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_chainstate_manager" kindref="compound">ChainstateManager</ref>&amp;<sp/>chainman<sp/>=<sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(<ref refid="namespacenode" kindref="compound">node</ref>.chainman);</highlight></codeline>
<codeline lineno="2236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_chainstate" kindref="compound">Chainstate</ref>&amp;<sp/>chainstate<sp/>=<sp/><ref refid="sync_8h_1ab3029e545f54f330170cbf37f0819693" kindref="member">WITH_LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>,<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>chainman.<ref refid="class_chainstate_manager_1a91044f53af4185cf8bc3870bc2a3ea6a" kindref="member">ValidatedChainstate</ref>());</highlight></codeline>
<codeline lineno="2237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_chain" kindref="compound">CChain</ref>&amp;<sp/>index_chain<sp/>=<sp/>chainstate.<ref refid="class_chainstate_1ad041fc477f2d0f0774b264bf6f371810" kindref="member">m_chain</ref>;</highlight></codeline>
<codeline lineno="2238"><highlight class="normal"></highlight></codeline>
<codeline lineno="2239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>index<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes)<sp/>{</highlight></codeline>
<codeline lineno="2240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_index_summary" kindref="compound">IndexSummary</ref>&amp;<sp/>summary<sp/>=<sp/>index-&gt;GetSummary();</highlight></codeline>
<codeline lineno="2241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(summary.<ref refid="struct_index_summary_1a16495d89275bc776ee62596ec8585728" kindref="member">synced</ref>)<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2242"><highlight class="normal"></highlight></codeline>
<codeline lineno="2243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>last<sp/>common<sp/>block<sp/>between<sp/>the<sp/>index<sp/>best<sp/>block<sp/>and<sp/>the<sp/>active<sp/>chain</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="2245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex<sp/>=<sp/>chainman.<ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.<ref refid="classnode_1_1_block_manager_1a87eab19fb1a7e025715c13377ebfd356" kindref="member">LookupBlockIndex</ref>(summary.<ref refid="struct_index_summary_1a326ba81125c90f05ac90ac97e3d44a2b" kindref="member">best_block_hash</ref>);</highlight></codeline>
<codeline lineno="2246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!index_chain.<ref refid="class_c_chain_1a78c557b8d1209a61416487a99a7808a9" kindref="member">Contains</ref>(pindex))<sp/>{</highlight></codeline>
<codeline lineno="2247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pindex<sp/>=<sp/>index_chain.<ref refid="class_c_chain_1a0d5aed792111bff056f853d256e56921" kindref="member">FindFork</ref>(pindex);</highlight></codeline>
<codeline lineno="2248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2249"><highlight class="normal"></highlight></codeline>
<codeline lineno="2250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!indexes_start_block<sp/>||<sp/>!pindex<sp/>||<sp/>pindex-&gt;<ref refid="class_c_block_index_1a17d981419afeee27eb36a8b43183e49a" kindref="member">nHeight</ref><sp/>&lt;<sp/>indexes_start_block.value()-&gt;nHeight)<sp/>{</highlight></codeline>
<codeline lineno="2251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>indexes_start_block<sp/>=<sp/>pindex;</highlight></codeline>
<codeline lineno="2252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>older_index_name<sp/>=<sp/>summary.<ref refid="struct_index_summary_1a9b45b3e13bd9167aab02e17e08916231" kindref="member">name</ref>;</highlight></codeline>
<codeline lineno="2253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pindex)<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>Starting<sp/>from<sp/>genesis<sp/>so<sp/>no<sp/>need<sp/>to<sp/>look<sp/>for<sp/>earlier<sp/>block.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2255"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="2256"><highlight class="normal"></highlight></codeline>
<codeline lineno="2257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Verify<sp/>all<sp/>blocks<sp/>needed<sp/>to<sp/>sync<sp/>to<sp/>current<sp/>tip<sp/>are<sp/>present.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(indexes_start_block)<sp/>{</highlight></codeline>
<codeline lineno="2259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sync_8h_1a911fe23f057c2fe5aad629162d6c99d0" kindref="member">LOCK</ref>(<ref refid="cs__main_8cpp_1ab88a4b9173207cf250ece7820db1f36d" kindref="member">::cs_main</ref>);</highlight></codeline>
<codeline lineno="2260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>start_block<sp/>=<sp/>*indexes_start_block;</highlight></codeline>
<codeline lineno="2261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!start_block)<sp/>start_block<sp/>=<sp/>chainman.<ref refid="class_chainstate_manager_1a8090a09f21aff3aa747263ae6b8268c1" kindref="member">ActiveChain</ref>().<ref refid="class_c_chain_1adf6b97e7ced55b288136aac6f86a3f28" kindref="member">Genesis</ref>();</highlight></codeline>
<codeline lineno="2262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!chainman.<ref refid="class_chainstate_manager_1a0ffb06ca51d81edfc4488da3aad6718e" kindref="member">m_blockman</ref>.CheckBlockDataAvailability(*index_chain.<ref refid="class_c_chain_1a04d20312c7fa5b53ad977a09fc79ec52" kindref="member">Tip</ref>(),<sp/>*<ref refid="check_8h_1acbd5520ad7c4d365ede4ed94b421231b" kindref="member">Assert</ref>(start_block)))<sp/>{</highlight></codeline>
<codeline lineno="2263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="interface__ui_8cpp_1ac45da4747e2edcea279f5083d6e18b70" kindref="member">InitError</ref>(<ref refid="translation_8h_1adff31aba0266455557bf721860f481b8" kindref="member">Untranslated</ref>(<ref refid="tinyformat_8h_1a56c674871a61baaad36ad52238c08857" kindref="member">strprintf</ref>(</highlight><highlight class="stringliteral">&quot;%s<sp/>best<sp/>block<sp/>of<sp/>the<sp/>index<sp/>goes<sp/>beyond<sp/>pruned<sp/>data.<sp/>Please<sp/>disable<sp/>the<sp/>index<sp/>or<sp/>reindex<sp/>(which<sp/>will<sp/>download<sp/>the<sp/>whole<sp/>blockchain<sp/>again)&quot;</highlight><highlight class="normal">,<sp/>older_index_name)));</highlight></codeline>
<codeline lineno="2264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2265"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2266"><highlight class="normal"></highlight></codeline>
<codeline lineno="2267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Start<sp/>threads</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>index<sp/>:<sp/><ref refid="namespacenode" kindref="compound">node</ref>.indexes)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!index-&gt;StartBackgroundSync())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2270"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="src/init.cpp"/>
  </compounddef>
</doxygen>
