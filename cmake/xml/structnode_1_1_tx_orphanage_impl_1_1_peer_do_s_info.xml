<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info" kind="struct" language="C++" prot="private">
    <compoundname>node::TxOrphanageImpl::PeerDoSInfo</compoundname>
    <sectiondef kind="public-attrib">
      <memberdef kind="variable" id="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1ad0f9e5dc6d18bf1ba66eef26fee62369" prot="public" static="no" mutable="no">
        <type><ref refid="classnode_1_1_tx_orphanage_1a9ecb794ec69428768c604c35c07d363c" kindref="member">TxOrphanage::Usage</ref></type>
        <definition>TxOrphanage::Usage m_total_usage</definition>
        <argsstring></argsstring>
        <name>m_total_usage</name>
        <qualifiedname>node::TxOrphanageImpl::PeerDoSInfo::m_total_usage</qualifiedname>
        <initializer>{0}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.cpp" line="126" column="28" bodyfile="src/node/txorphanage.cpp" bodystart="126" bodyend="126"/>
      </memberdef>
      <memberdef kind="variable" id="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a2633222d1a556f677460b90662026c79" prot="public" static="no" mutable="no">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">TxOrphanage::Count</ref></type>
        <definition>TxOrphanage::Count m_count_announcements</definition>
        <argsstring></argsstring>
        <name>m_count_announcements</name>
        <qualifiedname>node::TxOrphanageImpl::PeerDoSInfo::m_count_announcements</qualifiedname>
        <initializer>{0}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.cpp" line="127" column="28" bodyfile="src/node/txorphanage.cpp" bodystart="127" bodyend="127"/>
      </memberdef>
      <memberdef kind="variable" id="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a454f2a87e8fdfc28ca2b52994f2fb0b7" prot="public" static="no" mutable="no">
        <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">TxOrphanage::Count</ref></type>
        <definition>TxOrphanage::Count m_total_latency_score</definition>
        <argsstring></argsstring>
        <name>m_total_latency_score</name>
        <qualifiedname>node::TxOrphanageImpl::PeerDoSInfo::m_total_latency_score</qualifiedname>
        <initializer>{0}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.cpp" line="128" column="28" bodyfile="src/node/txorphanage.cpp" bodystart="128" bodyend="128"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a9b7e3c5ffec7a46ddc36253971b701d2" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool operator==</definition>
        <argsstring>(const PeerDoSInfo &amp;other) const</argsstring>
        <name>operator==</name>
        <qualifiedname>node::TxOrphanageImpl::PeerDoSInfo::operator==</qualifiedname>
        <param>
          <type>const PeerDoSInfo &amp;</type>
          <declname>other</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.cpp" line="129" column="14" bodyfile="src/node/txorphanage.cpp" bodystart="129" bodyend="134"/>
      </memberdef>
      <memberdef kind="function" id="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a78b723b05756adfc23f0f82d55aaaa08" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>void Add</definition>
        <argsstring>(const Announcement &amp;ann)</argsstring>
        <name>Add</name>
        <qualifiedname>node::TxOrphanageImpl::PeerDoSInfo::Add</qualifiedname>
        <param>
          <type>const Announcement &amp;</type>
          <declname>ann</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.cpp" line="135" column="14" bodyfile="src/node/txorphanage.cpp" bodystart="135" bodyend="140"/>
      </memberdef>
      <memberdef kind="function" id="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1af26648ef778f04883defeb9ab734eb68" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool Subtract</definition>
        <argsstring>(const Announcement &amp;ann)</argsstring>
        <name>Subtract</name>
        <qualifiedname>node::TxOrphanageImpl::PeerDoSInfo::Subtract</qualifiedname>
        <param>
          <type>const Announcement &amp;</type>
          <declname>ann</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.cpp" line="141" column="14" bodyfile="src/node/txorphanage.cpp" bodystart="141" bodyend="151"/>
      </memberdef>
      <memberdef kind="function" id="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a57db739a5c67b56833c906f0492ef48d" prot="public" static="no" const="yes" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="struct_fee_frac" kindref="compound">FeeFrac</ref></type>
        <definition>FeeFrac GetDosScore</definition>
        <argsstring>(TxOrphanage::Count max_peer_latency_score, TxOrphanage::Usage max_peer_memory) const</argsstring>
        <name>GetDosScore</name>
        <qualifiedname>node::TxOrphanageImpl::PeerDoSInfo::GetDosScore</qualifiedname>
        <param>
          <type><ref refid="classnode_1_1_tx_orphanage_1ae64c746440a24b397929dabe92a05f2a" kindref="member">TxOrphanage::Count</ref></type>
          <declname>max_peer_latency_score</declname>
        </param>
        <param>
          <type><ref refid="classnode_1_1_tx_orphanage_1a9ecb794ec69428768c604c35c07d363c" kindref="member">TxOrphanage::Usage</ref></type>
          <declname>max_peer_memory</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>There are 2 DoS scores:<itemizedlist>
<listitem><para>Latency score (ratio of total latency score / max allowed latency score)</para>
</listitem><listitem><para>Memory score (ratio of total memory usage / max allowed memory usage).</para>
</listitem></itemizedlist>
</para>
<para>If the peer is using more than the allowed for either resource, its DoS score is &gt; 1. A peer having a DoS score &gt; 1 does not necessarily mean that something is wrong, since we do not trim unless the orphanage exceeds global limits, but it means that this peer will be selected for trimming sooner. If the global latency score or global memory usage limits are exceeded, it must be that there is a peer whose DoS score &gt; 1. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/node/txorphanage.cpp" line="161" column="17" bodyfile="src/node/txorphanage.cpp" bodystart="161" bodyend="168"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <location file="src/node/txorphanage.cpp" line="125" column="5" bodyfile="src/node/txorphanage.cpp" bodystart="125" bodyend="169"/>
    <listofallmembers>
      <member refid="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a78b723b05756adfc23f0f82d55aaaa08" prot="public" virt="non-virtual"><scope>node::TxOrphanageImpl::PeerDoSInfo</scope><name>Add</name></member>
      <member refid="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a57db739a5c67b56833c906f0492ef48d" prot="public" virt="non-virtual"><scope>node::TxOrphanageImpl::PeerDoSInfo</scope><name>GetDosScore</name></member>
      <member refid="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a2633222d1a556f677460b90662026c79" prot="public" virt="non-virtual"><scope>node::TxOrphanageImpl::PeerDoSInfo</scope><name>m_count_announcements</name></member>
      <member refid="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a454f2a87e8fdfc28ca2b52994f2fb0b7" prot="public" virt="non-virtual"><scope>node::TxOrphanageImpl::PeerDoSInfo</scope><name>m_total_latency_score</name></member>
      <member refid="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1ad0f9e5dc6d18bf1ba66eef26fee62369" prot="public" virt="non-virtual"><scope>node::TxOrphanageImpl::PeerDoSInfo</scope><name>m_total_usage</name></member>
      <member refid="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1a9b7e3c5ffec7a46ddc36253971b701d2" prot="public" virt="non-virtual"><scope>node::TxOrphanageImpl::PeerDoSInfo</scope><name>operator==</name></member>
      <member refid="structnode_1_1_tx_orphanage_impl_1_1_peer_do_s_info_1af26648ef778f04883defeb9ab734eb68" prot="public" virt="non-virtual"><scope>node::TxOrphanageImpl::PeerDoSInfo</scope><name>Subtract</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
